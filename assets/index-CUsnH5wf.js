var Su=Object.defineProperty;var Tu=(a,e,o)=>e in a?Su(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o;var Tr=(a,e,o)=>(Tu(a,typeof e!="symbol"?e+"":e,o),o),Ws=(a,e,o)=>{if(!e.has(a))throw TypeError("Cannot "+o)};var Wt=(a,e,o)=>(Ws(a,e,"read from private field"),o?o.call(a):e.get(a)),bn=(a,e,o)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,o)},Vn=(a,e,o,c)=>(Ws(a,e,"write to private field"),c?c.call(a,o):e.set(a,o),o);var os=(a,e,o,c)=>({set _(et){Vn(a,e,et,o)},get _(){return Wt(a,e,c)}}),Mn=(a,e,o)=>(Ws(a,e,"access private method"),o);function _mergeNamespaces(a,e){for(var o=0;o<e.length;o++){const c=e[o];if(typeof c!="string"&&!Array.isArray(c)){for(const et in c)if(et!=="default"&&!(et in a)){const tt=Object.getOwnPropertyDescriptor(c,et);tt&&Object.defineProperty(a,et,tt.get?tt:{enumerable:!0,get:()=>c[et]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const et of document.querySelectorAll('link[rel="modulepreload"]'))c(et);new MutationObserver(et=>{for(const tt of et)if(tt.type==="childList")for(const nt of tt.addedNodes)nt.tagName==="LINK"&&nt.rel==="modulepreload"&&c(nt)}).observe(document,{childList:!0,subtree:!0});function o(et){const tt={};return et.integrity&&(tt.integrity=et.integrity),et.referrerPolicy&&(tt.referrerPolicy=et.referrerPolicy),et.crossOrigin==="use-credentials"?tt.credentials="include":et.crossOrigin==="anonymous"?tt.credentials="omit":tt.credentials="same-origin",tt}function c(et){if(et.ep)return;et.ep=!0;const tt=o(et);fetch(et.href,tt)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var e=a.default;if(typeof e=="function"){var o=function c(){return this instanceof c?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};o.prototype=e.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(a).forEach(function(c){var et=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(o,c,et.get?et:{enumerable:!0,get:function(){return a[c]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(a){return a===null||typeof a!="object"?null:(a=z$2&&a[z$2]||a["@@iterator"],typeof a=="function"?a:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$4={};function E$1(a,e,o){this.props=a,this.context=e,this.refs=D$4,this.updater=o||B$2}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(a,e){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,e,"setState")};E$1.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$2(a,e,o){this.props=a,this.context=e,this.refs=D$4,this.updater=o||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$3(H$2,E$1.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(a,e,o){var c,et={},tt=null,nt=null;if(e!=null)for(c in e.ref!==void 0&&(nt=e.ref),e.key!==void 0&&(tt=""+e.key),e)J$1.call(e,c)&&!L$2.hasOwnProperty(c)&&(et[c]=e[c]);var rt=arguments.length-2;if(rt===1)et.children=o;else if(1<rt){for(var mt=Array(rt),gt=0;gt<rt;gt++)mt[gt]=arguments[gt+2];et.children=mt}if(a&&a.defaultProps)for(c in rt=a.defaultProps,rt)et[c]===void 0&&(et[c]=rt[c]);return{$$typeof:l$2,type:a,key:tt,ref:nt,props:et,_owner:K$2.current}}function N$1(a,e){return{$$typeof:l$2,type:a.type,key:e,ref:a.ref,props:a.props,_owner:a._owner}}function O$2(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$2}function escape$2(a){var e={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(o){return e[o]})}var P$2=/\/+/g;function Q$2(a,e){return typeof a=="object"&&a!==null&&a.key!=null?escape$2(""+a.key):e.toString(36)}function R$2(a,e,o,c,et){var tt=typeof a;(tt==="undefined"||tt==="boolean")&&(a=null);var nt=!1;if(a===null)nt=!0;else switch(tt){case"string":case"number":nt=!0;break;case"object":switch(a.$$typeof){case l$2:case n$2:nt=!0}}if(nt)return nt=a,et=et(nt),a=c===""?"."+Q$2(nt,0):c,I$2(et)?(o="",a!=null&&(o=a.replace(P$2,"$&/")+"/"),R$2(et,e,o,"",function(gt){return gt})):et!=null&&(O$2(et)&&(et=N$1(et,o+(!et.key||nt&&nt.key===et.key?"":(""+et.key).replace(P$2,"$&/")+"/")+a)),e.push(et)),1;if(nt=0,c=c===""?".":c+":",I$2(a))for(var rt=0;rt<a.length;rt++){tt=a[rt];var mt=c+Q$2(tt,rt);nt+=R$2(tt,e,o,mt,et)}else if(mt=A$2(a),typeof mt=="function")for(a=mt.call(a),rt=0;!(tt=a.next()).done;)tt=tt.value,mt=c+Q$2(tt,rt++),nt+=R$2(tt,e,o,mt,et);else if(tt==="object")throw e=String(a),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return nt}function S$4(a,e,o){if(a==null)return a;var c=[],et=0;return R$2(a,c,"","",function(tt){return e.call(o,tt,et++)}),c}function T$3(a){if(a._status===-1){var e=a._result;e=e(),e.then(function(o){(a._status===0||a._status===-1)&&(a._status=1,a._result=o)},function(o){(a._status===0||a._status===-1)&&(a._status=2,a._result=o)}),a._status===-1&&(a._status=0,a._result=e)}if(a._status===1)return a._result.default;throw a._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$4,forEach:function(a,e,o){S$4(a,function(){e.apply(this,arguments)},o)},count:function(a){var e=0;return S$4(a,function(){e++}),e},toArray:function(a){return S$4(a,function(e){return e})||[]},only:function(a){if(!O$2(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(a,e,o){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var c=C$3({},a.props),et=a.key,tt=a.ref,nt=a._owner;if(e!=null){if(e.ref!==void 0&&(tt=e.ref,nt=K$2.current),e.key!==void 0&&(et=""+e.key),a.type&&a.type.defaultProps)var rt=a.type.defaultProps;for(mt in e)J$1.call(e,mt)&&!L$2.hasOwnProperty(mt)&&(c[mt]=e[mt]===void 0&&rt!==void 0?rt[mt]:e[mt])}var mt=arguments.length-2;if(mt===1)c.children=o;else if(1<mt){rt=Array(mt);for(var gt=0;gt<mt;gt++)rt[gt]=arguments[gt+2];c.children=rt}return{$$typeof:l$2,type:a.type,key:et,ref:tt,props:c,_owner:nt}};react_production_min.createContext=function(a){return a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t$1,_context:a},a.Consumer=a};react_production_min.createElement=M$2;react_production_min.createFactory=function(a){var e=M$2.bind(null,a);return e.type=a,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$3,render:a}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(a){return{$$typeof:y$1,_payload:{_status:-1,_result:a},_init:T$3}};react_production_min.memo=function(a,e){return{$$typeof:x$1,type:a,compare:e===void 0?null:e}};react_production_min.startTransition=function(a){var e=V$2.transition;V$2.transition={};try{a()}finally{V$2.transition=e}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(a,e){return U$2.current.useCallback(a,e)};react_production_min.useContext=function(a){return U$2.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$2.current.useDeferredValue(a)};react_production_min.useEffect=function(a,e){return U$2.current.useEffect(a,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(a,e,o){return U$2.current.useImperativeHandle(a,e,o)};react_production_min.useInsertionEffect=function(a,e){return U$2.current.useInsertionEffect(a,e)};react_production_min.useLayoutEffect=function(a,e){return U$2.current.useLayoutEffect(a,e)};react_production_min.useMemo=function(a,e){return U$2.current.useMemo(a,e)};react_production_min.useReducer=function(a,e,o){return U$2.current.useReducer(a,e,o)};react_production_min.useRef=function(a){return U$2.current.useRef(a)};react_production_min.useState=function(a){return U$2.current.useState(a)};react_production_min.useSyncExternalStore=function(a,e,o){return U$2.current.useSyncExternalStore(a,e,o)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$1(a,e,o){var c,et={},tt=null,nt=null;o!==void 0&&(tt=""+o),e.key!==void 0&&(tt=""+e.key),e.ref!==void 0&&(nt=e.ref);for(c in e)m$2.call(e,c)&&!p$3.hasOwnProperty(c)&&(et[c]=e[c]);if(a&&a.defaultProps)for(c in e=a.defaultProps,e)et[c]===void 0&&(et[c]=e[c]);return{$$typeof:k$1,type:a,key:tt,ref:nt,props:et,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function e(Zt,an){var Xt=Zt.length;Zt.push(an);e:for(;0<Xt;){var yn=Xt-1>>>1,vn=Zt[yn];if(0<et(vn,an))Zt[yn]=an,Zt[Xt]=vn,Xt=yn;else break e}}function o(Zt){return Zt.length===0?null:Zt[0]}function c(Zt){if(Zt.length===0)return null;var an=Zt[0],Xt=Zt.pop();if(Xt!==an){Zt[0]=Xt;e:for(var yn=0,vn=Zt.length,Nt=vn>>>1;yn<Nt;){var $t=2*(yn+1)-1,Ot=Zt[$t],Ft=$t+1,Ut=Zt[Ft];if(0>et(Ot,Xt))Ft<vn&&0>et(Ut,Ot)?(Zt[yn]=Ut,Zt[Ft]=Xt,yn=Ft):(Zt[yn]=Ot,Zt[$t]=Xt,yn=$t);else if(Ft<vn&&0>et(Ut,Xt))Zt[yn]=Ut,Zt[Ft]=Xt,yn=Ft;else break e}}return an}function et(Zt,an){var Xt=Zt.sortIndex-an.sortIndex;return Xt!==0?Xt:Zt.id-an.id}if(typeof performance=="object"&&typeof performance.now=="function"){var tt=performance;a.unstable_now=function(){return tt.now()}}else{var nt=Date,rt=nt.now();a.unstable_now=function(){return nt.now()-rt}}var mt=[],gt=[],yt=1,vt=null,xt=3,bt=!1,Et=!1,wt=!1,St=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,kt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _t(Zt){for(var an=o(gt);an!==null;){if(an.callback===null)c(gt);else if(an.startTime<=Zt)c(gt),an.sortIndex=an.expirationTime,e(mt,an);else break;an=o(gt)}}function Mt(Zt){if(wt=!1,_t(Zt),!Et)if(o(mt)!==null)Et=!0,rn(Pt);else{var an=o(gt);an!==null&&on(Mt,an.startTime-Zt)}}function Pt(Zt,an){Et=!1,wt&&(wt=!1,Tt(Ct),Ct=-1),bt=!0;var Xt=xt;try{for(_t(an),vt=o(mt);vt!==null&&(!(vt.expirationTime>an)||Zt&&!jt());){var yn=vt.callback;if(typeof yn=="function"){vt.callback=null,xt=vt.priorityLevel;var vn=yn(vt.expirationTime<=an);an=a.unstable_now(),typeof vn=="function"?vt.callback=vn:vt===o(mt)&&c(mt),_t(an)}else c(mt);vt=o(mt)}if(vt!==null)var Nt=!0;else{var $t=o(gt);$t!==null&&on(Mt,$t.startTime-an),Nt=!1}return Nt}finally{vt=null,xt=Xt,bt=!1}}var It=!1,Dt=null,Ct=-1,At=5,Lt=-1;function jt(){return!(a.unstable_now()-Lt<At)}function Bt(){if(Dt!==null){var Zt=a.unstable_now();Lt=Zt;var an=!0;try{an=Dt(!0,Zt)}finally{an?zt():(It=!1,Dt=null)}}else It=!1}var zt;if(typeof kt=="function")zt=function(){kt(Bt)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,en=Yt.port2;Yt.port1.onmessage=Bt,zt=function(){en.postMessage(null)}}else zt=function(){St(Bt,0)};function rn(Zt){Dt=Zt,It||(It=!0,zt())}function on(Zt,an){Ct=St(function(){Zt(a.unstable_now())},an)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Zt){Zt.callback=null},a.unstable_continueExecution=function(){Et||bt||(Et=!0,rn(Pt))},a.unstable_forceFrameRate=function(Zt){0>Zt||125<Zt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<Zt?Math.floor(1e3/Zt):5},a.unstable_getCurrentPriorityLevel=function(){return xt},a.unstable_getFirstCallbackNode=function(){return o(mt)},a.unstable_next=function(Zt){switch(xt){case 1:case 2:case 3:var an=3;break;default:an=xt}var Xt=xt;xt=an;try{return Zt()}finally{xt=Xt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Zt,an){switch(Zt){case 1:case 2:case 3:case 4:case 5:break;default:Zt=3}var Xt=xt;xt=Zt;try{return an()}finally{xt=Xt}},a.unstable_scheduleCallback=function(Zt,an,Xt){var yn=a.unstable_now();switch(typeof Xt=="object"&&Xt!==null?(Xt=Xt.delay,Xt=typeof Xt=="number"&&0<Xt?yn+Xt:yn):Xt=yn,Zt){case 1:var vn=-1;break;case 2:vn=250;break;case 5:vn=1073741823;break;case 4:vn=1e4;break;default:vn=5e3}return vn=Xt+vn,Zt={id:yt++,callback:an,priorityLevel:Zt,startTime:Xt,expirationTime:vn,sortIndex:-1},Xt>yn?(Zt.sortIndex=Xt,e(gt,Zt),o(mt)===null&&Zt===o(gt)&&(wt?(Tt(Ct),Ct=-1):wt=!0,on(Mt,Xt-yn))):(Zt.sortIndex=vn,e(mt,Zt),Et||bt||(Et=!0,rn(Pt))),Zt},a.unstable_shouldYield=jt,a.unstable_wrapCallback=function(Zt){var an=xt;return function(){var Xt=xt;xt=an;try{return Zt.apply(this,arguments)}finally{xt=Xt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(a){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+a,o=1;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+a+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,e){ha(a,e),ha(a+"Capture",e)}function ha(a,e){for(ea[a]=e,a=0;a<e.length;a++)da.add(e[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,e,o,c){if(o!==null&&o.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,e,o,c){if(e===null||typeof e>"u"||pa(a,e,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$2(a,e,o,c,et,tt,nt){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=c,this.attributeNamespace=et,this.mustUseProperty=o,this.propertyName=a,this.type=e,this.sanitizeURL=tt,this.removeEmptyString=nt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$1[a]=new v$2(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var e=a[0];z$1[e]=new v$2(e,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$1[a]=new v$2(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$1[a]=new v$2(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$1[a]=new v$2(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$1[a]=new v$2(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$1[a]=new v$2(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$1[a]=new v$2(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$1[a]=new v$2(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var e=a.replace(ra,sa);z$1[e]=new v$2(e,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var e=a.replace(ra,sa);z$1[e]=new v$2(e,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var e=a.replace(ra,sa);z$1[e]=new v$2(e,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$1[a]=new v$2(a,1,!1,a.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$1[a]=new v$2(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,e,o,c){var et=z$1.hasOwnProperty(e)?z$1[e]:null;(et!==null?et.type!==0:c||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,o,et,c)&&(o=null),c||et===null?oa(e)&&(o===null?a.removeAttribute(e):a.setAttribute(e,""+o)):et.mustUseProperty?a[et.propertyName]=o===null?et.type===3?!1:"":o:(e=et.attributeName,c=et.attributeNamespace,o===null?a.removeAttribute(e):(et=et.type,o=et===3||et===4&&o===!0?"":""+o,c?a.setAttributeNS(c,e,o):a.setAttribute(e,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A$1=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch(o){var e=o.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+a}var Na=!1;function Oa(a,e){if(!a||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(gt){var c=gt}Reflect.construct(a,[],e)}else{try{e.call()}catch(gt){c=gt}a.call(e.prototype)}else{try{throw Error()}catch(gt){c=gt}a()}}catch(gt){if(gt&&c&&typeof gt.stack=="string"){for(var et=gt.stack.split(`
`),tt=c.stack.split(`
`),nt=et.length-1,rt=tt.length-1;1<=nt&&0<=rt&&et[nt]!==tt[rt];)rt--;for(;1<=nt&&0<=rt;nt--,rt--)if(et[nt]!==tt[rt]){if(nt!==1||rt!==1)do if(nt--,rt--,0>rt||et[nt]!==tt[rt]){var mt=`
`+et[nt].replace(" at new "," at ");return a.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",a.displayName)),mt}while(1<=nt&&0<=rt);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var e=a.render;return a=a.displayName,a||(a=e.displayName||e.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return e=a.displayName||null,e!==null?e:Qa(a.type)||"Memo";case Ha:e=a._payload,a=a._init;try{return Qa(a(e))}catch{}}return null}function Ra(a){var e=a.type;switch(a.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=e.render,a=a.displayName||a.name||"",e.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var e=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(a){var e=Ta(a)?"checked":"value",o=Object.getOwnPropertyDescriptor(a.constructor.prototype,e),c=""+a[e];if(!a.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var et=o.get,tt=o.set;return Object.defineProperty(a,e,{configurable:!0,get:function(){return et.call(this)},set:function(nt){c=""+nt,tt.call(this,nt)}}),Object.defineProperty(a,e,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(nt){c=""+nt},stopTracking:function(){a._valueTracker=null,delete a[e]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var e=a._valueTracker;if(!e)return!0;var o=e.getValue(),c="";return a&&(c=Ta(a)?a.checked?"true":"false":a.value),a=c,a!==o?(e.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,e){var o=e.checked;return A$1({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??a._wrapperState.initialChecked})}function Za(a,e){var o=e.defaultValue==null?"":e.defaultValue,c=e.checked!=null?e.checked:e.defaultChecked;o=Sa(e.value!=null?e.value:o),a._wrapperState={initialChecked:c,initialValue:o,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(a,e){e=e.checked,e!=null&&ta(a,"checked",e,!1)}function bb(a,e){ab(a,e);var o=Sa(e.value),c=e.type;if(o!=null)c==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+o):a.value!==""+o&&(a.value=""+o);else if(c==="submit"||c==="reset"){a.removeAttribute("value");return}e.hasOwnProperty("value")?cb(a,e.type,o):e.hasOwnProperty("defaultValue")&&cb(a,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(a.defaultChecked=!!e.defaultChecked)}function db(a,e,o){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var c=e.type;if(!(c!=="submit"&&c!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+a._wrapperState.initialValue,o||e===a.value||(a.value=e),a.defaultValue=e}o=a.name,o!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,o!==""&&(a.name=o)}function cb(a,e,o){(e!=="number"||Xa(a.ownerDocument)!==a)&&(o==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+o&&(a.defaultValue=""+o))}var eb=Array.isArray;function fb(a,e,o,c){if(a=a.options,e){e={};for(var et=0;et<o.length;et++)e["$"+o[et]]=!0;for(o=0;o<a.length;o++)et=e.hasOwnProperty("$"+a[o].value),a[o].selected!==et&&(a[o].selected=et),et&&c&&(a[o].defaultSelected=!0)}else{for(o=""+Sa(o),e=null,et=0;et<a.length;et++){if(a[et].value===o){a[et].selected=!0,c&&(a[et].defaultSelected=!0);return}e!==null||a[et].disabled||(e=a[et])}e!==null&&(e.selected=!0)}}function gb(a,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},e,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,e){var o=e.value;if(o==null){if(o=e.children,e=e.defaultValue,o!=null){if(e!=null)throw Error(p$2(92));if(eb(o)){if(1<o.length)throw Error(p$2(93));o=o[0]}e=o}e==null&&(e=""),o=e}a._wrapperState={initialValue:Sa(o)}}function ib(a,e){var o=Sa(e.value),c=Sa(e.defaultValue);o!=null&&(o=""+o,o!==a.value&&(a.value=o),e.defaultValue==null&&a.defaultValue!==o&&(a.defaultValue=o)),c!=null&&(a.defaultValue=""+c)}function jb(a){var e=a.textContent;e===a._wrapperState.initialValue&&e!==""&&e!==null&&(a.value=e)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,e){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(e):a==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,o,c,et){MSApp.execUnsafeLocalFunction(function(){return a(e,o,c,et)})}:a}(function(a,e){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;e.firstChild;)a.appendChild(e.firstChild)}});function ob(a,e){if(e){var o=a.firstChild;if(o&&o===a.lastChild&&o.nodeType===3){o.nodeValue=e;return}}a.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(e){e=e+a.charAt(0).toUpperCase()+a.substring(1),pb[e]=pb[a]})});function rb(a,e,o){return e==null||typeof e=="boolean"||e===""?"":o||typeof e!="number"||e===0||pb.hasOwnProperty(a)&&pb[a]?(""+e).trim():e+"px"}function sb(a,e){a=a.style;for(var o in e)if(e.hasOwnProperty(o)){var c=o.indexOf("--")===0,et=rb(o,e[o],c);o==="float"&&(o="cssFloat"),c?a.setProperty(o,et):a[o]=et}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,e){if(e){if(tb[a]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$2(137,a));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$2(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$2(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$2(62))}}function vb(a,e){if(a.indexOf("-")===-1)return typeof e.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p$2(280));var e=a.stateNode;e&&(e=Db(e),yb(a.stateNode,a.type,e))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,e=Ab;if(Ab=zb=null,Bb(a),e)for(a=0;a<e.length;a++)Bb(e[a])}}function Gb(a,e){return a(e)}function Hb(){}var Ib=!1;function Jb(a,e,o){if(Ib)return a(e,o);Ib=!0;try{return Gb(a,e,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,e){var o=a.stateNode;if(o===null)return null;var c=Db(o);if(c===null)return null;o=c[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(o&&typeof o!="function")throw Error(p$2(231,e,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,e,o,c,et,tt,nt,rt,mt){var gt=Array.prototype.slice.call(arguments,3);try{e.apply(o,gt)}catch(yt){this.onError(yt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,e,o,c,et,tt,nt,rt,mt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,e,o,c,et,tt,nt,rt,mt){if(Tb.apply(this,arguments),Ob){if(Ob){var gt=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=gt)}}function Vb(a){var e=a,o=a;if(a.alternate)for(;e.return;)e=e.return;else{a=e;do e=a,e.flags&4098&&(o=e.return),a=e.return;while(a)}return e.tag===3?o:null}function Wb(a){if(a.tag===13){var e=a.memoizedState;if(e===null&&(a=a.alternate,a!==null&&(e=a.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p$2(188))}function Yb(a){var e=a.alternate;if(!e){if(e=Vb(a),e===null)throw Error(p$2(188));return e!==a?null:a}for(var o=a,c=e;;){var et=o.return;if(et===null)break;var tt=et.alternate;if(tt===null){if(c=et.return,c!==null){o=c;continue}break}if(et.child===tt.child){for(tt=et.child;tt;){if(tt===o)return Xb(et),a;if(tt===c)return Xb(et),e;tt=tt.sibling}throw Error(p$2(188))}if(o.return!==c.return)o=et,c=tt;else{for(var nt=!1,rt=et.child;rt;){if(rt===o){nt=!0,o=et,c=tt;break}if(rt===c){nt=!0,c=et,o=tt;break}rt=rt.sibling}if(!nt){for(rt=tt.child;rt;){if(rt===o){nt=!0,o=tt,c=et;break}if(rt===c){nt=!0,c=tt,o=et;break}rt=rt.sibling}if(!nt)throw Error(p$2(189))}}if(o.alternate!==c)throw Error(p$2(190))}if(o.tag!==3)throw Error(p$2(188));return o.stateNode.current===o?a:e}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var e=$b(a);if(e!==null)return e;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,e){var o=a.pendingLanes;if(o===0)return 0;var c=0,et=a.suspendedLanes,tt=a.pingedLanes,nt=o&268435455;if(nt!==0){var rt=nt&~et;rt!==0?c=tc(rt):(tt&=nt,tt!==0&&(c=tc(tt)))}else nt=o&~et,nt!==0?c=tc(nt):tt!==0&&(c=tc(tt));if(c===0)return 0;if(e!==0&&e!==c&&!(e&et)&&(et=c&-c,tt=e&-e,et>=tt||et===16&&(tt&4194240)!==0))return e;if(c&4&&(c|=o&16),e=a.entangledLanes,e!==0)for(a=a.entanglements,e&=c;0<e;)o=31-oc(e),et=1<<o,c|=a[o],e&=~et;return c}function vc(a,e){switch(a){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,e){for(var o=a.suspendedLanes,c=a.pingedLanes,et=a.expirationTimes,tt=a.pendingLanes;0<tt;){var nt=31-oc(tt),rt=1<<nt,mt=et[nt];mt===-1?(!(rt&o)||rt&c)&&(et[nt]=vc(rt,e)):mt<=e&&(a.expiredLanes|=rt),tt&=~rt}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var e=[],o=0;31>o;o++)e.push(a);return e}function Ac(a,e,o){a.pendingLanes|=e,e!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,e=31-oc(e),a[e]=o}function Bc(a,e){var o=a.pendingLanes&~e;a.pendingLanes=e,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=e,a.mutableReadLanes&=e,a.entangledLanes&=e,e=a.entanglements;var c=a.eventTimes;for(a=a.expirationTimes;0<o;){var et=31-oc(o),tt=1<<et;e[et]=0,c[et]=-1,a[et]=-1,o&=~tt}}function Cc(a,e){var o=a.entangledLanes|=e;for(a=a.entanglements;o;){var c=31-oc(o),et=1<<c;et&e|a[c]&e&&(a[c]|=e),o&=~et}}var C$2=0;function Dc$1(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(a,e){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc$1(a,e,o,c,et,tt){return a===null||a.nativeEvent!==tt?(a={blockedOn:e,domEventName:o,eventSystemFlags:c,nativeEvent:tt,targetContainers:[et]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),a):(a.eventSystemFlags|=c,e=a.targetContainers,et!==null&&e.indexOf(et)===-1&&e.push(et),a)}function Uc(a,e,o,c,et){switch(e){case"focusin":return Lc=Tc$1(Lc,a,e,o,c,et),!0;case"dragenter":return Mc=Tc$1(Mc,a,e,o,c,et),!0;case"mouseover":return Nc=Tc$1(Nc,a,e,o,c,et),!0;case"pointerover":var tt=et.pointerId;return Oc.set(tt,Tc$1(Oc.get(tt)||null,a,e,o,c,et)),!0;case"gotpointercapture":return tt=et.pointerId,Pc.set(tt,Tc$1(Pc.get(tt)||null,a,e,o,c,et)),!0}return!1}function Vc(a){var e=Wc(a.target);if(e!==null){var o=Vb(e);if(o!==null){if(e=o.tag,e===13){if(e=Wb(o),e!==null){a.blockedOn=e,Ic(a.priority,function(){Gc(o)});return}}else if(e===3&&o.stateNode.current.memoizedState.isDehydrated){a.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var e=a.targetContainers;0<e.length;){var o=Yc(a.domEventName,a.eventSystemFlags,e[0],a.nativeEvent);if(o===null){o=a.nativeEvent;var c=new o.constructor(o.type,o);wb=c,o.target.dispatchEvent(c),wb=null}else return e=Cb(o),e!==null&&Fc(e),a.blockedOn=o,!1;e.shift()}return!0}function Zc(a,e,o){Xc(a)&&o.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,e){a.blockedOn===e&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function e(et){return ad(et,a)}if(0<Kc.length){ad(Kc[0],a);for(var o=1;o<Kc.length;o++){var c=Kc[o];c.blockedOn===a&&(c.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(e),Pc.forEach(e),o=0;o<Qc.length;o++)c=Qc[o],c.blockedOn===a&&(c.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,e,o,c){var et=C$2,tt=cd.transition;cd.transition=null;try{C$2=1,fd(a,e,o,c)}finally{C$2=et,cd.transition=tt}}function gd(a,e,o,c){var et=C$2,tt=cd.transition;cd.transition=null;try{C$2=4,fd(a,e,o,c)}finally{C$2=et,cd.transition=tt}}function fd(a,e,o,c){if(dd){var et=Yc(a,e,o,c);if(et===null)hd(a,e,c,id$2,o),Sc$1(a,c);else if(Uc(et,a,e,o,c))c.stopPropagation();else if(Sc$1(a,c),e&4&&-1<Rc.indexOf(a)){for(;et!==null;){var tt=Cb(et);if(tt!==null&&Ec(tt),tt=Yc(a,e,o,c),tt===null&&hd(a,e,c,id$2,o),tt===et)break;et=tt}et!==null&&c.stopPropagation()}else hd(a,e,c,null,o)}}var id$2=null;function Yc(a,e,o,c){if(id$2=null,a=xb(c),a=Wc(a),a!==null)if(e=Vb(a),e===null)a=null;else if(o=e.tag,o===13){if(a=Wb(e),a!==null)return a;a=null}else if(o===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;a=null}else e!==a&&(a=null);return id$2=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,e=ld,o=e.length,c,et="value"in kd?kd.value:kd.textContent,tt=et.length;for(a=0;a<o&&e[a]===et[a];a++);var nt=o-a;for(c=1;c<=nt&&e[o-c]===et[tt-c];c++);return md=et.slice(a,1<c?1-c:void 0)}function od(a){var e=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&e===13&&(a=13)):a=e,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function e(o,c,et,tt,nt){this._reactName=o,this._targetInst=et,this.type=c,this.nativeEvent=tt,this.target=nt,this.currentTarget=null;for(var rt in a)a.hasOwnProperty(rt)&&(o=a[rt],this[rt]=o?o(tt):tt[rt]);return this.isDefaultPrevented=(tt.defaultPrevented!=null?tt.defaultPrevented:tt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(a):(a=Od[a])?!!e[a]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(a){if(a.key){var e=Md[a.key]||a.key;if(e!=="Unidentified")return e}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$2,de$1=ia&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee$1=" ",fe$2=!1;function ge$2(a,e){switch(a){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie$1=!1;function je$1(a,e){switch(a){case"compositionend":return he$2(e);case"keypress":return e.which!==32?null:(fe$2=!0,ee$1);case"textInput":return a=e.data,a===ee$1&&fe$2?null:a;default:return null}}function ke$1(a,e){if(ie$1)return a==="compositionend"||!ae$2&&ge$2(a,e)?(a=nd(),md=ld=kd=null,ie$1=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$1&&e.locale!=="ko"?null:e.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(a){var e=a&&a.nodeName&&a.nodeName.toLowerCase();return e==="input"?!!le$2[a.type]:e==="textarea"}function ne$2(a,e,o,c){Eb(c),e=oe$2(e,"onChange"),0<e.length&&(o=new td("onChange","change",null,o,c),a.push({event:o,listeners:e}))}var pe$1=null,qe$1=null;function re$3(a){se$1(a,0)}function te$1(a){var e=ue$2(a);if(Wa(e))return a}function ve$1(a,e){if(a==="change")return e}var we$2=!1;if(ia){var xe$1;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$2=typeof ze.oninput=="function"}xe$1=ye$2}else xe$1=!1;we$2=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(a){if(a.propertyName==="value"&&te$1(qe$1)){var e=[];ne$2(e,qe$1,a,xb(a)),Jb(re$3,e)}}function Ce$1(a,e,o){a==="focusin"?(Ae$1(),pe$1=e,qe$1=o,pe$1.attachEvent("onpropertychange",Be)):a==="focusout"&&Ae$1()}function De$2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te$1(qe$1)}function Ee$2(a,e){if(a==="click")return te$1(e)}function Fe$1(a,e){if(a==="input"||a==="change")return te$1(e)}function Ge(a,e){return a===e&&(a!==0||1/a===1/e)||a!==a&&e!==e}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$2(a,e){if(He$1(a,e))return!0;if(typeof a!="object"||a===null||typeof e!="object"||e===null)return!1;var o=Object.keys(a),c=Object.keys(e);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var et=o[c];if(!ja.call(e,et)||!He$1(a[et],e[et]))return!1}return!0}function Je$1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke$1(a,e){var o=Je$1(a);a=0;for(var c;o;){if(o.nodeType===3){if(c=a+o.textContent.length,a<=e&&c>=e)return{node:o,offset:e-a};a=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je$1(o)}}function Le$1(a,e){return a&&e?a===e?!0:a&&a.nodeType===3?!1:e&&e.nodeType===3?Le$1(a,e.parentNode):"contains"in a?a.contains(e):a.compareDocumentPosition?!!(a.compareDocumentPosition(e)&16):!1:!1}function Me$1(){for(var a=window,e=Xa();e instanceof a.HTMLIFrameElement;){try{var o=typeof e.contentWindow.location.href=="string"}catch{o=!1}if(o)a=e.contentWindow;else break;e=Xa(a.document)}return e}function Ne$1(a){var e=a&&a.nodeName&&a.nodeName.toLowerCase();return e&&(e==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||e==="textarea"||a.contentEditable==="true")}function Oe$1(a){var e=Me$1(),o=a.focusedElem,c=a.selectionRange;if(e!==o&&o&&o.ownerDocument&&Le$1(o.ownerDocument.documentElement,o)){if(c!==null&&Ne$1(o)){if(e=c.start,a=c.end,a===void 0&&(a=e),"selectionStart"in o)o.selectionStart=e,o.selectionEnd=Math.min(a,o.value.length);else if(a=(e=o.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var et=o.textContent.length,tt=Math.min(c.start,et);c=c.end===void 0?tt:Math.min(c.end,et),!a.extend&&tt>c&&(et=c,c=tt,tt=et),et=Ke$1(o,tt);var nt=Ke$1(o,c);et&&nt&&(a.rangeCount!==1||a.anchorNode!==et.node||a.anchorOffset!==et.offset||a.focusNode!==nt.node||a.focusOffset!==nt.offset)&&(e=e.createRange(),e.setStart(et.node,et.offset),a.removeAllRanges(),tt>c?(a.addRange(e),a.extend(nt.node,nt.offset)):(e.setEnd(nt.node,nt.offset),a.addRange(e)))}}for(e=[],a=o;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<e.length;o++)a=e[o],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$2=!1;function Ue$1(a,e,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te$2||Qe$1==null||Qe$1!==Xa(c)||(c=Qe$1,"selectionStart"in c&&Ne$1(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se$1&&Ie$2(Se$1,c)||(Se$1=c,c=oe$2(Re$1,"onSelect"),0<c.length&&(e=new td("onSelect","select",null,e,o),a.push({event:e,listeners:c}),e.target=Qe$1)))}function Ve$1(a,e){var o={};return o[a.toLowerCase()]=e.toLowerCase(),o["Webkit"+a]="webkit"+e,o["Moz"+a]="moz"+e,o}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(a){if(Xe$1[a])return Xe$1[a];if(!We$1[a])return a;var e=We$1[a],o;for(o in e)if(e.hasOwnProperty(o)&&o in Ye$1)return Xe$1[a]=e[o];return a}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,e){df.set(a,e),fa(e,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,e,o){var c=a.type||"unknown-event";a.currentTarget=o,Ub(c,e,void 0,a),a.currentTarget=null}function se$1(a,e){e=(e&4)!==0;for(var o=0;o<a.length;o++){var c=a[o],et=c.event;c=c.listeners;e:{var tt=void 0;if(e)for(var nt=c.length-1;0<=nt;nt--){var rt=c[nt],mt=rt.instance,gt=rt.currentTarget;if(rt=rt.listener,mt!==tt&&et.isPropagationStopped())break e;nf(et,rt,gt),tt=mt}else for(nt=0;nt<c.length;nt++){if(rt=c[nt],mt=rt.instance,gt=rt.currentTarget,rt=rt.listener,mt!==tt&&et.isPropagationStopped())break e;nf(et,rt,gt),tt=mt}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D$3(a,e){var o=e[of];o===void 0&&(o=e[of]=new Set);var c=a+"__bubble";o.has(c)||(pf(e,a,2,!1),o.add(c))}function qf(a,e,o){var c=0;e&&(c|=4),pf(o,a,c,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,a),qf(o,!0,a))});var e=a.nodeType===9?a:a.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(a,e,o,c){switch(jd(e)){case 1:var et=ed;break;case 4:et=gd;break;default:et=fd}o=et.bind(null,e,o,a),et=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(et=!0),c?et!==void 0?a.addEventListener(e,o,{capture:!0,passive:et}):a.addEventListener(e,o,!0):et!==void 0?a.addEventListener(e,o,{passive:et}):a.addEventListener(e,o,!1)}function hd(a,e,o,c,et){var tt=c;if(!(e&1)&&!(e&2)&&c!==null)e:for(;;){if(c===null)return;var nt=c.tag;if(nt===3||nt===4){var rt=c.stateNode.containerInfo;if(rt===et||rt.nodeType===8&&rt.parentNode===et)break;if(nt===4)for(nt=c.return;nt!==null;){var mt=nt.tag;if((mt===3||mt===4)&&(mt=nt.stateNode.containerInfo,mt===et||mt.nodeType===8&&mt.parentNode===et))return;nt=nt.return}for(;rt!==null;){if(nt=Wc(rt),nt===null)return;if(mt=nt.tag,mt===5||mt===6){c=tt=nt;continue e}rt=rt.parentNode}}c=c.return}Jb(function(){var gt=tt,yt=xb(o),vt=[];e:{var xt=df.get(a);if(xt!==void 0){var bt=td,Et=a;switch(a){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":bt=Rd;break;case"focusin":Et="focus",bt=Fd;break;case"focusout":Et="blur",bt=Fd;break;case"beforeblur":case"afterblur":bt=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=Vd;break;case $e$1:case af:case bf:bt=Hd;break;case cf:bt=Xd;break;case"scroll":bt=vd;break;case"wheel":bt=Zd;break;case"copy":case"cut":case"paste":bt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=Td}var wt=(e&4)!==0,St=!wt&&a==="scroll",Tt=wt?xt!==null?xt+"Capture":null:xt;wt=[];for(var kt=gt,_t;kt!==null;){_t=kt;var Mt=_t.stateNode;if(_t.tag===5&&Mt!==null&&(_t=Mt,Tt!==null&&(Mt=Kb(kt,Tt),Mt!=null&&wt.push(tf(kt,Mt,_t)))),St)break;kt=kt.return}0<wt.length&&(xt=new bt(xt,Et,null,o,yt),vt.push({event:xt,listeners:wt}))}}if(!(e&7)){e:{if(xt=a==="mouseover"||a==="pointerover",bt=a==="mouseout"||a==="pointerout",xt&&o!==wb&&(Et=o.relatedTarget||o.fromElement)&&(Wc(Et)||Et[uf]))break e;if((bt||xt)&&(xt=yt.window===yt?yt:(xt=yt.ownerDocument)?xt.defaultView||xt.parentWindow:window,bt?(Et=o.relatedTarget||o.toElement,bt=gt,Et=Et?Wc(Et):null,Et!==null&&(St=Vb(Et),Et!==St||Et.tag!==5&&Et.tag!==6)&&(Et=null)):(bt=null,Et=gt),bt!==Et)){if(wt=Bd,Mt="onMouseLeave",Tt="onMouseEnter",kt="mouse",(a==="pointerout"||a==="pointerover")&&(wt=Td,Mt="onPointerLeave",Tt="onPointerEnter",kt="pointer"),St=bt==null?xt:ue$2(bt),_t=Et==null?xt:ue$2(Et),xt=new wt(Mt,kt+"leave",bt,o,yt),xt.target=St,xt.relatedTarget=_t,Mt=null,Wc(yt)===gt&&(wt=new wt(Tt,kt+"enter",Et,o,yt),wt.target=_t,wt.relatedTarget=St,Mt=wt),St=Mt,bt&&Et)t:{for(wt=bt,Tt=Et,kt=0,_t=wt;_t;_t=vf(_t))kt++;for(_t=0,Mt=Tt;Mt;Mt=vf(Mt))_t++;for(;0<kt-_t;)wt=vf(wt),kt--;for(;0<_t-kt;)Tt=vf(Tt),_t--;for(;kt--;){if(wt===Tt||Tt!==null&&wt===Tt.alternate)break t;wt=vf(wt),Tt=vf(Tt)}wt=null}else wt=null;bt!==null&&wf(vt,xt,bt,wt,!1),Et!==null&&St!==null&&wf(vt,St,Et,wt,!0)}}e:{if(xt=gt?ue$2(gt):window,bt=xt.nodeName&&xt.nodeName.toLowerCase(),bt==="select"||bt==="input"&&xt.type==="file")var Pt=ve$1;else if(me$1(xt))if(we$2)Pt=Fe$1;else{Pt=De$2;var It=Ce$1}else(bt=xt.nodeName)&&bt.toLowerCase()==="input"&&(xt.type==="checkbox"||xt.type==="radio")&&(Pt=Ee$2);if(Pt&&(Pt=Pt(a,gt))){ne$2(vt,Pt,o,yt);break e}It&&It(a,xt,gt),a==="focusout"&&(It=xt._wrapperState)&&It.controlled&&xt.type==="number"&&cb(xt,"number",xt.value)}switch(It=gt?ue$2(gt):window,a){case"focusin":(me$1(It)||It.contentEditable==="true")&&(Qe$1=It,Re$1=gt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue$1(vt,o,yt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(vt,o,yt)}var Dt;if(ae$2)e:{switch(a){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else ie$1?ge$2(a,o)&&(Ct="onCompositionEnd"):a==="keydown"&&o.keyCode===229&&(Ct="onCompositionStart");Ct&&(de$1&&o.locale!=="ko"&&(ie$1||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ie$1&&(Dt=nd()):(kd=yt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),It=oe$2(gt,Ct),0<It.length&&(Ct=new Ld(Ct,a,null,o,yt),vt.push({event:Ct,listeners:It}),Dt?Ct.data=Dt:(Dt=he$2(o),Dt!==null&&(Ct.data=Dt)))),(Dt=ce$2?je$1(a,o):ke$1(a,o))&&(gt=oe$2(gt,"onBeforeInput"),0<gt.length&&(yt=new Ld("onBeforeInput","beforeinput",null,o,yt),vt.push({event:yt,listeners:gt}),yt.data=Dt))}se$1(vt,e)})}function tf(a,e,o){return{instance:a,listener:e,currentTarget:o}}function oe$2(a,e){for(var o=e+"Capture",c=[];a!==null;){var et=a,tt=et.stateNode;et.tag===5&&tt!==null&&(et=tt,tt=Kb(a,o),tt!=null&&c.unshift(tf(a,tt,et)),tt=Kb(a,e),tt!=null&&c.push(tf(a,tt,et))),a=a.return}return c}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,e,o,c,et){for(var tt=e._reactName,nt=[];o!==null&&o!==c;){var rt=o,mt=rt.alternate,gt=rt.stateNode;if(mt!==null&&mt===c)break;rt.tag===5&&gt!==null&&(rt=gt,et?(mt=Kb(o,tt),mt!=null&&nt.unshift(tf(o,mt,rt))):et||(mt=Kb(o,tt),mt!=null&&nt.push(tf(o,mt,rt)))),o=o.return}nt.length!==0&&a.push({event:e,listeners:nt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,e,o){if(e=zf(e),zf(a)!==e&&o)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,e){return a==="textarea"||a==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,e){var o=e,c=0;do{var et=o.nextSibling;if(a.removeChild(o),et&&et.nodeType===8)if(o=et.data,o==="/$"){if(c===0){a.removeChild(et),bd(e);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=et}while(o);bd(e)}function Lf(a){for(;a!=null;a=a.nextSibling){var e=a.nodeType;if(e===1||e===3)break;if(e===8){if(e=a.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var e=0;a;){if(a.nodeType===8){var o=a.data;if(o==="$"||o==="$!"||o==="$?"){if(e===0)return a;e--}else o==="/$"&&e++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var e=a[Of];if(e)return e;for(var o=a.parentNode;o;){if(e=o[uf]||o[Of]){if(o=e.alternate,e.child!==null||o!==null&&o.child!==null)for(a=Mf(a);a!==null;){if(o=a[Of])return o;a=Mf(a)}return e}a=o,o=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue$2(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p$2(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(a,e){Tf++,Sf[Tf]=a.current,a.current=e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,e){var o=a.type.contextTypes;if(!o)return Vf;var c=a.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===e)return c.__reactInternalMemoizedMaskedChildContext;var et={},tt;for(tt in o)et[tt]=e[tt];return c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=et),et}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E(Wf),E(H$1)}function ag(a,e,o){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,e),G$1(Wf,o)}function bg(a,e,o){var c=a.stateNode;if(e=e.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var et in c)if(!(et in e))throw Error(p$2(108,Ra(a)||"Unknown",et));return A$1({},o,c)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,a),G$1(Wf,Wf.current),!0}function dg(a,e,o){var c=a.stateNode;if(!c)throw Error(p$2(169));o?(a=bg(a,e,Xf),c.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H$1),G$1(H$1,a)):E(Wf),G$1(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,e=C$2;try{var o=eg;for(C$2=1;a<o.length;a++){var c=o[a];do c=c(!0);while(c!==null)}eg=null,fg=!1}catch(et){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),et}finally{C$2=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,e){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=e}function ug(a,e,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var c=rg;a=sg;var et=32-oc(c)-1;c&=~(1<<et),o+=1;var tt=32-oc(e)+et;if(30<tt){var nt=et-et%5;tt=(c&(1<<nt)-1).toString(32),c>>=nt,et-=nt,rg=1<<32-oc(e)+et|o<<et|c,sg=tt+a}else rg=1<<tt|o<<et|c,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(a,e){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=e,o.return=a,e=a.deletions,e===null?(a.deletions=[o],a.flags|=16):e.push(o)}function Cg(a,e){switch(a.tag){case 5:var o=a.type;return e=e.nodeType!==1||o.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(a.stateNode=e,xg=a,yg=Lf(e.firstChild),!0):!1;case 6:return e=a.pendingProps===""||e.nodeType!==3?null:e,e!==null?(a.stateNode=e,xg=a,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(o=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:e,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=e,o.return=a,a.child=o,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I$1){var e=yg;if(e){var o=e;if(!Cg(a,e)){if(Dg(a))throw Error(p$2(418));e=Lf(o.nextSibling);var c=xg;e&&Cg(a,e)?Ag(c,o):(a.flags=a.flags&-4097|2,I$1=!1,xg=a)}}else{if(Dg(a))throw Error(p$2(418));a.flags=a.flags&-4097|2,I$1=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I$1)return Fg(a),I$1=!0,!1;var e;if((e=a.tag!==3)&&!(e=a.tag!==5)&&(e=a.type,e=e!=="head"&&e!=="body"&&!Ef(a.type,a.memoizedProps)),e&&(e=yg)){if(Dg(a))throw Hg(),Error(p$2(418));for(;e;)Ag(a,e),e=Lf(e.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p$2(317));e:{for(a=a.nextSibling,e=0;a;){if(a.nodeType===8){var o=a.data;if(o==="/$"){if(e===0){yg=Lf(a.nextSibling);break e}e--}else o!=="$"&&o!=="$!"&&o!=="$?"||e++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,e,o){if(a=o.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$2(309));var c=o.stateNode}if(!c)throw Error(p$2(147,a));var et=c,tt=""+a;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===tt?e.ref:(e=function(nt){var rt=et.refs;nt===null?delete rt[tt]:rt[tt]=nt},e._stringRef=tt,e)}if(typeof a!="string")throw Error(p$2(284));if(!o._owner)throw Error(p$2(290,a))}return a}function Mg(a,e){throw a=Object.prototype.toString.call(e),Error(p$2(31,a==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":a))}function Ng(a){var e=a._init;return e(a._payload)}function Og(a){function e(Tt,kt){if(a){var _t=Tt.deletions;_t===null?(Tt.deletions=[kt],Tt.flags|=16):_t.push(kt)}}function o(Tt,kt){if(!a)return null;for(;kt!==null;)e(Tt,kt),kt=kt.sibling;return null}function c(Tt,kt){for(Tt=new Map;kt!==null;)kt.key!==null?Tt.set(kt.key,kt):Tt.set(kt.index,kt),kt=kt.sibling;return Tt}function et(Tt,kt){return Tt=Pg(Tt,kt),Tt.index=0,Tt.sibling=null,Tt}function tt(Tt,kt,_t){return Tt.index=_t,a?(_t=Tt.alternate,_t!==null?(_t=_t.index,_t<kt?(Tt.flags|=2,kt):_t):(Tt.flags|=2,kt)):(Tt.flags|=1048576,kt)}function nt(Tt){return a&&Tt.alternate===null&&(Tt.flags|=2),Tt}function rt(Tt,kt,_t,Mt){return kt===null||kt.tag!==6?(kt=Qg(_t,Tt.mode,Mt),kt.return=Tt,kt):(kt=et(kt,_t),kt.return=Tt,kt)}function mt(Tt,kt,_t,Mt){var Pt=_t.type;return Pt===ya?yt(Tt,kt,_t.props.children,Mt,_t.key):kt!==null&&(kt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&Ng(Pt)===kt.type)?(Mt=et(kt,_t.props),Mt.ref=Lg(Tt,kt,_t),Mt.return=Tt,Mt):(Mt=Rg(_t.type,_t.key,_t.props,null,Tt.mode,Mt),Mt.ref=Lg(Tt,kt,_t),Mt.return=Tt,Mt)}function gt(Tt,kt,_t,Mt){return kt===null||kt.tag!==4||kt.stateNode.containerInfo!==_t.containerInfo||kt.stateNode.implementation!==_t.implementation?(kt=Sg(_t,Tt.mode,Mt),kt.return=Tt,kt):(kt=et(kt,_t.children||[]),kt.return=Tt,kt)}function yt(Tt,kt,_t,Mt,Pt){return kt===null||kt.tag!==7?(kt=Tg(_t,Tt.mode,Mt,Pt),kt.return=Tt,kt):(kt=et(kt,_t),kt.return=Tt,kt)}function vt(Tt,kt,_t){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return kt=Qg(""+kt,Tt.mode,_t),kt.return=Tt,kt;if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return _t=Rg(kt.type,kt.key,kt.props,null,Tt.mode,_t),_t.ref=Lg(Tt,null,kt),_t.return=Tt,_t;case wa:return kt=Sg(kt,Tt.mode,_t),kt.return=Tt,kt;case Ha:var Mt=kt._init;return vt(Tt,Mt(kt._payload),_t)}if(eb(kt)||Ka(kt))return kt=Tg(kt,Tt.mode,_t,null),kt.return=Tt,kt;Mg(Tt,kt)}return null}function xt(Tt,kt,_t,Mt){var Pt=kt!==null?kt.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number")return Pt!==null?null:rt(Tt,kt,""+_t,Mt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return _t.key===Pt?mt(Tt,kt,_t,Mt):null;case wa:return _t.key===Pt?gt(Tt,kt,_t,Mt):null;case Ha:return Pt=_t._init,xt(Tt,kt,Pt(_t._payload),Mt)}if(eb(_t)||Ka(_t))return Pt!==null?null:yt(Tt,kt,_t,Mt,null);Mg(Tt,_t)}return null}function bt(Tt,kt,_t,Mt,Pt){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number")return Tt=Tt.get(_t)||null,rt(kt,Tt,""+Mt,Pt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case va:return Tt=Tt.get(Mt.key===null?_t:Mt.key)||null,mt(kt,Tt,Mt,Pt);case wa:return Tt=Tt.get(Mt.key===null?_t:Mt.key)||null,gt(kt,Tt,Mt,Pt);case Ha:var It=Mt._init;return bt(Tt,kt,_t,It(Mt._payload),Pt)}if(eb(Mt)||Ka(Mt))return Tt=Tt.get(_t)||null,yt(kt,Tt,Mt,Pt,null);Mg(kt,Mt)}return null}function Et(Tt,kt,_t,Mt){for(var Pt=null,It=null,Dt=kt,Ct=kt=0,At=null;Dt!==null&&Ct<_t.length;Ct++){Dt.index>Ct?(At=Dt,Dt=null):At=Dt.sibling;var Lt=xt(Tt,Dt,_t[Ct],Mt);if(Lt===null){Dt===null&&(Dt=At);break}a&&Dt&&Lt.alternate===null&&e(Tt,Dt),kt=tt(Lt,kt,Ct),It===null?Pt=Lt:It.sibling=Lt,It=Lt,Dt=At}if(Ct===_t.length)return o(Tt,Dt),I$1&&tg(Tt,Ct),Pt;if(Dt===null){for(;Ct<_t.length;Ct++)Dt=vt(Tt,_t[Ct],Mt),Dt!==null&&(kt=tt(Dt,kt,Ct),It===null?Pt=Dt:It.sibling=Dt,It=Dt);return I$1&&tg(Tt,Ct),Pt}for(Dt=c(Tt,Dt);Ct<_t.length;Ct++)At=bt(Dt,Tt,Ct,_t[Ct],Mt),At!==null&&(a&&At.alternate!==null&&Dt.delete(At.key===null?Ct:At.key),kt=tt(At,kt,Ct),It===null?Pt=At:It.sibling=At,It=At);return a&&Dt.forEach(function(jt){return e(Tt,jt)}),I$1&&tg(Tt,Ct),Pt}function wt(Tt,kt,_t,Mt){var Pt=Ka(_t);if(typeof Pt!="function")throw Error(p$2(150));if(_t=Pt.call(_t),_t==null)throw Error(p$2(151));for(var It=Pt=null,Dt=kt,Ct=kt=0,At=null,Lt=_t.next();Dt!==null&&!Lt.done;Ct++,Lt=_t.next()){Dt.index>Ct?(At=Dt,Dt=null):At=Dt.sibling;var jt=xt(Tt,Dt,Lt.value,Mt);if(jt===null){Dt===null&&(Dt=At);break}a&&Dt&&jt.alternate===null&&e(Tt,Dt),kt=tt(jt,kt,Ct),It===null?Pt=jt:It.sibling=jt,It=jt,Dt=At}if(Lt.done)return o(Tt,Dt),I$1&&tg(Tt,Ct),Pt;if(Dt===null){for(;!Lt.done;Ct++,Lt=_t.next())Lt=vt(Tt,Lt.value,Mt),Lt!==null&&(kt=tt(Lt,kt,Ct),It===null?Pt=Lt:It.sibling=Lt,It=Lt);return I$1&&tg(Tt,Ct),Pt}for(Dt=c(Tt,Dt);!Lt.done;Ct++,Lt=_t.next())Lt=bt(Dt,Tt,Ct,Lt.value,Mt),Lt!==null&&(a&&Lt.alternate!==null&&Dt.delete(Lt.key===null?Ct:Lt.key),kt=tt(Lt,kt,Ct),It===null?Pt=Lt:It.sibling=Lt,It=Lt);return a&&Dt.forEach(function(Bt){return e(Tt,Bt)}),I$1&&tg(Tt,Ct),Pt}function St(Tt,kt,_t,Mt){if(typeof _t=="object"&&_t!==null&&_t.type===ya&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:e:{for(var Pt=_t.key,It=kt;It!==null;){if(It.key===Pt){if(Pt=_t.type,Pt===ya){if(It.tag===7){o(Tt,It.sibling),kt=et(It,_t.props.children),kt.return=Tt,Tt=kt;break e}}else if(It.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&Ng(Pt)===It.type){o(Tt,It.sibling),kt=et(It,_t.props),kt.ref=Lg(Tt,It,_t),kt.return=Tt,Tt=kt;break e}o(Tt,It);break}else e(Tt,It);It=It.sibling}_t.type===ya?(kt=Tg(_t.props.children,Tt.mode,Mt,_t.key),kt.return=Tt,Tt=kt):(Mt=Rg(_t.type,_t.key,_t.props,null,Tt.mode,Mt),Mt.ref=Lg(Tt,kt,_t),Mt.return=Tt,Tt=Mt)}return nt(Tt);case wa:e:{for(It=_t.key;kt!==null;){if(kt.key===It)if(kt.tag===4&&kt.stateNode.containerInfo===_t.containerInfo&&kt.stateNode.implementation===_t.implementation){o(Tt,kt.sibling),kt=et(kt,_t.children||[]),kt.return=Tt,Tt=kt;break e}else{o(Tt,kt);break}else e(Tt,kt);kt=kt.sibling}kt=Sg(_t,Tt.mode,Mt),kt.return=Tt,Tt=kt}return nt(Tt);case Ha:return It=_t._init,St(Tt,kt,It(_t._payload),Mt)}if(eb(_t))return Et(Tt,kt,_t,Mt);if(Ka(_t))return wt(Tt,kt,_t,Mt);Mg(Tt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"?(_t=""+_t,kt!==null&&kt.tag===6?(o(Tt,kt.sibling),kt=et(kt,_t),kt.return=Tt,Tt=kt):(o(Tt,kt),kt=Qg(_t,Tt.mode,Mt),kt.return=Tt,Tt=kt),nt(Tt)):o(Tt,kt)}return St}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var e=Wg.current;E(Wg),a._currentValue=e}function bh(a,e,o){for(;a!==null;){var c=a.alternate;if((a.childLanes&e)!==e?(a.childLanes|=e,c!==null&&(c.childLanes|=e)):c!==null&&(c.childLanes&e)!==e&&(c.childLanes|=e),a===o)break;a=a.return}}function ch$1(a,e){Xg=a,Zg=Yg=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&e&&(dh=!0),a.firstContext=null)}function eh(a){var e=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=a,Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return e}var fh=null;function gh(a){fh===null?fh=[a]:fh.push(a)}function hh(a,e,o,c){var et=e.interleaved;return et===null?(o.next=o,gh(e)):(o.next=et.next,et.next=o),e.interleaved=o,ih(a,c)}function ih(a,e){a.lanes|=e;var o=a.alternate;for(o!==null&&(o.lanes|=e),o=a,a=a.return;a!==null;)a.childLanes|=e,o=a.alternate,o!==null&&(o.childLanes|=e),o=a,a=a.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(a,e){a=a.updateQueue,e.updateQueue===a&&(e.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,e){return{eventTime:a,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(a,e,o){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,K$1&2){var et=c.pending;return et===null?e.next=e:(e.next=et.next,et.next=e),c.pending=e,ih(a,o)}return et=c.interleaved,et===null?(e.next=e,gh(c)):(e.next=et.next,et.next=e),c.interleaved=e,ih(a,o)}function oh(a,e,o){if(e=e.updateQueue,e!==null&&(e=e.shared,(o&4194240)!==0)){var c=e.lanes;c&=a.pendingLanes,o|=c,e.lanes=o,Cc(a,o)}}function ph(a,e){var o=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var et=null,tt=null;if(o=o.firstBaseUpdate,o!==null){do{var nt={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};tt===null?et=tt=nt:tt=tt.next=nt,o=o.next}while(o!==null);tt===null?et=tt=e:tt=tt.next=e}else et=tt=e;o={baseState:c.baseState,firstBaseUpdate:et,lastBaseUpdate:tt,shared:c.shared,effects:c.effects},a.updateQueue=o;return}a=o.lastBaseUpdate,a===null?o.firstBaseUpdate=e:a.next=e,o.lastBaseUpdate=e}function qh(a,e,o,c){var et=a.updateQueue;jh=!1;var tt=et.firstBaseUpdate,nt=et.lastBaseUpdate,rt=et.shared.pending;if(rt!==null){et.shared.pending=null;var mt=rt,gt=mt.next;mt.next=null,nt===null?tt=gt:nt.next=gt,nt=mt;var yt=a.alternate;yt!==null&&(yt=yt.updateQueue,rt=yt.lastBaseUpdate,rt!==nt&&(rt===null?yt.firstBaseUpdate=gt:rt.next=gt,yt.lastBaseUpdate=mt))}if(tt!==null){var vt=et.baseState;nt=0,yt=gt=mt=null,rt=tt;do{var xt=rt.lane,bt=rt.eventTime;if((c&xt)===xt){yt!==null&&(yt=yt.next={eventTime:bt,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var Et=a,wt=rt;switch(xt=e,bt=o,wt.tag){case 1:if(Et=wt.payload,typeof Et=="function"){vt=Et.call(bt,vt,xt);break e}vt=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=wt.payload,xt=typeof Et=="function"?Et.call(bt,vt,xt):Et,xt==null)break e;vt=A$1({},vt,xt);break e;case 2:jh=!0}}rt.callback!==null&&rt.lane!==0&&(a.flags|=64,xt=et.effects,xt===null?et.effects=[rt]:xt.push(rt))}else bt={eventTime:bt,lane:xt,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},yt===null?(gt=yt=bt,mt=vt):yt=yt.next=bt,nt|=xt;if(rt=rt.next,rt===null){if(rt=et.shared.pending,rt===null)break;xt=rt,rt=xt.next,xt.next=null,et.lastBaseUpdate=xt,et.shared.pending=null}}while(!0);if(yt===null&&(mt=vt),et.baseState=mt,et.firstBaseUpdate=gt,et.lastBaseUpdate=yt,e=et.shared.interleaved,e!==null){et=e;do nt|=et.lane,et=et.next;while(et!==e)}else tt===null&&(et.shared.lanes=0);rh|=nt,a.lanes=nt,a.memoizedState=vt}}function sh(a,e,o){if(a=e.effects,e.effects=null,a!==null)for(e=0;e<a.length;e++){var c=a[e],et=c.callback;if(et!==null){if(c.callback=null,c=o,typeof et!="function")throw Error(p$2(191,et));et.call(c)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p$2(174));return a}function yh(a,e){switch(G$1(wh,e),G$1(vh$1,a),G$1(uh,th),a=e.nodeType,a){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:a=a===8?e.parentNode:e,e=a.namespaceURI||null,a=a.tagName,e=lb(e,a)}E(uh),G$1(uh,e)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(a){xh(wh.current);var e=xh(uh.current),o=lb(e,a.type);e!==o&&(G$1(vh$1,a),G$1(uh,o))}function Bh(a){vh$1.current===a&&(E(uh),E(vh$1))}var L$1=Uf(0);function Ch(a){for(var e=a;e!==null;){if(e.tag===13){var o=e.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break;for(;e.sibling===null;){if(e.return===null||e.return===a)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$2(321))}function Mh(a,e){if(e===null)return!1;for(var o=0;o<e.length&&o<a.length;o++)if(!He$1(a[o],e[o]))return!1;return!0}function Nh(a,e,o,c,et,tt){if(Hh=tt,M$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=a===null||a.memoizedState===null?Oh:Ph,a=o(c,et),Jh){tt=0;do{if(Jh=!1,Kh=0,25<=tt)throw Error(p$2(301));tt+=1,O$1=N=null,e.updateQueue=null,Fh.current=Qh,a=o(c,et)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O$1=N=M$1=null,Ih=!1,e)throw Error(p$2(300));return a}function Sh(){var a=Kh!==0;return Kh=0,a}function Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=a:O$1=O$1.next=a,O$1}function Uh(){if(N===null){var a=M$1.alternate;a=a!==null?a.memoizedState:null}else a=N.next;var e=O$1===null?M$1.memoizedState:O$1.next;if(e!==null)O$1=e,N=a;else{if(a===null)throw Error(p$2(310));N=a,a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$1===null?M$1.memoizedState=O$1=a:O$1=O$1.next=a}return O$1}function Vh(a,e){return typeof e=="function"?e(a):e}function Wh(a){var e=Uh(),o=e.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=a;var c=N,et=c.baseQueue,tt=o.pending;if(tt!==null){if(et!==null){var nt=et.next;et.next=tt.next,tt.next=nt}c.baseQueue=et=tt,o.pending=null}if(et!==null){tt=et.next,c=c.baseState;var rt=nt=null,mt=null,gt=tt;do{var yt=gt.lane;if((Hh&yt)===yt)mt!==null&&(mt=mt.next={lane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),c=gt.hasEagerState?gt.eagerState:a(c,gt.action);else{var vt={lane:yt,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null};mt===null?(rt=mt=vt,nt=c):mt=mt.next=vt,M$1.lanes|=yt,rh|=yt}gt=gt.next}while(gt!==null&&gt!==tt);mt===null?nt=c:mt.next=rt,He$1(c,e.memoizedState)||(dh=!0),e.memoizedState=c,e.baseState=nt,e.baseQueue=mt,o.lastRenderedState=c}if(a=o.interleaved,a!==null){et=a;do tt=et.lane,M$1.lanes|=tt,rh|=tt,et=et.next;while(et!==a)}else et===null&&(o.lanes=0);return[e.memoizedState,o.dispatch]}function Xh(a){var e=Uh(),o=e.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=a;var c=o.dispatch,et=o.pending,tt=e.memoizedState;if(et!==null){o.pending=null;var nt=et=et.next;do tt=a(tt,nt.action),nt=nt.next;while(nt!==et);He$1(tt,e.memoizedState)||(dh=!0),e.memoizedState=tt,e.baseQueue===null&&(e.baseState=tt),o.lastRenderedState=tt}return[tt,c]}function Yh(){}function Zh(a,e){var o=M$1,c=Uh(),et=e(),tt=!He$1(c.memoizedState,et);if(tt&&(c.memoizedState=et,dh=!0),c=c.queue,$h(ai.bind(null,o,c,a),[a]),c.getSnapshot!==e||tt||O$1!==null&&O$1.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,c,et,e),void 0,null),Q$1===null)throw Error(p$2(349));Hh&30||di(o,e,et)}return et}function di(a,e,o){a.flags|=16384,a={getSnapshot:e,value:o},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.stores=[a]):(o=e.stores,o===null?e.stores=[a]:o.push(a))}function ci(a,e,o,c){e.value=o,e.getSnapshot=c,ei(e)&&fi(a)}function ai(a,e,o){return o(function(){ei(e)&&fi(a)})}function ei(a){var e=a.getSnapshot;a=a.value;try{var o=e();return!He$1(a,o)}catch{return!0}}function fi(a){var e=ih(a,1);e!==null&&gi(e,a,1,-1)}function hi(a){var e=Th();return typeof a=="function"&&(a=a()),e.memoizedState=e.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a},e.queue=a,a=a.dispatch=ii.bind(null,M$1,a),[e.memoizedState,a]}function bi(a,e,o,c){return a={tag:a,create:e,destroy:o,deps:c,next:null},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.lastEffect=a.next=a):(o=e.lastEffect,o===null?e.lastEffect=a.next=a:(c=o.next,o.next=a,a.next=c,e.lastEffect=a)),a}function ji(){return Uh().memoizedState}function ki(a,e,o,c){var et=Th();M$1.flags|=a,et.memoizedState=bi(1|e,o,void 0,c===void 0?null:c)}function li(a,e,o,c){var et=Uh();c=c===void 0?null:c;var tt=void 0;if(N!==null){var nt=N.memoizedState;if(tt=nt.destroy,c!==null&&Mh(c,nt.deps)){et.memoizedState=bi(e,o,tt,c);return}}M$1.flags|=a,et.memoizedState=bi(1|e,o,tt,c)}function mi(a,e){return ki(8390656,8,a,e)}function $h(a,e){return li(2048,8,a,e)}function ni(a,e){return li(4,2,a,e)}function oi(a,e){return li(4,4,a,e)}function pi(a,e){if(typeof e=="function")return a=a(),e(a),function(){e(null)};if(e!=null)return a=a(),e.current=a,function(){e.current=null}}function qi(a,e,o){return o=o!=null?o.concat([a]):null,li(4,4,pi.bind(null,e,a),o)}function ri(){}function si(a,e){var o=Uh();e=e===void 0?null:e;var c=o.memoizedState;return c!==null&&e!==null&&Mh(e,c[1])?c[0]:(o.memoizedState=[a,e],a)}function ti(a,e){var o=Uh();e=e===void 0?null:e;var c=o.memoizedState;return c!==null&&e!==null&&Mh(e,c[1])?c[0]:(a=a(),o.memoizedState=[a,e],a)}function ui(a,e,o){return Hh&21?(He$1(o,e)||(o=yc(),M$1.lanes|=o,rh|=o,a.baseState=!0),e):(a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=o)}function vi(a,e){var o=C$2;C$2=o!==0&&4>o?o:4,a(!0);var c=Gh.transition;Gh.transition={};try{a(!1),e()}finally{C$2=o,Gh.transition=c}}function wi(){return Uh().memoizedState}function xi(a,e,o){var c=yi(a);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},zi(a))Ai(e,o);else if(o=hh(a,e,o,c),o!==null){var et=R$1();gi(o,a,c,et),Bi(o,e,c)}}function ii(a,e,o){var c=yi(a),et={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(e,et);else{var tt=a.alternate;if(a.lanes===0&&(tt===null||tt.lanes===0)&&(tt=e.lastRenderedReducer,tt!==null))try{var nt=e.lastRenderedState,rt=tt(nt,o);if(et.hasEagerState=!0,et.eagerState=rt,He$1(rt,nt)){var mt=e.interleaved;mt===null?(et.next=et,gh(e)):(et.next=mt.next,mt.next=et),e.interleaved=et;return}}catch{}finally{}o=hh(a,e,et,c),o!==null&&(et=R$1(),gi(o,a,c,et),Bi(o,e,c))}}function zi(a){var e=a.alternate;return a===M$1||e!==null&&e===M$1}function Ai(a,e){Jh=Ih=!0;var o=a.pending;o===null?e.next=e:(e.next=o.next,o.next=e),a.pending=e}function Bi(a,e,o){if(o&4194240){var c=e.lanes;c&=a.pendingLanes,o|=c,e.lanes=o,Cc(a,o)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,e){return Th().memoizedState=[a,e===void 0?null:e],a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,e,o){return o=o!=null?o.concat([a]):null,ki(4194308,4,pi.bind(null,e,a),o)},useLayoutEffect:function(a,e){return ki(4194308,4,a,e)},useInsertionEffect:function(a,e){return ki(4,2,a,e)},useMemo:function(a,e){var o=Th();return e=e===void 0?null:e,a=a(),o.memoizedState=[a,e],a},useReducer:function(a,e,o){var c=Th();return e=o!==void 0?o(e):e,c.memoizedState=c.baseState=e,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:e},c.queue=a,a=a.dispatch=xi.bind(null,M$1,a),[c.memoizedState,a]},useRef:function(a){var e=Th();return a={current:a},e.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),e=a[0];return a=vi.bind(null,a[1]),Th().memoizedState=a,[e,a]},useMutableSource:function(){},useSyncExternalStore:function(a,e,o){var c=M$1,et=Th();if(I$1){if(o===void 0)throw Error(p$2(407));o=o()}else{if(o=e(),Q$1===null)throw Error(p$2(349));Hh&30||di(c,e,o)}et.memoizedState=o;var tt={value:o,getSnapshot:e};return et.queue=tt,mi(ai.bind(null,c,tt,a),[a]),c.flags|=2048,bi(9,ci.bind(null,c,tt,o,e),void 0,null),o},useId:function(){var a=Th(),e=Q$1.identifierPrefix;if(I$1){var o=sg,c=rg;o=(c&~(1<<32-oc(c)-1)).toString(32)+o,e=":"+e+"R"+o,o=Kh++,0<o&&(e+="H"+o.toString(32)),e+=":"}else o=Lh++,e=":"+e+"r"+o.toString(32)+":";return a.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var e=Uh();return ui(e,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],e=Uh().memoizedState;return[a,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var e=Uh();return N===null?e.memoizedState=a:ui(e,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],e=Uh().memoizedState;return[a,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,e){if(a&&a.defaultProps){e=A$1({},e),a=a.defaultProps;for(var o in a)e[o]===void 0&&(e[o]=a[o]);return e}return e}function Di(a,e,o,c){e=a.memoizedState,o=o(c,e),o=o==null?e:A$1({},e,o),a.memoizedState=o,a.lanes===0&&(a.updateQueue.baseState=o)}var Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,e,o){a=a._reactInternals;var c=R$1(),et=yi(a),tt=mh(c,et);tt.payload=e,o!=null&&(tt.callback=o),e=nh(a,tt,et),e!==null&&(gi(e,a,et,c),oh(e,a,et))},enqueueReplaceState:function(a,e,o){a=a._reactInternals;var c=R$1(),et=yi(a),tt=mh(c,et);tt.tag=1,tt.payload=e,o!=null&&(tt.callback=o),e=nh(a,tt,et),e!==null&&(gi(e,a,et,c),oh(e,a,et))},enqueueForceUpdate:function(a,e){a=a._reactInternals;var o=R$1(),c=yi(a),et=mh(o,c);et.tag=2,e!=null&&(et.callback=e),e=nh(a,et,c),e!==null&&(gi(e,a,c,o),oh(e,a,c))}};function Fi(a,e,o,c,et,tt,nt){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,tt,nt):e.prototype&&e.prototype.isPureReactComponent?!Ie$2(o,c)||!Ie$2(et,tt):!0}function Gi(a,e,o){var c=!1,et=Vf,tt=e.contextType;return typeof tt=="object"&&tt!==null?tt=eh(tt):(et=Zf(e)?Xf:H$1.current,c=e.contextTypes,tt=(c=c!=null)?Yf(a,et):Vf),e=new e(o,tt),a.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,a.stateNode=e,e._reactInternals=a,c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=et,a.__reactInternalMemoizedMaskedChildContext=tt),e}function Hi(a,e,o,c){a=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(o,c),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(o,c),e.state!==a&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(a,e,o,c){var et=a.stateNode;et.props=o,et.state=a.memoizedState,et.refs={},kh(a);var tt=e.contextType;typeof tt=="object"&&tt!==null?et.context=eh(tt):(tt=Zf(e)?Xf:H$1.current,et.context=Yf(a,tt)),et.state=a.memoizedState,tt=e.getDerivedStateFromProps,typeof tt=="function"&&(Di(a,e,tt,o),et.state=a.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof et.getSnapshotBeforeUpdate=="function"||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(e=et.state,typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount(),e!==et.state&&Ei.enqueueReplaceState(et,et.state,null),qh(a,o,et,c),et.state=a.memoizedState),typeof et.componentDidMount=="function"&&(a.flags|=4194308)}function Ji(a,e){try{var o="",c=e;do o+=Pa(c),c=c.return;while(c);var et=o}catch(tt){et=`
Error generating stack: `+tt.message+`
`+tt.stack}return{value:a,source:e,stack:et,digest:null}}function Ki(a,e,o){return{value:a,source:null,stack:o??null,digest:e??null}}function Li(a,e){try{console.error(e.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(a,e,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var c=e.value;return o.callback=function(){Oi||(Oi=!0,Pi=c),Li(a,e)},o}function Qi(a,e,o){o=mh(-1,o),o.tag=3;var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var et=e.value;o.payload=function(){return c(et)},o.callback=function(){Li(a,e)}}var tt=a.stateNode;return tt!==null&&typeof tt.componentDidCatch=="function"&&(o.callback=function(){Li(a,e),typeof c!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var nt=e.stack;this.componentDidCatch(e.value,{componentStack:nt!==null?nt:""})}),o}function Si(a,e,o){var c=a.pingCache;if(c===null){c=a.pingCache=new Mi;var et=new Set;c.set(e,et)}else et=c.get(e),et===void 0&&(et=new Set,c.set(e,et));et.has(o)||(et.add(o),a=Ti.bind(null,a,e,o),e.then(a,a))}function Ui(a){do{var e;if((e=a.tag===13)&&(e=a.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return a;a=a.return}while(a!==null);return null}function Vi(a,e,o,c,et){return a.mode&1?(a.flags|=65536,a.lanes=et,a):(a===e?a.flags|=65536:(a.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(e=mh(-1,1),e.tag=2,nh(o,e,1))),o.lanes|=1),a)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,e,o,c){e.child=a===null?Vg(e,null,o,c):Ug(e,a.child,o,c)}function Yi(a,e,o,c,et){o=o.render;var tt=e.ref;return ch$1(e,et),c=Nh(a,e,o,c,tt,et),o=Sh(),a!==null&&!dh?(e.updateQueue=a.updateQueue,e.flags&=-2053,a.lanes&=~et,Zi(a,e,et)):(I$1&&o&&vg(e),e.flags|=1,Xi(a,e,c,et),e.child)}function $i(a,e,o,c,et){if(a===null){var tt=o.type;return typeof tt=="function"&&!aj(tt)&&tt.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(e.tag=15,e.type=tt,bj(a,e,tt,c,et)):(a=Rg(o.type,null,c,e,e.mode,et),a.ref=e.ref,a.return=e,e.child=a)}if(tt=a.child,!(a.lanes&et)){var nt=tt.memoizedProps;if(o=o.compare,o=o!==null?o:Ie$2,o(nt,c)&&a.ref===e.ref)return Zi(a,e,et)}return e.flags|=1,a=Pg(tt,c),a.ref=e.ref,a.return=e,e.child=a}function bj(a,e,o,c,et){if(a!==null){var tt=a.memoizedProps;if(Ie$2(tt,c)&&a.ref===e.ref)if(dh=!1,e.pendingProps=c=tt,(a.lanes&et)!==0)a.flags&131072&&(dh=!0);else return e.lanes=a.lanes,Zi(a,e,et)}return cj(a,e,o,c,et)}function dj(a,e,o){var c=e.pendingProps,et=c.children,tt=a!==null?a.memoizedState:null;if(c.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=o;else{if(!(o&1073741824))return a=tt!==null?tt.baseLanes|o:o,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:a,cachePool:null,transitions:null},e.updateQueue=null,G$1(ej,fj),fj|=a,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=tt!==null?tt.baseLanes:o,G$1(ej,fj),fj|=c}else tt!==null?(c=tt.baseLanes|o,e.memoizedState=null):c=o,G$1(ej,fj),fj|=c;return Xi(a,e,et,o),e.child}function gj(a,e){var o=e.ref;(a===null&&o!==null||a!==null&&a.ref!==o)&&(e.flags|=512,e.flags|=2097152)}function cj(a,e,o,c,et){var tt=Zf(o)?Xf:H$1.current;return tt=Yf(e,tt),ch$1(e,et),o=Nh(a,e,o,c,tt,et),c=Sh(),a!==null&&!dh?(e.updateQueue=a.updateQueue,e.flags&=-2053,a.lanes&=~et,Zi(a,e,et)):(I$1&&c&&vg(e),e.flags|=1,Xi(a,e,o,et),e.child)}function hj(a,e,o,c,et){if(Zf(o)){var tt=!0;cg(e)}else tt=!1;if(ch$1(e,et),e.stateNode===null)ij(a,e),Gi(e,o,c),Ii(e,o,c,et),c=!0;else if(a===null){var nt=e.stateNode,rt=e.memoizedProps;nt.props=rt;var mt=nt.context,gt=o.contextType;typeof gt=="object"&&gt!==null?gt=eh(gt):(gt=Zf(o)?Xf:H$1.current,gt=Yf(e,gt));var yt=o.getDerivedStateFromProps,vt=typeof yt=="function"||typeof nt.getSnapshotBeforeUpdate=="function";vt||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(rt!==c||mt!==gt)&&Hi(e,nt,c,gt),jh=!1;var xt=e.memoizedState;nt.state=xt,qh(e,c,nt,et),mt=e.memoizedState,rt!==c||xt!==mt||Wf.current||jh?(typeof yt=="function"&&(Di(e,o,yt,c),mt=e.memoizedState),(rt=jh||Fi(e,o,rt,c,xt,mt,gt))?(vt||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount()),typeof nt.componentDidMount=="function"&&(e.flags|=4194308)):(typeof nt.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=c,e.memoizedState=mt),nt.props=c,nt.state=mt,nt.context=gt,c=rt):(typeof nt.componentDidMount=="function"&&(e.flags|=4194308),c=!1)}else{nt=e.stateNode,lh(a,e),rt=e.memoizedProps,gt=e.type===e.elementType?rt:Ci(e.type,rt),nt.props=gt,vt=e.pendingProps,xt=nt.context,mt=o.contextType,typeof mt=="object"&&mt!==null?mt=eh(mt):(mt=Zf(o)?Xf:H$1.current,mt=Yf(e,mt));var bt=o.getDerivedStateFromProps;(yt=typeof bt=="function"||typeof nt.getSnapshotBeforeUpdate=="function")||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(rt!==vt||xt!==mt)&&Hi(e,nt,c,mt),jh=!1,xt=e.memoizedState,nt.state=xt,qh(e,c,nt,et);var Et=e.memoizedState;rt!==vt||xt!==Et||Wf.current||jh?(typeof bt=="function"&&(Di(e,o,bt,c),Et=e.memoizedState),(gt=jh||Fi(e,o,gt,c,xt,Et,mt)||!1)?(yt||typeof nt.UNSAFE_componentWillUpdate!="function"&&typeof nt.componentWillUpdate!="function"||(typeof nt.componentWillUpdate=="function"&&nt.componentWillUpdate(c,Et,mt),typeof nt.UNSAFE_componentWillUpdate=="function"&&nt.UNSAFE_componentWillUpdate(c,Et,mt)),typeof nt.componentDidUpdate=="function"&&(e.flags|=4),typeof nt.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof nt.componentDidUpdate!="function"||rt===a.memoizedProps&&xt===a.memoizedState||(e.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||rt===a.memoizedProps&&xt===a.memoizedState||(e.flags|=1024),e.memoizedProps=c,e.memoizedState=Et),nt.props=c,nt.state=Et,nt.context=mt,c=gt):(typeof nt.componentDidUpdate!="function"||rt===a.memoizedProps&&xt===a.memoizedState||(e.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||rt===a.memoizedProps&&xt===a.memoizedState||(e.flags|=1024),c=!1)}return jj(a,e,o,c,tt,et)}function jj(a,e,o,c,et,tt){gj(a,e);var nt=(e.flags&128)!==0;if(!c&&!nt)return et&&dg(e,o,!1),Zi(a,e,tt);c=e.stateNode,Wi.current=e;var rt=nt&&typeof o.getDerivedStateFromError!="function"?null:c.render();return e.flags|=1,a!==null&&nt?(e.child=Ug(e,a.child,null,tt),e.child=Ug(e,null,rt,tt)):Xi(a,e,rt,tt),e.memoizedState=c.state,et&&dg(e,o,!0),e.child}function kj(a){var e=a.stateNode;e.pendingContext?ag(a,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(a,e.context,!1),yh(a,e.containerInfo)}function lj(a,e,o,c,et){return Ig(),Jg(et),e.flags|=256,Xi(a,e,o,c),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}function oj(a,e,o){var c=e.pendingProps,et=L$1.current,tt=!1,nt=(e.flags&128)!==0,rt;if((rt=nt)||(rt=a!==null&&a.memoizedState===null?!1:(et&2)!==0),rt?(tt=!0,e.flags&=-129):(a===null||a.memoizedState!==null)&&(et|=1),G$1(L$1,et&1),a===null)return Eg(e),a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(e.mode&1?a.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(nt=c.children,a=c.fallback,tt?(c=e.mode,tt=e.child,nt={mode:"hidden",children:nt},!(c&1)&&tt!==null?(tt.childLanes=0,tt.pendingProps=nt):tt=pj(nt,c,0,null),a=Tg(a,c,o,null),tt.return=e,a.return=e,tt.sibling=a,e.child=tt,e.child.memoizedState=nj(o),e.memoizedState=mj,a):qj(e,nt));if(et=a.memoizedState,et!==null&&(rt=et.dehydrated,rt!==null))return rj(a,e,nt,c,rt,et,o);if(tt){tt=c.fallback,nt=e.mode,et=a.child,rt=et.sibling;var mt={mode:"hidden",children:c.children};return!(nt&1)&&e.child!==et?(c=e.child,c.childLanes=0,c.pendingProps=mt,e.deletions=null):(c=Pg(et,mt),c.subtreeFlags=et.subtreeFlags&14680064),rt!==null?tt=Pg(rt,tt):(tt=Tg(tt,nt,o,null),tt.flags|=2),tt.return=e,c.return=e,c.sibling=tt,e.child=c,c=tt,tt=e.child,nt=a.child.memoizedState,nt=nt===null?nj(o):{baseLanes:nt.baseLanes|o,cachePool:null,transitions:nt.transitions},tt.memoizedState=nt,tt.childLanes=a.childLanes&~o,e.memoizedState=mj,c}return tt=a.child,a=tt.sibling,c=Pg(tt,{mode:"visible",children:c.children}),!(e.mode&1)&&(c.lanes=o),c.return=e,c.sibling=null,a!==null&&(o=e.deletions,o===null?(e.deletions=[a],e.flags|=16):o.push(a)),e.child=c,e.memoizedState=null,c}function qj(a,e){return e=pj({mode:"visible",children:e},a.mode,0,null),e.return=a,a.child=e}function sj(a,e,o,c){return c!==null&&Jg(c),Ug(e,a.child,null,o),a=qj(e,e.pendingProps.children),a.flags|=2,e.memoizedState=null,a}function rj(a,e,o,c,et,tt,nt){if(o)return e.flags&256?(e.flags&=-257,c=Ki(Error(p$2(422))),sj(a,e,nt,c)):e.memoizedState!==null?(e.child=a.child,e.flags|=128,null):(tt=c.fallback,et=e.mode,c=pj({mode:"visible",children:c.children},et,0,null),tt=Tg(tt,et,nt,null),tt.flags|=2,c.return=e,tt.return=e,c.sibling=tt,e.child=c,e.mode&1&&Ug(e,a.child,null,nt),e.child.memoizedState=nj(nt),e.memoizedState=mj,tt);if(!(e.mode&1))return sj(a,e,nt,null);if(et.data==="$!"){if(c=et.nextSibling&&et.nextSibling.dataset,c)var rt=c.dgst;return c=rt,tt=Error(p$2(419)),c=Ki(tt,c,void 0),sj(a,e,nt,c)}if(rt=(nt&a.childLanes)!==0,dh||rt){if(c=Q$1,c!==null){switch(nt&-nt){case 4:et=2;break;case 16:et=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:et=32;break;case 536870912:et=268435456;break;default:et=0}et=et&(c.suspendedLanes|nt)?0:et,et!==0&&et!==tt.retryLane&&(tt.retryLane=et,ih(a,et),gi(c,a,et,-1))}return tj(),c=Ki(Error(p$2(421))),sj(a,e,nt,c)}return et.data==="$?"?(e.flags|=128,e.child=a.child,e=uj.bind(null,a),et._reactRetry=e,null):(a=tt.treeContext,yg=Lf(et.nextSibling),xg=e,I$1=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=e),e=qj(e,c.children),e.flags|=4096,e)}function vj(a,e,o){a.lanes|=e;var c=a.alternate;c!==null&&(c.lanes|=e),bh(a.return,e,o)}function wj(a,e,o,c,et){var tt=a.memoizedState;tt===null?a.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:et}:(tt.isBackwards=e,tt.rendering=null,tt.renderingStartTime=0,tt.last=c,tt.tail=o,tt.tailMode=et)}function xj(a,e,o){var c=e.pendingProps,et=c.revealOrder,tt=c.tail;if(Xi(a,e,c.children,o),c=L$1.current,c&2)c=c&1|2,e.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=e.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vj(a,o,e);else if(a.tag===19)vj(a,o,e);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}if(G$1(L$1,c),!(e.mode&1))e.memoizedState=null;else switch(et){case"forwards":for(o=e.child,et=null;o!==null;)a=o.alternate,a!==null&&Ch(a)===null&&(et=o),o=o.sibling;o=et,o===null?(et=e.child,e.child=null):(et=o.sibling,o.sibling=null),wj(e,!1,et,o,tt);break;case"backwards":for(o=null,et=e.child,e.child=null;et!==null;){if(a=et.alternate,a!==null&&Ch(a)===null){e.child=et;break}a=et.sibling,et.sibling=o,o=et,et=a}wj(e,!0,o,null,tt);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(a,e){!(e.mode&1)&&a!==null&&(a.alternate=null,e.alternate=null,e.flags|=2)}function Zi(a,e,o){if(a!==null&&(e.dependencies=a.dependencies),rh|=e.lanes,!(o&e.childLanes))return null;if(a!==null&&e.child!==a.child)throw Error(p$2(153));if(e.child!==null){for(a=e.child,o=Pg(a,a.pendingProps),e.child=o,o.return=e;a.sibling!==null;)a=a.sibling,o=o.sibling=Pg(a,a.pendingProps),o.return=e;o.sibling=null}return e.child}function yj(a,e,o){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var c=e.type._context,et=e.memoizedProps.value;G$1(Wg,c._currentValue),c._currentValue=et;break;case 13:if(c=e.memoizedState,c!==null)return c.dehydrated!==null?(G$1(L$1,L$1.current&1),e.flags|=128,null):o&e.child.childLanes?oj(a,e,o):(G$1(L$1,L$1.current&1),a=Zi(a,e,o),a!==null?a.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(c=(o&e.childLanes)!==0,a.flags&128){if(c)return xj(a,e,o);e.flags|=128}if(et=e.memoizedState,et!==null&&(et.rendering=null,et.tail=null,et.lastEffect=null),G$1(L$1,L$1.current),c)break;return null;case 22:case 23:return e.lanes=0,dj(a,e,o)}return Zi(a,e,o)}var zj,Aj,Bj,Cj;zj=function(a,e){for(var o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(a,e,o,c){var et=a.memoizedProps;if(et!==c){a=e.stateNode,xh(uh.current);var tt=null;switch(o){case"input":et=Ya(a,et),c=Ya(a,c),tt=[];break;case"select":et=A$1({},et,{value:void 0}),c=A$1({},c,{value:void 0}),tt=[];break;case"textarea":et=gb(a,et),c=gb(a,c),tt=[];break;default:typeof et.onClick!="function"&&typeof c.onClick=="function"&&(a.onclick=Bf)}ub(o,c);var nt;o=null;for(gt in et)if(!c.hasOwnProperty(gt)&&et.hasOwnProperty(gt)&&et[gt]!=null)if(gt==="style"){var rt=et[gt];for(nt in rt)rt.hasOwnProperty(nt)&&(o||(o={}),o[nt]="")}else gt!=="dangerouslySetInnerHTML"&&gt!=="children"&&gt!=="suppressContentEditableWarning"&&gt!=="suppressHydrationWarning"&&gt!=="autoFocus"&&(ea.hasOwnProperty(gt)?tt||(tt=[]):(tt=tt||[]).push(gt,null));for(gt in c){var mt=c[gt];if(rt=et!=null?et[gt]:void 0,c.hasOwnProperty(gt)&&mt!==rt&&(mt!=null||rt!=null))if(gt==="style")if(rt){for(nt in rt)!rt.hasOwnProperty(nt)||mt&&mt.hasOwnProperty(nt)||(o||(o={}),o[nt]="");for(nt in mt)mt.hasOwnProperty(nt)&&rt[nt]!==mt[nt]&&(o||(o={}),o[nt]=mt[nt])}else o||(tt||(tt=[]),tt.push(gt,o)),o=mt;else gt==="dangerouslySetInnerHTML"?(mt=mt?mt.__html:void 0,rt=rt?rt.__html:void 0,mt!=null&&rt!==mt&&(tt=tt||[]).push(gt,mt)):gt==="children"?typeof mt!="string"&&typeof mt!="number"||(tt=tt||[]).push(gt,""+mt):gt!=="suppressContentEditableWarning"&&gt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(gt)?(mt!=null&&gt==="onScroll"&&D$3("scroll",a),tt||rt===mt||(tt=[])):(tt=tt||[]).push(gt,mt))}o&&(tt=tt||[]).push("style",o);var gt=tt;(e.updateQueue=gt)&&(e.flags|=4)}};Cj=function(a,e,o,c){o!==c&&(e.flags|=4)};function Dj(a,e){if(!I$1)switch(a.tailMode){case"hidden":e=a.tail;for(var o=null;e!==null;)e.alternate!==null&&(o=e),e=e.sibling;o===null?a.tail=null:o.sibling=null;break;case"collapsed":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?e||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function S$3(a){var e=a.alternate!==null&&a.alternate.child===a.child,o=0,c=0;if(e)for(var et=a.child;et!==null;)o|=et.lanes|et.childLanes,c|=et.subtreeFlags&14680064,c|=et.flags&14680064,et.return=a,et=et.sibling;else for(et=a.child;et!==null;)o|=et.lanes|et.childLanes,c|=et.subtreeFlags,c|=et.flags,et.return=a,et=et.sibling;return a.subtreeFlags|=c,a.childLanes=o,e}function Ej(a,e,o){var c=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(e),null;case 1:return Zf(e.type)&&$f(),S$3(e),null;case 3:return c=e.stateNode,zh(),E(Wf),E(H$1),Eh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Gg(e)?e.flags|=4:a===null||a.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(a,e),S$3(e),null;case 5:Bh(e);var et=xh(wh.current);if(o=e.type,a!==null&&e.stateNode!=null)Bj(a,e,o,c,et),a.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!c){if(e.stateNode===null)throw Error(p$2(166));return S$3(e),null}if(a=xh(uh.current),Gg(e)){c=e.stateNode,o=e.type;var tt=e.memoizedProps;switch(c[Of]=e,c[Pf]=tt,a=(e.mode&1)!==0,o){case"dialog":D$3("cancel",c),D$3("close",c);break;case"iframe":case"object":case"embed":D$3("load",c);break;case"video":case"audio":for(et=0;et<lf.length;et++)D$3(lf[et],c);break;case"source":D$3("error",c);break;case"img":case"image":case"link":D$3("error",c),D$3("load",c);break;case"details":D$3("toggle",c);break;case"input":Za(c,tt),D$3("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!tt.multiple},D$3("invalid",c);break;case"textarea":hb(c,tt),D$3("invalid",c)}ub(o,tt),et=null;for(var nt in tt)if(tt.hasOwnProperty(nt)){var rt=tt[nt];nt==="children"?typeof rt=="string"?c.textContent!==rt&&(tt.suppressHydrationWarning!==!0&&Af(c.textContent,rt,a),et=["children",rt]):typeof rt=="number"&&c.textContent!==""+rt&&(tt.suppressHydrationWarning!==!0&&Af(c.textContent,rt,a),et=["children",""+rt]):ea.hasOwnProperty(nt)&&rt!=null&&nt==="onScroll"&&D$3("scroll",c)}switch(o){case"input":Va(c),db(c,tt,!0);break;case"textarea":Va(c),jb(c);break;case"select":case"option":break;default:typeof tt.onClick=="function"&&(c.onclick=Bf)}c=et,e.updateQueue=c,c!==null&&(e.flags|=4)}else{nt=et.nodeType===9?et:et.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb(o)),a==="http://www.w3.org/1999/xhtml"?o==="script"?(a=nt.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof c.is=="string"?a=nt.createElement(o,{is:c.is}):(a=nt.createElement(o),o==="select"&&(nt=a,c.multiple?nt.multiple=!0:c.size&&(nt.size=c.size))):a=nt.createElementNS(a,o),a[Of]=e,a[Pf]=c,zj(a,e,!1,!1),e.stateNode=a;e:{switch(nt=vb(o,c),o){case"dialog":D$3("cancel",a),D$3("close",a),et=c;break;case"iframe":case"object":case"embed":D$3("load",a),et=c;break;case"video":case"audio":for(et=0;et<lf.length;et++)D$3(lf[et],a);et=c;break;case"source":D$3("error",a),et=c;break;case"img":case"image":case"link":D$3("error",a),D$3("load",a),et=c;break;case"details":D$3("toggle",a),et=c;break;case"input":Za(a,c),et=Ya(a,c),D$3("invalid",a);break;case"option":et=c;break;case"select":a._wrapperState={wasMultiple:!!c.multiple},et=A$1({},c,{value:void 0}),D$3("invalid",a);break;case"textarea":hb(a,c),et=gb(a,c),D$3("invalid",a);break;default:et=c}ub(o,et),rt=et;for(tt in rt)if(rt.hasOwnProperty(tt)){var mt=rt[tt];tt==="style"?sb(a,mt):tt==="dangerouslySetInnerHTML"?(mt=mt?mt.__html:void 0,mt!=null&&nb(a,mt)):tt==="children"?typeof mt=="string"?(o!=="textarea"||mt!=="")&&ob(a,mt):typeof mt=="number"&&ob(a,""+mt):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?mt!=null&&tt==="onScroll"&&D$3("scroll",a):mt!=null&&ta(a,tt,mt,nt))}switch(o){case"input":Va(a),db(a,c,!1);break;case"textarea":Va(a),jb(a);break;case"option":c.value!=null&&a.setAttribute("value",""+Sa(c.value));break;case"select":a.multiple=!!c.multiple,tt=c.value,tt!=null?fb(a,!!c.multiple,tt,!1):c.defaultValue!=null&&fb(a,!!c.multiple,c.defaultValue,!0);break;default:typeof et.onClick=="function"&&(a.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$3(e),null;case 6:if(a&&e.stateNode!=null)Cj(a,e,a.memoizedProps,c);else{if(typeof c!="string"&&e.stateNode===null)throw Error(p$2(166));if(o=xh(wh.current),xh(uh.current),Gg(e)){if(c=e.stateNode,o=e.memoizedProps,c[Of]=e,(tt=c.nodeValue!==o)&&(a=xg,a!==null))switch(a.tag){case 3:Af(c.nodeValue,o,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(c.nodeValue,o,(a.mode&1)!==0)}tt&&(e.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Of]=e,e.stateNode=c}return S$3(e),null;case 13:if(E(L$1),c=e.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,tt=!1;else if(tt=Gg(e),c!==null&&c.dehydrated!==null){if(a===null){if(!tt)throw Error(p$2(318));if(tt=e.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$2(317));tt[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$3(e),tt=!1}else zg!==null&&(Fj(zg),zg=null),tt=!0;if(!tt)return e.flags&65536?e:null}return e.flags&128?(e.lanes=o,e):(c=c!==null,c!==(a!==null&&a.memoizedState!==null)&&c&&(e.child.flags|=8192,e.mode&1&&(a===null||L$1.current&1?T$2===0&&(T$2=3):tj())),e.updateQueue!==null&&(e.flags|=4),S$3(e),null);case 4:return zh(),Aj(a,e),a===null&&sf(e.stateNode.containerInfo),S$3(e),null;case 10:return ah(e.type._context),S$3(e),null;case 17:return Zf(e.type)&&$f(),S$3(e),null;case 19:if(E(L$1),tt=e.memoizedState,tt===null)return S$3(e),null;if(c=(e.flags&128)!==0,nt=tt.rendering,nt===null)if(c)Dj(tt,!1);else{if(T$2!==0||a!==null&&a.flags&128)for(a=e.child;a!==null;){if(nt=Ch(a),nt!==null){for(e.flags|=128,Dj(tt,!1),c=nt.updateQueue,c!==null&&(e.updateQueue=c,e.flags|=4),e.subtreeFlags=0,c=o,o=e.child;o!==null;)tt=o,a=c,tt.flags&=14680066,nt=tt.alternate,nt===null?(tt.childLanes=0,tt.lanes=a,tt.child=null,tt.subtreeFlags=0,tt.memoizedProps=null,tt.memoizedState=null,tt.updateQueue=null,tt.dependencies=null,tt.stateNode=null):(tt.childLanes=nt.childLanes,tt.lanes=nt.lanes,tt.child=nt.child,tt.subtreeFlags=0,tt.deletions=null,tt.memoizedProps=nt.memoizedProps,tt.memoizedState=nt.memoizedState,tt.updateQueue=nt.updateQueue,tt.type=nt.type,a=nt.dependencies,tt.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o=o.sibling;return G$1(L$1,L$1.current&1|2),e.child}a=a.sibling}tt.tail!==null&&B$1()>Gj&&(e.flags|=128,c=!0,Dj(tt,!1),e.lanes=4194304)}else{if(!c)if(a=Ch(nt),a!==null){if(e.flags|=128,c=!0,o=a.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),Dj(tt,!0),tt.tail===null&&tt.tailMode==="hidden"&&!nt.alternate&&!I$1)return S$3(e),null}else 2*B$1()-tt.renderingStartTime>Gj&&o!==1073741824&&(e.flags|=128,c=!0,Dj(tt,!1),e.lanes=4194304);tt.isBackwards?(nt.sibling=e.child,e.child=nt):(o=tt.last,o!==null?o.sibling=nt:e.child=nt,tt.last=nt)}return tt.tail!==null?(e=tt.tail,tt.rendering=e,tt.tail=e.sibling,tt.renderingStartTime=B$1(),e.sibling=null,o=L$1.current,G$1(L$1,c?o&1|2:o&1),e):(S$3(e),null);case 22:case 23:return Hj(),c=e.memoizedState!==null,a!==null&&a.memoizedState!==null!==c&&(e.flags|=8192),c&&e.mode&1?fj&1073741824&&(S$3(e),e.subtreeFlags&6&&(e.flags|=8192)):S$3(e),null;case 24:return null;case 25:return null}throw Error(p$2(156,e.tag))}function Ij(a,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),a=e.flags,a&65536?(e.flags=a&-65537|128,e):null;case 3:return zh(),E(Wf),E(H$1),Eh(),a=e.flags,a&65536&&!(a&128)?(e.flags=a&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E(L$1),a=e.memoizedState,a!==null&&a.dehydrated!==null){if(e.alternate===null)throw Error(p$2(340));Ig()}return a=e.flags,a&65536?(e.flags=a&-65537|128,e):null;case 19:return E(L$1),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(a,e){var o=a.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){W$1(a,e,c)}else o.current=null}function Mj(a,e,o){try{o()}catch(c){W$1(a,e,c)}}var Nj=!1;function Oj(a,e){if(Cf=dd,a=Me$1(),Ne$1(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{o=(o=a.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var et=c.anchorOffset,tt=c.focusNode;c=c.focusOffset;try{o.nodeType,tt.nodeType}catch{o=null;break e}var nt=0,rt=-1,mt=-1,gt=0,yt=0,vt=a,xt=null;t:for(;;){for(var bt;vt!==o||et!==0&&vt.nodeType!==3||(rt=nt+et),vt!==tt||c!==0&&vt.nodeType!==3||(mt=nt+c),vt.nodeType===3&&(nt+=vt.nodeValue.length),(bt=vt.firstChild)!==null;)xt=vt,vt=bt;for(;;){if(vt===a)break t;if(xt===o&&++gt===et&&(rt=nt),xt===tt&&++yt===c&&(mt=nt),(bt=vt.nextSibling)!==null)break;vt=xt,xt=vt.parentNode}vt=bt}o=rt===-1||mt===-1?null:{start:rt,end:mt}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:a,selectionRange:o},dd=!1,V$1=e;V$1!==null;)if(e=V$1,a=e.child,(e.subtreeFlags&1028)!==0&&a!==null)a.return=e,V$1=a;else for(;V$1!==null;){e=V$1;try{var Et=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(Et!==null){var wt=Et.memoizedProps,St=Et.memoizedState,Tt=e.stateNode,kt=Tt.getSnapshotBeforeUpdate(e.elementType===e.type?wt:Ci(e.type,wt),St);Tt.__reactInternalSnapshotBeforeUpdate=kt}break;case 3:var _t=e.stateNode.containerInfo;_t.nodeType===1?_t.textContent="":_t.nodeType===9&&_t.documentElement&&_t.removeChild(_t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Mt){W$1(e,e.return,Mt)}if(a=e.sibling,a!==null){a.return=e.return,V$1=a;break}V$1=e.return}return Et=Nj,Nj=!1,Et}function Pj(a,e,o){var c=e.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var et=c=c.next;do{if((et.tag&a)===a){var tt=et.destroy;et.destroy=void 0,tt!==void 0&&Mj(e,o,tt)}et=et.next}while(et!==c)}}function Qj(a,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var o=e=e.next;do{if((o.tag&a)===a){var c=o.create;o.destroy=c()}o=o.next}while(o!==e)}}function Rj(a){var e=a.ref;if(e!==null){var o=a.stateNode;switch(a.tag){case 5:a=o;break;default:a=o}typeof e=="function"?e(a):e.current=a}}function Sj(a){var e=a.alternate;e!==null&&(a.alternate=null,Sj(e)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(e=a.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Tj(a){return a.tag===5||a.tag===3||a.tag===4}function Uj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Tj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vj(a,e,o){var c=a.tag;if(c===5||c===6)a=a.stateNode,e?o.nodeType===8?o.parentNode.insertBefore(a,e):o.insertBefore(a,e):(o.nodeType===8?(e=o.parentNode,e.insertBefore(a,o)):(e=o,e.appendChild(a)),o=o._reactRootContainer,o!=null||e.onclick!==null||(e.onclick=Bf));else if(c!==4&&(a=a.child,a!==null))for(Vj(a,e,o),a=a.sibling;a!==null;)Vj(a,e,o),a=a.sibling}function Wj(a,e,o){var c=a.tag;if(c===5||c===6)a=a.stateNode,e?o.insertBefore(a,e):o.appendChild(a);else if(c!==4&&(a=a.child,a!==null))for(Wj(a,e,o),a=a.sibling;a!==null;)Wj(a,e,o),a=a.sibling}var X$1=null,Xj=!1;function Yj(a,e,o){for(o=o.child;o!==null;)Zj(a,e,o),o=o.sibling}function Zj(a,e,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U$1||Lj(o,e);case 6:var c=X$1,et=Xj;X$1=null,Yj(a,e,o),X$1=c,Xj=et,X$1!==null&&(Xj?(a=X$1,o=o.stateNode,a.nodeType===8?a.parentNode.removeChild(o):a.removeChild(o)):X$1.removeChild(o.stateNode));break;case 18:X$1!==null&&(Xj?(a=X$1,o=o.stateNode,a.nodeType===8?Kf(a.parentNode,o):a.nodeType===1&&Kf(a,o),bd(a)):Kf(X$1,o.stateNode));break;case 4:c=X$1,et=Xj,X$1=o.stateNode.containerInfo,Xj=!0,Yj(a,e,o),X$1=c,Xj=et;break;case 0:case 11:case 14:case 15:if(!U$1&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){et=c=c.next;do{var tt=et,nt=tt.destroy;tt=tt.tag,nt!==void 0&&(tt&2||tt&4)&&Mj(o,e,nt),et=et.next}while(et!==c)}Yj(a,e,o);break;case 1:if(!U$1&&(Lj(o,e),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(rt){W$1(o,e,rt)}Yj(a,e,o);break;case 21:Yj(a,e,o);break;case 22:o.mode&1?(U$1=(c=U$1)||o.memoizedState!==null,Yj(a,e,o),U$1=c):Yj(a,e,o);break;default:Yj(a,e,o)}}function ak(a){var e=a.updateQueue;if(e!==null){a.updateQueue=null;var o=a.stateNode;o===null&&(o=a.stateNode=new Kj),e.forEach(function(c){var et=bk.bind(null,a,c);o.has(c)||(o.add(c),c.then(et,et))})}}function ck(a,e){var o=e.deletions;if(o!==null)for(var c=0;c<o.length;c++){var et=o[c];try{var tt=a,nt=e,rt=nt;e:for(;rt!==null;){switch(rt.tag){case 5:X$1=rt.stateNode,Xj=!1;break e;case 3:X$1=rt.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=rt.stateNode.containerInfo,Xj=!0;break e}rt=rt.return}if(X$1===null)throw Error(p$2(160));Zj(tt,nt,et),X$1=null,Xj=!1;var mt=et.alternate;mt!==null&&(mt.return=null),et.return=null}catch(gt){W$1(et,e,gt)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,a),e=e.sibling}function dk(a,e){var o=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ck(e,a),ek(a),c&4){try{Pj(3,a,a.return),Qj(3,a)}catch(wt){W$1(a,a.return,wt)}try{Pj(5,a,a.return)}catch(wt){W$1(a,a.return,wt)}}break;case 1:ck(e,a),ek(a),c&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(e,a),ek(a),c&512&&o!==null&&Lj(o,o.return),a.flags&32){var et=a.stateNode;try{ob(et,"")}catch(wt){W$1(a,a.return,wt)}}if(c&4&&(et=a.stateNode,et!=null)){var tt=a.memoizedProps,nt=o!==null?o.memoizedProps:tt,rt=a.type,mt=a.updateQueue;if(a.updateQueue=null,mt!==null)try{rt==="input"&&tt.type==="radio"&&tt.name!=null&&ab(et,tt),vb(rt,nt);var gt=vb(rt,tt);for(nt=0;nt<mt.length;nt+=2){var yt=mt[nt],vt=mt[nt+1];yt==="style"?sb(et,vt):yt==="dangerouslySetInnerHTML"?nb(et,vt):yt==="children"?ob(et,vt):ta(et,yt,vt,gt)}switch(rt){case"input":bb(et,tt);break;case"textarea":ib(et,tt);break;case"select":var xt=et._wrapperState.wasMultiple;et._wrapperState.wasMultiple=!!tt.multiple;var bt=tt.value;bt!=null?fb(et,!!tt.multiple,bt,!1):xt!==!!tt.multiple&&(tt.defaultValue!=null?fb(et,!!tt.multiple,tt.defaultValue,!0):fb(et,!!tt.multiple,tt.multiple?[]:"",!1))}et[Pf]=tt}catch(wt){W$1(a,a.return,wt)}}break;case 6:if(ck(e,a),ek(a),c&4){if(a.stateNode===null)throw Error(p$2(162));et=a.stateNode,tt=a.memoizedProps;try{et.nodeValue=tt}catch(wt){W$1(a,a.return,wt)}}break;case 3:if(ck(e,a),ek(a),c&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(wt){W$1(a,a.return,wt)}break;case 4:ck(e,a),ek(a);break;case 13:ck(e,a),ek(a),et=a.child,et.flags&8192&&(tt=et.memoizedState!==null,et.stateNode.isHidden=tt,!tt||et.alternate!==null&&et.alternate.memoizedState!==null||(fk=B$1())),c&4&&ak(a);break;case 22:if(yt=o!==null&&o.memoizedState!==null,a.mode&1?(U$1=(gt=U$1)||yt,ck(e,a),U$1=gt):ck(e,a),ek(a),c&8192){if(gt=a.memoizedState!==null,(a.stateNode.isHidden=gt)&&!yt&&a.mode&1)for(V$1=a,yt=a.child;yt!==null;){for(vt=V$1=yt;V$1!==null;){switch(xt=V$1,bt=xt.child,xt.tag){case 0:case 11:case 14:case 15:Pj(4,xt,xt.return);break;case 1:Lj(xt,xt.return);var Et=xt.stateNode;if(typeof Et.componentWillUnmount=="function"){c=xt,o=xt.return;try{e=c,Et.props=e.memoizedProps,Et.state=e.memoizedState,Et.componentWillUnmount()}catch(wt){W$1(c,o,wt)}}break;case 5:Lj(xt,xt.return);break;case 22:if(xt.memoizedState!==null){gk(vt);continue}}bt!==null?(bt.return=xt,V$1=bt):gk(vt)}yt=yt.sibling}e:for(yt=null,vt=a;;){if(vt.tag===5){if(yt===null){yt=vt;try{et=vt.stateNode,gt?(tt=et.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none"):(rt=vt.stateNode,mt=vt.memoizedProps.style,nt=mt!=null&&mt.hasOwnProperty("display")?mt.display:null,rt.style.display=rb("display",nt))}catch(wt){W$1(a,a.return,wt)}}}else if(vt.tag===6){if(yt===null)try{vt.stateNode.nodeValue=gt?"":vt.memoizedProps}catch(wt){W$1(a,a.return,wt)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===a)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===a)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===a)break e;yt===vt&&(yt=null),vt=vt.return}yt===vt&&(yt=null),vt.sibling.return=vt.return,vt=vt.sibling}}break;case 19:ck(e,a),ek(a),c&4&&ak(a);break;case 21:break;default:ck(e,a),ek(a)}}function ek(a){var e=a.flags;if(e&2){try{e:{for(var o=a.return;o!==null;){if(Tj(o)){var c=o;break e}o=o.return}throw Error(p$2(160))}switch(c.tag){case 5:var et=c.stateNode;c.flags&32&&(ob(et,""),c.flags&=-33);var tt=Uj(a);Wj(a,tt,et);break;case 3:case 4:var nt=c.stateNode.containerInfo,rt=Uj(a);Vj(a,rt,nt);break;default:throw Error(p$2(161))}}catch(mt){W$1(a,a.return,mt)}a.flags&=-3}e&4096&&(a.flags&=-4097)}function hk(a,e,o){V$1=a,ik(a)}function ik(a,e,o){for(var c=(a.mode&1)!==0;V$1!==null;){var et=V$1,tt=et.child;if(et.tag===22&&c){var nt=et.memoizedState!==null||Jj;if(!nt){var rt=et.alternate,mt=rt!==null&&rt.memoizedState!==null||U$1;rt=Jj;var gt=U$1;if(Jj=nt,(U$1=mt)&&!gt)for(V$1=et;V$1!==null;)nt=V$1,mt=nt.child,nt.tag===22&&nt.memoizedState!==null?jk(et):mt!==null?(mt.return=nt,V$1=mt):jk(et);for(;tt!==null;)V$1=tt,ik(tt),tt=tt.sibling;V$1=et,Jj=rt,U$1=gt}kk(a)}else et.subtreeFlags&8772&&tt!==null?(tt.return=et,V$1=tt):kk(a)}}function kk(a){for(;V$1!==null;){var e=V$1;if(e.flags&8772){var o=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U$1||Qj(5,e);break;case 1:var c=e.stateNode;if(e.flags&4&&!U$1)if(o===null)c.componentDidMount();else{var et=e.elementType===e.type?o.memoizedProps:Ci(e.type,o.memoizedProps);c.componentDidUpdate(et,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var tt=e.updateQueue;tt!==null&&sh(e,tt,c);break;case 3:var nt=e.updateQueue;if(nt!==null){if(o=null,e.child!==null)switch(e.child.tag){case 5:o=e.child.stateNode;break;case 1:o=e.child.stateNode}sh(e,nt,o)}break;case 5:var rt=e.stateNode;if(o===null&&e.flags&4){o=rt;var mt=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":mt.autoFocus&&o.focus();break;case"img":mt.src&&(o.src=mt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var gt=e.alternate;if(gt!==null){var yt=gt.memoizedState;if(yt!==null){var vt=yt.dehydrated;vt!==null&&bd(vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||e.flags&512&&Rj(e)}catch(xt){W$1(e,e.return,xt)}}if(e===a){V$1=null;break}if(o=e.sibling,o!==null){o.return=e.return,V$1=o;break}V$1=e.return}}function gk(a){for(;V$1!==null;){var e=V$1;if(e===a){V$1=null;break}var o=e.sibling;if(o!==null){o.return=e.return,V$1=o;break}V$1=e.return}}function jk(a){for(;V$1!==null;){var e=V$1;try{switch(e.tag){case 0:case 11:case 15:var o=e.return;try{Qj(4,e)}catch(mt){W$1(e,o,mt)}break;case 1:var c=e.stateNode;if(typeof c.componentDidMount=="function"){var et=e.return;try{c.componentDidMount()}catch(mt){W$1(e,et,mt)}}var tt=e.return;try{Rj(e)}catch(mt){W$1(e,tt,mt)}break;case 5:var nt=e.return;try{Rj(e)}catch(mt){W$1(e,nt,mt)}}}catch(mt){W$1(e,e.return,mt)}if(e===a){V$1=null;break}var rt=e.sibling;if(rt!==null){rt.return=e.return,V$1=rt;break}V$1=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(a){return a.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(a=C$2,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function gi(a,e,o,c){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(a,o,c),(!(K$1&2)||a!==Q$1)&&(a===Q$1&&(!(K$1&2)&&(qk|=o),T$2===4&&Ck(a,Z$1)),Dk(a,c),o===1&&K$1===0&&!(e.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(a,e){var o=a.callbackNode;wc(a,e);var c=uc(a,a===Q$1?Z$1:0);if(c===0)o!==null&&bc(o),a.callbackNode=null,a.callbackPriority=0;else if(e=c&-c,a.callbackPriority!==e){if(o!=null&&bc(o),e===1)a.tag===0?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){!(K$1&6)&&jg()}),o=null;else{switch(Dc$1(c)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,a))}a.callbackPriority=e,a.callbackNode=o}}function Gk(a,e){if(Ak=-1,Bk=0,K$1&6)throw Error(p$2(327));var o=a.callbackNode;if(Hk()&&a.callbackNode!==o)return null;var c=uc(a,a===Q$1?Z$1:0);if(c===0)return null;if(c&30||c&a.expiredLanes||e)e=Ik(a,c);else{e=c;var et=K$1;K$1|=2;var tt=Jk();(Q$1!==a||Z$1!==e)&&(uk=null,Gj=B$1()+500,Kk(a,e));do try{Lk();break}catch(rt){Mk(a,rt)}while(!0);$g(),mk.current=tt,K$1=et,Y$1!==null?e=0:(Q$1=null,Z$1=0,e=T$2)}if(e!==0){if(e===2&&(et=xc(a),et!==0&&(c=et,e=Nk(a,et))),e===1)throw o=pk,Kk(a,0),Ck(a,c),Dk(a,B$1()),o;if(e===6)Ck(a,c);else{if(et=a.current.alternate,!(c&30)&&!Ok(et)&&(e=Ik(a,c),e===2&&(tt=xc(a),tt!==0&&(c=tt,e=Nk(a,tt))),e===1))throw o=pk,Kk(a,0),Ck(a,c),Dk(a,B$1()),o;switch(a.finishedWork=et,a.finishedLanes=c,e){case 0:case 1:throw Error(p$2(345));case 2:Pk(a,tk,uk);break;case 3:if(Ck(a,c),(c&130023424)===c&&(e=fk+500-B$1(),10<e)){if(uc(a,0)!==0)break;if(et=a.suspendedLanes,(et&c)!==c){R$1(),a.pingedLanes|=a.suspendedLanes&et;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),e);break}Pk(a,tk,uk);break;case 4:if(Ck(a,c),(c&4194240)===c)break;for(e=a.eventTimes,et=-1;0<c;){var nt=31-oc(c);tt=1<<nt,nt=e[nt],nt>et&&(et=nt),c&=~tt}if(c=et,c=B$1()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*lk(c/1960))-c,10<c){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),c);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(a,B$1()),a.callbackNode===o?Gk.bind(null,a):null}function Nk(a,e){var o=sk;return a.current.memoizedState.isDehydrated&&(Kk(a,e).flags|=256),a=Ik(a,e),a!==2&&(e=tk,tk=o,e!==null&&Fj(e)),a}function Fj(a){tk===null?tk=a:tk.push.apply(tk,a)}function Ok(a){for(var e=a;;){if(e.flags&16384){var o=e.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var et=o[c],tt=et.getSnapshot;et=et.value;try{if(!He$1(tt(),et))return!1}catch{return!1}}}if(o=e.child,e.subtreeFlags&16384&&o!==null)o.return=e,e=o;else{if(e===a)break;for(;e.sibling===null;){if(e.return===null||e.return===a)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(a,e){for(e&=~rk,e&=~qk,a.suspendedLanes|=e,a.pingedLanes&=~e,a=a.expirationTimes;0<e;){var o=31-oc(e),c=1<<o;a[o]=-1,e&=~c}}function Ek(a){if(K$1&6)throw Error(p$2(327));Hk();var e=uc(a,0);if(!(e&1))return Dk(a,B$1()),null;var o=Ik(a,e);if(a.tag!==0&&o===2){var c=xc(a);c!==0&&(e=c,o=Nk(a,c))}if(o===1)throw o=pk,Kk(a,0),Ck(a,e),Dk(a,B$1()),o;if(o===6)throw Error(p$2(345));return a.finishedWork=a.current.alternate,a.finishedLanes=e,Pk(a,tk,uk),Dk(a,B$1()),null}function Qk(a,e){var o=K$1;K$1|=1;try{return a(e)}finally{K$1=o,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(a){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var e=K$1;K$1|=1;var o=ok$2.transition,c=C$2;try{if(ok$2.transition=null,C$2=1,a)return a()}finally{C$2=c,ok$2.transition=o,K$1=e,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(a,e){a.finishedWork=null,a.finishedLanes=0;var o=a.timeoutHandle;if(o!==-1&&(a.timeoutHandle=-1,Gf(o)),Y$1!==null)for(o=Y$1.return;o!==null;){var c=o;switch(wg(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$f();break;case 3:zh(),E(Wf),E(H$1),Eh();break;case 5:Bh(c);break;case 4:zh();break;case 13:E(L$1);break;case 19:E(L$1);break;case 10:ah(c.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q$1=a,Y$1=a=Pg(a.current,null),Z$1=fj=e,T$2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(o=fh[e],c=o.interleaved,c!==null){o.interleaved=null;var et=c.next,tt=o.pending;if(tt!==null){var nt=tt.next;tt.next=et,c.next=nt}o.pending=c}fh=null}return a}function Mk(a,e){do{var o=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var c=M$1.memoizedState;c!==null;){var et=c.queue;et!==null&&(et.pending=null),c=c.next}Ih=!1}if(Hh=0,O$1=N=M$1=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T$2=1,pk=e,Y$1=null;break}e:{var tt=a,nt=o.return,rt=o,mt=e;if(e=Z$1,rt.flags|=32768,mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var gt=mt,yt=rt,vt=yt.tag;if(!(yt.mode&1)&&(vt===0||vt===11||vt===15)){var xt=yt.alternate;xt?(yt.updateQueue=xt.updateQueue,yt.memoizedState=xt.memoizedState,yt.lanes=xt.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var bt=Ui(nt);if(bt!==null){bt.flags&=-257,Vi(bt,nt,rt,tt,e),bt.mode&1&&Si(tt,gt,e),e=bt,mt=gt;var Et=e.updateQueue;if(Et===null){var wt=new Set;wt.add(mt),e.updateQueue=wt}else Et.add(mt);break e}else{if(!(e&1)){Si(tt,gt,e),tj();break e}mt=Error(p$2(426))}}else if(I$1&&rt.mode&1){var St=Ui(nt);if(St!==null){!(St.flags&65536)&&(St.flags|=256),Vi(St,nt,rt,tt,e),Jg(Ji(mt,rt));break e}}tt=mt=Ji(mt,rt),T$2!==4&&(T$2=2),sk===null?sk=[tt]:sk.push(tt),tt=nt;do{switch(tt.tag){case 3:tt.flags|=65536,e&=-e,tt.lanes|=e;var Tt=Ni(tt,mt,e);ph(tt,Tt);break e;case 1:rt=mt;var kt=tt.type,_t=tt.stateNode;if(!(tt.flags&128)&&(typeof kt.getDerivedStateFromError=="function"||_t!==null&&typeof _t.componentDidCatch=="function"&&(Ri===null||!Ri.has(_t)))){tt.flags|=65536,e&=-e,tt.lanes|=e;var Mt=Qi(tt,rt,e);ph(tt,Mt);break e}}tt=tt.return}while(tt!==null)}Sk(o)}catch(Pt){e=Pt,Y$1===o&&o!==null&&(Y$1=o=o.return);continue}break}while(!0)}function Jk(){var a=mk.current;return mk.current=Rh,a===null?Rh:a}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(a,e){var o=K$1;K$1|=2;var c=Jk();(Q$1!==a||Z$1!==e)&&(uk=null,Kk(a,e));do try{Tk();break}catch(et){Mk(a,et)}while(!0);if($g(),K$1=o,mk.current=c,Y$1!==null)throw Error(p$2(261));return Q$1=null,Z$1=0,T$2}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(a){var e=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps,e===null?Sk(a):Y$1=e,nk.current=null}function Sk(a){var e=a;do{var o=e.alternate;if(a=e.return,e.flags&32768){if(o=Ij(o,e),o!==null){o.flags&=32767,Y$1=o;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T$2=6,Y$1=null;return}}else if(o=Ej(o,e,fj),o!==null){Y$1=o;return}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=a}while(e!==null);T$2===0&&(T$2=5)}function Pk(a,e,o){var c=C$2,et=ok$2.transition;try{ok$2.transition=null,C$2=1,Wk(a,e,o,c)}finally{ok$2.transition=et,C$2=c}return null}function Wk(a,e,o,c){do Hk();while(wk!==null);if(K$1&6)throw Error(p$2(327));o=a.finishedWork;var et=a.finishedLanes;if(o===null)return null;if(a.finishedWork=null,a.finishedLanes=0,o===a.current)throw Error(p$2(177));a.callbackNode=null,a.callbackPriority=0;var tt=o.lanes|o.childLanes;if(Bc(a,tt),a===Q$1&&(Y$1=Q$1=null,Z$1=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),tt=(o.flags&15990)!==0,o.subtreeFlags&15990||tt){tt=ok$2.transition,ok$2.transition=null;var nt=C$2;C$2=1;var rt=K$1;K$1|=4,nk.current=null,Oj(a,o),dk(o,a),Oe$1(Df),dd=!!Cf,Df=Cf=null,a.current=o,hk(o),dc(),K$1=rt,C$2=nt,ok$2.transition=tt}else a.current=o;if(vk&&(vk=!1,wk=a,xk=et),tt=a.pendingLanes,tt===0&&(Ri=null),mc(o.stateNode),Dk(a,B$1()),e!==null)for(c=a.onRecoverableError,o=0;o<e.length;o++)et=e[o],c(et.value,{componentStack:et.stack,digest:et.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;return xk&1&&a.tag!==0&&Hk(),tt=a.pendingLanes,tt&1?a===zk?yk++:(yk=0,zk=a):yk=0,jg(),null}function Hk(){if(wk!==null){var a=Dc$1(xk),e=ok$2.transition,o=C$2;try{if(ok$2.transition=null,C$2=16>a?16:a,wk===null)var c=!1;else{if(a=wk,wk=null,xk=0,K$1&6)throw Error(p$2(331));var et=K$1;for(K$1|=4,V$1=a.current;V$1!==null;){var tt=V$1,nt=tt.child;if(V$1.flags&16){var rt=tt.deletions;if(rt!==null){for(var mt=0;mt<rt.length;mt++){var gt=rt[mt];for(V$1=gt;V$1!==null;){var yt=V$1;switch(yt.tag){case 0:case 11:case 15:Pj(8,yt,tt)}var vt=yt.child;if(vt!==null)vt.return=yt,V$1=vt;else for(;V$1!==null;){yt=V$1;var xt=yt.sibling,bt=yt.return;if(Sj(yt),yt===gt){V$1=null;break}if(xt!==null){xt.return=bt,V$1=xt;break}V$1=bt}}}var Et=tt.alternate;if(Et!==null){var wt=Et.child;if(wt!==null){Et.child=null;do{var St=wt.sibling;wt.sibling=null,wt=St}while(wt!==null)}}V$1=tt}}if(tt.subtreeFlags&2064&&nt!==null)nt.return=tt,V$1=nt;else e:for(;V$1!==null;){if(tt=V$1,tt.flags&2048)switch(tt.tag){case 0:case 11:case 15:Pj(9,tt,tt.return)}var Tt=tt.sibling;if(Tt!==null){Tt.return=tt.return,V$1=Tt;break e}V$1=tt.return}}var kt=a.current;for(V$1=kt;V$1!==null;){nt=V$1;var _t=nt.child;if(nt.subtreeFlags&2064&&_t!==null)_t.return=nt,V$1=_t;else e:for(nt=kt;V$1!==null;){if(rt=V$1,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:Qj(9,rt)}}catch(Pt){W$1(rt,rt.return,Pt)}if(rt===nt){V$1=null;break e}var Mt=rt.sibling;if(Mt!==null){Mt.return=rt.return,V$1=Mt;break e}V$1=rt.return}}if(K$1=et,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}c=!0}return c}finally{C$2=o,ok$2.transition=e}}return!1}function Xk(a,e,o){e=Ji(o,e),e=Ni(a,e,1),a=nh(a,e,1),e=R$1(),a!==null&&(Ac(a,1,e),Dk(a,e))}function W$1(a,e,o){if(a.tag===3)Xk(a,a,o);else for(;e!==null;){if(e.tag===3){Xk(e,a,o);break}else if(e.tag===1){var c=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ri===null||!Ri.has(c))){a=Ji(o,a),a=Qi(e,a,1),e=nh(e,a,1),a=R$1(),e!==null&&(Ac(e,1,a),Dk(e,a));break}}e=e.return}}function Ti(a,e,o){var c=a.pingCache;c!==null&&c.delete(e),e=R$1(),a.pingedLanes|=a.suspendedLanes&o,Q$1===a&&(Z$1&o)===o&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(a,0):rk|=o),Dk(a,e)}function Yk(a,e){e===0&&(a.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var o=R$1();a=ih(a,e),a!==null&&(Ac(a,e,o),Dk(a,o))}function uj(a){var e=a.memoizedState,o=0;e!==null&&(o=e.retryLane),Yk(a,o)}function bk(a,e){var o=0;switch(a.tag){case 13:var c=a.stateNode,et=a.memoizedState;et!==null&&(o=et.retryLane);break;case 19:c=a.stateNode;break;default:throw Error(p$2(314))}c!==null&&c.delete(e),Yk(a,o)}var Vk;Vk=function(a,e,o){if(a!==null)if(a.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(a.lanes&o)&&!(e.flags&128))return dh=!1,yj(a,e,o);dh=!!(a.flags&131072)}else dh=!1,I$1&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var c=e.type;ij(a,e),a=e.pendingProps;var et=Yf(e,H$1.current);ch$1(e,o),et=Nh(null,e,c,a,et,o);var tt=Sh();return e.flags|=1,typeof et=="object"&&et!==null&&typeof et.render=="function"&&et.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(c)?(tt=!0,cg(e)):tt=!1,e.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,kh(e),et.updater=Ei,e.stateNode=et,et._reactInternals=e,Ii(e,c,a,o),e=jj(null,e,c,!0,tt,o)):(e.tag=0,I$1&&tt&&vg(e),Xi(null,e,et,o),e=e.child),e;case 16:c=e.elementType;e:{switch(ij(a,e),a=e.pendingProps,et=c._init,c=et(c._payload),e.type=c,et=e.tag=Zk(c),a=Ci(c,a),et){case 0:e=cj(null,e,c,a,o);break e;case 1:e=hj(null,e,c,a,o);break e;case 11:e=Yi(null,e,c,a,o);break e;case 14:e=$i(null,e,c,Ci(c.type,a),o);break e}throw Error(p$2(306,c,""))}return e;case 0:return c=e.type,et=e.pendingProps,et=e.elementType===c?et:Ci(c,et),cj(a,e,c,et,o);case 1:return c=e.type,et=e.pendingProps,et=e.elementType===c?et:Ci(c,et),hj(a,e,c,et,o);case 3:e:{if(kj(e),a===null)throw Error(p$2(387));c=e.pendingProps,tt=e.memoizedState,et=tt.element,lh(a,e),qh(e,c,null,o);var nt=e.memoizedState;if(c=nt.element,tt.isDehydrated)if(tt={element:c,isDehydrated:!1,cache:nt.cache,pendingSuspenseBoundaries:nt.pendingSuspenseBoundaries,transitions:nt.transitions},e.updateQueue.baseState=tt,e.memoizedState=tt,e.flags&256){et=Ji(Error(p$2(423)),e),e=lj(a,e,c,o,et);break e}else if(c!==et){et=Ji(Error(p$2(424)),e),e=lj(a,e,c,o,et);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$1=!0,zg=null,o=Vg(e,null,c,o),e.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),c===et){e=Zi(a,e,o);break e}Xi(a,e,c,o)}e=e.child}return e;case 5:return Ah(e),a===null&&Eg(e),c=e.type,et=e.pendingProps,tt=a!==null?a.memoizedProps:null,nt=et.children,Ef(c,et)?nt=null:tt!==null&&Ef(c,tt)&&(e.flags|=32),gj(a,e),Xi(a,e,nt,o),e.child;case 6:return a===null&&Eg(e),null;case 13:return oj(a,e,o);case 4:return yh(e,e.stateNode.containerInfo),c=e.pendingProps,a===null?e.child=Ug(e,null,c,o):Xi(a,e,c,o),e.child;case 11:return c=e.type,et=e.pendingProps,et=e.elementType===c?et:Ci(c,et),Yi(a,e,c,et,o);case 7:return Xi(a,e,e.pendingProps,o),e.child;case 8:return Xi(a,e,e.pendingProps.children,o),e.child;case 12:return Xi(a,e,e.pendingProps.children,o),e.child;case 10:e:{if(c=e.type._context,et=e.pendingProps,tt=e.memoizedProps,nt=et.value,G$1(Wg,c._currentValue),c._currentValue=nt,tt!==null)if(He$1(tt.value,nt)){if(tt.children===et.children&&!Wf.current){e=Zi(a,e,o);break e}}else for(tt=e.child,tt!==null&&(tt.return=e);tt!==null;){var rt=tt.dependencies;if(rt!==null){nt=tt.child;for(var mt=rt.firstContext;mt!==null;){if(mt.context===c){if(tt.tag===1){mt=mh(-1,o&-o),mt.tag=2;var gt=tt.updateQueue;if(gt!==null){gt=gt.shared;var yt=gt.pending;yt===null?mt.next=mt:(mt.next=yt.next,yt.next=mt),gt.pending=mt}}tt.lanes|=o,mt=tt.alternate,mt!==null&&(mt.lanes|=o),bh(tt.return,o,e),rt.lanes|=o;break}mt=mt.next}}else if(tt.tag===10)nt=tt.type===e.type?null:tt.child;else if(tt.tag===18){if(nt=tt.return,nt===null)throw Error(p$2(341));nt.lanes|=o,rt=nt.alternate,rt!==null&&(rt.lanes|=o),bh(nt,o,e),nt=tt.sibling}else nt=tt.child;if(nt!==null)nt.return=tt;else for(nt=tt;nt!==null;){if(nt===e){nt=null;break}if(tt=nt.sibling,tt!==null){tt.return=nt.return,nt=tt;break}nt=nt.return}tt=nt}Xi(a,e,et.children,o),e=e.child}return e;case 9:return et=e.type,c=e.pendingProps.children,ch$1(e,o),et=eh(et),c=c(et),e.flags|=1,Xi(a,e,c,o),e.child;case 14:return c=e.type,et=Ci(c,e.pendingProps),et=Ci(c.type,et),$i(a,e,c,et,o);case 15:return bj(a,e,e.type,e.pendingProps,o);case 17:return c=e.type,et=e.pendingProps,et=e.elementType===c?et:Ci(c,et),ij(a,e),e.tag=1,Zf(c)?(a=!0,cg(e)):a=!1,ch$1(e,o),Gi(e,c,et),Ii(e,c,et,o),jj(null,e,c,!0,a,o);case 19:return xj(a,e,o);case 22:return dj(a,e,o)}throw Error(p$2(156,e.tag))};function Fk(a,e){return ac(a,e)}function $k(a,e,o,c){this.tag=a,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,e,o,c){return new $k(a,e,o,c)}function aj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zk(a){if(typeof a=="function")return aj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function Pg(a,e){var o=a.alternate;return o===null?(o=Bg(a.tag,e,a.key,a.mode),o.elementType=a.elementType,o.type=a.type,o.stateNode=a.stateNode,o.alternate=a,a.alternate=o):(o.pendingProps=e,o.type=a.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=a.flags&14680064,o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},o.sibling=a.sibling,o.index=a.index,o.ref=a.ref,o}function Rg(a,e,o,c,et,tt){var nt=2;if(c=a,typeof a=="function")aj(a)&&(nt=1);else if(typeof a=="string")nt=5;else e:switch(a){case ya:return Tg(o.children,et,tt,e);case za:nt=8,et|=8;break;case Aa:return a=Bg(12,o,e,et|2),a.elementType=Aa,a.lanes=tt,a;case Ea:return a=Bg(13,o,e,et),a.elementType=Ea,a.lanes=tt,a;case Fa:return a=Bg(19,o,e,et),a.elementType=Fa,a.lanes=tt,a;case Ia:return pj(o,et,tt,e);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:nt=10;break e;case Ca:nt=9;break e;case Da:nt=11;break e;case Ga:nt=14;break e;case Ha:nt=16,c=null;break e}throw Error(p$2(130,a==null?a:typeof a,""))}return e=Bg(nt,o,e,et),e.elementType=a,e.type=c,e.lanes=tt,e}function Tg(a,e,o,c){return a=Bg(7,a,c,e),a.lanes=o,a}function pj(a,e,o,c){return a=Bg(22,a,c,e),a.elementType=Ia,a.lanes=o,a.stateNode={isHidden:!1},a}function Qg(a,e,o){return a=Bg(6,a,null,e),a.lanes=o,a}function Sg(a,e,o){return e=Bg(4,a.children!==null?a.children:[],a.key,e),e.lanes=o,e.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},e}function al(a,e,o,c,et){this.tag=e,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=c,this.onRecoverableError=et,this.mutableSourceEagerHydrationData=null}function bl(a,e,o,c,et,tt,nt,rt,mt){return a=new al(a,e,o,rt,mt),e===1?(e=1,tt===!0&&(e|=8)):e=0,tt=Bg(3,null,null,e),a.current=tt,tt.stateNode=a,tt.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(tt),a}function cl(a,e,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:c==null?null:""+c,children:a,containerInfo:e,implementation:o}}function dl(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p$2(170));var e=a;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$2(171))}if(a.tag===1){var o=a.type;if(Zf(o))return bg(a,o,e)}return e}function el(a,e,o,c,et,tt,nt,rt,mt){return a=bl(o,c,!0,a,et,tt,nt,rt,mt),a.context=dl(null),o=a.current,c=R$1(),et=yi(o),tt=mh(c,et),tt.callback=e??null,nh(o,tt,et),a.current.lanes=et,Ac(a,et,c),Dk(a,c),a}function fl(a,e,o,c){var et=e.current,tt=R$1(),nt=yi(et);return o=dl(o),e.context===null?e.context=o:e.pendingContext=o,e=mh(tt,nt),e.payload={element:a},c=c===void 0?null:c,c!==null&&(e.callback=c),a=nh(et,e,nt),a!==null&&(gi(a,et,nt,tt),oh(a,et,nt)),nt}function gl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,e){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var o=a.retryLane;a.retryLane=o!==0&&o<e?o:e}}function il(a,e){hl(a,e),(a=a.alternate)&&hl(a,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}ml.prototype.render=ll.prototype.render=function(a){var e=this._internalRoot;if(e===null)throw Error(p$2(409));fl(a,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var e=a.containerInfo;Rk(function(){fl(null,a,null,null)}),e[uf]=null}};function ml(a){this._internalRoot=a}ml.prototype.unstable_scheduleHydration=function(a){if(a){var e=Hc();a={blockedOn:null,target:a,priority:e};for(var o=0;o<Qc.length&&e!==0&&e<Qc[o].priority;o++);Qc.splice(o,0,a),o===0&&Vc(a)}};function nl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(a,e,o,c,et){if(et){if(typeof c=="function"){var tt=c;c=function(){var gt=gl(nt);tt.call(gt)}}var nt=el(e,c,a,0,null,!1,!1,"",pl);return a._reactRootContainer=nt,a[uf]=nt.current,sf(a.nodeType===8?a.parentNode:a),Rk(),nt}for(;et=a.lastChild;)a.removeChild(et);if(typeof c=="function"){var rt=c;c=function(){var gt=gl(mt);rt.call(gt)}}var mt=bl(a,0,!1,null,null,!1,!1,"",pl);return a._reactRootContainer=mt,a[uf]=mt.current,sf(a.nodeType===8?a.parentNode:a),Rk(function(){fl(e,mt,o,c)}),mt}function rl(a,e,o,c,et){var tt=o._reactRootContainer;if(tt){var nt=tt;if(typeof et=="function"){var rt=et;et=function(){var mt=gl(nt);rt.call(mt)}}fl(e,nt,a,et)}else nt=ql(o,e,a,et,c);return gl(nt)}Ec=function(a){switch(a.tag){case 3:var e=a.stateNode;if(e.current.memoizedState.isDehydrated){var o=tc(e.pendingLanes);o!==0&&(Cc(e,o|1),Dk(e,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var c=ih(a,1);if(c!==null){var et=R$1();gi(c,a,1,et)}}),il(a,1)}};Fc=function(a){if(a.tag===13){var e=ih(a,134217728);if(e!==null){var o=R$1();gi(e,a,134217728,o)}il(a,134217728)}};Gc=function(a){if(a.tag===13){var e=yi(a),o=ih(a,e);if(o!==null){var c=R$1();gi(o,a,e,c)}il(a,e)}};Hc=function(){return C$2};Ic=function(a,e){var o=C$2;try{return C$2=a,e()}finally{C$2=o}};yb=function(a,e,o){switch(e){case"input":if(bb(a,o),e=o.name,o.type==="radio"&&e!=null){for(o=a;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<o.length;e++){var c=o[e];if(c!==a&&c.form===a.form){var et=Db(c);if(!et)throw Error(p$2(90));Wa(c),bb(c,et)}}}break;case"textarea":ib(a,o);break;case"select":e=o.value,e!=null&&fb(a,!!o.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(a,e){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p$2(200));return cl(a,e,null,o)};reactDom_production_min.createRoot=function(a,e){if(!nl(a))throw Error(p$2(299));var o=!1,c="",et=kl;return e!=null&&(e.unstable_strictMode===!0&&(o=!0),e.identifierPrefix!==void 0&&(c=e.identifierPrefix),e.onRecoverableError!==void 0&&(et=e.onRecoverableError)),e=bl(a,1,!1,null,null,o,!1,c,et),a[uf]=e.current,sf(a.nodeType===8?a.parentNode:a),new ll(e)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var e=a._reactInternals;if(e===void 0)throw typeof a.render=="function"?Error(p$2(188)):(a=Object.keys(a).join(","),Error(p$2(268,a)));return a=Zb(e),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Rk(a)};reactDom_production_min.hydrate=function(a,e,o){if(!ol(e))throw Error(p$2(200));return rl(null,a,e,!0,o)};reactDom_production_min.hydrateRoot=function(a,e,o){if(!nl(a))throw Error(p$2(405));var c=o!=null&&o.hydratedSources||null,et=!1,tt="",nt=kl;if(o!=null&&(o.unstable_strictMode===!0&&(et=!0),o.identifierPrefix!==void 0&&(tt=o.identifierPrefix),o.onRecoverableError!==void 0&&(nt=o.onRecoverableError)),e=el(e,null,a,1,o??null,et,!1,tt,nt),a[uf]=e.current,sf(a),c)for(a=0;a<c.length;a++)o=c[a],et=o._getVersion,et=et(o._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[o,et]:e.mutableSourceEagerHydrationData.push(o,et);return new ml(e)};reactDom_production_min.render=function(a,e,o){if(!ol(e))throw Error(p$2(200));return rl(null,a,e,!1,o)};reactDom_production_min.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p$2(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,e,o,c){if(!ol(o))throw Error(p$2(200));if(a==null||a._reactInternals===void 0)throw Error(p$2(38));return rl(a,e,o,!1,c)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends$4.apply(this,arguments)}var Action;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(a){a===void 0&&(a={});function e(c,et){let{pathname:tt,search:nt,hash:rt}=c.location;return createLocation("",{pathname:tt,search:nt,hash:rt},et.state&&et.state.usr||null,et.state&&et.state.key||"default")}function o(c,et){return typeof et=="string"?et:createPath(et)}return getUrlBasedHistory(e,o,null,a)}function invariant$4(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function warning$2(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,e){return{usr:a.state,key:a.key,idx:e}}function createLocation(a,e,o,c){return o===void 0&&(o=null),_extends$4({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:o,key:e&&e.key||c||createKey()})}function createPath(a){let{pathname:e="/",search:o="",hash:c=""}=a;return o&&o!=="?"&&(e+=o.charAt(0)==="?"?o:"?"+o),c&&c!=="#"&&(e+=c.charAt(0)==="#"?c:"#"+c),e}function parsePath(a){let e={};if(a){let o=a.indexOf("#");o>=0&&(e.hash=a.substr(o),a=a.substr(0,o));let c=a.indexOf("?");c>=0&&(e.search=a.substr(c),a=a.substr(0,c)),a&&(e.pathname=a)}return e}function getUrlBasedHistory(a,e,o,c){c===void 0&&(c={});let{window:et=document.defaultView,v5Compat:tt=!1}=c,nt=et.history,rt=Action.Pop,mt=null,gt=yt();gt==null&&(gt=0,nt.replaceState(_extends$4({},nt.state,{idx:gt}),""));function yt(){return(nt.state||{idx:null}).idx}function vt(){rt=Action.Pop;let St=yt(),Tt=St==null?null:St-gt;gt=St,mt&&mt({action:rt,location:wt.location,delta:Tt})}function xt(St,Tt){rt=Action.Push;let kt=createLocation(wt.location,St,Tt);gt=yt()+1;let _t=getHistoryState(kt,gt),Mt=wt.createHref(kt);try{nt.pushState(_t,"",Mt)}catch(Pt){if(Pt instanceof DOMException&&Pt.name==="DataCloneError")throw Pt;et.location.assign(Mt)}tt&&mt&&mt({action:rt,location:wt.location,delta:1})}function bt(St,Tt){rt=Action.Replace;let kt=createLocation(wt.location,St,Tt);gt=yt();let _t=getHistoryState(kt,gt),Mt=wt.createHref(kt);nt.replaceState(_t,"",Mt),tt&&mt&&mt({action:rt,location:wt.location,delta:0})}function Et(St){let Tt=et.location.origin!=="null"?et.location.origin:et.location.href,kt=typeof St=="string"?St:createPath(St);return kt=kt.replace(/ $/,"%20"),invariant$4(Tt,"No window.location.(origin|href) available to create URL for href: "+kt),new URL(kt,Tt)}let wt={get action(){return rt},get location(){return a(et,nt)},listen(St){if(mt)throw new Error("A history only accepts one active listener");return et.addEventListener(PopStateEventType,vt),mt=St,()=>{et.removeEventListener(PopStateEventType,vt),mt=null}},createHref(St){return e(et,St)},createURL:Et,encodeLocation(St){let Tt=Et(St);return{pathname:Tt.pathname,search:Tt.search,hash:Tt.hash}},push:xt,replace:bt,go(St){return nt.go(St)}};return wt}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));function matchRoutes(a,e,o){o===void 0&&(o="/");let c=typeof e=="string"?parsePath(e):e,et=stripBasename(c.pathname||"/",o);if(et==null)return null;let tt=flattenRoutes(a);rankRouteBranches(tt);let nt=null;for(let rt=0;nt==null&&rt<tt.length;++rt){let mt=decodePath(et);nt=matchRouteBranch(tt[rt],mt)}return nt}function flattenRoutes(a,e,o,c){e===void 0&&(e=[]),o===void 0&&(o=[]),c===void 0&&(c="");let et=(tt,nt,rt)=>{let mt={relativePath:rt===void 0?tt.path||"":rt,caseSensitive:tt.caseSensitive===!0,childrenIndex:nt,route:tt};mt.relativePath.startsWith("/")&&(invariant$4(mt.relativePath.startsWith(c),'Absolute route path "'+mt.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),mt.relativePath=mt.relativePath.slice(c.length));let gt=joinPaths([c,mt.relativePath]),yt=o.concat(mt);tt.children&&tt.children.length>0&&(invariant$4(tt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+gt+'".')),flattenRoutes(tt.children,e,yt,gt)),!(tt.path==null&&!tt.index)&&e.push({path:gt,score:computeScore(gt,tt.index),routesMeta:yt})};return a.forEach((tt,nt)=>{var rt;if(tt.path===""||!((rt=tt.path)!=null&&rt.includes("?")))et(tt,nt);else for(let mt of explodeOptionalSegments(tt.path))et(tt,nt,mt)}),e}function explodeOptionalSegments(a){let e=a.split("/");if(e.length===0)return[];let[o,...c]=e,et=o.endsWith("?"),tt=o.replace(/\?$/,"");if(c.length===0)return et?[tt,""]:[tt];let nt=explodeOptionalSegments(c.join("/")),rt=[];return rt.push(...nt.map(mt=>mt===""?tt:[tt,mt].join("/"))),et&&rt.push(...nt),rt.map(mt=>a.startsWith("/")&&mt===""?"/":mt)}function rankRouteBranches(a){a.sort((e,o)=>e.score!==o.score?o.score-e.score:compareIndexes(e.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,e){let o=a.split("/"),c=o.length;return o.some(isSplat)&&(c+=splatPenalty),e&&(c+=indexRouteValue),o.filter(et=>!isSplat(et)).reduce((et,tt)=>et+(paramRe.test(tt)?dynamicSegmentValue:tt===""?emptySegmentValue:staticSegmentValue),c)}function compareIndexes(a,e){return a.length===e.length&&a.slice(0,-1).every((c,et)=>c===e[et])?a[a.length-1]-e[e.length-1]:0}function matchRouteBranch(a,e){let{routesMeta:o}=a,c={},et="/",tt=[];for(let nt=0;nt<o.length;++nt){let rt=o[nt],mt=nt===o.length-1,gt=et==="/"?e:e.slice(et.length)||"/",yt=matchPath({path:rt.relativePath,caseSensitive:rt.caseSensitive,end:mt},gt);if(!yt)return null;Object.assign(c,yt.params);let vt=rt.route;tt.push({params:c,pathname:joinPaths([et,yt.pathname]),pathnameBase:normalizePathname(joinPaths([et,yt.pathnameBase])),route:vt}),yt.pathnameBase!=="/"&&(et=joinPaths([et,yt.pathnameBase]))}return tt}function matchPath(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[o,c]=compilePath(a.path,a.caseSensitive,a.end),et=e.match(o);if(!et)return null;let tt=et[0],nt=tt.replace(/(.)\/+$/,"$1"),rt=et.slice(1);return{params:c.reduce((gt,yt,vt)=>{let{paramName:xt,isOptional:bt}=yt;if(xt==="*"){let wt=rt[vt]||"";nt=tt.slice(0,tt.length-wt.length).replace(/(.)\/+$/,"$1")}const Et=rt[vt];return bt&&!Et?gt[xt]=void 0:gt[xt]=(Et||"").replace(/%2F/g,"/"),gt},{}),pathname:tt,pathnameBase:nt,pattern:a}}function compilePath(a,e,o){e===void 0&&(e=!1),o===void 0&&(o=!0),warning$2(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let c=[],et="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(nt,rt,mt)=>(c.push({paramName:rt,isOptional:mt!=null}),mt?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(c.push({paramName:"*"}),et+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?et+="\\/*$":a!==""&&a!=="/"&&(et+="(?:(?=\\/|$))"),[new RegExp(et,e?void 0:"i"),c]}function decodePath(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$2(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),a}}function stripBasename(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let o=e.endsWith("/")?e.length-1:e.length,c=a.charAt(o);return c&&c!=="/"?null:a.slice(o)||"/"}function resolvePath(a,e){e===void 0&&(e="/");let{pathname:o,search:c="",hash:et=""}=typeof a=="string"?parsePath(a):a;return{pathname:o?o.startsWith("/")?o:resolvePathname(o,e):e,search:normalizeSearch(c),hash:normalizeHash(et)}}function resolvePathname(a,e){let o=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(et=>{et===".."?o.length>1&&o.pop():et!=="."&&o.push(et)}),o.length>1?o.join("/"):"/"}function getInvalidPathError(a,e,o,c){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(a){return a.filter((e,o)=>o===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(a,e){let o=getPathContributingMatches(a);return e?o.map((c,et)=>et===a.length-1?c.pathname:c.pathnameBase):o.map(c=>c.pathnameBase)}function resolveTo(a,e,o,c){c===void 0&&(c=!1);let et;typeof a=="string"?et=parsePath(a):(et=_extends$4({},a),invariant$4(!et.pathname||!et.pathname.includes("?"),getInvalidPathError("?","pathname","search",et)),invariant$4(!et.pathname||!et.pathname.includes("#"),getInvalidPathError("#","pathname","hash",et)),invariant$4(!et.search||!et.search.includes("#"),getInvalidPathError("#","search","hash",et)));let tt=a===""||et.pathname==="",nt=tt?"/":et.pathname,rt;if(nt==null)rt=o;else{let vt=e.length-1;if(!c&&nt.startsWith("..")){let xt=nt.split("/");for(;xt[0]==="..";)xt.shift(),vt-=1;et.pathname=xt.join("/")}rt=vt>=0?e[vt]:"/"}let mt=resolvePath(et,rt),gt=nt&&nt!=="/"&&nt.endsWith("/"),yt=(tt||nt===".")&&o.endsWith("/");return!mt.pathname.endsWith("/")&&(gt||yt)&&(mt.pathname+="/"),mt}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,normalizeHash=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(a,e){let{relative:o}=e===void 0?{}:e;useInRouterContext()||invariant$4(!1);let{basename:c,navigator:et}=reactExports.useContext(NavigationContext),{hash:tt,pathname:nt,search:rt}=useResolvedPath(a,{relative:o}),mt=nt;return c!=="/"&&(mt=nt==="/"?c:joinPaths([c,nt])),et.createHref({pathname:mt,search:rt,hash:tt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$4(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(a){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(a)}function useNavigate(){let{isDataRoute:a}=reactExports.useContext(RouteContext);return a?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$4(!1);let a=reactExports.useContext(DataRouterContext),{basename:e,future:o,navigator:c}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),nt=JSON.stringify(getResolveToMatches(et,o.v7_relativeSplatPath)),rt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{rt.current=!0}),reactExports.useCallback(function(gt,yt){if(yt===void 0&&(yt={}),!rt.current)return;if(typeof gt=="number"){c.go(gt);return}let vt=resolveTo(gt,JSON.parse(nt),tt,yt.relative==="path");a==null&&e!=="/"&&(vt.pathname=vt.pathname==="/"?e:joinPaths([e,vt.pathname])),(yt.replace?c.replace:c.push)(vt,yt.state,yt)},[e,c,nt,tt,a])}const OutletContext=reactExports.createContext(null);function useOutletContext(){return reactExports.useContext(OutletContext)}function useOutlet(a){let e=reactExports.useContext(RouteContext).outlet;return e&&reactExports.createElement(OutletContext.Provider,{value:a},e)}function useParams(){let{matches:a}=reactExports.useContext(RouteContext),e=a[a.length-1];return e?e.params:{}}function useResolvedPath(a,e){let{relative:o}=e===void 0?{}:e,{future:c}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),nt=JSON.stringify(getResolveToMatches(et,c.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(a,JSON.parse(nt),tt,o==="path"),[a,nt,tt,o])}function useRoutes(a,e){return useRoutesImpl(a,e)}function useRoutesImpl(a,e,o,c){useInRouterContext()||invariant$4(!1);let{navigator:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),nt=tt[tt.length-1],rt=nt?nt.params:{};nt&&nt.pathname;let mt=nt?nt.pathnameBase:"/";nt&&nt.route;let gt=useLocation(),yt;if(e){var vt;let St=typeof e=="string"?parsePath(e):e;mt==="/"||(vt=St.pathname)!=null&&vt.startsWith(mt)||invariant$4(!1),yt=St}else yt=gt;let xt=yt.pathname||"/",bt=xt;if(mt!=="/"){let St=mt.replace(/^\//,"").split("/");bt="/"+xt.replace(/^\//,"").split("/").slice(St.length).join("/")}let Et=matchRoutes(a,{pathname:bt}),wt=_renderMatches(Et&&Et.map(St=>Object.assign({},St,{params:Object.assign({},rt,St.params),pathname:joinPaths([mt,et.encodeLocation?et.encodeLocation(St.pathname).pathname:St.pathname]),pathnameBase:St.pathnameBase==="/"?mt:joinPaths([mt,et.encodeLocation?et.encodeLocation(St.pathnameBase).pathname:St.pathnameBase])})),tt,o,c);return e&&wt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},yt),navigationType:Action.Pop}},wt):wt}function DefaultErrorComponent(){let a=useRouteError(),e=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null,et={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),o?reactExports.createElement("pre",{style:et},o):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,o){return o.location!==e.location||o.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:o.error,location:o.location,revalidation:e.revalidation||o.revalidation}}componentDidCatch(e,o){console.error("React Router caught the following error during render",e,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:e,match:o,children:c}=a,et=reactExports.useContext(DataRouterContext);return et&&et.static&&et.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(et.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:e},c)}function _renderMatches(a,e,o,c){var et;if(e===void 0&&(e=[]),o===void 0&&(o=null),c===void 0&&(c=null),a==null){var tt;if((tt=o)!=null&&tt.errors)a=o.matches;else return null}let nt=a,rt=(et=o)==null?void 0:et.errors;if(rt!=null){let yt=nt.findIndex(vt=>vt.route.id&&(rt==null?void 0:rt[vt.route.id])!==void 0);yt>=0||invariant$4(!1),nt=nt.slice(0,Math.min(nt.length,yt+1))}let mt=!1,gt=-1;if(o&&c&&c.v7_partialHydration)for(let yt=0;yt<nt.length;yt++){let vt=nt[yt];if((vt.route.HydrateFallback||vt.route.hydrateFallbackElement)&&(gt=yt),vt.route.id){let{loaderData:xt,errors:bt}=o,Et=vt.route.loader&&xt[vt.route.id]===void 0&&(!bt||bt[vt.route.id]===void 0);if(vt.route.lazy||Et){mt=!0,gt>=0?nt=nt.slice(0,gt+1):nt=[nt[0]];break}}}return nt.reduceRight((yt,vt,xt)=>{let bt,Et=!1,wt=null,St=null;o&&(bt=rt&&vt.route.id?rt[vt.route.id]:void 0,wt=vt.route.errorElement||defaultErrorElement,mt&&(gt<0&&xt===0?(Et=!0,St=null):gt===xt&&(Et=!0,St=vt.route.hydrateFallbackElement||null)));let Tt=e.concat(nt.slice(0,xt+1)),kt=()=>{let _t;return bt?_t=wt:Et?_t=St:vt.route.Component?_t=reactExports.createElement(vt.route.Component,null):vt.route.element?_t=vt.route.element:_t=yt,reactExports.createElement(RenderedRoute,{match:vt,routeContext:{outlet:yt,matches:Tt,isDataRoute:o!=null},children:_t})};return o&&(vt.route.ErrorBoundary||vt.route.errorElement||xt===0)?reactExports.createElement(RenderErrorBoundary,{location:o.location,revalidation:o.revalidation,component:wt,error:bt,children:kt(),routeContext:{outlet:null,matches:Tt,isDataRoute:!0}}):kt()},null)}var DataRouterHook$1=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(DataRouterHook$1||{}),DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterContext(a){let e=reactExports.useContext(DataRouterContext);return e||invariant$4(!1),e}function useDataRouterState(a){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$4(!1),e}function useRouteContext(a){let e=reactExports.useContext(RouteContext);return e||invariant$4(!1),e}function useCurrentRouteId(a){let e=useRouteContext(),o=e.matches[e.matches.length-1];return o.route.id||invariant$4(!1),o.route.id}function useRouteError(){var a;let e=reactExports.useContext(RouteErrorContext),o=useDataRouterState(DataRouterStateHook$1.UseRouteError),c=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(a=o.errors)==null?void 0:a[c]}function useNavigateStable(){let{router:a}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),o=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{o.current=!0}),reactExports.useCallback(function(et,tt){tt===void 0&&(tt={}),o.current&&(typeof et=="number"?a.navigate(et):a.navigate(et,_extends$3({fromRouteId:e},tt)))},[a,e])}function Navigate(a){let{to:e,replace:o,state:c,relative:et}=a;useInRouterContext()||invariant$4(!1);let{future:tt,static:nt}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),{pathname:mt}=useLocation(),gt=useNavigate(),yt=resolveTo(e,getResolveToMatches(rt,tt.v7_relativeSplatPath),mt,et==="path"),vt=JSON.stringify(yt);return reactExports.useEffect(()=>gt(JSON.parse(vt),{replace:o,state:c,relative:et}),[gt,vt,et,o,c]),null}function Outlet(a){return useOutlet(a.context)}function Route(a){invariant$4(!1)}function Router(a){let{basename:e="/",children:o=null,location:c,navigationType:et=Action.Pop,navigator:tt,static:nt=!1,future:rt}=a;useInRouterContext()&&invariant$4(!1);let mt=e.replace(/^\/*/,"/"),gt=reactExports.useMemo(()=>({basename:mt,navigator:tt,static:nt,future:_extends$3({v7_relativeSplatPath:!1},rt)}),[mt,rt,tt,nt]);typeof c=="string"&&(c=parsePath(c));let{pathname:yt="/",search:vt="",hash:xt="",state:bt=null,key:Et="default"}=c,wt=reactExports.useMemo(()=>{let St=stripBasename(yt,mt);return St==null?null:{location:{pathname:St,search:vt,hash:xt,state:bt,key:Et},navigationType:et}},[mt,yt,vt,xt,bt,Et,et]);return wt==null?null:reactExports.createElement(NavigationContext.Provider,{value:gt},reactExports.createElement(LocationContext.Provider,{children:o,value:wt}))}function Routes(a){let{children:e,location:o}=a;return useRoutes(createRoutesFromChildren(e),o)}new Promise(()=>{});function createRoutesFromChildren(a,e){e===void 0&&(e=[]);let o=[];return reactExports.Children.forEach(a,(c,et)=>{if(!reactExports.isValidElement(c))return;let tt=[...e,et];if(c.type===reactExports.Fragment){o.push.apply(o,createRoutesFromChildren(c.props.children,tt));return}c.type!==Route&&invariant$4(!1),!c.props.index||!c.props.children||invariant$4(!1);let nt={id:c.props.id||tt.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(nt.children=createRoutesFromChildren(c.props.children,tt)),o.push(nt)}),o}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$e(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}function isModifiedEvent$1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function shouldProcessLinkClick(a,e){return a.button===0&&(!e||e==="_self")&&!isModifiedEvent$1(a)}const _excluded$e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(a){let{basename:e,children:o,future:c,window:et}=a,tt=reactExports.useRef();tt.current==null&&(tt.current=createBrowserHistory({window:et,v5Compat:!0}));let nt=tt.current,[rt,mt]=reactExports.useState({action:nt.action,location:nt.location}),{v7_startTransition:gt}=c||{},yt=reactExports.useCallback(vt=>{gt&&startTransitionImpl?startTransitionImpl(()=>mt(vt)):mt(vt)},[mt,gt]);return reactExports.useLayoutEffect(()=>nt.listen(yt),[nt,yt]),reactExports.createElement(Router,{basename:e,children:o,location:rt.location,navigationType:rt.action,navigator:nt,future:c})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,o){let{onClick:c,relative:et,reloadDocument:tt,replace:nt,state:rt,target:mt,to:gt,preventScrollReset:yt,unstable_viewTransition:vt}=e,xt=_objectWithoutPropertiesLoose$e(e,_excluded$e),{basename:bt}=reactExports.useContext(NavigationContext),Et,wt=!1;if(typeof gt=="string"&&ABSOLUTE_URL_REGEX.test(gt)&&(Et=gt,isBrowser$2))try{let _t=new URL(window.location.href),Mt=gt.startsWith("//")?new URL(_t.protocol+gt):new URL(gt),Pt=stripBasename(Mt.pathname,bt);Mt.origin===_t.origin&&Pt!=null?gt=Pt+Mt.search+Mt.hash:wt=!0}catch{}let St=useHref(gt,{relative:et}),Tt=useLinkClickHandler(gt,{replace:nt,state:rt,target:mt,preventScrollReset:yt,relative:et,unstable_viewTransition:vt});function kt(_t){c&&c(_t),_t.defaultPrevented||Tt(_t)}return reactExports.createElement("a",_extends$2({},xt,{href:Et||St,onClick:wt||tt?c:kt,ref:o,target:mt}))});var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(a,e){let{target:o,replace:c,state:et,preventScrollReset:tt,relative:nt,unstable_viewTransition:rt}=e===void 0?{}:e,mt=useNavigate(),gt=useLocation(),yt=useResolvedPath(a,{relative:nt});return reactExports.useCallback(vt=>{if(shouldProcessLinkClick(vt,o)){vt.preventDefault();let xt=c!==void 0?c:createPath(gt)===createPath(yt);mt(a,{replace:xt,state:et,preventScrollReset:tt,relative:nt,unstable_viewTransition:rt})}},[gt,mt,yt,c,et,o,a,tt,nt,rt])}var __assign=function(){return __assign=Object.assign||function(e){for(var o,c=1,et=arguments.length;c<et;c++){o=arguments[c];for(var tt in o)Object.prototype.hasOwnProperty.call(o,tt)&&(e[tt]=o[tt])}return e},__assign.apply(this,arguments)};function __rest$1(a,e){var o={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&e.indexOf(c)<0&&(o[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,c=Object.getOwnPropertySymbols(a);et<c.length;et++)e.indexOf(c[et])<0&&Object.prototype.propertyIsEnumerable.call(a,c[et])&&(o[c[et]]=a[c[et]]);return o}function __spreadArray(a,e,o){if(o||arguments.length===2)for(var c=0,et=e.length,tt;c<et;c++)(tt||!(c in e))&&(tt||(tt=Array.prototype.slice.call(e,0,c)),tt[c]=e[c]);return a.concat(tt||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var shallowequal=function(e,o,c,et){var tt=c?c.call(et,e,o):void 0;if(tt!==void 0)return!!tt;if(e===o)return!0;if(typeof e!="object"||!e||typeof o!="object"||!o)return!1;var nt=Object.keys(e),rt=Object.keys(o);if(nt.length!==rt.length)return!1;for(var mt=Object.prototype.hasOwnProperty.bind(o),gt=0;gt<nt.length;gt++){var yt=nt[gt];if(!mt(yt))return!1;var vt=e[yt],xt=o[yt];if(tt=c?c.call(et,vt,xt,yt):void 0,tt===!1||tt===void 0&&vt!==xt)return!1}return!0};const shallowEqual=getDefaultExportFromCjs(shallowequal);var MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$2(a,e){return charat(a,0)^45?(((e<<2^charat(a,0))<<2^charat(a,1))<<2^charat(a,2))<<2^charat(a,3):0}function trim$1(a){return a.trim()}function match$1(a,e){return(a=e.exec(a))?a[0]:a}function replace$1(a,e,o){return a.replace(e,o)}function indexof(a,e,o){return a.indexOf(e,o)}function charat(a,e){return a.charCodeAt(e)|0}function substr(a,e,o){return a.slice(e,o)}function strlen(a){return a.length}function sizeof(a){return a.length}function append(a,e){return e.push(a),a}function combine(a,e){return a.map(e).join("")}function filter$1(a,e){return a.filter(function(o){return!match$1(o,e)})}var line=1,column=1,length=0,position$2=0,character=0,characters="";function node$1(a,e,o,c,et,tt,nt,rt){return{value:a,root:e,parent:o,type:c,props:et,children:tt,line,column,length:nt,return:"",siblings:rt}}function copy(a,e){return assign(node$1("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},e)}function lift(a){for(;a.root;)a=copy(a.root,{children:[a]});append(a,a.siblings)}function char(){return character}function prev(){return character=position$2>0?charat(characters,--position$2):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$2<length?charat(characters,position$2++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$2)}function caret(){return position$2}function slice(a,e){return substr(characters,a,e)}function token(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(a){return line=column=1,length=strlen(characters=a),position$2=0,[]}function dealloc(a){return characters="",a}function delimit(a){return trim$1(slice(position$2-1,delimiter$1(a===91?a+2:a===40?a+1:a)))}function whitespace$1(a){for(;(character=peek())&&character<33;)next();return token(a)>2||token(character)>3?"":" "}function escaping(a,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(a,caret()+(e<6&&peek()==32&&next()==32))}function delimiter$1(a){for(;next();)switch(character){case a:return position$2;case 34:case 39:a!==34&&a!==39&&delimiter$1(character);break;case 40:a===41&&delimiter$1(a);break;case 92:next();break}return position$2}function commenter(a,e){for(;next()&&a+character!==57;)if(a+character===84&&peek()===47)break;return"/*"+slice(e,position$2-1)+"*"+from(a===47?a:next())}function identifier(a){for(;!token(peek());)next();return slice(a,position$2)}function compile(a){return dealloc(parse$5("",null,null,null,[""],a=alloc(a),0,[0],a))}function parse$5(a,e,o,c,et,tt,nt,rt,mt){for(var gt=0,yt=0,vt=nt,xt=0,bt=0,Et=0,wt=1,St=1,Tt=1,kt=0,_t="",Mt=et,Pt=tt,It=c,Dt=_t;St;)switch(Et=kt,kt=next()){case 40:if(Et!=108&&charat(Dt,vt-1)==58){indexof(Dt+=replace$1(delimit(kt),"&","&\f"),"&\f",abs(gt?rt[gt-1]:0))!=-1&&(Tt=-1);break}case 34:case 39:case 91:Dt+=delimit(kt);break;case 9:case 10:case 13:case 32:Dt+=whitespace$1(Et);break;case 92:Dt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment$1(commenter(next(),caret()),e,o,mt),mt);break;default:Dt+="/"}break;case 123*wt:rt[gt++]=strlen(Dt)*Tt;case 125*wt:case 59:case 0:switch(kt){case 0:case 125:St=0;case 59+yt:Tt==-1&&(Dt=replace$1(Dt,/\f/g,"")),bt>0&&strlen(Dt)-vt&&append(bt>32?declaration(Dt+";",c,o,vt-1,mt):declaration(replace$1(Dt," ","")+";",c,o,vt-2,mt),mt);break;case 59:Dt+=";";default:if(append(It=ruleset(Dt,e,o,gt,yt,et,rt,_t,Mt=[],Pt=[],vt,tt),tt),kt===123)if(yt===0)parse$5(Dt,e,It,It,Mt,tt,vt,rt,Pt);else switch(xt===99&&charat(Dt,3)===110?100:xt){case 100:case 108:case 109:case 115:parse$5(a,It,It,c&&append(ruleset(a,It,It,0,0,et,rt,_t,et,Mt=[],vt,Pt),Pt),et,Pt,vt,rt,c?Mt:Pt);break;default:parse$5(Dt,It,It,It,[""],Pt,0,rt,Pt)}}gt=yt=bt=0,wt=Tt=1,_t=Dt="",vt=nt;break;case 58:vt=1+strlen(Dt),bt=Et;default:if(wt<1){if(kt==123)--wt;else if(kt==125&&wt++==0&&prev()==125)continue}switch(Dt+=from(kt),kt*wt){case 38:Tt=yt>0?1:(Dt+="\f",-1);break;case 44:rt[gt++]=(strlen(Dt)-1)*Tt,Tt=1;break;case 64:peek()===45&&(Dt+=delimit(next())),xt=peek(),yt=vt=strlen(_t=Dt+=identifier(caret())),kt++;break;case 45:Et===45&&strlen(Dt)==2&&(wt=0)}}return tt}function ruleset(a,e,o,c,et,tt,nt,rt,mt,gt,yt,vt){for(var xt=et-1,bt=et===0?tt:[""],Et=sizeof(bt),wt=0,St=0,Tt=0;wt<c;++wt)for(var kt=0,_t=substr(a,xt+1,xt=abs(St=nt[wt])),Mt=a;kt<Et;++kt)(Mt=trim$1(St>0?bt[kt]+" "+_t:replace$1(_t,/&\f/g,bt[kt])))&&(mt[Tt++]=Mt);return node$1(a,e,o,et===0?RULESET:rt,mt,gt,yt,vt)}function comment$1(a,e,o,c){return node$1(a,e,o,COMMENT,from(char()),substr(a,2,-2),0,c)}function declaration(a,e,o,c,et){return node$1(a,e,o,DECLARATION,substr(a,0,c),substr(a,c+1,-1),c,et)}function prefix(a,e,o){switch(hash$2(a,e)){case 5103:return WEBKIT+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+a+a;case 4789:return MOZ+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+a+MOZ+a+MS+a+a;case 5936:switch(charat(a,e+11)){case 114:return WEBKIT+a+MS+replace$1(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return WEBKIT+a+MS+replace$1(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return WEBKIT+a+MS+replace$1(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return WEBKIT+a+MS+a+a;case 6165:return WEBKIT+a+MS+"flex-"+a+a;case 5187:return WEBKIT+a+replace$1(a,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+a;case 5443:return WEBKIT+a+MS+"flex-item-"+replace$1(a,/flex-|-self/g,"")+(match$1(a,/flex-|baseline/)?"":MS+"grid-row-"+replace$1(a,/flex-|-self/g,""))+a;case 4675:return WEBKIT+a+MS+"flex-line-pack"+replace$1(a,/align-content|flex-|-self/g,"")+a;case 5548:return WEBKIT+a+MS+replace$1(a,"shrink","negative")+a;case 5292:return WEBKIT+a+MS+replace$1(a,"basis","preferred-size")+a;case 6060:return WEBKIT+"box-"+replace$1(a,"-grow","")+WEBKIT+a+MS+replace$1(a,"grow","positive")+a;case 4554:return WEBKIT+replace$1(a,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+a;case 6187:return replace$1(replace$1(replace$1(a,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),a,"")+a;case 5495:case 3959:return replace$1(a,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace$1(replace$1(a,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+a+a;case 4200:if(!match$1(a,/flex-|baseline/))return MS+"grid-column-align"+substr(a,e)+a;break;case 2592:case 3360:return MS+replace$1(a,"template-","")+a;case 4384:case 3616:return o&&o.some(function(c,et){return e=et,match$1(c.props,/grid-\w+-end/)})?~indexof(a+(o=o[e].value),"span",0)?a:MS+replace$1(a,"-start","")+a+MS+"grid-row-span:"+(~indexof(o,"span",0)?match$1(o,/\d+/):+match$1(o,/\d+/)-+match$1(a,/\d+/))+";":MS+replace$1(a,"-start","")+a;case 4896:case 4128:return o&&o.some(function(c){return match$1(c.props,/grid-\w+-start/)})?a:MS+replace$1(replace$1(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return replace$1(a,/(.+)-inline(.+)/,WEBKIT+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(a)-1-e>6)switch(charat(a,e+1)){case 109:if(charat(a,e+4)!==45)break;case 102:return replace$1(a,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(a,e+3)==108?"$3":"$2-$3"))+a;case 115:return~indexof(a,"stretch",0)?prefix(replace$1(a,"stretch","fill-available"),e,o)+a:a}break;case 5152:case 5920:return replace$1(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(c,et,tt,nt,rt,mt,gt){return MS+et+":"+tt+gt+(nt?MS+et+"-span:"+(rt?mt:+mt-+tt)+gt:"")+a});case 4949:if(charat(a,e+6)===121)return replace$1(a,":",":"+WEBKIT)+a;break;case 6444:switch(charat(a,charat(a,14)===45?18:11)){case 120:return replace$1(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(a,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+a;case 100:return replace$1(a,":",":"+MS)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace$1(a,"scroll-","scroll-snap-")+a}return a}function serialize$2(a,e){for(var o="",c=0;c<a.length;c++)o+=e(a[c],c,a,e)||"";return o}function stringify$2(a,e,o,c){switch(a.type){case LAYER:if(a.children.length)break;case IMPORT:case DECLARATION:return a.return=a.return||a.value;case COMMENT:return"";case KEYFRAMES:return a.return=a.value+"{"+serialize$2(a.children,c)+"}";case RULESET:if(!strlen(a.value=a.props.join(",")))return""}return strlen(o=serialize$2(a.children,c))?a.return=a.value+"{"+o+"}":""}function middleware(a){var e=sizeof(a);return function(o,c,et,tt){for(var nt="",rt=0;rt<e;rt++)nt+=a[rt](o,c,et,tt)||"";return nt}}function rulesheet(a){return function(e){e.root||(e=e.return)&&a(e)}}function prefixer(a,e,o,c){if(a.length>-1&&!a.return)switch(a.type){case DECLARATION:a.return=prefix(a.value,a.length,o);return;case KEYFRAMES:return serialize$2([copy(a,{value:replace$1(a.value,"@","@"+WEBKIT)})],c);case RULESET:if(a.length)return combine(o=a.props,function(et){switch(match$1(et,c=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(a,{props:[replace$1(et,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(a,{props:[et]})),assign(a,{props:filter$1(o,c)});break;case"::placeholder":lift(copy(a,{props:[replace$1(et,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(a,{props:[replace$1(et,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(a,{props:[replace$1(et,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(a,{props:[et]})),assign(a,{props:filter$1(o,c)});break}return""})}}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},define_process_env_default$1={},f=typeof process<"u"&&define_process_env_default$1!==void 0&&(define_process_env_default$1.REACT_APP_SC_ATTR||define_process_env_default$1.SC_ATTR)||"data-styled",m="active",y="data-styled-version",v$1="6.1.11",g=`/*!sc*/
`,S$2=typeof window<"u"&&"HTMLElement"in window,w$2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default$1!==void 0&&define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY!==""?define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default$1!==void 0&&define_process_env_default$1.SC_DISABLE_SPEEDY!==void 0&&define_process_env_default$1.SC_DISABLE_SPEEDY!==""&&define_process_env_default$1.SC_DISABLE_SPEEDY!=="false"&&define_process_env_default$1.SC_DISABLE_SPEEDY),b$1={},_=Object.freeze([]),C$1=Object.freeze({});function I(a,e,o){return o===void 0&&(o=C$1),a.theme!==o.theme&&a.theme||e||o.theme}var A=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D$2=/(^-|-$)/g;function R(a){return a.replace(O,"-").replace(D$2,"")}var T$1=/(a)(d)/gi,k=52,j=function(a){return String.fromCharCode(a+(a>25?39:97))};function x(a){var e,o="";for(e=Math.abs(a);e>k;e=e/k|0)o=j(e%k)+o;return(j(e%k)+o).replace(T$1,"$1-$2")}var V,F=5381,M=function(a,e){for(var o=e.length;o;)a=33*a^e.charCodeAt(--o);return a},$=function(a){return M(F,a)};function z(a){return x($(a)>>>0)}function B(a){return a.displayName||a.name||"Component"}function L(a){return typeof a=="string"&&!0}var G=typeof Symbol=="function"&&Symbol.for,Y=G?Symbol.for("react.memo"):60115,W=G?Symbol.for("react.forward_ref"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V[Y]=U,V);function X(a){return("type"in(e=a)&&e.type.$$typeof)===Y?U:"$$typeof"in a?J[a.$$typeof]:q;var e}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne$1=Object.prototype;function oe$1(a,e,o){if(typeof e!="string"){if(ne$1){var c=te(e);c&&c!==ne$1&&oe$1(a,c,o)}var et=K(e);Q&&(et=et.concat(Q(e)));for(var tt=X(a),nt=X(e),rt=0;rt<et.length;++rt){var mt=et[rt];if(!(mt in H||o&&o[mt]||nt&&mt in nt||tt&&mt in tt)){var gt=ee(e,mt);try{Z(a,mt,gt)}catch{}}}}return a}function re$2(a){return typeof a=="function"}function se(a){return typeof a=="object"&&"styledComponentId"in a}function ie(a,e){return a&&e?"".concat(a," ").concat(e):a||e||""}function ae$1(a,e){if(a.length===0)return"";for(var o=a[0],c=1;c<a.length;c++)o+=a[c];return o}function ce$1(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function le$1(a,e,o){if(o===void 0&&(o=!1),!o&&!ce$1(a)&&!Array.isArray(a))return e;if(Array.isArray(e))for(var c=0;c<e.length;c++)a[c]=le$1(a[c],e[c]);else if(ce$1(e))for(var c in e)a[c]=le$1(a[c],e[c]);return a}function ue$1(a,e){Object.defineProperty(a,"toString",{value:e})}function he$1(a){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fe$1=function(){function a(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return a.prototype.indexOfGroup=function(e){for(var o=0,c=0;c<e;c++)o+=this.groupSizes[c];return o},a.prototype.insertRules=function(e,o){if(e>=this.groupSizes.length){for(var c=this.groupSizes,et=c.length,tt=et;e>=tt;)if((tt<<=1)<0)throw he$1(16,"".concat(e));this.groupSizes=new Uint32Array(tt),this.groupSizes.set(c),this.length=tt;for(var nt=et;nt<tt;nt++)this.groupSizes[nt]=0}for(var rt=this.indexOfGroup(e+1),mt=(nt=0,o.length);nt<mt;nt++)this.tag.insertRule(rt,o[nt])&&(this.groupSizes[e]++,rt++)},a.prototype.clearGroup=function(e){if(e<this.length){var o=this.groupSizes[e],c=this.indexOfGroup(e),et=c+o;this.groupSizes[e]=0;for(var tt=c;tt<et;tt++)this.tag.deleteRule(c)}},a.prototype.getGroup=function(e){var o="";if(e>=this.length||this.groupSizes[e]===0)return o;for(var c=this.groupSizes[e],et=this.indexOfGroup(e),tt=et+c,nt=et;nt<tt;nt++)o+="".concat(this.tag.getRule(nt)).concat(g);return o},a}(),ye$1=new Map,ve=new Map,ge$1=1,Se=function(a){if(ye$1.has(a))return ye$1.get(a);for(;ve.has(ge$1);)ge$1++;var e=ge$1++;return ye$1.set(a,e),ve.set(e,a),e},we$1=function(a,e){ge$1=e+1,ye$1.set(a,e),ve.set(e,a)},be$1="style[".concat(f,"][").concat(y,'="').concat(v$1,'"]'),Ee$1=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ne=function(a,e,o){for(var c,et=o.split(","),tt=0,nt=et.length;tt<nt;tt++)(c=et[tt])&&a.registerName(e,c)},Pe=function(a,e){for(var o,c=((o=e.textContent)!==null&&o!==void 0?o:"").split(g),et=[],tt=0,nt=c.length;tt<nt;tt++){var rt=c[tt].trim();if(rt){var mt=rt.match(Ee$1);if(mt){var gt=0|parseInt(mt[1],10),yt=mt[2];gt!==0&&(we$1(yt,gt),Ne(a,yt,mt[3]),a.getTag().insertRules(gt,et)),et.length=0}else et.push(rt)}}};function _e$1(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ce=function(a){var e=document.head,o=a||e,c=document.createElement("style"),et=function(rt){var mt=Array.from(rt.querySelectorAll("style[".concat(f,"]")));return mt[mt.length-1]}(o),tt=et!==void 0?et.nextSibling:null;c.setAttribute(f,m),c.setAttribute(y,v$1);var nt=_e$1();return nt&&c.setAttribute("nonce",nt),o.insertBefore(c,tt),c},Ie$1=function(){function a(e){this.element=Ce(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var c=document.styleSheets,et=0,tt=c.length;et<tt;et++){var nt=c[et];if(nt.ownerNode===o)return nt}throw he$1(17)}(this.element),this.length=0}return a.prototype.insertRule=function(e,o){try{return this.sheet.insertRule(o,e),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},a.prototype.getRule=function(e){var o=this.sheet.cssRules[e];return o&&o.cssText?o.cssText:""},a}(),Ae=function(){function a(e){this.element=Ce(e),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(e,o){if(e<=this.length&&e>=0){var c=document.createTextNode(o);return this.element.insertBefore(c,this.nodes[e]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},a.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},a}(),Oe=function(){function a(e){this.rules=[],this.length=0}return a.prototype.insertRule=function(e,o){return e<=this.length&&(this.rules.splice(e,0,o),this.length++,!0)},a.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},a.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},a}(),De$1=S$2,Re={isServer:!S$2,useCSSOMInjection:!w$2},Te$1=function(){function a(e,o,c){e===void 0&&(e=C$1),o===void 0&&(o={});var et=this;this.options=__assign(__assign({},Re),e),this.gs=o,this.names=new Map(c),this.server=!!e.isServer,!this.server&&S$2&&De$1&&(De$1=!1,function(tt){for(var nt=document.querySelectorAll(be$1),rt=0,mt=nt.length;rt<mt;rt++){var gt=nt[rt];gt&&gt.getAttribute(f)!==m&&(Pe(tt,gt),gt.parentNode&&gt.parentNode.removeChild(gt))}}(this)),ue$1(this,function(){return function(tt){for(var nt=tt.getTag(),rt=nt.length,mt="",gt=function(vt){var xt=function(Tt){return ve.get(Tt)}(vt);if(xt===void 0)return"continue";var bt=tt.names.get(xt),Et=nt.getGroup(vt);if(bt===void 0||Et.length===0)return"continue";var wt="".concat(f,".g").concat(vt,'[id="').concat(xt,'"]'),St="";bt!==void 0&&bt.forEach(function(Tt){Tt.length>0&&(St+="".concat(Tt,","))}),mt+="".concat(Et).concat(wt,'{content:"').concat(St,'"}').concat(g)},yt=0;yt<rt;yt++)gt(yt);return mt}(et)})}return a.registerId=function(e){return Se(e)},a.prototype.reconstructWithOptions=function(e,o){return o===void 0&&(o=!0),new a(__assign(__assign({},this.options),e),this.gs,o&&this.names||void 0)},a.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(e=function(o){var c=o.useCSSOMInjection,et=o.target;return o.isServer?new Oe(et):c?new Ie$1(et):new Ae(et)}(this.options),new fe$1(e)));var e},a.prototype.hasNameForId=function(e,o){return this.names.has(e)&&this.names.get(e).has(o)},a.prototype.registerName=function(e,o){if(Se(e),this.names.has(e))this.names.get(e).add(o);else{var c=new Set;c.add(o),this.names.set(e,c)}},a.prototype.insertRules=function(e,o,c){this.registerName(e,o),this.getTag().insertRules(Se(e),c)},a.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},a.prototype.clearRules=function(e){this.getTag().clearGroup(Se(e)),this.clearNames(e)},a.prototype.clearTag=function(){this.tag=void 0},a}(),ke=/&/g,je=/^\s*\/\/.*$/gm;function xe(a,e){return a.map(function(o){return o.type==="rule"&&(o.value="".concat(e," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(e," ")),o.props=o.props.map(function(c){return"".concat(e," ").concat(c)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=xe(o.children,e)),o})}function Ve(a){var e,o,c,et=C$1,tt=et.options,nt=tt===void 0?C$1:tt,rt=et.plugins,mt=rt===void 0?_:rt,gt=function(xt,bt,Et){return Et.startsWith(o)&&Et.endsWith(o)&&Et.replaceAll(o,"").length>0?".".concat(e):xt},yt=mt.slice();yt.push(function(xt){xt.type===RULESET&&xt.value.includes("&")&&(xt.props[0]=xt.props[0].replace(ke,o).replace(c,gt))}),nt.prefix&&yt.push(prefixer),yt.push(stringify$2);var vt=function(xt,bt,Et,wt){bt===void 0&&(bt=""),Et===void 0&&(Et=""),wt===void 0&&(wt="&"),e=wt,o=bt,c=new RegExp("\\".concat(o,"\\b"),"g");var St=xt.replace(je,""),Tt=compile(Et||bt?"".concat(Et," ").concat(bt," { ").concat(St," }"):St);nt.namespace&&(Tt=xe(Tt,nt.namespace));var kt=[];return serialize$2(Tt,middleware(yt.concat(rulesheet(function(_t){return kt.push(_t)})))),kt};return vt.hash=mt.length?mt.reduce(function(xt,bt){return bt.name||he$1(15),M(xt,bt.name)},F).toString():"",vt}var Fe=new Te$1,Me=Ve(),$e=React.createContext({shouldForwardProp:void 0,styleSheet:Fe,stylis:Me});$e.Consumer;React.createContext(void 0);function Le(){return reactExports.useContext($e)}var Ye=function(){function a(e,o){var c=this;this.inject=function(et,tt){tt===void 0&&(tt=Me);var nt=c.name+tt.hash;et.hasNameForId(c.id,nt)||et.insertRules(c.id,nt,tt(c.rules,nt,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=o,ue$1(this,function(){throw he$1(12,String(c.name))})}return a.prototype.getName=function(e){return e===void 0&&(e=Me),this.name+e.hash},a}(),We=function(a){return a>="A"&&a<="Z"};function qe(a){for(var e="",o=0;o<a.length;o++){var c=a[o];if(o===1&&c==="-"&&a[0]==="-")return a;We(c)?e+="-"+c.toLowerCase():e+=c}return e.startsWith("ms-")?"-"+e:e}var He=function(a){return a==null||a===!1||a===""},Ue=function(a){var e,o,c=[];for(var et in a){var tt=a[et];a.hasOwnProperty(et)&&!He(tt)&&(Array.isArray(tt)&&tt.isCss||re$2(tt)?c.push("".concat(qe(et),":"),tt,";"):ce$1(tt)?c.push.apply(c,__spreadArray(__spreadArray(["".concat(et," {")],Ue(tt),!1),["}"],!1)):c.push("".concat(qe(et),": ").concat((e=et,(o=tt)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||e in unitlessKeys||e.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return c};function Je(a,e,o,c){if(He(a))return[];if(se(a))return[".".concat(a.styledComponentId)];if(re$2(a)){if(!re$2(tt=a)||tt.prototype&&tt.prototype.isReactComponent||!e)return[a];var et=a(e);return Je(et,e,o,c)}var tt;return a instanceof Ye?o?(a.inject(o,c),[a.getName(c)]):[a]:ce$1(a)?Ue(a):Array.isArray(a)?Array.prototype.concat.apply(_,a.map(function(nt){return Je(nt,e,o,c)})):[a.toString()]}function Xe(a){for(var e=0;e<a.length;e+=1){var o=a[e];if(re$2(o)&&!se(o))return!1}return!0}var Ze=$(v$1),Ke=function(){function a(e,o,c){this.rules=e,this.staticRulesId="",this.isStatic=(c===void 0||c.isStatic)&&Xe(e),this.componentId=o,this.baseHash=M(Ze,o),this.baseStyle=c,Te$1.registerId(o)}return a.prototype.generateAndInjectStyles=function(e,o,c){var et=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,o,c):"";if(this.isStatic&&!c.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))et=ie(et,this.staticRulesId);else{var tt=ae$1(Je(this.rules,e,o,c)),nt=x(M(this.baseHash,tt)>>>0);if(!o.hasNameForId(this.componentId,nt)){var rt=c(tt,".".concat(nt),void 0,this.componentId);o.insertRules(this.componentId,nt,rt)}et=ie(et,nt),this.staticRulesId=nt}else{for(var mt=M(this.baseHash,c.hash),gt="",yt=0;yt<this.rules.length;yt++){var vt=this.rules[yt];if(typeof vt=="string")gt+=vt;else if(vt){var xt=ae$1(Je(vt,e,o,c));mt=M(mt,xt+yt),gt+=xt}}if(gt){var bt=x(mt>>>0);o.hasNameForId(this.componentId,bt)||o.insertRules(this.componentId,bt,c(gt,".".concat(bt),void 0,this.componentId)),et=ie(et,bt)}}return et},a}(),Qe=React.createContext(void 0);Qe.Consumer;var ot={};function st(a,e,o){var c=se(a),et=a,tt=!L(a),nt=e.attrs,rt=nt===void 0?_:nt,mt=e.componentId,gt=mt===void 0?function(Mt,Pt){var It=typeof Mt!="string"?"sc":R(Mt);ot[It]=(ot[It]||0)+1;var Dt="".concat(It,"-").concat(z(v$1+It+ot[It]));return Pt?"".concat(Pt,"-").concat(Dt):Dt}(e.displayName,e.parentComponentId):mt,yt=e.displayName,vt=yt===void 0?function(Mt){return L(Mt)?"styled.".concat(Mt):"Styled(".concat(B(Mt),")")}(a):yt,xt=e.displayName&&e.componentId?"".concat(R(e.displayName),"-").concat(e.componentId):e.componentId||gt,bt=c&&et.attrs?et.attrs.concat(rt).filter(Boolean):rt,Et=e.shouldForwardProp;if(c&&et.shouldForwardProp){var wt=et.shouldForwardProp;if(e.shouldForwardProp){var St=e.shouldForwardProp;Et=function(Mt,Pt){return wt(Mt,Pt)&&St(Mt,Pt)}}else Et=wt}var Tt=new Ke(o,xt,c?et.componentStyle:void 0);function kt(Mt,Pt){return function(It,Dt,Ct){var At=It.attrs,Lt=It.componentStyle,jt=It.defaultProps,Bt=It.foldedComponentIds,zt=It.styledComponentId,Yt=It.target,en=React.useContext(Qe),rn=Le(),on=It.shouldForwardProp||rn.shouldForwardProp,Zt=I(Dt,en,jt)||C$1,an=function(Ot,Ft,Ut){for(var Gt,Vt=__assign(__assign({},Ft),{className:void 0,theme:Ut}),Kt=0;Kt<Ot.length;Kt+=1){var Jt=re$2(Gt=Ot[Kt])?Gt(Vt):Gt;for(var nn in Jt)Vt[nn]=nn==="className"?ie(Vt[nn],Jt[nn]):nn==="style"?__assign(__assign({},Vt[nn]),Jt[nn]):Jt[nn]}return Ft.className&&(Vt.className=ie(Vt.className,Ft.className)),Vt}(At,Dt,Zt),Xt=an.as||Yt,yn={};for(var vn in an)an[vn]===void 0||vn[0]==="$"||vn==="as"||vn==="theme"&&an.theme===Zt||(vn==="forwardedAs"?yn.as=an.forwardedAs:on&&!on(vn,Xt)||(yn[vn]=an[vn]));var Nt=function(Ot,Ft){var Ut=Le(),Gt=Ot.generateAndInjectStyles(Ft,Ut.styleSheet,Ut.stylis);return Gt}(Lt,an),$t=ie(Bt,zt);return Nt&&($t+=" "+Nt),an.className&&($t+=" "+an.className),yn[L(Xt)&&!A.has(Xt)?"class":"className"]=$t,yn.ref=Ct,reactExports.createElement(Xt,yn)}(_t,Mt,Pt)}kt.displayName=vt;var _t=React.forwardRef(kt);return _t.attrs=bt,_t.componentStyle=Tt,_t.displayName=vt,_t.shouldForwardProp=Et,_t.foldedComponentIds=c?ie(et.foldedComponentIds,et.styledComponentId):"",_t.styledComponentId=xt,_t.target=c?et.target:a,Object.defineProperty(_t,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Mt){this._foldedDefaultProps=c?function(Pt){for(var It=[],Dt=1;Dt<arguments.length;Dt++)It[Dt-1]=arguments[Dt];for(var Ct=0,At=It;Ct<At.length;Ct++)le$1(Pt,At[Ct],!0);return Pt}({},et.defaultProps,Mt):Mt}}),ue$1(_t,function(){return".".concat(_t.styledComponentId)}),tt&&oe$1(_t,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_t}function it(a,e){for(var o=[a[0]],c=0,et=e.length;c<et;c+=1)o.push(e[c],a[c+1]);return o}var at=function(a){return Object.assign(a,{isCss:!0})};function ct(a){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(re$2(a)||ce$1(a))return at(Je(it(_,__spreadArray([a],e,!0))));var c=a;return e.length===0&&c.length===1&&typeof c[0]=="string"?Je(c):at(Je(it(c,e)))}function lt(a,e,o){if(o===void 0&&(o=C$1),!e)throw he$1(1,e);var c=function(et){for(var tt=[],nt=1;nt<arguments.length;nt++)tt[nt-1]=arguments[nt];return a(e,o,ct.apply(void 0,__spreadArray([et],tt,!1)))};return c.attrs=function(et){return lt(a,e,__assign(__assign({},o),{attrs:Array.prototype.concat(o.attrs,et).filter(Boolean)}))},c.withConfig=function(et){return lt(a,e,__assign(__assign({},o),et))},c}var ut=function(a){return lt(st,a)},pt=ut;A.forEach(function(a){pt[a]=ut(a)});var dt=function(){function a(e,o){this.rules=e,this.componentId=o,this.isStatic=Xe(e),Te$1.registerId(this.componentId+1)}return a.prototype.createStyles=function(e,o,c,et){var tt=et(ae$1(Je(this.rules,o,c,et)),""),nt=this.componentId+e;c.insertRules(nt,nt,tt)},a.prototype.removeStyles=function(e,o){o.clearRules(this.componentId+e)},a.prototype.renderStyles=function(e,o,c,et){e>2&&Te$1.registerId(this.componentId+e),this.removeStyles(e,c),this.createStyles(e,o,c,et)},a}();function ht(a){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var c=ct.apply(void 0,__spreadArray([a],e,!1)),et="sc-global-".concat(z(JSON.stringify(c))),tt=new dt(c,et),nt=function(mt){var gt=Le(),yt=React.useContext(Qe),vt=React.useRef(gt.styleSheet.allocateGSInstance(et)).current;return gt.styleSheet.server&&rt(vt,mt,gt.styleSheet,yt,gt.stylis),React.useLayoutEffect(function(){if(!gt.styleSheet.server)return rt(vt,mt,gt.styleSheet,yt,gt.stylis),function(){return tt.removeStyles(vt,gt.styleSheet)}},[vt,mt,gt.styleSheet,yt,gt.stylis]),null};function rt(mt,gt,yt,vt,xt){if(tt.isStatic)tt.renderStyles(mt,b$1,yt,xt);else{var bt=__assign(__assign({},gt),{theme:I(gt,vt,nt.defaultProps)});tt.renderStyles(mt,bt,yt,xt)}}return React.memo(nt)}function ft(a){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var c=ae$1(ct.apply(void 0,__spreadArray([a],e,!1))),et=z(c);return new Ye(et,c)}const logo="/assets/plain_icon_600-CoYDkS4s.png";var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(a){(function(){var e={}.hasOwnProperty;function o(){for(var tt="",nt=0;nt<arguments.length;nt++){var rt=arguments[nt];rt&&(tt=et(tt,c(rt)))}return tt}function c(tt){if(typeof tt=="string"||typeof tt=="number")return tt;if(typeof tt!="object")return"";if(Array.isArray(tt))return o.apply(null,tt);if(tt.toString!==Object.prototype.toString&&!tt.toString.toString().includes("[native code]"))return tt.toString();var nt="";for(var rt in tt)e.call(tt,rt)&&tt[rt]&&(nt=et(nt,rt));return nt}function et(tt,nt){return nt?tt?tt+" "+nt:tt+nt:tt}a.exports?(o.default=o,a.exports=o):window.classNames=o})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)({}).hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends$1.apply(null,arguments)}function _objectWithoutPropertiesLoose$d(a,e){if(a==null)return{};var o={};for(var c in a)if({}.hasOwnProperty.call(a,c)){if(e.includes(c))continue;o[c]=a[c]}return o}var invariant$2=function(a,e,o,c,et,tt,nt,rt){if(!a){var mt;if(e===void 0)mt=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var gt=[o,c,et,tt,nt,rt],yt=0;mt=new Error(e.replace(/%s/g,function(){return gt[yt++]})),mt.name="Invariant Violation"}throw mt.framesToPop=1,mt}},browser$1=invariant$2;const invariant$3=getDefaultExportFromCjs(browser$1);function defaultKey(a){return"default"+a.charAt(0).toUpperCase()+a.substr(1)}function _toPropertyKey$1(a){var e=_toPrimitive$1(a,"string");return typeof e=="symbol"?e:String(e)}function _toPrimitive$1(a,e){if(typeof a!="object"||a===null)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}function useUncontrolledProp$1(a,e,o){var c=reactExports.useRef(a!==void 0),et=reactExports.useState(e),tt=et[0],nt=et[1],rt=a!==void 0,mt=c.current;return c.current=rt,!rt&&mt&&tt!==e&&nt(e),[rt?a:tt,reactExports.useCallback(function(gt){for(var yt=arguments.length,vt=new Array(yt>1?yt-1:0),xt=1;xt<yt;xt++)vt[xt-1]=arguments[xt];o&&o.apply(void 0,[gt].concat(vt)),nt(gt)},[o])]}function useUncontrolled(a,e){return Object.keys(e).reduce(function(o,c){var et,tt=o,nt=tt[defaultKey(c)],rt=tt[c],mt=_objectWithoutPropertiesLoose$d(tt,[defaultKey(c),c].map(_toPropertyKey$1)),gt=e[c],yt=useUncontrolledProp$1(rt,nt,a[gt]),vt=yt[0],xt=yt[1];return _extends$1({},mt,(et={},et[c]=vt,et[gt]=xt,et))},a)}function _setPrototypeOf(a,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},_setPrototypeOf(a,e)}function _inheritsLoose(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,_setPrototypeOf(a,e)}const DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT});function useBootstrapPrefix(a,e){const{prefixes:o}=reactExports.useContext(ThemeContext);return a||o[e]||e}function useBootstrapBreakpoints(){const{breakpoints:a}=reactExports.useContext(ThemeContext);return a}function useBootstrapMinBreakpoint(){const{minBreakpoint:a}=reactExports.useContext(ThemeContext);return a}function useIsRTL(){const{dir:a}=reactExports.useContext(ThemeContext);return a==="rtl"}function ownerDocument(a){return a&&a.ownerDocument||document}function ownerWindow(a){var e=ownerDocument(a);return e&&e.defaultView||window}function getComputedStyle$3(a,e){return ownerWindow(a).getComputedStyle(a,e)}var rUpper=/([A-Z])/g;function hyphenate$1(a){return a.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(a){return hyphenate$1(a).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(a){return!!(a&&supportedTransforms.test(a))}function style$1(a,e){var o="",c="";if(typeof e=="string")return a.style.getPropertyValue(hyphenateStyleName(e))||getComputedStyle$3(a).getPropertyValue(hyphenateStyleName(e));Object.keys(e).forEach(function(et){var tt=e[et];!tt&&tt!==0?a.style.removeProperty(hyphenateStyleName(et)):isTransform(et)?c+=et+"("+tt+") ":o+=hyphenateStyleName(et)+": "+tt+";"}),c&&(o+="transform: "+c+";"),a.style.cssText+=";"+o}var propTypes$3={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function a(c,et,tt,nt,rt,mt){if(mt!==ReactPropTypesSecret){var gt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw gt.name="Invariant Violation",gt}}a.isRequired=a;function e(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:e,element:a,elementType:a,instanceOf:e,node:a,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return o.PropTypes=o,o};propTypes$3.exports=factoryWithThrowingShims();var propTypesExports=propTypes$3.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),config$1={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(e){return e.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(a){_inheritsLoose(e,a);function e(c,et){var tt;tt=a.call(this,c,et)||this;var nt=et,rt=nt&&!nt.isMounting?c.enter:c.appear,mt;return tt.appearStatus=null,c.in?rt?(mt=EXITED,tt.appearStatus=ENTERING):mt=ENTERED:c.unmountOnExit||c.mountOnEnter?mt=UNMOUNTED:mt=EXITED,tt.state={status:mt},tt.nextCallback=null,tt}e.getDerivedStateFromProps=function(et,tt){var nt=et.in;return nt&&tt.status===UNMOUNTED?{status:EXITED}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(et){var tt=null;if(et!==this.props){var nt=this.state.status;this.props.in?nt!==ENTERING&&nt!==ENTERED&&(tt=ENTERING):(nt===ENTERING||nt===ENTERED)&&(tt=EXITING)}this.updateStatus(!1,tt)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var et=this.props.timeout,tt,nt,rt;return tt=nt=rt=et,et!=null&&typeof et!="number"&&(tt=et.exit,nt=et.enter,rt=et.appear!==void 0?et.appear:nt),{exit:tt,enter:nt,appear:rt}},o.updateStatus=function(et,tt){if(et===void 0&&(et=!1),tt!==null)if(this.cancelNextCallback(),tt===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var nt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);nt&&forceReflow(nt)}this.performEnter(et)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},o.performEnter=function(et){var tt=this,nt=this.props.enter,rt=this.context?this.context.isMounting:et,mt=this.props.nodeRef?[rt]:[ReactDOM.findDOMNode(this),rt],gt=mt[0],yt=mt[1],vt=this.getTimeouts(),xt=rt?vt.appear:vt.enter;if(!et&&!nt||config$1.disabled){this.safeSetState({status:ENTERED},function(){tt.props.onEntered(gt)});return}this.props.onEnter(gt,yt),this.safeSetState({status:ENTERING},function(){tt.props.onEntering(gt,yt),tt.onTransitionEnd(xt,function(){tt.safeSetState({status:ENTERED},function(){tt.props.onEntered(gt,yt)})})})},o.performExit=function(){var et=this,tt=this.props.exit,nt=this.getTimeouts(),rt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!tt||config$1.disabled){this.safeSetState({status:EXITED},function(){et.props.onExited(rt)});return}this.props.onExit(rt),this.safeSetState({status:EXITING},function(){et.props.onExiting(rt),et.onTransitionEnd(nt.exit,function(){et.safeSetState({status:EXITED},function(){et.props.onExited(rt)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(et,tt){tt=this.setNextCallback(tt),this.setState(et,tt)},o.setNextCallback=function(et){var tt=this,nt=!0;return this.nextCallback=function(rt){nt&&(nt=!1,tt.nextCallback=null,et(rt))},this.nextCallback.cancel=function(){nt=!1},this.nextCallback},o.onTransitionEnd=function(et,tt){this.setNextCallback(tt);var nt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),rt=et==null&&!this.props.addEndListener;if(!nt||rt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var mt=this.props.nodeRef?[this.nextCallback]:[nt,this.nextCallback],gt=mt[0],yt=mt[1];this.props.addEndListener(gt,yt)}et!=null&&setTimeout(this.nextCallback,et)},o.render=function(){var et=this.state.status;if(et===UNMOUNTED)return null;var tt=this.props,nt=tt.children;tt.in,tt.mountOnEnter,tt.unmountOnExit,tt.appear,tt.enter,tt.exit,tt.timeout,tt.addEndListener,tt.onEnter,tt.onEntering,tt.onEntered,tt.onExit,tt.onExiting,tt.onExited,tt.nodeRef;var rt=_objectWithoutPropertiesLoose$d(tt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof nt=="function"?nt(et,rt):React.cloneElement(React.Children.only(nt),rt))},e}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$9(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$9,onEntering:noop$9,onEntered:noop$9,onExit:noop$9,onExiting:noop$9,onExited:noop$9};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(a,e,o,c){if(c&&typeof c!="boolean"&&!onceSupported){var et=c.once,tt=c.capture,nt=o;!onceSupported&&et&&(nt=o.__once||function rt(mt){this.removeEventListener(e,rt,tt),o.call(this,mt)},o.__once=nt),a.addEventListener(e,nt,optionsSupported?c:tt)}a.addEventListener(e,o,c)}function removeEventListener(a,e,o,c){var et=c&&typeof c!="boolean"?c.capture:c;a.removeEventListener(e,o,et),o.__once&&a.removeEventListener(e,o.__once,et)}function listen(a,e,o,c){return addEventListener(a,e,o,c),function(){removeEventListener(a,e,o,c)}}function triggerEvent(a,e,o,c){if(c===void 0&&(c=!0),a){var et=document.createEvent("HTMLEvents");et.initEvent(e,o,c),a.dispatchEvent(et)}}function parseDuration$1(a){var e=style$1(a,"transitionDuration")||"",o=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*o}function emulateTransitionEnd(a,e,o){o===void 0&&(o=5);var c=!1,et=setTimeout(function(){c||triggerEvent(a,"transitionend",!0)},e+o),tt=listen(a,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(et),tt()}}function transitionEnd(a,e,o,c){o==null&&(o=parseDuration$1(a)||0);var et=emulateTransitionEnd(a,o,c),tt=listen(a,"transitionend",e);return function(){et(),tt()}}function parseDuration(a,e){const o=style$1(a,e)||"",c=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*c}function transitionEndListener(a,e){const o=parseDuration(a,"transitionDuration"),c=parseDuration(a,"transitionDelay"),et=transitionEnd(a,tt=>{tt.target===a&&(et(),e(tt))},o+c)}function triggerBrowserReflow(a){a.offsetHeight}const toFnRef=a=>!a||typeof a=="function"?a:e=>{a.current=e};function mergeRefs(a,e){const o=toFnRef(a),c=toFnRef(e);return et=>{o&&o(et),c&&c(et)}}function useMergedRefs(a,e){return reactExports.useMemo(()=>mergeRefs(a,e),[a,e])}function safeFindDOMNode(a){return a&&"setState"in a?ReactDOM.findDOMNode(a):a??null}const TransitionWrapper=React.forwardRef(({onEnter:a,onEntering:e,onEntered:o,onExit:c,onExiting:et,onExited:tt,addEndListener:nt,children:rt,childRef:mt,...gt},yt)=>{const vt=reactExports.useRef(null),xt=useMergedRefs(vt,mt),bt=It=>{xt(safeFindDOMNode(It))},Et=It=>Dt=>{It&&vt.current&&It(vt.current,Dt)},wt=reactExports.useCallback(Et(a),[a]),St=reactExports.useCallback(Et(e),[e]),Tt=reactExports.useCallback(Et(o),[o]),kt=reactExports.useCallback(Et(c),[c]),_t=reactExports.useCallback(Et(et),[et]),Mt=reactExports.useCallback(Et(tt),[tt]),Pt=reactExports.useCallback(Et(nt),[nt]);return jsxRuntimeExports.jsx(Transition,{ref:yt,...gt,onEnter:wt,onEntered:Tt,onEntering:St,onExit:kt,onExited:Mt,onExiting:_t,addEndListener:Pt,nodeRef:vt,children:typeof rt=="function"?(It,Dt)=>rt(It,{...Dt,ref:bt}):React.cloneElement(rt,{ref:bt})})});function useCommittedRef(a){const e=reactExports.useRef(a);return reactExports.useEffect(()=>{e.current=a},[a]),e}function useEventCallback(a){const e=useCommittedRef(a);return reactExports.useCallback(function(...o){return e.current&&e.current(...o)},[e])}const divWithClassName=a=>reactExports.forwardRef((e,o)=>jsxRuntimeExports.jsx("div",{...e,ref:o,className:classNames(e.className,a)})),DivStyledAsH4=divWithClassName("h4");DivStyledAsH4.displayName="DivStyledAsH4";const AlertHeading=reactExports.forwardRef(({className:a,bsPrefix:e,as:o=DivStyledAsH4,...c},et)=>(e=useBootstrapPrefix(e,"alert-heading"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));AlertHeading.displayName="AlertHeading";function useCallbackRef(){return reactExports.useState(null)}function useEventListener(a,e,o,c=!1){const et=useEventCallback(o);reactExports.useEffect(()=>{const tt=typeof a=="function"?a():a;return tt.addEventListener(e,et,c),()=>tt.removeEventListener(e,et,c)},[a])}function useMounted(){const a=reactExports.useRef(!0),e=reactExports.useRef(()=>a.current);return reactExports.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),e.current}function usePrevious(a){const e=reactExports.useRef(null);return reactExports.useEffect(()=>{e.current=a}),e.current}const isReactNative$1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM=typeof document<"u",useIsomorphicEffect=isDOM||isReactNative$1?reactExports.useLayoutEffect:reactExports.useEffect,_excluded$d=["as","disabled"];function _objectWithoutPropertiesLoose$c(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}function isTrivialHref$1(a){return!a||a.trim()==="#"}function useButtonProps({tagName:a,disabled:e,href:o,target:c,rel:et,role:tt,onClick:nt,tabIndex:rt=0,type:mt}){a||(o!=null||c!=null||et!=null?a="a":a="button");const gt={tagName:a};if(a==="button")return[{type:mt||"button",disabled:e},gt];const yt=xt=>{if((e||a==="a"&&isTrivialHref$1(o))&&xt.preventDefault(),e){xt.stopPropagation();return}nt==null||nt(xt)},vt=xt=>{xt.key===" "&&(xt.preventDefault(),yt(xt))};return a==="a"&&(o||(o="#"),e&&(o=void 0)),[{role:tt??"button",disabled:void 0,tabIndex:e?void 0:rt,href:o,target:a==="a"?c:void 0,"aria-disabled":e||void 0,rel:a==="a"?et:void 0,onClick:yt,onKeyDown:vt},gt]}const Button$2=reactExports.forwardRef((a,e)=>{let{as:o,disabled:c}=a,et=_objectWithoutPropertiesLoose$c(a,_excluded$d);const[tt,{tagName:nt}]=useButtonProps(Object.assign({tagName:o,disabled:c},et));return jsxRuntimeExports.jsx(nt,Object.assign({},et,tt,{ref:e}))});Button$2.displayName="Button";const _excluded$c=["onKeyDown"];function _objectWithoutPropertiesLoose$b(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}function isTrivialHref(a){return!a||a.trim()==="#"}const Anchor$1=reactExports.forwardRef((a,e)=>{let{onKeyDown:o}=a,c=_objectWithoutPropertiesLoose$b(a,_excluded$c);const[et]=useButtonProps(Object.assign({tagName:"a"},c)),tt=useEventCallback(nt=>{et.onKeyDown(nt),o==null||o(nt)});return isTrivialHref(c.href)||c.role==="button"?jsxRuntimeExports.jsx("a",Object.assign({ref:e},c,et,{onKeyDown:tt})):jsxRuntimeExports.jsx("a",Object.assign({ref:e},c,{onKeyDown:o}))});Anchor$1.displayName="Anchor";const AlertLink=reactExports.forwardRef(({className:a,bsPrefix:e,as:o=Anchor$1,...c},et)=>(e=useBootstrapPrefix(e,"alert-link"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));AlertLink.displayName="AlertLink";const fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:a,children:e,transitionClasses:o={},onEnter:c,...et},tt)=>{const nt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...et},rt=reactExports.useCallback((mt,gt)=>{triggerBrowserReflow(mt),c==null||c(mt,gt)},[c]);return jsxRuntimeExports.jsx(TransitionWrapper,{ref:tt,addEndListener:transitionEndListener,...nt,onEnter:rt,childRef:e.ref,children:(mt,gt)=>reactExports.cloneElement(e,{...gt,className:classNames("fade",a,e.props.className,fadeStyles[mt],o[mt])})})});Fade.displayName="Fade";const propTypes$2={"aria-label":PropTypes.string,onClick:PropTypes.func,variant:PropTypes.oneOf(["white"])},CloseButton$1=reactExports.forwardRef(({className:a,variant:e,"aria-label":o="Close",...c},et)=>jsxRuntimeExports.jsx("button",{ref:et,type:"button",className:classNames("btn-close",e&&`btn-close-${e}`,a),"aria-label":o,...c}));CloseButton$1.displayName="CloseButton";CloseButton$1.propTypes=propTypes$2;const Alert=reactExports.forwardRef((a,e)=>{const{bsPrefix:o,show:c=!0,closeLabel:et="Close alert",closeVariant:tt,className:nt,children:rt,variant:mt="primary",onClose:gt,dismissible:yt,transition:vt=Fade,...xt}=useUncontrolled(a,{show:"onClose"}),bt=useBootstrapPrefix(o,"alert"),Et=useEventCallback(Tt=>{gt&&gt(!1,Tt)}),wt=vt===!0?Fade:vt,St=jsxRuntimeExports.jsxs("div",{role:"alert",...wt?void 0:xt,ref:e,className:classNames(nt,bt,mt&&`${bt}-${mt}`,yt&&`${bt}-dismissible`),children:[yt&&jsxRuntimeExports.jsx(CloseButton$1,{onClick:Et,"aria-label":et,variant:tt}),rt]});return wt?jsxRuntimeExports.jsx(wt,{unmountOnExit:!0,...xt,ref:void 0,in:c,children:St}):c?St:null});Alert.displayName="Alert";const Alert$1=Object.assign(Alert,{Link:AlertLink,Heading:AlertHeading}),Button$1=reactExports.forwardRef(({as:a,bsPrefix:e,variant:o="primary",size:c,active:et=!1,disabled:tt=!1,className:nt,...rt},mt)=>{const gt=useBootstrapPrefix(e,"btn"),[yt,{tagName:vt}]=useButtonProps({tagName:a,disabled:tt,...rt}),xt=vt;return jsxRuntimeExports.jsx(xt,{...yt,...rt,ref:mt,disabled:tt,className:classNames(nt,gt,et&&"active",o&&`${gt}-${o}`,c&&`${gt}-${c}`,rt.href&&tt&&"disabled")})});Button$1.displayName="Button";const CardBody=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},et)=>(e=useBootstrapPrefix(e,"card-body"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));CardBody.displayName="CardBody";const CardFooter=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},et)=>(e=useBootstrapPrefix(e,"card-footer"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));CardFooter.displayName="CardFooter";const context$2=reactExports.createContext(null);context$2.displayName="CardHeaderContext";const CardHeader=reactExports.forwardRef(({bsPrefix:a,className:e,as:o="div",...c},et)=>{const tt=useBootstrapPrefix(a,"card-header"),nt=reactExports.useMemo(()=>({cardHeaderBsPrefix:tt}),[tt]);return jsxRuntimeExports.jsx(context$2.Provider,{value:nt,children:jsxRuntimeExports.jsx(o,{ref:et,...c,className:classNames(e,tt)})})});CardHeader.displayName="CardHeader";const CardImg=reactExports.forwardRef(({bsPrefix:a,className:e,variant:o,as:c="img",...et},tt)=>{const nt=useBootstrapPrefix(a,"card-img");return jsxRuntimeExports.jsx(c,{ref:tt,className:classNames(o?`${nt}-${o}`:nt,e),...et})});CardImg.displayName="CardImg";const CardImgOverlay=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},et)=>(e=useBootstrapPrefix(e,"card-img-overlay"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));CardImgOverlay.displayName="CardImgOverlay";const CardLink=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="a",...c},et)=>(e=useBootstrapPrefix(e,"card-link"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));CardLink.displayName="CardLink";const DivStyledAsH6=divWithClassName("h6"),CardSubtitle=reactExports.forwardRef(({className:a,bsPrefix:e,as:o=DivStyledAsH6,...c},et)=>(e=useBootstrapPrefix(e,"card-subtitle"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));CardSubtitle.displayName="CardSubtitle";const CardText=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="p",...c},et)=>(e=useBootstrapPrefix(e,"card-text"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));CardText.displayName="CardText";const DivStyledAsH5$1=divWithClassName("h5"),CardTitle=reactExports.forwardRef(({className:a,bsPrefix:e,as:o=DivStyledAsH5$1,...c},et)=>(e=useBootstrapPrefix(e,"card-title"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));CardTitle.displayName="CardTitle";const Card$6=reactExports.forwardRef(({bsPrefix:a,className:e,bg:o,text:c,border:et,body:tt=!1,children:nt,as:rt="div",...mt},gt)=>{const yt=useBootstrapPrefix(a,"card");return jsxRuntimeExports.jsx(rt,{ref:gt,...mt,className:classNames(e,yt,o&&`bg-${o}`,c&&`text-${c}`,et&&`border-${et}`),children:tt?jsxRuntimeExports.jsx(CardBody,{children:nt}):nt})});Card$6.displayName="Card";const Card$7=Object.assign(Card$6,{Img:CardImg,Title:CardTitle,Subtitle:CardSubtitle,Body:CardBody,Link:CardLink,Text:CardText,Header:CardHeader,Footer:CardFooter,ImgOverlay:CardImgOverlay});function useUpdatedRef(a){const e=reactExports.useRef(a);return e.current=a,e}function useWillUnmount(a){const e=useUpdatedRef(a);reactExports.useEffect(()=>()=>e.current(),[])}function hasChildOfType(a,e){return reactExports.Children.toArray(a).some(o=>reactExports.isValidElement(o)&&o.type===e)}function useCol({as:a,bsPrefix:e,className:o,...c}){e=useBootstrapPrefix(e,"col");const et=useBootstrapBreakpoints(),tt=useBootstrapMinBreakpoint(),nt=[],rt=[];return et.forEach(mt=>{const gt=c[mt];delete c[mt];let yt,vt,xt;typeof gt=="object"&&gt!=null?{span:yt,offset:vt,order:xt}=gt:yt=gt;const bt=mt!==tt?`-${mt}`:"";yt&&nt.push(yt===!0?`${e}${bt}`:`${e}${bt}-${yt}`),xt!=null&&rt.push(`order${bt}-${xt}`),vt!=null&&rt.push(`offset${bt}-${vt}`)}),[{...c,className:classNames(o,...nt,...rt)},{as:a,bsPrefix:e,spans:nt}]}const Col=reactExports.forwardRef((a,e)=>{const[{className:o,...c},{as:et="div",bsPrefix:tt,spans:nt}]=useCol(a);return jsxRuntimeExports.jsx(et,{...c,ref:e,className:classNames(o,!nt.length&&tt)})});Col.displayName="Col";const Container$1=reactExports.forwardRef(({bsPrefix:a,fluid:e=!1,as:o="div",className:c,...et},tt)=>{const nt=useBootstrapPrefix(a,"container"),rt=typeof e=="string"?`-${e}`:"-fluid";return jsxRuntimeExports.jsx(o,{ref:tt,...et,className:classNames(c,e?`${nt}${rt}`:nt)})});Container$1.displayName="Container";var toArray$1=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(a,e){return toArray$1(a.querySelectorAll(e))}function useUncontrolledProp(a,e,o){const c=reactExports.useRef(a!==void 0),[et,tt]=reactExports.useState(e),nt=a!==void 0,rt=c.current;return c.current=nt,!nt&&rt&&et!==e&&tt(e),[nt?a:et,reactExports.useCallback((...mt)=>{const[gt,...yt]=mt;let vt=o==null?void 0:o(gt,...yt);return tt(gt),vt},[o])]}function useForceUpdate(){const[,a]=reactExports.useReducer(e=>!e,!1);return a}const DropdownContext$1=reactExports.createContext(null);var has=Object.prototype.hasOwnProperty;function find$1(a,e,o){for(o of a.keys())if(dequal(o,e))return o}function dequal(a,e){var o,c,et;if(a===e)return!0;if(a&&e&&(o=a.constructor)===e.constructor){if(o===Date)return a.getTime()===e.getTime();if(o===RegExp)return a.toString()===e.toString();if(o===Array){if((c=a.length)===e.length)for(;c--&&dequal(a[c],e[c]););return c===-1}if(o===Set){if(a.size!==e.size)return!1;for(c of a)if(et=c,et&&typeof et=="object"&&(et=find$1(e,et),!et)||!e.has(et))return!1;return!0}if(o===Map){if(a.size!==e.size)return!1;for(c of a)if(et=c[0],et&&typeof et=="object"&&(et=find$1(e,et),!et)||!dequal(c[1],e.get(et)))return!1;return!0}if(o===ArrayBuffer)a=new Uint8Array(a),e=new Uint8Array(e);else if(o===DataView){if((c=a.byteLength)===e.byteLength)for(;c--&&a.getInt8(c)===e.getInt8(c););return c===-1}if(ArrayBuffer.isView(a)){if((c=a.byteLength)===e.byteLength)for(;c--&&a[c]===e[c];);return c===-1}if(!o||typeof a=="object"){c=0;for(o in a)if(has.call(a,o)&&++c&&!has.call(e,o)||!(o in e)||!dequal(a[o],e[o]))return!1;return Object.keys(e).length===c}}return a!==a&&e!==e}function useSafeState(a){const e=useMounted();return[a[0],reactExports.useCallback(o=>{if(e())return a[1](o)},[e,a[1]])]}var top="top",bottom="bottom",right="right",left="left",auto$1="auto",basePlacements=[top,bottom,right,left],start$1="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(a,e){return a.concat([e+"-"+start$1,e+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto$1]).reduce(function(a,e){return a.concat([e,e+"-"+start$1,e+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main$1="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main$1,afterMain,beforeWrite,write,afterWrite];function getBasePlacement(a){return a.split("-")[0]}function getWindow(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var e=a.ownerDocument;return e&&e.defaultView||window}return a}function isElement(a){var e=getWindow(a).Element;return a instanceof e||a instanceof Element}function isHTMLElement(a){var e=getWindow(a).HTMLElement;return a instanceof e||a instanceof HTMLElement}function isShadowRoot(a){if(typeof ShadowRoot>"u")return!1;var e=getWindow(a).ShadowRoot;return a instanceof e||a instanceof ShadowRoot}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(a,e,o){e===void 0&&(e=!1),o===void 0&&(o=!1);var c=a.getBoundingClientRect(),et=1,tt=1;e&&isHTMLElement(a)&&(et=a.offsetWidth>0&&round(c.width)/a.offsetWidth||1,tt=a.offsetHeight>0&&round(c.height)/a.offsetHeight||1);var nt=isElement(a)?getWindow(a):window,rt=nt.visualViewport,mt=!isLayoutViewport()&&o,gt=(c.left+(mt&&rt?rt.offsetLeft:0))/et,yt=(c.top+(mt&&rt?rt.offsetTop:0))/tt,vt=c.width/et,xt=c.height/tt;return{width:vt,height:xt,top:yt,right:gt+vt,bottom:yt+xt,left:gt,x:gt,y:yt}}function getLayoutRect(a){var e=getBoundingClientRect(a),o=a.offsetWidth,c=a.offsetHeight;return Math.abs(e.width-o)<=1&&(o=e.width),Math.abs(e.height-c)<=1&&(c=e.height),{x:a.offsetLeft,y:a.offsetTop,width:o,height:c}}function contains$1(a,e){var o=e.getRootNode&&e.getRootNode();if(a.contains(e))return!0;if(o&&isShadowRoot(o)){var c=e;do{if(c&&a.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function getNodeName(a){return a?(a.nodeName||"").toLowerCase():null}function getComputedStyle$2(a){return getWindow(a).getComputedStyle(a)}function isTableElement(a){return["table","td","th"].indexOf(getNodeName(a))>=0}function getDocumentElement(a){return((isElement(a)?a.ownerDocument:a.document)||window.document).documentElement}function getParentNode(a){return getNodeName(a)==="html"?a:a.assignedSlot||a.parentNode||(isShadowRoot(a)?a.host:null)||getDocumentElement(a)}function getTrueOffsetParent(a){return!isHTMLElement(a)||getComputedStyle$2(a).position==="fixed"?null:a.offsetParent}function getContainingBlock(a){var e=/firefox/i.test(getUAString()),o=/Trident/i.test(getUAString());if(o&&isHTMLElement(a)){var c=getComputedStyle$2(a);if(c.position==="fixed")return null}var et=getParentNode(a);for(isShadowRoot(et)&&(et=et.host);isHTMLElement(et)&&["html","body"].indexOf(getNodeName(et))<0;){var tt=getComputedStyle$2(et);if(tt.transform!=="none"||tt.perspective!=="none"||tt.contain==="paint"||["transform","perspective"].indexOf(tt.willChange)!==-1||e&&tt.willChange==="filter"||e&&tt.filter&&tt.filter!=="none")return et;et=et.parentNode}return null}function getOffsetParent(a){for(var e=getWindow(a),o=getTrueOffsetParent(a);o&&isTableElement(o)&&getComputedStyle$2(o).position==="static";)o=getTrueOffsetParent(o);return o&&(getNodeName(o)==="html"||getNodeName(o)==="body"&&getComputedStyle$2(o).position==="static")?e:o||getContainingBlock(a)||e}function getMainAxisFromPlacement(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function within(a,e,o){return max(a,min(e,o))}function withinMaxClamp(a,e,o){var c=within(a,e,o);return c>o?o:c}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(a){return Object.assign({},getFreshSideObject(),a)}function expandToHashMap(a,e){return e.reduce(function(o,c){return o[c]=a,o},{})}var toPaddingObject=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow(a){var e,o=a.state,c=a.name,et=a.options,tt=o.elements.arrow,nt=o.modifiersData.popperOffsets,rt=getBasePlacement(o.placement),mt=getMainAxisFromPlacement(rt),gt=[left,right].indexOf(rt)>=0,yt=gt?"height":"width";if(!(!tt||!nt)){var vt=toPaddingObject(et.padding,o),xt=getLayoutRect(tt),bt=mt==="y"?top:left,Et=mt==="y"?bottom:right,wt=o.rects.reference[yt]+o.rects.reference[mt]-nt[mt]-o.rects.popper[yt],St=nt[mt]-o.rects.reference[mt],Tt=getOffsetParent(tt),kt=Tt?mt==="y"?Tt.clientHeight||0:Tt.clientWidth||0:0,_t=wt/2-St/2,Mt=vt[bt],Pt=kt-xt[yt]-vt[Et],It=kt/2-xt[yt]/2+_t,Dt=within(Mt,It,Pt),Ct=mt;o.modifiersData[c]=(e={},e[Ct]=Dt,e.centerOffset=Dt-It,e)}}function effect$1(a){var e=a.state,o=a.options,c=o.element,et=c===void 0?"[data-popper-arrow]":c;et!=null&&(typeof et=="string"&&(et=e.elements.popper.querySelector(et),!et)||contains$1(e.elements.popper,et)&&(e.elements.arrow=et))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(a){return a.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(a,e){var o=a.x,c=a.y,et=e.devicePixelRatio||1;return{x:round(o*et)/et||0,y:round(c*et)/et||0}}function mapToStyles(a){var e,o=a.popper,c=a.popperRect,et=a.placement,tt=a.variation,nt=a.offsets,rt=a.position,mt=a.gpuAcceleration,gt=a.adaptive,yt=a.roundOffsets,vt=a.isFixed,xt=nt.x,bt=xt===void 0?0:xt,Et=nt.y,wt=Et===void 0?0:Et,St=typeof yt=="function"?yt({x:bt,y:wt}):{x:bt,y:wt};bt=St.x,wt=St.y;var Tt=nt.hasOwnProperty("x"),kt=nt.hasOwnProperty("y"),_t=left,Mt=top,Pt=window;if(gt){var It=getOffsetParent(o),Dt="clientHeight",Ct="clientWidth";if(It===getWindow(o)&&(It=getDocumentElement(o),getComputedStyle$2(It).position!=="static"&&rt==="absolute"&&(Dt="scrollHeight",Ct="scrollWidth")),It=It,et===top||(et===left||et===right)&&tt===end$1){Mt=bottom;var At=vt&&It===Pt&&Pt.visualViewport?Pt.visualViewport.height:It[Dt];wt-=At-c.height,wt*=mt?1:-1}if(et===left||(et===top||et===bottom)&&tt===end$1){_t=right;var Lt=vt&&It===Pt&&Pt.visualViewport?Pt.visualViewport.width:It[Ct];bt-=Lt-c.width,bt*=mt?1:-1}}var jt=Object.assign({position:rt},gt&&unsetSides),Bt=yt===!0?roundOffsetsByDPR({x:bt,y:wt},getWindow(o)):{x:bt,y:wt};if(bt=Bt.x,wt=Bt.y,mt){var zt;return Object.assign({},jt,(zt={},zt[Mt]=kt?"0":"",zt[_t]=Tt?"0":"",zt.transform=(Pt.devicePixelRatio||1)<=1?"translate("+bt+"px, "+wt+"px)":"translate3d("+bt+"px, "+wt+"px, 0)",zt))}return Object.assign({},jt,(e={},e[Mt]=kt?wt+"px":"",e[_t]=Tt?bt+"px":"",e.transform="",e))}function computeStyles(a){var e=a.state,o=a.options,c=o.gpuAcceleration,et=c===void 0?!0:c,tt=o.adaptive,nt=tt===void 0?!0:tt,rt=o.roundOffsets,mt=rt===void 0?!0:rt,gt={placement:getBasePlacement(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:et,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},gt,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:nt,roundOffsets:mt})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},gt,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:mt})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(a){var e=a.state,o=a.instance,c=a.options,et=c.scroll,tt=et===void 0?!0:et,nt=c.resize,rt=nt===void 0?!0:nt,mt=getWindow(e.elements.popper),gt=[].concat(e.scrollParents.reference,e.scrollParents.popper);return tt&&gt.forEach(function(yt){yt.addEventListener("scroll",o.update,passive)}),rt&&mt.addEventListener("resize",o.update,passive),function(){tt&&gt.forEach(function(yt){yt.removeEventListener("scroll",o.update,passive)}),rt&&mt.removeEventListener("resize",o.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(a){return a.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(a){return a.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(a){var e=getWindow(a),o=e.pageXOffset,c=e.pageYOffset;return{scrollLeft:o,scrollTop:c}}function getWindowScrollBarX(a){return getBoundingClientRect(getDocumentElement(a)).left+getWindowScroll(a).scrollLeft}function getViewportRect(a,e){var o=getWindow(a),c=getDocumentElement(a),et=o.visualViewport,tt=c.clientWidth,nt=c.clientHeight,rt=0,mt=0;if(et){tt=et.width,nt=et.height;var gt=isLayoutViewport();(gt||!gt&&e==="fixed")&&(rt=et.offsetLeft,mt=et.offsetTop)}return{width:tt,height:nt,x:rt+getWindowScrollBarX(a),y:mt}}function getDocumentRect(a){var e,o=getDocumentElement(a),c=getWindowScroll(a),et=(e=a.ownerDocument)==null?void 0:e.body,tt=max(o.scrollWidth,o.clientWidth,et?et.scrollWidth:0,et?et.clientWidth:0),nt=max(o.scrollHeight,o.clientHeight,et?et.scrollHeight:0,et?et.clientHeight:0),rt=-c.scrollLeft+getWindowScrollBarX(a),mt=-c.scrollTop;return getComputedStyle$2(et||o).direction==="rtl"&&(rt+=max(o.clientWidth,et?et.clientWidth:0)-tt),{width:tt,height:nt,x:rt,y:mt}}function isScrollParent(a){var e=getComputedStyle$2(a),o=e.overflow,c=e.overflowX,et=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+et+c)}function getScrollParent(a){return["html","body","#document"].indexOf(getNodeName(a))>=0?a.ownerDocument.body:isHTMLElement(a)&&isScrollParent(a)?a:getScrollParent(getParentNode(a))}function listScrollParents(a,e){var o;e===void 0&&(e=[]);var c=getScrollParent(a),et=c===((o=a.ownerDocument)==null?void 0:o.body),tt=getWindow(c),nt=et?[tt].concat(tt.visualViewport||[],isScrollParent(c)?c:[]):c,rt=e.concat(nt);return et?rt:rt.concat(listScrollParents(getParentNode(nt)))}function rectToClientRect(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function getInnerBoundingClientRect(a,e){var o=getBoundingClientRect(a,!1,e==="fixed");return o.top=o.top+a.clientTop,o.left=o.left+a.clientLeft,o.bottom=o.top+a.clientHeight,o.right=o.left+a.clientWidth,o.width=a.clientWidth,o.height=a.clientHeight,o.x=o.left,o.y=o.top,o}function getClientRectFromMixedType(a,e,o){return e===viewport?rectToClientRect(getViewportRect(a,o)):isElement(e)?getInnerBoundingClientRect(e,o):rectToClientRect(getDocumentRect(getDocumentElement(a)))}function getClippingParents(a){var e=listScrollParents(getParentNode(a)),o=["absolute","fixed"].indexOf(getComputedStyle$2(a).position)>=0,c=o&&isHTMLElement(a)?getOffsetParent(a):a;return isElement(c)?e.filter(function(et){return isElement(et)&&contains$1(et,c)&&getNodeName(et)!=="body"}):[]}function getClippingRect(a,e,o,c){var et=e==="clippingParents"?getClippingParents(a):[].concat(e),tt=[].concat(et,[o]),nt=tt[0],rt=tt.reduce(function(mt,gt){var yt=getClientRectFromMixedType(a,gt,c);return mt.top=max(yt.top,mt.top),mt.right=min(yt.right,mt.right),mt.bottom=min(yt.bottom,mt.bottom),mt.left=max(yt.left,mt.left),mt},getClientRectFromMixedType(a,nt,c));return rt.width=rt.right-rt.left,rt.height=rt.bottom-rt.top,rt.x=rt.left,rt.y=rt.top,rt}function computeOffsets(a){var e=a.reference,o=a.element,c=a.placement,et=c?getBasePlacement(c):null,tt=c?getVariation(c):null,nt=e.x+e.width/2-o.width/2,rt=e.y+e.height/2-o.height/2,mt;switch(et){case top:mt={x:nt,y:e.y-o.height};break;case bottom:mt={x:nt,y:e.y+e.height};break;case right:mt={x:e.x+e.width,y:rt};break;case left:mt={x:e.x-o.width,y:rt};break;default:mt={x:e.x,y:e.y}}var gt=et?getMainAxisFromPlacement(et):null;if(gt!=null){var yt=gt==="y"?"height":"width";switch(tt){case start$1:mt[gt]=mt[gt]-(e[yt]/2-o[yt]/2);break;case end$1:mt[gt]=mt[gt]+(e[yt]/2-o[yt]/2);break}}return mt}function detectOverflow(a,e){e===void 0&&(e={});var o=e,c=o.placement,et=c===void 0?a.placement:c,tt=o.strategy,nt=tt===void 0?a.strategy:tt,rt=o.boundary,mt=rt===void 0?clippingParents:rt,gt=o.rootBoundary,yt=gt===void 0?viewport:gt,vt=o.elementContext,xt=vt===void 0?popper:vt,bt=o.altBoundary,Et=bt===void 0?!1:bt,wt=o.padding,St=wt===void 0?0:wt,Tt=mergePaddingObject(typeof St!="number"?St:expandToHashMap(St,basePlacements)),kt=xt===popper?reference:popper,_t=a.rects.popper,Mt=a.elements[Et?kt:xt],Pt=getClippingRect(isElement(Mt)?Mt:Mt.contextElement||getDocumentElement(a.elements.popper),mt,yt,nt),It=getBoundingClientRect(a.elements.reference),Dt=computeOffsets({reference:It,element:_t,strategy:"absolute",placement:et}),Ct=rectToClientRect(Object.assign({},_t,Dt)),At=xt===popper?Ct:It,Lt={top:Pt.top-At.top+Tt.top,bottom:At.bottom-Pt.bottom+Tt.bottom,left:Pt.left-At.left+Tt.left,right:At.right-Pt.right+Tt.right},jt=a.modifiersData.offset;if(xt===popper&&jt){var Bt=jt[et];Object.keys(Lt).forEach(function(zt){var Yt=[right,bottom].indexOf(zt)>=0?1:-1,en=[top,bottom].indexOf(zt)>=0?"y":"x";Lt[zt]+=Bt[en]*Yt})}return Lt}function computeAutoPlacement(a,e){e===void 0&&(e={});var o=e,c=o.placement,et=o.boundary,tt=o.rootBoundary,nt=o.padding,rt=o.flipVariations,mt=o.allowedAutoPlacements,gt=mt===void 0?placements:mt,yt=getVariation(c),vt=yt?rt?variationPlacements:variationPlacements.filter(function(Et){return getVariation(Et)===yt}):basePlacements,xt=vt.filter(function(Et){return gt.indexOf(Et)>=0});xt.length===0&&(xt=vt);var bt=xt.reduce(function(Et,wt){return Et[wt]=detectOverflow(a,{placement:wt,boundary:et,rootBoundary:tt,padding:nt})[getBasePlacement(wt)],Et},{});return Object.keys(bt).sort(function(Et,wt){return bt[Et]-bt[wt]})}function getExpandedFallbackPlacements(a){if(getBasePlacement(a)===auto$1)return[];var e=getOppositePlacement(a);return[getOppositeVariationPlacement(a),e,getOppositeVariationPlacement(e)]}function flip(a){var e=a.state,o=a.options,c=a.name;if(!e.modifiersData[c]._skip){for(var et=o.mainAxis,tt=et===void 0?!0:et,nt=o.altAxis,rt=nt===void 0?!0:nt,mt=o.fallbackPlacements,gt=o.padding,yt=o.boundary,vt=o.rootBoundary,xt=o.altBoundary,bt=o.flipVariations,Et=bt===void 0?!0:bt,wt=o.allowedAutoPlacements,St=e.options.placement,Tt=getBasePlacement(St),kt=Tt===St,_t=mt||(kt||!Et?[getOppositePlacement(St)]:getExpandedFallbackPlacements(St)),Mt=[St].concat(_t).reduce(function($t,Ot){return $t.concat(getBasePlacement(Ot)===auto$1?computeAutoPlacement(e,{placement:Ot,boundary:yt,rootBoundary:vt,padding:gt,flipVariations:Et,allowedAutoPlacements:wt}):Ot)},[]),Pt=e.rects.reference,It=e.rects.popper,Dt=new Map,Ct=!0,At=Mt[0],Lt=0;Lt<Mt.length;Lt++){var jt=Mt[Lt],Bt=getBasePlacement(jt),zt=getVariation(jt)===start$1,Yt=[top,bottom].indexOf(Bt)>=0,en=Yt?"width":"height",rn=detectOverflow(e,{placement:jt,boundary:yt,rootBoundary:vt,altBoundary:xt,padding:gt}),on=Yt?zt?right:left:zt?bottom:top;Pt[en]>It[en]&&(on=getOppositePlacement(on));var Zt=getOppositePlacement(on),an=[];if(tt&&an.push(rn[Bt]<=0),rt&&an.push(rn[on]<=0,rn[Zt]<=0),an.every(function($t){return $t})){At=jt,Ct=!1;break}Dt.set(jt,an)}if(Ct)for(var Xt=Et?3:1,yn=function(Ot){var Ft=Mt.find(function(Ut){var Gt=Dt.get(Ut);if(Gt)return Gt.slice(0,Ot).every(function(Vt){return Vt})});if(Ft)return At=Ft,"break"},vn=Xt;vn>0;vn--){var Nt=yn(vn);if(Nt==="break")break}e.placement!==At&&(e.modifiersData[c]._skip=!0,e.placement=At,e.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(a,e,o){return o===void 0&&(o={x:0,y:0}),{top:a.top-e.height-o.y,right:a.right-e.width+o.x,bottom:a.bottom-e.height+o.y,left:a.left-e.width-o.x}}function isAnySideFullyClipped(a){return[top,right,bottom,left].some(function(e){return a[e]>=0})}function hide(a){var e=a.state,o=a.name,c=e.rects.reference,et=e.rects.popper,tt=e.modifiersData.preventOverflow,nt=detectOverflow(e,{elementContext:"reference"}),rt=detectOverflow(e,{altBoundary:!0}),mt=getSideOffsets(nt,c),gt=getSideOffsets(rt,et,tt),yt=isAnySideFullyClipped(mt),vt=isAnySideFullyClipped(gt);e.modifiersData[o]={referenceClippingOffsets:mt,popperEscapeOffsets:gt,isReferenceHidden:yt,hasPopperEscaped:vt},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":yt,"data-popper-escaped":vt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(a,e,o){var c=getBasePlacement(a),et=[left,top].indexOf(c)>=0?-1:1,tt=typeof o=="function"?o(Object.assign({},e,{placement:a})):o,nt=tt[0],rt=tt[1];return nt=nt||0,rt=(rt||0)*et,[left,right].indexOf(c)>=0?{x:rt,y:nt}:{x:nt,y:rt}}function offset$1(a){var e=a.state,o=a.options,c=a.name,et=o.offset,tt=et===void 0?[0,0]:et,nt=placements.reduce(function(yt,vt){return yt[vt]=distanceAndSkiddingToXY(vt,e.rects,tt),yt},{}),rt=nt[e.placement],mt=rt.x,gt=rt.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=mt,e.modifiersData.popperOffsets.y+=gt),e.modifiersData[c]=nt}const offset$2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$1};function popperOffsets(a){var e=a.state,o=a.name;e.modifiersData[o]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(a){return a==="x"?"y":"x"}function preventOverflow(a){var e=a.state,o=a.options,c=a.name,et=o.mainAxis,tt=et===void 0?!0:et,nt=o.altAxis,rt=nt===void 0?!1:nt,mt=o.boundary,gt=o.rootBoundary,yt=o.altBoundary,vt=o.padding,xt=o.tether,bt=xt===void 0?!0:xt,Et=o.tetherOffset,wt=Et===void 0?0:Et,St=detectOverflow(e,{boundary:mt,rootBoundary:gt,padding:vt,altBoundary:yt}),Tt=getBasePlacement(e.placement),kt=getVariation(e.placement),_t=!kt,Mt=getMainAxisFromPlacement(Tt),Pt=getAltAxis(Mt),It=e.modifiersData.popperOffsets,Dt=e.rects.reference,Ct=e.rects.popper,At=typeof wt=="function"?wt(Object.assign({},e.rects,{placement:e.placement})):wt,Lt=typeof At=="number"?{mainAxis:At,altAxis:At}:Object.assign({mainAxis:0,altAxis:0},At),jt=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Bt={x:0,y:0};if(It){if(tt){var zt,Yt=Mt==="y"?top:left,en=Mt==="y"?bottom:right,rn=Mt==="y"?"height":"width",on=It[Mt],Zt=on+St[Yt],an=on-St[en],Xt=bt?-Ct[rn]/2:0,yn=kt===start$1?Dt[rn]:Ct[rn],vn=kt===start$1?-Ct[rn]:-Dt[rn],Nt=e.elements.arrow,$t=bt&&Nt?getLayoutRect(Nt):{width:0,height:0},Ot=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Ft=Ot[Yt],Ut=Ot[en],Gt=within(0,Dt[rn],$t[rn]),Vt=_t?Dt[rn]/2-Xt-Gt-Ft-Lt.mainAxis:yn-Gt-Ft-Lt.mainAxis,Kt=_t?-Dt[rn]/2+Xt+Gt+Ut+Lt.mainAxis:vn+Gt+Ut+Lt.mainAxis,Jt=e.elements.arrow&&getOffsetParent(e.elements.arrow),nn=Jt?Mt==="y"?Jt.clientTop||0:Jt.clientLeft||0:0,sn=(zt=jt==null?void 0:jt[Mt])!=null?zt:0,gn=on+Vt-sn-nn,fn=on+Kt-sn,In=within(bt?min(Zt,gn):Zt,on,bt?max(an,fn):an);It[Mt]=In,Bt[Mt]=In-on}if(rt){var Dn,Gn=Mt==="x"?top:left,rr=Mt==="x"?bottom:right,Bn=It[Pt],An=Pt==="y"?"height":"width",Sn=Bn+St[Gn],xn=Bn-St[rr],wn=[top,left].indexOf(Tt)!==-1,jn=(Dn=jt==null?void 0:jt[Pt])!=null?Dn:0,pn=wn?Sn:Bn-Dt[An]-Ct[An]-jn+Lt.altAxis,Rn=wn?Bn+Dt[An]+Ct[An]-jn-Lt.altAxis:xn,Kn=bt&&wn?withinMaxClamp(pn,Bn,Rn):within(bt?pn:Sn,Bn,bt?Rn:xn);It[Pt]=Kn,Bt[Pt]=Kn-Bn}e.modifiersData[c]=Bt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function getNodeScroll(a){return a===getWindow(a)||!isHTMLElement(a)?getWindowScroll(a):getHTMLElementScroll(a)}function isElementScaled(a){var e=a.getBoundingClientRect(),o=round(e.width)/a.offsetWidth||1,c=round(e.height)/a.offsetHeight||1;return o!==1||c!==1}function getCompositeRect(a,e,o){o===void 0&&(o=!1);var c=isHTMLElement(e),et=isHTMLElement(e)&&isElementScaled(e),tt=getDocumentElement(e),nt=getBoundingClientRect(a,et,o),rt={scrollLeft:0,scrollTop:0},mt={x:0,y:0};return(c||!c&&!o)&&((getNodeName(e)!=="body"||isScrollParent(tt))&&(rt=getNodeScroll(e)),isHTMLElement(e)?(mt=getBoundingClientRect(e,!0),mt.x+=e.clientLeft,mt.y+=e.clientTop):tt&&(mt.x=getWindowScrollBarX(tt))),{x:nt.left+rt.scrollLeft-mt.x,y:nt.top+rt.scrollTop-mt.y,width:nt.width,height:nt.height}}function order$1(a){var e=new Map,o=new Set,c=[];a.forEach(function(tt){e.set(tt.name,tt)});function et(tt){o.add(tt.name);var nt=[].concat(tt.requires||[],tt.requiresIfExists||[]);nt.forEach(function(rt){if(!o.has(rt)){var mt=e.get(rt);mt&&et(mt)}}),c.push(tt)}return a.forEach(function(tt){o.has(tt.name)||et(tt)}),c}function orderModifiers(a){var e=order$1(a);return modifierPhases.reduce(function(o,c){return o.concat(e.filter(function(et){return et.phase===c}))},[])}function debounce(a){var e;return function(){return e||(e=new Promise(function(o){Promise.resolve().then(function(){e=void 0,o(a())})})),e}}function mergeByName(a){var e=a.reduce(function(o,c){var et=o[c.name];return o[c.name]=et?Object.assign({},et,c,{options:Object.assign({},et.options,c.options),data:Object.assign({},et.data,c.data)}):c,o},{});return Object.keys(e).map(function(o){return e[o]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return!e.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function popperGenerator(a){a===void 0&&(a={});var e=a,o=e.defaultModifiers,c=o===void 0?[]:o,et=e.defaultOptions,tt=et===void 0?DEFAULT_OPTIONS:et;return function(rt,mt,gt){gt===void 0&&(gt=tt);var yt={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,tt),modifiersData:{},elements:{reference:rt,popper:mt},attributes:{},styles:{}},vt=[],xt=!1,bt={state:yt,setOptions:function(Tt){var kt=typeof Tt=="function"?Tt(yt.options):Tt;wt(),yt.options=Object.assign({},tt,yt.options,kt),yt.scrollParents={reference:isElement(rt)?listScrollParents(rt):rt.contextElement?listScrollParents(rt.contextElement):[],popper:listScrollParents(mt)};var _t=orderModifiers(mergeByName([].concat(c,yt.options.modifiers)));return yt.orderedModifiers=_t.filter(function(Mt){return Mt.enabled}),Et(),bt.update()},forceUpdate:function(){if(!xt){var Tt=yt.elements,kt=Tt.reference,_t=Tt.popper;if(areValidElements(kt,_t)){yt.rects={reference:getCompositeRect(kt,getOffsetParent(_t),yt.options.strategy==="fixed"),popper:getLayoutRect(_t)},yt.reset=!1,yt.placement=yt.options.placement,yt.orderedModifiers.forEach(function(Lt){return yt.modifiersData[Lt.name]=Object.assign({},Lt.data)});for(var Mt=0;Mt<yt.orderedModifiers.length;Mt++){if(yt.reset===!0){yt.reset=!1,Mt=-1;continue}var Pt=yt.orderedModifiers[Mt],It=Pt.fn,Dt=Pt.options,Ct=Dt===void 0?{}:Dt,At=Pt.name;typeof It=="function"&&(yt=It({state:yt,options:Ct,name:At,instance:bt})||yt)}}}},update:debounce(function(){return new Promise(function(St){bt.forceUpdate(),St(yt)})}),destroy:function(){wt(),xt=!0}};if(!areValidElements(rt,mt))return bt;bt.setOptions(gt).then(function(St){!xt&&gt.onFirstUpdate&&gt.onFirstUpdate(St)});function Et(){yt.orderedModifiers.forEach(function(St){var Tt=St.name,kt=St.options,_t=kt===void 0?{}:kt,Mt=St.effect;if(typeof Mt=="function"){var Pt=Mt({state:yt,name:Tt,instance:bt,options:_t}),It=function(){};vt.push(Pt||It)}})}function wt(){vt.forEach(function(St){return St()}),vt=[]}return bt}}const createPopper=popperGenerator({defaultModifiers:[hide$1,popperOffsets$1,computeStyles$1,eventListeners,offset$2,flip$1,preventOverflow$1,arrow$1]}),_excluded$b=["enabled","placement","strategy","modifiers"];function _objectWithoutPropertiesLoose$a(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}const disabledApplyStylesModifier={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:a})=>()=>{const{reference:e,popper:o}=a.elements;if("removeAttribute"in e){const c=(e.getAttribute("aria-describedby")||"").split(",").filter(et=>et.trim()!==o.id);c.length?e.setAttribute("aria-describedby",c.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:a})=>{var e;const{popper:o,reference:c}=a.elements,et=(e=o.getAttribute("role"))==null?void 0:e.toLowerCase();if(o.id&&et==="tooltip"&&"setAttribute"in c){const tt=c.getAttribute("aria-describedby");if(tt&&tt.split(",").indexOf(o.id)!==-1)return;c.setAttribute("aria-describedby",tt?`${tt},${o.id}`:o.id)}}},EMPTY_MODIFIERS=[];function usePopper(a,e,o={}){let{enabled:c=!0,placement:et="bottom",strategy:tt="absolute",modifiers:nt=EMPTY_MODIFIERS}=o,rt=_objectWithoutPropertiesLoose$a(o,_excluded$b);const mt=reactExports.useRef(nt),gt=reactExports.useRef(),yt=reactExports.useCallback(()=>{var St;(St=gt.current)==null||St.update()},[]),vt=reactExports.useCallback(()=>{var St;(St=gt.current)==null||St.forceUpdate()},[]),[xt,bt]=useSafeState(reactExports.useState({placement:et,update:yt,forceUpdate:vt,attributes:{},styles:{popper:{},arrow:{}}})),Et=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:St})=>{const Tt={},kt={};Object.keys(St.elements).forEach(_t=>{Tt[_t]=St.styles[_t],kt[_t]=St.attributes[_t]}),bt({state:St,styles:Tt,attributes:kt,update:yt,forceUpdate:vt,placement:St.placement})}}),[yt,vt,bt]),wt=reactExports.useMemo(()=>(dequal(mt.current,nt)||(mt.current=nt),mt.current),[nt]);return reactExports.useEffect(()=>{!gt.current||!c||gt.current.setOptions({placement:et,strategy:tt,modifiers:[...wt,Et,disabledApplyStylesModifier]})},[tt,et,Et,c,wt]),reactExports.useEffect(()=>{if(!(!c||a==null||e==null))return gt.current=createPopper(a,e,Object.assign({},rt,{placement:et,strategy:tt,modifiers:[...wt,ariaDescribedByModifier,Et]})),()=>{gt.current!=null&&(gt.current.destroy(),gt.current=void 0,bt(St=>Object.assign({},St,{attributes:{},styles:{popper:{}}})))}},[c,a,e]),xt}function contains(a,e){if(a.contains)return a.contains(e);if(a.compareDocumentPosition)return a===e||!!(a.compareDocumentPosition(e)&16)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1),noop$8=()=>{};function isLeftClickEvent(a){return a.button===0}function isModifiedEvent(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}const getRefTarget=a=>a&&("current"in a?a.current:a),InitialTriggerEvents={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function useClickOutside$1(a,e=noop$8,{disabled:o,clickTrigger:c="click"}={}){const et=reactExports.useRef(!1),tt=reactExports.useRef(!1),nt=reactExports.useCallback(gt=>{const yt=getRefTarget(a);warning$1(!!yt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),et.current=!yt||isModifiedEvent(gt)||!isLeftClickEvent(gt)||!!contains(yt,gt.target)||tt.current,tt.current=!1},[a]),rt=useEventCallback(gt=>{const yt=getRefTarget(a);yt&&contains(yt,gt.target)&&(tt.current=!0)}),mt=useEventCallback(gt=>{et.current||e(gt)});reactExports.useEffect(()=>{var gt,yt;if(o||a==null)return;const vt=ownerDocument(getRefTarget(a)),xt=vt.defaultView||window;let bt=(gt=xt.event)!=null?gt:(yt=xt.parent)==null?void 0:yt.event,Et=null;InitialTriggerEvents[c]&&(Et=listen(vt,InitialTriggerEvents[c],rt,!0));const wt=listen(vt,c,nt,!0),St=listen(vt,c,kt=>{if(kt===bt){bt=void 0;return}mt(kt)});let Tt=[];return"ontouchstart"in vt.documentElement&&(Tt=[].slice.call(vt.body.children).map(kt=>listen(kt,"mousemove",noop$8))),()=>{Et==null||Et(),wt(),St(),Tt.forEach(kt=>kt())}},[a,o,c,nt,rt,mt])}function toModifierMap(a){const e={};return Array.isArray(a)?(a==null||a.forEach(o=>{e[o.name]=o}),e):a||e}function toModifierArray(a={}){return Array.isArray(a)?a:Object.keys(a).map(e=>(a[e].name=e,a[e]))}function mergeOptionsWithPopperConfig({enabled:a,enableEvents:e,placement:o,flip:c,offset:et,fixed:tt,containerPadding:nt,arrowElement:rt,popperConfig:mt={}}){var gt,yt,vt,xt,bt;const Et=toModifierMap(mt.modifiers);return Object.assign({},mt,{placement:o,enabled:a,strategy:tt?"fixed":mt.strategy,modifiers:toModifierArray(Object.assign({},Et,{eventListeners:{enabled:e,options:(gt=Et.eventListeners)==null?void 0:gt.options},preventOverflow:Object.assign({},Et.preventOverflow,{options:nt?Object.assign({padding:nt},(yt=Et.preventOverflow)==null?void 0:yt.options):(vt=Et.preventOverflow)==null?void 0:vt.options}),offset:{options:Object.assign({offset:et},(xt=Et.offset)==null?void 0:xt.options)},arrow:Object.assign({},Et.arrow,{enabled:!!rt,options:Object.assign({},(bt=Et.arrow)==null?void 0:bt.options,{element:rt})}),flip:Object.assign({enabled:!!c},Et.flip)}))})}const _excluded$a=["children","usePopper"];function _objectWithoutPropertiesLoose$9(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}const noop$7=()=>{};function useDropdownMenu(a={}){const e=reactExports.useContext(DropdownContext$1),[o,c]=useCallbackRef(),et=reactExports.useRef(!1),{flip:tt,offset:nt,rootCloseEvent:rt,fixed:mt=!1,placement:gt,popperConfig:yt={},enableEventListeners:vt=!0,usePopper:xt=!!e}=a,bt=(e==null?void 0:e.show)==null?!!a.show:e.show;bt&&!et.current&&(et.current=!0);const Et=It=>{e==null||e.toggle(!1,It)},{placement:wt,setMenu:St,menuElement:Tt,toggleElement:kt}=e||{},_t=usePopper(kt,Tt,mergeOptionsWithPopperConfig({placement:gt||wt||"bottom-start",enabled:xt,enableEvents:vt??bt,offset:nt,flip:tt,fixed:mt,arrowElement:o,popperConfig:yt})),Mt=Object.assign({ref:St||noop$7,"aria-labelledby":kt==null?void 0:kt.id},_t.attributes.popper,{style:_t.styles.popper}),Pt={show:bt,placement:wt,hasShown:et.current,toggle:e==null?void 0:e.toggle,popper:xt?_t:null,arrowProps:xt?Object.assign({ref:c},_t.attributes.arrow,{style:_t.styles.arrow}):{}};return useClickOutside$1(Tt,Et,{clickTrigger:rt,disabled:!bt}),[Mt,Pt]}function DropdownMenu$1(a){let{children:e,usePopper:o=!0}=a,c=_objectWithoutPropertiesLoose$9(a,_excluded$a);const[et,tt]=useDropdownMenu(Object.assign({},c,{usePopper:o}));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e(et,tt)})}DropdownMenu$1.displayName="DropdownMenu";const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(a=!1){let e=reactExports.useContext($b5e257d569688ac6$var$SSRContext),o=reactExports.useRef(null);if(o.current===null&&!a){var c,et;let tt=(et=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||et===void 0||(c=et.ReactCurrentOwner)===null||c===void 0?void 0:c.current;if(tt){let nt=$b5e257d569688ac6$var$componentIds.get(tt);nt==null?$b5e257d569688ac6$var$componentIds.set(tt,{id:e.current,state:tt.memoizedState}):tt.memoizedState!==nt.state&&(e.current=nt.id,$b5e257d569688ac6$var$componentIds.delete(tt))}o.current=++e.current}return o.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(a){let e=reactExports.useContext($b5e257d569688ac6$var$SSRContext);e===$b5e257d569688ac6$var$defaultContext&&!$b5e257d569688ac6$var$canUseDOM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let o=$b5e257d569688ac6$var$useCounter(!!a),c=`react-aria${e.prefix}`;return a||`${c}-${o}`}function $b5e257d569688ac6$var$useModernSSRSafeId(a){let e=React.useId(),[o]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),c=o?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return a||`${c}-${e}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(a){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const isRoleMenu=a=>{var e;return((e=a.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},noop$6=()=>{};function useDropdownToggle(){const a=$b5e257d569688ac6$export$619500959fc48b26(),{show:e=!1,toggle:o=noop$6,setToggle:c,menuElement:et}=reactExports.useContext(DropdownContext$1)||{},tt=reactExports.useCallback(rt=>{o(!e,rt)},[e,o]),nt={id:a,ref:c||noop$6,onClick:tt,"aria-expanded":!!e};return et&&isRoleMenu(et)&&(nt["aria-haspopup"]=!0),[nt,{show:e,toggle:o}]}function DropdownToggle$1({children:a}){const[e,o]=useDropdownToggle();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a(e,o)})}DropdownToggle$1.displayName="DropdownToggle";const SelectableContext=reactExports.createContext(null),makeEventKey=(a,e=null)=>a!=null?String(a):e||null,NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(a){return`${ATTRIBUTE_PREFIX}${a}`}function dataProp(a){return`${PROPERTY_PREFIX}${a}`}const _excluded$9=["eventKey","disabled","onClick","active","as"];function _objectWithoutPropertiesLoose$8(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}function useDropdownItem({key:a,href:e,active:o,disabled:c,onClick:et}){const tt=reactExports.useContext(SelectableContext),nt=reactExports.useContext(NavContext),{activeKey:rt}=nt||{},mt=makeEventKey(a,e),gt=o==null&&a!=null?makeEventKey(rt)===mt:o;return[{onClick:useEventCallback(vt=>{c||(et==null||et(vt),tt&&!vt.isPropagationStopped()&&tt(mt,vt))}),"aria-disabled":c||void 0,"aria-selected":gt,[dataAttr("dropdown-item")]:""},{isActive:gt}]}const DropdownItem$1=reactExports.forwardRef((a,e)=>{let{eventKey:o,disabled:c,onClick:et,active:tt,as:nt=Button$2}=a,rt=_objectWithoutPropertiesLoose$8(a,_excluded$9);const[mt]=useDropdownItem({key:o,href:rt.href,disabled:c,onClick:et,active:tt});return jsxRuntimeExports.jsx(nt,Object.assign({},rt,{ref:e},mt))});DropdownItem$1.displayName="DropdownItem";const Context$1=reactExports.createContext(canUseDOM?window:void 0);Context$1.Provider;function useWindow(){return reactExports.useContext(Context$1)}function useRefWithUpdate(){const a=useForceUpdate(),e=reactExports.useRef(null),o=reactExports.useCallback(c=>{e.current=c,a()},[a]);return[e,o]}function Dropdown$2({defaultShow:a,show:e,onSelect:o,onToggle:c,itemSelector:et=`* [${dataAttr("dropdown-item")}]`,focusFirstItemOnShow:tt,placement:nt="bottom-start",children:rt}){const mt=useWindow(),[gt,yt]=useUncontrolledProp(e,a,c),[vt,xt]=useRefWithUpdate(),bt=vt.current,[Et,wt]=useRefWithUpdate(),St=Et.current,Tt=usePrevious(gt),kt=reactExports.useRef(null),_t=reactExports.useRef(!1),Mt=reactExports.useContext(SelectableContext),Pt=reactExports.useCallback((jt,Bt,zt=Bt==null?void 0:Bt.type)=>{yt(jt,{originalEvent:Bt,source:zt})},[yt]),It=useEventCallback((jt,Bt)=>{o==null||o(jt,Bt),Pt(!1,Bt,"select"),Bt.isPropagationStopped()||Mt==null||Mt(jt,Bt)}),Dt=reactExports.useMemo(()=>({toggle:Pt,placement:nt,show:gt,menuElement:bt,toggleElement:St,setMenu:xt,setToggle:wt}),[Pt,nt,gt,bt,St,xt,wt]);bt&&Tt&&!gt&&(_t.current=bt.contains(bt.ownerDocument.activeElement));const Ct=useEventCallback(()=>{St&&St.focus&&St.focus()}),At=useEventCallback(()=>{const jt=kt.current;let Bt=tt;if(Bt==null&&(Bt=vt.current&&isRoleMenu(vt.current)?"keyboard":!1),Bt===!1||Bt==="keyboard"&&!/^key.+$/.test(jt))return;const zt=qsa(vt.current,et)[0];zt&&zt.focus&&zt.focus()});reactExports.useEffect(()=>{gt?At():_t.current&&(_t.current=!1,Ct())},[gt,_t,Ct,At]),reactExports.useEffect(()=>{kt.current=null});const Lt=(jt,Bt)=>{if(!vt.current)return null;const zt=qsa(vt.current,et);let Yt=zt.indexOf(jt)+Bt;return Yt=Math.max(0,Math.min(Yt,zt.length)),zt[Yt]};return useEventListener(reactExports.useCallback(()=>mt.document,[mt]),"keydown",jt=>{var Bt,zt;const{key:Yt}=jt,en=jt.target,rn=(Bt=vt.current)==null?void 0:Bt.contains(en),on=(zt=Et.current)==null?void 0:zt.contains(en);if(/input|textarea/i.test(en.tagName)&&(Yt===" "||Yt!=="Escape"&&rn||Yt==="Escape"&&en.type==="search")||!rn&&!on||Yt==="Tab"&&(!vt.current||!gt))return;kt.current=jt.type;const an={originalEvent:jt,source:jt.type};switch(Yt){case"ArrowUp":{const Xt=Lt(en,-1);Xt&&Xt.focus&&Xt.focus(),jt.preventDefault();return}case"ArrowDown":if(jt.preventDefault(),!gt)yt(!0,an);else{const Xt=Lt(en,1);Xt&&Xt.focus&&Xt.focus()}return;case"Tab":addEventListener(en.ownerDocument,"keyup",Xt=>{var yn;(Xt.key==="Tab"&&!Xt.target||!((yn=vt.current)!=null&&yn.contains(Xt.target)))&&yt(!1,an)},{once:!0});break;case"Escape":Yt==="Escape"&&(jt.preventDefault(),jt.stopPropagation()),yt(!1,an);break}}),jsxRuntimeExports.jsx(SelectableContext.Provider,{value:It,children:jsxRuntimeExports.jsx(DropdownContext$1.Provider,{value:Dt,children:rt})})}Dropdown$2.displayName="Dropdown";Dropdown$2.Menu=DropdownMenu$1;Dropdown$2.Toggle=DropdownToggle$1;Dropdown$2.Item=DropdownItem$1;const DropdownContext=reactExports.createContext({});DropdownContext.displayName="DropdownContext";const DropdownDivider=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="hr",role:c="separator",...et},tt)=>(e=useBootstrapPrefix(e,"dropdown-divider"),jsxRuntimeExports.jsx(o,{ref:tt,className:classNames(a,e),role:c,...et})));DropdownDivider.displayName="DropdownDivider";const DropdownHeader=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",role:c="heading",...et},tt)=>(e=useBootstrapPrefix(e,"dropdown-header"),jsxRuntimeExports.jsx(o,{ref:tt,className:classNames(a,e),role:c,...et})));DropdownHeader.displayName="DropdownHeader";const DropdownItem=reactExports.forwardRef(({bsPrefix:a,className:e,eventKey:o,disabled:c=!1,onClick:et,active:tt,as:nt=Anchor$1,...rt},mt)=>{const gt=useBootstrapPrefix(a,"dropdown-item"),[yt,vt]=useDropdownItem({key:o,href:rt.href,disabled:c,onClick:et,active:tt});return jsxRuntimeExports.jsx(nt,{...rt,...yt,ref:mt,className:classNames(e,gt,vt.isActive&&"active",c&&"disabled")})});DropdownItem.displayName="DropdownItem";const DropdownItemText=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="span",...c},et)=>(e=useBootstrapPrefix(e,"dropdown-item-text"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));DropdownItemText.displayName="DropdownItemText";const context$1=reactExports.createContext(null);context$1.displayName="InputGroupContext";const context=reactExports.createContext(null);context.displayName="NavbarContext";function useWrappedRefWithWarning(a,e){return a}function getDropdownMenuPlacement(a,e,o){const c=o?"top-end":"top-start",et=o?"top-start":"top-end",tt=o?"bottom-end":"bottom-start",nt=o?"bottom-start":"bottom-end",rt=o?"right-start":"left-start",mt=o?"right-end":"left-end",gt=o?"left-start":"right-start",yt=o?"left-end":"right-end";let vt=a?nt:tt;return e==="up"?vt=a?et:c:e==="end"?vt=a?yt:gt:e==="start"?vt=a?mt:rt:e==="down-centered"?vt="bottom":e==="up-centered"&&(vt="top"),vt}const DropdownMenu=reactExports.forwardRef(({bsPrefix:a,className:e,align:o,rootCloseEvent:c,flip:et=!0,show:tt,renderOnMount:nt,as:rt="div",popperConfig:mt,variant:gt,...yt},vt)=>{let xt=!1;const bt=reactExports.useContext(context),Et=useBootstrapPrefix(a,"dropdown-menu"),{align:wt,drop:St,isRTL:Tt}=reactExports.useContext(DropdownContext);o=o||wt;const kt=reactExports.useContext(context$1),_t=[];if(o)if(typeof o=="object"){const jt=Object.keys(o);if(jt.length){const Bt=jt[0],zt=o[Bt];xt=zt==="start",_t.push(`${Et}-${Bt}-${zt}`)}}else o==="end"&&(xt=!0);const Mt=getDropdownMenuPlacement(xt,St,Tt),[Pt,{hasShown:It,popper:Dt,show:Ct,toggle:At}]=useDropdownMenu({flip:et,rootCloseEvent:c,show:tt,usePopper:!bt&&_t.length===0,offset:[0,2],popperConfig:mt,placement:Mt});if(Pt.ref=useMergedRefs(useWrappedRefWithWarning(vt),Pt.ref),useIsomorphicEffect(()=>{Ct&&(Dt==null||Dt.update())},[Ct]),!It&&!nt&&!kt)return null;typeof rt!="string"&&(Pt.show=Ct,Pt.close=()=>At==null?void 0:At(!1),Pt.align=o);let Lt=yt.style;return Dt!=null&&Dt.placement&&(Lt={...yt.style,...Pt.style},yt["x-placement"]=Dt.placement),jsxRuntimeExports.jsx(rt,{...yt,...Pt,style:Lt,...(_t.length||bt)&&{"data-bs-popper":"static"},className:classNames(e,Et,Ct&&"show",xt&&`${Et}-end`,gt&&`${Et}-${gt}`,..._t)})});DropdownMenu.displayName="DropdownMenu";const DropdownToggle=reactExports.forwardRef(({bsPrefix:a,split:e,className:o,childBsPrefix:c,as:et=Button$1,...tt},nt)=>{const rt=useBootstrapPrefix(a,"dropdown-toggle"),mt=reactExports.useContext(DropdownContext$1);c!==void 0&&(tt.bsPrefix=c);const[gt]=useDropdownToggle();return gt.ref=useMergedRefs(gt.ref,useWrappedRefWithWarning(nt)),jsxRuntimeExports.jsx(et,{className:classNames(o,rt,e&&`${rt}-split`,(mt==null?void 0:mt.show)&&"show"),...gt,...tt})});DropdownToggle.displayName="DropdownToggle";const Dropdown=reactExports.forwardRef((a,e)=>{const{bsPrefix:o,drop:c="down",show:et,className:tt,align:nt="start",onSelect:rt,onToggle:mt,focusFirstItemOnShow:gt,as:yt="div",navbar:vt,autoClose:xt=!0,...bt}=useUncontrolled(a,{show:"onToggle"}),Et=reactExports.useContext(context$1),wt=useBootstrapPrefix(o,"dropdown"),St=useIsRTL(),Tt=Dt=>xt===!1?Dt==="click":xt==="inside"?Dt!=="rootClose":xt==="outside"?Dt!=="select":!0,kt=useEventCallback((Dt,Ct)=>{var At,Lt;!((At=Ct.originalEvent)==null||(Lt=At.target)==null)&&Lt.classList.contains("dropdown-toggle")&&Ct.source==="mousedown"||(Ct.originalEvent.currentTarget===document&&(Ct.source!=="keydown"||Ct.originalEvent.key==="Escape")&&(Ct.source="rootClose"),Tt(Ct.source)&&(mt==null||mt(Dt,Ct)))}),Mt=getDropdownMenuPlacement(nt==="end",c,St),Pt=reactExports.useMemo(()=>({align:nt,drop:c,isRTL:St}),[nt,c,St]),It={down:wt,"down-centered":`${wt}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return jsxRuntimeExports.jsx(DropdownContext.Provider,{value:Pt,children:jsxRuntimeExports.jsx(Dropdown$2,{placement:Mt,show:et,onSelect:rt,onToggle:kt,focusFirstItemOnShow:gt,itemSelector:`.${wt}-item:not(.disabled):not(:disabled)`,children:Et?bt.children:jsxRuntimeExports.jsx(yt,{...bt,ref:e,className:classNames(tt,et&&"show",It[c])})})})});Dropdown.displayName="Dropdown";const Dropdown$1=Object.assign(Dropdown,{Toggle:DropdownToggle,Menu:DropdownMenu,Item:DropdownItem,ItemText:DropdownItemText,Divider:DropdownDivider,Header:DropdownHeader}),propTypes$1={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:a="div",className:e,type:o="valid",tooltip:c=!1,...et},tt)=>jsxRuntimeExports.jsx(a,{...et,ref:tt,className:classNames(e,`${o}-${c?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$1;const FormContext=reactExports.createContext({}),FormCheckInput=reactExports.forwardRef(({id:a,bsPrefix:e,className:o,type:c="checkbox",isValid:et=!1,isInvalid:tt=!1,as:nt="input",...rt},mt)=>{const{controlId:gt}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-check-input"),jsxRuntimeExports.jsx(nt,{...rt,ref:mt,type:c,id:a||gt,className:classNames(o,e,et&&"is-valid",tt&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckLabel=reactExports.forwardRef(({bsPrefix:a,className:e,htmlFor:o,...c},et)=>{const{controlId:tt}=reactExports.useContext(FormContext);return a=useBootstrapPrefix(a,"form-check-label"),jsxRuntimeExports.jsx("label",{...c,ref:et,htmlFor:o||tt,className:classNames(e,a)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheck=reactExports.forwardRef(({id:a,bsPrefix:e,bsSwitchPrefix:o,inline:c=!1,reverse:et=!1,disabled:tt=!1,isValid:nt=!1,isInvalid:rt=!1,feedbackTooltip:mt=!1,feedback:gt,feedbackType:yt,className:vt,style:xt,title:bt="",type:Et="checkbox",label:wt,children:St,as:Tt="input",...kt},_t)=>{e=useBootstrapPrefix(e,"form-check"),o=useBootstrapPrefix(o,"form-switch");const{controlId:Mt}=reactExports.useContext(FormContext),Pt=reactExports.useMemo(()=>({controlId:a||Mt}),[Mt,a]),It=!St&&wt!=null&&wt!==!1||hasChildOfType(St,FormCheckLabel),Dt=jsxRuntimeExports.jsx(FormCheckInput,{...kt,type:Et==="switch"?"checkbox":Et,ref:_t,isValid:nt,isInvalid:rt,disabled:tt,as:Tt});return jsxRuntimeExports.jsx(FormContext.Provider,{value:Pt,children:jsxRuntimeExports.jsx("div",{style:xt,className:classNames(vt,It&&e,c&&`${e}-inline`,et&&`${e}-reverse`,Et==="switch"&&o),children:St||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Dt,It&&jsxRuntimeExports.jsx(FormCheckLabel,{title:bt,children:wt}),gt&&jsxRuntimeExports.jsx(Feedback,{type:yt,tooltip:mt,children:gt})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput,Label:FormCheckLabel}),FormControl=reactExports.forwardRef(({bsPrefix:a,type:e,size:o,htmlSize:c,id:et,className:tt,isValid:nt=!1,isInvalid:rt=!1,plaintext:mt,readOnly:gt,as:yt="input",...vt},xt)=>{const{controlId:bt}=reactExports.useContext(FormContext);return a=useBootstrapPrefix(a,"form-control"),jsxRuntimeExports.jsx(yt,{...vt,type:e,size:c,ref:xt,readOnly:gt,id:et||bt,className:classNames(tt,mt?`${a}-plaintext`:a,o&&`${a}-${o}`,e==="color"&&`${a}-color`,nt&&"is-valid",rt&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback}),FormFloating=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},et)=>(e=useBootstrapPrefix(e,"form-floating"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));FormFloating.displayName="FormFloating";const FormGroup=reactExports.forwardRef(({controlId:a,as:e="div",...o},c)=>{const et=reactExports.useMemo(()=>({controlId:a}),[a]);return jsxRuntimeExports.jsx(FormContext.Provider,{value:et,children:jsxRuntimeExports.jsx(e,{...o,ref:c})})});FormGroup.displayName="FormGroup";const FormLabel=reactExports.forwardRef(({as:a="label",bsPrefix:e,column:o=!1,visuallyHidden:c=!1,className:et,htmlFor:tt,...nt},rt)=>{const{controlId:mt}=reactExports.useContext(FormContext);e=useBootstrapPrefix(e,"form-label");let gt="col-form-label";typeof o=="string"&&(gt=`${gt} ${gt}-${o}`);const yt=classNames(et,e,c&&"visually-hidden",o&&gt);return tt=tt||mt,o?jsxRuntimeExports.jsx(Col,{ref:rt,as:"label",className:yt,htmlFor:tt,...nt}):jsxRuntimeExports.jsx(a,{ref:rt,className:yt,htmlFor:tt,...nt})});FormLabel.displayName="FormLabel";const FormRange=reactExports.forwardRef(({bsPrefix:a,className:e,id:o,...c},et)=>{const{controlId:tt}=reactExports.useContext(FormContext);return a=useBootstrapPrefix(a,"form-range"),jsxRuntimeExports.jsx("input",{...c,type:"range",ref:et,className:classNames(e,a),id:o||tt})});FormRange.displayName="FormRange";const FormSelect=reactExports.forwardRef(({bsPrefix:a,size:e,htmlSize:o,className:c,isValid:et=!1,isInvalid:tt=!1,id:nt,...rt},mt)=>{const{controlId:gt}=reactExports.useContext(FormContext);return a=useBootstrapPrefix(a,"form-select"),jsxRuntimeExports.jsx("select",{...rt,size:o,ref:mt,className:classNames(c,a,e&&`${a}-${e}`,et&&"is-valid",tt&&"is-invalid"),id:nt||gt})});FormSelect.displayName="FormSelect";const FormText=reactExports.forwardRef(({bsPrefix:a,className:e,as:o="small",muted:c,...et},tt)=>(a=useBootstrapPrefix(a,"form-text"),jsxRuntimeExports.jsx(o,{...et,ref:tt,className:classNames(e,a,c&&"text-muted")})));FormText.displayName="FormText";const Switch=reactExports.forwardRef((a,e)=>jsxRuntimeExports.jsx(FormCheck$1,{...a,ref:e,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:a,className:e,children:o,controlId:c,label:et,...tt},nt)=>(a=useBootstrapPrefix(a,"form-floating"),jsxRuntimeExports.jsxs(FormGroup,{ref:nt,className:classNames(e,a),controlId:c,...tt,children:[o,jsxRuntimeExports.jsx("label",{htmlFor:c,children:et})]})));FloatingLabel.displayName="FloatingLabel";const propTypes={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:a,validated:e,as:o="form",...c},et)=>jsxRuntimeExports.jsx(o,{...c,ref:et,className:classNames(a,e&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes;const Form$1=Object.assign(Form,{Group:FormGroup,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel,Text:FormText,Range:FormRange,Select:FormSelect,FloatingLabel}),TabContext=reactExports.createContext(null),_excluded$8=["as","active","eventKey"];function _objectWithoutPropertiesLoose$7(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}function useNavItem({key:a,onClick:e,active:o,id:c,role:et,disabled:tt}){const nt=reactExports.useContext(SelectableContext),rt=reactExports.useContext(NavContext),mt=reactExports.useContext(TabContext);let gt=o;const yt={role:et};if(rt){!et&&rt.role==="tablist"&&(yt.role="tab");const vt=rt.getControllerId(a??null),xt=rt.getControlledId(a??null);yt[dataAttr("event-key")]=a,yt.id=vt||c,gt=o==null&&a!=null?rt.activeKey===a:o,(gt||!(mt!=null&&mt.unmountOnExit)&&!(mt!=null&&mt.mountOnEnter))&&(yt["aria-controls"]=xt)}return yt.role==="tab"&&(yt["aria-selected"]=gt,gt||(yt.tabIndex=-1),tt&&(yt.tabIndex=-1,yt["aria-disabled"]=!0)),yt.onClick=useEventCallback(vt=>{tt||(e==null||e(vt),a!=null&&nt&&!vt.isPropagationStopped()&&nt(a,vt))}),[yt,{isActive:gt}]}const NavItem=reactExports.forwardRef((a,e)=>{let{as:o=Button$2,active:c,eventKey:et}=a,tt=_objectWithoutPropertiesLoose$7(a,_excluded$8);const[nt,rt]=useNavItem(Object.assign({key:makeEventKey(et,tt.href),active:c},tt));return nt[dataAttr("active")]=rt.isActive,jsxRuntimeExports.jsx(o,Object.assign({},tt,nt,{ref:e}))});NavItem.displayName="NavItem";const NavItem$1=NavItem,_excluded$7=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$6(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}const noop$5=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav$1=reactExports.forwardRef((a,e)=>{let{as:o="div",onSelect:c,activeKey:et,role:tt,onKeyDown:nt}=a,rt=_objectWithoutPropertiesLoose$6(a,_excluded$7);const mt=useForceUpdate(),gt=reactExports.useRef(!1),yt=reactExports.useContext(SelectableContext),vt=reactExports.useContext(TabContext);let xt,bt;vt&&(tt=tt||"tablist",et=vt.activeKey,xt=vt.getControlledId,bt=vt.getControllerId);const Et=reactExports.useRef(null),wt=_t=>{const Mt=Et.current;if(!Mt)return null;const Pt=qsa(Mt,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),It=Mt.querySelector("[aria-selected=true]");if(!It||It!==document.activeElement)return null;const Dt=Pt.indexOf(It);if(Dt===-1)return null;let Ct=Dt+_t;return Ct>=Pt.length&&(Ct=0),Ct<0&&(Ct=Pt.length-1),Pt[Ct]},St=(_t,Mt)=>{_t!=null&&(c==null||c(_t,Mt),yt==null||yt(_t,Mt))},Tt=_t=>{if(nt==null||nt(_t),!vt)return;let Mt;switch(_t.key){case"ArrowLeft":case"ArrowUp":Mt=wt(-1);break;case"ArrowRight":case"ArrowDown":Mt=wt(1);break;default:return}Mt&&(_t.preventDefault(),St(Mt.dataset[dataProp("EventKey")]||null,_t),gt.current=!0,mt())};reactExports.useEffect(()=>{if(Et.current&&gt.current){const _t=Et.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);_t==null||_t.focus()}gt.current=!1});const kt=useMergedRefs(e,Et);return jsxRuntimeExports.jsx(SelectableContext.Provider,{value:St,children:jsxRuntimeExports.jsx(NavContext.Provider,{value:{role:tt,activeKey:makeEventKey(et),getControlledId:xt||noop$5,getControllerId:bt||noop$5},children:jsxRuntimeExports.jsx(o,Object.assign({},rt,{onKeyDown:Tt,ref:kt,role:tt}))})})});Nav$1.displayName="Nav";const BaseNav=Object.assign(Nav$1,{Item:NavItem$1}),ListGroupItem=reactExports.forwardRef(({bsPrefix:a,active:e,disabled:o,eventKey:c,className:et,variant:tt,action:nt,as:rt,...mt},gt)=>{a=useBootstrapPrefix(a,"list-group-item");const[yt,vt]=useNavItem({key:makeEventKey(c,mt.href),active:e,...mt}),xt=useEventCallback(Et=>{if(o){Et.preventDefault(),Et.stopPropagation();return}yt.onClick(Et)});o&&mt.tabIndex===void 0&&(mt.tabIndex=-1,mt["aria-disabled"]=!0);const bt=rt||(nt?mt.href?"a":"button":"div");return jsxRuntimeExports.jsx(bt,{ref:gt,...mt,...yt,onClick:xt,className:classNames(et,a,vt.isActive&&"active",o&&"disabled",tt&&`${a}-${tt}`,nt&&`${a}-action`)})});ListGroupItem.displayName="ListGroupItem";const ListGroup=reactExports.forwardRef((a,e)=>{const{className:o,bsPrefix:c,variant:et,horizontal:tt,numbered:nt,as:rt="div",...mt}=useUncontrolled(a,{activeKey:"onSelect"}),gt=useBootstrapPrefix(c,"list-group");let yt;return tt&&(yt=tt===!0?"horizontal":`horizontal-${tt}`),jsxRuntimeExports.jsx(BaseNav,{ref:e,...mt,as:rt,className:classNames(o,gt,et&&`${gt}-${et}`,yt&&`${gt}-${yt}`,nt&&`${gt}-numbered`)})});ListGroup.displayName="ListGroup";const ListGroup$1=Object.assign(ListGroup,{Item:ListGroupItem});function activeElement(a){a===void 0&&(a=ownerDocument());try{var e=a.activeElement;return!e||!e.nodeName?null:e}catch{return a.body}}function getBodyScrollbarWidth(a=document){const e=a.defaultView;return Math.abs(e.innerWidth-a.documentElement.clientWidth)}const OPEN_DATA_ATTRIBUTE=dataAttr("modal-open");class ModalManager{constructor({ownerDocument:e,handleContainerOverflow:o=!0,isRTL:c=!1}={}){this.handleContainerOverflow=o,this.isRTL=c,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return getBodyScrollbarWidth(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const o={overflow:"hidden"},c=this.isRTL?"paddingLeft":"paddingRight",et=this.getElement();e.style={overflow:et.style.overflow,[c]:et.style[c]},e.scrollBarWidth&&(o[c]=`${parseInt(style$1(et,c)||"0",10)+e.scrollBarWidth}px`),et.setAttribute(OPEN_DATA_ATTRIBUTE,""),style$1(et,o)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const o=this.getElement();o.removeAttribute(OPEN_DATA_ATTRIBUTE),Object.assign(o.style,e.style)}add(e){let o=this.modals.indexOf(e);return o!==-1||(o=this.modals.length,this.modals.push(e),this.setModalAttributes(e),o!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),o}remove(e){const o=this.modals.indexOf(e);o!==-1&&(this.modals.splice(o,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const resolveContainerRef=(a,e)=>canUseDOM?a==null?(e||ownerDocument()).body:(typeof a=="function"&&(a=a()),a&&"current"in a&&(a=a.current),a&&("nodeType"in a||a.getBoundingClientRect)?a:null):null;function useWaitForDOMRef(a,e){const o=useWindow(),[c,et]=reactExports.useState(()=>resolveContainerRef(a,o==null?void 0:o.document));if(!c){const tt=resolveContainerRef(a);tt&&et(tt)}return reactExports.useEffect(()=>{},[e,c]),reactExports.useEffect(()=>{const tt=resolveContainerRef(a);tt!==c&&et(tt)},[a,c]),c}function NoopTransition({children:a,in:e,onExited:o,mountOnEnter:c,unmountOnExit:et}){const tt=reactExports.useRef(null),nt=reactExports.useRef(e),rt=useEventCallback(o);reactExports.useEffect(()=>{e?nt.current=!0:rt(tt.current)},[e,rt]);const mt=useMergedRefs(tt,a.ref),gt=reactExports.cloneElement(a,{ref:mt});return e?gt:et||!nt.current&&c?null:gt}function isEscKey(a){return a.code==="Escape"||a.keyCode===27}function getReactVersion(){const a=reactExports.version.split(".");return{major:+a[0],minor:+a[1],patch:+a[2]}}const _excluded$6=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _objectWithoutPropertiesLoose$5(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}function useRTGTransitionProps(a){let{onEnter:e,onEntering:o,onEntered:c,onExit:et,onExiting:tt,onExited:nt,addEndListener:rt,children:mt}=a,gt=_objectWithoutPropertiesLoose$5(a,_excluded$6);const{major:yt}=getReactVersion(),vt=yt>=19?mt.props.ref:mt.ref,xt=reactExports.useRef(null),bt=useMergedRefs(xt,typeof mt=="function"?null:vt),Et=It=>Dt=>{It&&xt.current&&It(xt.current,Dt)},wt=reactExports.useCallback(Et(e),[e]),St=reactExports.useCallback(Et(o),[o]),Tt=reactExports.useCallback(Et(c),[c]),kt=reactExports.useCallback(Et(et),[et]),_t=reactExports.useCallback(Et(tt),[tt]),Mt=reactExports.useCallback(Et(nt),[nt]),Pt=reactExports.useCallback(Et(rt),[rt]);return Object.assign({},gt,{nodeRef:xt},e&&{onEnter:wt},o&&{onEntering:St},c&&{onEntered:Tt},et&&{onExit:kt},tt&&{onExiting:_t},nt&&{onExited:Mt},rt&&{addEndListener:Pt},{children:typeof mt=="function"?(It,Dt)=>mt(It,Object.assign({},Dt,{ref:bt})):reactExports.cloneElement(mt,{ref:bt})})}const _excluded$5=["component"];function _objectWithoutPropertiesLoose$4(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}const RTGTransition=reactExports.forwardRef((a,e)=>{let{component:o}=a,c=_objectWithoutPropertiesLoose$4(a,_excluded$5);const et=useRTGTransitionProps(c);return jsxRuntimeExports.jsx(o,Object.assign({ref:e},et))});function useTransition({in:a,onTransition:e}){const o=reactExports.useRef(null),c=reactExports.useRef(!0),et=useEventCallback(e);return useIsomorphicEffect(()=>{if(!o.current)return;let tt=!1;return et({in:a,element:o.current,initial:c.current,isStale:()=>tt}),()=>{tt=!0}},[a,et]),useIsomorphicEffect(()=>(c.current=!1,()=>{c.current=!0}),[]),o}function ImperativeTransition({children:a,in:e,onExited:o,onEntered:c,transition:et}){const[tt,nt]=reactExports.useState(!e);e&&tt&&nt(!1);const rt=useTransition({in:!!e,onTransition:gt=>{const yt=()=>{gt.isStale()||(gt.in?c==null||c(gt.element,gt.initial):(nt(!0),o==null||o(gt.element)))};Promise.resolve(et(gt)).then(yt,vt=>{throw gt.in||nt(!0),vt})}}),mt=useMergedRefs(rt,a.ref);return tt&&!e?null:reactExports.cloneElement(a,{ref:mt})}function renderTransition(a,e,o){return a?jsxRuntimeExports.jsx(RTGTransition,Object.assign({},o,{component:a})):e?jsxRuntimeExports.jsx(ImperativeTransition,Object.assign({},o,{transition:e})):jsxRuntimeExports.jsx(NoopTransition,Object.assign({},o))}const _excluded$4=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _objectWithoutPropertiesLoose$3(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}let manager;function getManager(a){return manager||(manager=new ModalManager({ownerDocument:a==null?void 0:a.document})),manager}function useModalManager(a){const e=useWindow(),o=a||getManager(e),c=reactExports.useRef({dialog:null,backdrop:null});return Object.assign(c.current,{add:()=>o.add(c.current),remove:()=>o.remove(c.current),isTopModal:()=>o.isTopModal(c.current),setDialogRef:reactExports.useCallback(et=>{c.current.dialog=et},[]),setBackdropRef:reactExports.useCallback(et=>{c.current.backdrop=et},[])})}const Modal=reactExports.forwardRef((a,e)=>{let{show:o=!1,role:c="dialog",className:et,style:tt,children:nt,backdrop:rt=!0,keyboard:mt=!0,onBackdropClick:gt,onEscapeKeyDown:yt,transition:vt,runTransition:xt,backdropTransition:bt,runBackdropTransition:Et,autoFocus:wt=!0,enforceFocus:St=!0,restoreFocus:Tt=!0,restoreFocusOptions:kt,renderDialog:_t,renderBackdrop:Mt=fn=>jsxRuntimeExports.jsx("div",Object.assign({},fn)),manager:Pt,container:It,onShow:Dt,onHide:Ct=()=>{},onExit:At,onExited:Lt,onExiting:jt,onEnter:Bt,onEntering:zt,onEntered:Yt}=a,en=_objectWithoutPropertiesLoose$3(a,_excluded$4);const rn=useWindow(),on=useWaitForDOMRef(It),Zt=useModalManager(Pt),an=useMounted(),Xt=usePrevious(o),[yn,vn]=reactExports.useState(!o),Nt=reactExports.useRef(null);reactExports.useImperativeHandle(e,()=>Zt,[Zt]),canUseDOM&&!Xt&&o&&(Nt.current=activeElement(rn==null?void 0:rn.document)),o&&yn&&vn(!1);const $t=useEventCallback(()=>{if(Zt.add(),Kt.current=listen(document,"keydown",Gt),Vt.current=listen(document,"focus",()=>setTimeout(Ft),!0),Dt&&Dt(),wt){var fn,In;const Dn=activeElement((fn=(In=Zt.dialog)==null?void 0:In.ownerDocument)!=null?fn:rn==null?void 0:rn.document);Zt.dialog&&Dn&&!contains(Zt.dialog,Dn)&&(Nt.current=Dn,Zt.dialog.focus())}}),Ot=useEventCallback(()=>{if(Zt.remove(),Kt.current==null||Kt.current(),Vt.current==null||Vt.current(),Tt){var fn;(fn=Nt.current)==null||fn.focus==null||fn.focus(kt),Nt.current=null}});reactExports.useEffect(()=>{!o||!on||$t()},[o,on,$t]),reactExports.useEffect(()=>{yn&&Ot()},[yn,Ot]),useWillUnmount(()=>{Ot()});const Ft=useEventCallback(()=>{if(!St||!an()||!Zt.isTopModal())return;const fn=activeElement(rn==null?void 0:rn.document);Zt.dialog&&fn&&!contains(Zt.dialog,fn)&&Zt.dialog.focus()}),Ut=useEventCallback(fn=>{fn.target===fn.currentTarget&&(gt==null||gt(fn),rt===!0&&Ct())}),Gt=useEventCallback(fn=>{mt&&isEscKey(fn)&&Zt.isTopModal()&&(yt==null||yt(fn),fn.defaultPrevented||Ct())}),Vt=reactExports.useRef(),Kt=reactExports.useRef(),Jt=(...fn)=>{vn(!0),Lt==null||Lt(...fn)};if(!on)return null;const nn=Object.assign({role:c,ref:Zt.setDialogRef,"aria-modal":c==="dialog"?!0:void 0},en,{style:tt,className:et,tabIndex:-1});let sn=_t?_t(nn):jsxRuntimeExports.jsx("div",Object.assign({},nn,{children:reactExports.cloneElement(nt,{role:"document"})}));sn=renderTransition(vt,xt,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!o,onExit:At,onExiting:jt,onExited:Jt,onEnter:Bt,onEntering:zt,onEntered:Yt,children:sn});let gn=null;return rt&&(gn=Mt({ref:Zt.setBackdropRef,onClick:Ut}),gn=renderTransition(bt,Et,{in:!!o,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:gn})),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ReactDOM.createPortal(jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[gn,sn]}),on)})});Modal.displayName="Modal";const BaseModal=Object.assign(Modal,{Manager:ModalManager});function hasClass(a,e){return a.classList?a.classList.contains(e):(" "+(a.className.baseVal||a.className)+" ").indexOf(" "+e+" ")!==-1}function addClass(a,e){a.classList?a.classList.add(e):hasClass(a,e)||(typeof a.className=="string"?a.className=a.className+" "+e:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+e))}function replaceClassName(a,e){return a.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass(a,e){a.classList?a.classList.remove(e):typeof a.className=="string"?a.className=replaceClassName(a.className,e):a.setAttribute("class",replaceClassName(a.className&&a.className.baseVal||"",e))}const Selector={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class BootstrapModalManager extends ModalManager{adjustAndStore(e,o,c){const et=o.style[e];o.dataset[e]=et,style$1(o,{[e]:`${parseFloat(style$1(o,e))+c}px`})}restore(e,o){const c=o.dataset[e];c!==void 0&&(delete o.dataset[e],style$1(o,{[e]:c}))}setContainerStyle(e){super.setContainerStyle(e);const o=this.getElement();if(addClass(o,"modal-open"),!e.scrollBarWidth)return;const c=this.isRTL?"paddingLeft":"paddingRight",et=this.isRTL?"marginLeft":"marginRight";qsa(o,Selector.FIXED_CONTENT).forEach(tt=>this.adjustAndStore(c,tt,e.scrollBarWidth)),qsa(o,Selector.STICKY_CONTENT).forEach(tt=>this.adjustAndStore(et,tt,-e.scrollBarWidth)),qsa(o,Selector.NAVBAR_TOGGLER).forEach(tt=>this.adjustAndStore(et,tt,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const o=this.getElement();removeClass(o,"modal-open");const c=this.isRTL?"paddingLeft":"paddingRight",et=this.isRTL?"marginLeft":"marginRight";qsa(o,Selector.FIXED_CONTENT).forEach(tt=>this.restore(c,tt)),qsa(o,Selector.STICKY_CONTENT).forEach(tt=>this.restore(et,tt)),qsa(o,Selector.NAVBAR_TOGGLER).forEach(tt=>this.restore(et,tt))}}let sharedManager;function getSharedManager(a){return sharedManager||(sharedManager=new BootstrapModalManager(a)),sharedManager}const ModalContext=reactExports.createContext({onHide(){}}),AbstractModalHeader=reactExports.forwardRef(({closeLabel:a="Close",closeVariant:e,closeButton:o=!1,onHide:c,children:et,...tt},nt)=>{const rt=reactExports.useContext(ModalContext),mt=useEventCallback(()=>{rt==null||rt.onHide(),c==null||c()});return jsxRuntimeExports.jsxs("div",{ref:nt,...tt,children:[et,o&&jsxRuntimeExports.jsx(CloseButton$1,{"aria-label":a,variant:e,onClick:mt})]})}),matchersByWindow=new WeakMap,getMatcher=(a,e)=>{if(!a||!e)return;const o=matchersByWindow.get(e)||new Map;matchersByWindow.set(e,o);let c=o.get(a);return c||(c=e.matchMedia(a),c.refCount=0,o.set(c.media,c)),c};function useMediaQuery(a,e=typeof window>"u"?void 0:window){const o=getMatcher(a,e),[c,et]=reactExports.useState(()=>o?o.matches:!1);return useIsomorphicEffect(()=>{let tt=getMatcher(a,e);if(!tt)return et(!1);let nt=matchersByWindow.get(e);const rt=()=>{et(tt.matches)};return tt.refCount++,tt.addListener(rt),rt(),()=>{tt.removeListener(rt),tt.refCount--,tt.refCount<=0&&(nt==null||nt.delete(tt.media)),tt=void 0}},[a]),c}function createBreakpointHook(a){const e=Object.keys(a);function o(rt,mt){return rt===mt?mt:rt?`${rt} and ${mt}`:mt}function c(rt){return e[Math.min(e.indexOf(rt)+1,e.length-1)]}function et(rt){const mt=c(rt);let gt=a[mt];return typeof gt=="number"?gt=`${gt-.2}px`:gt=`calc(${gt} - 0.2px)`,`(max-width: ${gt})`}function tt(rt){let mt=a[rt];return typeof mt=="number"&&(mt=`${mt}px`),`(min-width: ${mt})`}function nt(rt,mt,gt){let yt;typeof rt=="object"?(yt=rt,gt=mt,mt=!0):(mt=mt||!0,yt={[rt]:mt});let vt=reactExports.useMemo(()=>Object.entries(yt).reduce((xt,[bt,Et])=>((Et==="up"||Et===!0)&&(xt=o(xt,tt(bt))),(Et==="down"||Et===!0)&&(xt=o(xt,et(bt))),xt),""),[JSON.stringify(yt)]);return useMediaQuery(vt,gt)}return nt}const useBreakpoint=createBreakpointHook({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),OffcanvasBody=reactExports.forwardRef(({className:a,bsPrefix:e,as:o="div",...c},et)=>(e=useBootstrapPrefix(e,"offcanvas-body"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));OffcanvasBody.displayName="OffcanvasBody";const transitionStyles={[ENTERING]:"show",[ENTERED]:"show"},OffcanvasToggling=reactExports.forwardRef(({bsPrefix:a,className:e,children:o,in:c=!1,mountOnEnter:et=!1,unmountOnExit:tt=!1,appear:nt=!1,...rt},mt)=>(a=useBootstrapPrefix(a,"offcanvas"),jsxRuntimeExports.jsx(TransitionWrapper,{ref:mt,addEndListener:transitionEndListener,in:c,mountOnEnter:et,unmountOnExit:tt,appear:nt,...rt,childRef:o.ref,children:(gt,yt)=>reactExports.cloneElement(o,{...yt,className:classNames(e,o.props.className,(gt===ENTERING||gt===EXITING)&&`${a}-toggling`,transitionStyles[gt])})})));OffcanvasToggling.displayName="OffcanvasToggling";const OffcanvasHeader=reactExports.forwardRef(({bsPrefix:a,className:e,closeLabel:o="Close",closeButton:c=!1,...et},tt)=>(a=useBootstrapPrefix(a,"offcanvas-header"),jsxRuntimeExports.jsx(AbstractModalHeader,{ref:tt,...et,className:classNames(e,a),closeLabel:o,closeButton:c})));OffcanvasHeader.displayName="OffcanvasHeader";const DivStyledAsH5=divWithClassName("h5"),OffcanvasTitle=reactExports.forwardRef(({className:a,bsPrefix:e,as:o=DivStyledAsH5,...c},et)=>(e=useBootstrapPrefix(e,"offcanvas-title"),jsxRuntimeExports.jsx(o,{ref:et,className:classNames(a,e),...c})));OffcanvasTitle.displayName="OffcanvasTitle";function DialogTransition(a){return jsxRuntimeExports.jsx(OffcanvasToggling,{...a})}function BackdropTransition(a){return jsxRuntimeExports.jsx(Fade,{...a})}const Offcanvas=reactExports.forwardRef(({bsPrefix:a,className:e,children:o,"aria-labelledby":c,placement:et="start",responsive:tt,show:nt=!1,backdrop:rt=!0,keyboard:mt=!0,scroll:gt=!1,onEscapeKeyDown:yt,onShow:vt,onHide:xt,container:bt,autoFocus:Et=!0,enforceFocus:wt=!0,restoreFocus:St=!0,restoreFocusOptions:Tt,onEntered:kt,onExit:_t,onExiting:Mt,onEnter:Pt,onEntering:It,onExited:Dt,backdropClassName:Ct,manager:At,renderStaticNode:Lt=!1,...jt},Bt)=>{const zt=reactExports.useRef();a=useBootstrapPrefix(a,"offcanvas");const{onToggle:Yt}=reactExports.useContext(context)||{},[en,rn]=reactExports.useState(!1),on=useBreakpoint(tt||"xs","up");reactExports.useEffect(()=>{rn(tt?nt&&!on:nt)},[nt,tt,on]);const Zt=useEventCallback(()=>{Yt==null||Yt(),xt==null||xt()}),an=reactExports.useMemo(()=>({onHide:Zt}),[Zt]);function Xt(){return At||(gt?(zt.current||(zt.current=new BootstrapModalManager({handleContainerOverflow:!1})),zt.current):getSharedManager())}const yn=(Ot,...Ft)=>{Ot&&(Ot.style.visibility="visible"),Pt==null||Pt(Ot,...Ft)},vn=(Ot,...Ft)=>{Ot&&(Ot.style.visibility=""),Dt==null||Dt(...Ft)},Nt=reactExports.useCallback(Ot=>jsxRuntimeExports.jsx("div",{...Ot,className:classNames(`${a}-backdrop`,Ct)}),[Ct,a]),$t=Ot=>jsxRuntimeExports.jsx("div",{...Ot,...jt,className:classNames(e,tt?`${a}-${tt}`:a,`${a}-${et}`),"aria-labelledby":c,children:o});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!en&&(tt||Lt)&&$t({}),jsxRuntimeExports.jsx(ModalContext.Provider,{value:an,children:jsxRuntimeExports.jsx(BaseModal,{show:en,ref:Bt,backdrop:rt,container:bt,keyboard:mt,autoFocus:Et,enforceFocus:wt&&!gt,restoreFocus:St,restoreFocusOptions:Tt,onEscapeKeyDown:yt,onShow:vt,onHide:Zt,onEnter:yn,onEntering:It,onEntered:kt,onExit:_t,onExiting:Mt,onExited:vn,manager:Xt(),transition:DialogTransition,backdropTransition:BackdropTransition,renderBackdrop:Nt,renderDialog:$t})})]})});Offcanvas.displayName="Offcanvas";const Offcanvas$1=Object.assign(Offcanvas,{Body:OffcanvasBody,Header:OffcanvasHeader,Title:OffcanvasTitle}),Row=reactExports.forwardRef(({bsPrefix:a,className:e,as:o="div",...c},et)=>{const tt=useBootstrapPrefix(a,"row"),nt=useBootstrapBreakpoints(),rt=useBootstrapMinBreakpoint(),mt=`${tt}-cols`,gt=[];return nt.forEach(yt=>{const vt=c[yt];delete c[yt];let xt;vt!=null&&typeof vt=="object"?{cols:xt}=vt:xt=vt;const bt=yt!==rt?`-${yt}`:"";xt!=null&&gt.push(`${mt}${bt}-${xt}`)}),jsxRuntimeExports.jsx(o,{ref:et,...c,className:classNames(e,tt,...gt)})});Row.displayName="Row";function ownKeys$i(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread2$1(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$i(Object(o),!0).forEach(function(c){_defineProperty$3(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$i(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}function _typeof$2(a){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(a)}function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,e){for(var o=0;o<e.length;o++){var c=e[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function _createClass(a,e,o){return e&&_defineProperties(a.prototype,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty$3(a,e,o){return e in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function _slicedToArray(a,e){return _arrayWithHoles(a)||_iterableToArrayLimit(a,e)||_unsupportedIterableToArray$1(a,e)||_nonIterableRest()}function _toConsumableArray$1(a){return _arrayWithoutHoles$1(a)||_iterableToArray$1(a)||_unsupportedIterableToArray$1(a)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(a){if(Array.isArray(a))return _arrayLikeToArray$1(a)}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _iterableToArray$1(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _iterableToArrayLimit(a,e){var o=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(o!=null){var c=[],et=!0,tt=!1,nt,rt;try{for(o=o.call(a);!(et=(nt=o.next()).done)&&(c.push(nt.value),!(e&&c.length===e));et=!0);}catch(mt){tt=!0,rt=mt}finally{try{!et&&o.return!=null&&o.return()}finally{if(tt)throw rt}}return c}}function _unsupportedIterableToArray$1(a,e){if(a){if(typeof a=="string")return _arrayLikeToArray$1(a,e);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$1(a,e)}}function _arrayLikeToArray$1(a,e){(e==null||e>a.length)&&(e=a.length);for(var o=0,c=new Array(e);o<e;o++)c[o]=a[o];return c}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var noop$4=function(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop$4,measure:noop$4};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch{}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/"),_familyProxy,_familyProxy2,_familyProxy3,_familyProxy4,_familyProxy5,NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=function(){try{return!0}catch{return!1}}(),FAMILY_CLASSIC="classic",FAMILY_SHARP="sharp",FAMILIES=[FAMILY_CLASSIC,FAMILY_SHARP];function familyProxy(a){return new Proxy(a,{get:function(o,c){return c in o?o[c]:o[FAMILY_CLASSIC]}})}var PREFIX_TO_STYLE=familyProxy((_familyProxy={},_defineProperty$3(_familyProxy,FAMILY_CLASSIC,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),_defineProperty$3(_familyProxy,FAMILY_SHARP,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),_familyProxy)),STYLE_TO_PREFIX=familyProxy((_familyProxy2={},_defineProperty$3(_familyProxy2,FAMILY_CLASSIC,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_defineProperty$3(_familyProxy2,FAMILY_SHARP,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),_familyProxy2)),PREFIX_TO_LONG_STYLE=familyProxy((_familyProxy3={},_defineProperty$3(_familyProxy3,FAMILY_CLASSIC,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_defineProperty$3(_familyProxy3,FAMILY_SHARP,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),_familyProxy3)),LONG_STYLE_TO_PREFIX=familyProxy((_familyProxy4={},_defineProperty$3(_familyProxy4,FAMILY_CLASSIC,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_defineProperty$3(_familyProxy4,FAMILY_SHARP,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),_familyProxy4)),ICON_SELECTION_SYNTAX_PATTERN=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FONT_WEIGHT_TO_PREFIX=familyProxy((_familyProxy5={},_defineProperty$3(_familyProxy5,FAMILY_CLASSIC,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_defineProperty$3(_familyProxy5,FAMILY_SHARP,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),_familyProxy5)),oneToTen=[1,2,3,4,5,6,7,8,9,10],oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},prefixes=new Set;Object.keys(STYLE_TO_PREFIX[FAMILY_CLASSIC]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[FAMILY_SHARP]).map(prefixes.add.bind(prefixes));var RESERVED_CLASSES=[].concat(FAMILIES,_toConsumableArray$1(prefixes),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY]).concat(oneToTen.map(function(a){return"".concat(a,"x")})).concat(oneToTwenty.map(function(a){return"w-".concat(a)})),initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(a){var e=DOCUMENT.querySelector("script["+a+"]");if(e)return e.getAttribute(a)}function coerce(a){return a===""?!0:a==="false"?!1:a==="true"?!0:a}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(a){var e=_slicedToArray(a,2),o=e[0],c=e[1],et=coerce(getAttrConfig(o));et!=null&&(initial[c]=et)})}var _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);var _config=_objectSpread2$1(_objectSpread2$1({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config={};Object.keys(_default).forEach(function(a){Object.defineProperty(config,a,{enumerable:!0,set:function(o){_config[a]=o,_onChangeCb.forEach(function(c){return c(config)})},get:function(){return _config[a]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function(e){_config.cssPrefix=e,_onChangeCb.forEach(function(o){return o(config)})},get:function(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;var _onChangeCb=[];function onChange(a){return _onChangeCb.push(a),function(){_onChangeCb.splice(_onChangeCb.indexOf(a),1)}}var d=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(a){if(!(!a||!IS_DOM)){var e=DOCUMENT.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=a;for(var o=DOCUMENT.head.childNodes,c=null,et=o.length-1;et>-1;et--){var tt=o[et],nt=(tt.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(nt)>-1&&(c=tt)}return DOCUMENT.head.insertBefore(e,c),a}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var a=12,e="";a-- >0;)e+=idPool[Math.random()*62|0];return e}function toArray(a){for(var e=[],o=(a||[]).length>>>0;o--;)e[o]=a[o];return e}function classArray(a){return a.classList?toArray(a.classList):(a.getAttribute("class")||"").split(" ").filter(function(e){return e})}function htmlEscape(a){return"".concat(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(a){return Object.keys(a||{}).reduce(function(e,o){return e+"".concat(o,'="').concat(htmlEscape(a[o]),'" ')},"").trim()}function joinStyles(a){return Object.keys(a||{}).reduce(function(e,o){return e+"".concat(o,": ").concat(a[o].trim(),";")},"")}function transformIsMeaningful(a){return a.size!==meaninglessTransform.size||a.x!==meaninglessTransform.x||a.y!==meaninglessTransform.y||a.rotate!==meaninglessTransform.rotate||a.flipX||a.flipY}function transformForSvg(a){var e=a.transform,o=a.containerWidth,c=a.iconWidth,et={transform:"translate(".concat(o/2," 256)")},tt="translate(".concat(e.x*32,", ").concat(e.y*32,") "),nt="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),rt="rotate(".concat(e.rotate," 0 0)"),mt={transform:"".concat(tt," ").concat(nt," ").concat(rt)},gt={transform:"translate(".concat(c/2*-1," -256)")};return{outer:et,inner:mt,path:gt}}function transformForCss(a){var e=a.transform,o=a.width,c=o===void 0?UNITS_IN_GRID:o,et=a.height,tt=et===void 0?UNITS_IN_GRID:et,nt=a.startCentered,rt=nt===void 0?!1:nt,mt="";return rt&&IS_IE?mt+="translate(".concat(e.x/d-c/2,"em, ").concat(e.y/d-tt/2,"em) "):rt?mt+="translate(calc(-50% + ".concat(e.x/d,"em), calc(-50% + ").concat(e.y/d,"em)) "):mt+="translate(".concat(e.x/d,"em, ").concat(e.y/d,"em) "),mt+="scale(".concat(e.size/d*(e.flipX?-1:1),", ").concat(e.size/d*(e.flipY?-1:1),") "),mt+="rotate(".concat(e.rotate,"deg) "),mt}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, 0));
          transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){var a=DEFAULT_CSS_PREFIX,e=DEFAULT_REPLACEMENT_CLASS,o=config.cssPrefix,c=config.replacementClass,et=baseStyles;if(o!==a||c!==e){var tt=new RegExp("\\.".concat(a,"\\-"),"g"),nt=new RegExp("\\--".concat(a,"\\-"),"g"),rt=new RegExp("\\.".concat(e),"g");et=et.replace(tt,".".concat(o,"-")).replace(nt,"--".concat(o,"-")).replace(rt,".".concat(c))}return et}var _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout:function(){return{dom:{css,insertCss:ensureCss}}},hooks:function(){return{beforeDOMElementCreation:function(){ensureCss()},beforeI2svg:function(){ensureCss()}}}},w$1=WINDOW||{};w$1[NAMESPACE_IDENTIFIER]||(w$1[NAMESPACE_IDENTIFIER]={});w$1[NAMESPACE_IDENTIFIER].styles||(w$1[NAMESPACE_IDENTIFIER].styles={});w$1[NAMESPACE_IDENTIFIER].hooks||(w$1[NAMESPACE_IDENTIFIER].hooks={});w$1[NAMESPACE_IDENTIFIER].shims||(w$1[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w$1[NAMESPACE_IDENTIFIER],functions$1=[],listener=function a(){DOCUMENT.removeEventListener("DOMContentLoaded",a),loaded=1,functions$1.map(function(e){return e()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(a){IS_DOM&&(loaded?setTimeout(a,0):functions$1.push(a))}function toHtml(a){var e=a.tag,o=a.attributes,c=o===void 0?{}:o,et=a.children,tt=et===void 0?[]:et;return typeof a=="string"?htmlEscape(a):"<".concat(e," ").concat(joinAttributes(c),">").concat(tt.map(toHtml).join(""),"</").concat(e,">")}function iconFromMapping(a,e,o){if(a&&a[e]&&a[e][o])return{prefix:e,iconName:o,icon:a[e][o]}}var reduce$1=function(e,o,c,et){var tt=Object.keys(e),nt=tt.length,rt=o,mt,gt,yt;for(c===void 0?(mt=1,yt=e[tt[0]]):(mt=0,yt=c);mt<nt;mt++)gt=tt[mt],yt=rt(yt,e[gt],gt,e);return yt};function ucs2decode(a){for(var e=[],o=0,c=a.length;o<c;){var et=a.charCodeAt(o++);if(et>=55296&&et<=56319&&o<c){var tt=a.charCodeAt(o++);(tt&64512)==56320?e.push(((et&1023)<<10)+(tt&1023)+65536):(e.push(et),o--)}else e.push(et)}return e}function toHex(a){var e=ucs2decode(a);return e.length===1?e[0].toString(16):null}function codePointAt(a,e){var o=a.length,c=a.charCodeAt(e),et;return c>=55296&&c<=56319&&o>e+1&&(et=a.charCodeAt(e+1),et>=56320&&et<=57343)?(c-55296)*1024+et-56320+65536:c}function normalizeIcons(a){return Object.keys(a).reduce(function(e,o){var c=a[o],et=!!c.icon;return et?e[c.iconName]=c.icon:e[o]=c,e},{})}function defineIcons(a,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=o.skipHooks,et=c===void 0?!1:c,tt=normalizeIcons(e);typeof namespace.hooks.addPack=="function"&&!et?namespace.hooks.addPack(a,normalizeIcons(e)):namespace.styles[a]=_objectSpread2$1(_objectSpread2$1({},namespace.styles[a]||{}),tt),a==="fas"&&defineIcons("fa",e)}var _LONG_STYLE,_PREFIXES,_PREFIXES_FOR_FAMILY,styles$1=namespace.styles,shims=namespace.shims,LONG_STYLE=(_LONG_STYLE={},_defineProperty$3(_LONG_STYLE,FAMILY_CLASSIC,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$3(_LONG_STYLE,FAMILY_SHARP,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_LONG_STYLE),_defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={},PREFIXES=(_PREFIXES={},_defineProperty$3(_PREFIXES,FAMILY_CLASSIC,Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC])),_defineProperty$3(_PREFIXES,FAMILY_SHARP,Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP])),_PREFIXES);function isReserved(a){return~RESERVED_CLASSES.indexOf(a)}function getIconName(a,e){var o=e.split("-"),c=o[0],et=o.slice(1).join("-");return c===a&&et!==""&&!isReserved(et)?et:null}var build=function(){var e=function(tt){return reduce$1(styles$1,function(nt,rt,mt){return nt[mt]=reduce$1(rt,tt,{}),nt},{})};_byUnicode=e(function(et,tt,nt){if(tt[3]&&(et[tt[3]]=nt),tt[2]){var rt=tt[2].filter(function(mt){return typeof mt=="number"});rt.forEach(function(mt){et[mt.toString(16)]=nt})}return et}),_byLigature=e(function(et,tt,nt){if(et[nt]=nt,tt[2]){var rt=tt[2].filter(function(mt){return typeof mt=="string"});rt.forEach(function(mt){et[mt]=nt})}return et}),_byAlias=e(function(et,tt,nt){var rt=tt[2];return et[nt]=nt,rt.forEach(function(mt){et[mt]=nt}),et});var o="far"in styles$1||config.autoFetchSvg,c=reduce$1(shims,function(et,tt){var nt=tt[0],rt=tt[1],mt=tt[2];return rt==="far"&&!o&&(rt="fas"),typeof nt=="string"&&(et.names[nt]={prefix:rt,iconName:mt}),typeof nt=="number"&&(et.unicodes[nt.toString(16)]={prefix:rt,iconName:mt}),et},{names:{},unicodes:{}});_byOldName=c.names,_byOldUnicode=c.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(function(a){_defaultUsablePrefix=getCanonicalPrefix(a.styleDefault,{family:config.familyDefault})});build();function byUnicode(a,e){return(_byUnicode[a]||{})[e]}function byLigature(a,e){return(_byLigature[a]||{})[e]}function byAlias(a,e){return(_byAlias[a]||{})[e]}function byOldName(a){return _byOldName[a]||{prefix:null,iconName:null}}function byOldUnicode(a){var e=_byOldUnicode[a],o=byUnicode("fas",a);return e||(o?{prefix:"fas",iconName:o}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}var emptyCanonicalIcon=function(){return{prefix:null,iconName:null,rest:[]}};function getCanonicalPrefix(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.family,c=o===void 0?FAMILY_CLASSIC:o,et=PREFIX_TO_STYLE[c][a],tt=STYLE_TO_PREFIX[c][a]||STYLE_TO_PREFIX[c][et],nt=a in namespace.styles?a:null;return tt||nt||null}var PREFIXES_FOR_FAMILY=(_PREFIXES_FOR_FAMILY={},_defineProperty$3(_PREFIXES_FOR_FAMILY,FAMILY_CLASSIC,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$3(_PREFIXES_FOR_FAMILY,FAMILY_SHARP,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_PREFIXES_FOR_FAMILY);function getCanonicalIcon(a){var e,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.skipLookups,et=c===void 0?!1:c,tt=(e={},_defineProperty$3(e,FAMILY_CLASSIC,"".concat(config.cssPrefix,"-").concat(FAMILY_CLASSIC)),_defineProperty$3(e,FAMILY_SHARP,"".concat(config.cssPrefix,"-").concat(FAMILY_SHARP)),e),nt=null,rt=FAMILY_CLASSIC;(a.includes(tt[FAMILY_CLASSIC])||a.some(function(gt){return PREFIXES_FOR_FAMILY[FAMILY_CLASSIC].includes(gt)}))&&(rt=FAMILY_CLASSIC),(a.includes(tt[FAMILY_SHARP])||a.some(function(gt){return PREFIXES_FOR_FAMILY[FAMILY_SHARP].includes(gt)}))&&(rt=FAMILY_SHARP);var mt=a.reduce(function(gt,yt){var vt=getIconName(config.cssPrefix,yt);if(styles$1[yt]?(yt=LONG_STYLE[rt].includes(yt)?LONG_STYLE_TO_PREFIX[rt][yt]:yt,nt=yt,gt.prefix=yt):PREFIXES[rt].indexOf(yt)>-1?(nt=yt,gt.prefix=getCanonicalPrefix(yt,{family:rt})):vt?gt.iconName=vt:yt!==config.replacementClass&&yt!==tt[FAMILY_CLASSIC]&&yt!==tt[FAMILY_SHARP]&&gt.rest.push(yt),!et&&gt.prefix&&gt.iconName){var xt=nt==="fa"?byOldName(gt.iconName):{},bt=byAlias(gt.prefix,gt.iconName);xt.prefix&&(nt=null),gt.iconName=xt.iconName||bt||gt.iconName,gt.prefix=xt.prefix||gt.prefix,gt.prefix==="far"&&!styles$1.far&&styles$1.fas&&!config.autoFetchSvg&&(gt.prefix="fas")}return gt},emptyCanonicalIcon());return(a.includes("fa-brands")||a.includes("fab"))&&(mt.prefix="fab"),(a.includes("fa-duotone")||a.includes("fad"))&&(mt.prefix="fad"),!mt.prefix&&rt===FAMILY_SHARP&&(styles$1.fass||config.autoFetchSvg)&&(mt.prefix="fass",mt.iconName=byAlias(mt.prefix,mt.iconName)||mt.iconName),(mt.prefix==="fa"||nt==="fa")&&(mt.prefix=getDefaultUsablePrefix()||"fas"),mt}var Library=function(){function a(){_classCallCheck(this,a),this.definitions={}}return _createClass(a,[{key:"add",value:function(){for(var o=this,c=arguments.length,et=new Array(c),tt=0;tt<c;tt++)et[tt]=arguments[tt];var nt=et.reduce(this._pullDefinitions,{});Object.keys(nt).forEach(function(rt){o.definitions[rt]=_objectSpread2$1(_objectSpread2$1({},o.definitions[rt]||{}),nt[rt]),defineIcons(rt,nt[rt]);var mt=PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC][rt];mt&&defineIcons(mt,nt[rt]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(o,c){var et=c.prefix&&c.iconName&&c.icon?{0:c}:c;return Object.keys(et).map(function(tt){var nt=et[tt],rt=nt.prefix,mt=nt.iconName,gt=nt.icon,yt=gt[2];o[rt]||(o[rt]={}),yt.length>0&&yt.forEach(function(vt){typeof vt=="string"&&(o[rt][vt]=gt)}),o[rt][mt]=gt}),o}}]),a}(),_plugins=[],_hooks={},providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(a,e){var o=e.mixoutsTo;return _plugins=a,_hooks={},Object.keys(providers).forEach(function(c){defaultProviderKeys.indexOf(c)===-1&&delete providers[c]}),_plugins.forEach(function(c){var et=c.mixout?c.mixout():{};if(Object.keys(et).forEach(function(nt){typeof et[nt]=="function"&&(o[nt]=et[nt]),_typeof$2(et[nt])==="object"&&Object.keys(et[nt]).forEach(function(rt){o[nt]||(o[nt]={}),o[nt][rt]=et[nt][rt]})}),c.hooks){var tt=c.hooks();Object.keys(tt).forEach(function(nt){_hooks[nt]||(_hooks[nt]=[]),_hooks[nt].push(tt[nt])})}c.provides&&c.provides(providers)}),o}function chainHooks(a,e){for(var o=arguments.length,c=new Array(o>2?o-2:0),et=2;et<o;et++)c[et-2]=arguments[et];var tt=_hooks[a]||[];return tt.forEach(function(nt){e=nt.apply(null,[e].concat(c))}),e}function callHooks(a){for(var e=arguments.length,o=new Array(e>1?e-1:0),c=1;c<e;c++)o[c-1]=arguments[c];var et=_hooks[a]||[];et.forEach(function(tt){tt.apply(null,o)})}function callProvided(){var a=arguments[0],e=Array.prototype.slice.call(arguments,1);return providers[a]?providers[a].apply(null,e):void 0}function findIconDefinition(a){a.prefix==="fa"&&(a.prefix="fas");var e=a.iconName,o=a.prefix||getDefaultUsablePrefix();if(e)return e=byAlias(o,e)||e,iconFromMapping(library.definitions,o,e)||iconFromMapping(namespace.styles,o,e)}var library=new Library,noAuto=function(){config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",e),callProvided("pseudoElements2svg",e),callProvided("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.autoReplaceSvgRoot;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(function(){autoReplace({autoReplaceSvgRoot:o}),callHooks("watch",e)})}},parse$4={icon:function(e){if(e===null)return null;if(_typeof$2(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:byAlias(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var o=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],c=getCanonicalPrefix(e[0]);return{prefix:c,iconName:byAlias(c,o)||o}}if(typeof e=="string"&&(e.indexOf("".concat(config.cssPrefix,"-"))>-1||e.match(ICON_SELECTION_SYNTAX_PATTERN))){var et=getCanonicalIcon(e.split(" "),{skipLookups:!0});return{prefix:et.prefix||getDefaultUsablePrefix(),iconName:byAlias(et.prefix,et.iconName)||et.iconName}}if(typeof e=="string"){var tt=getDefaultUsablePrefix();return{prefix:tt,iconName:byAlias(tt,e)||e}}}},api={noAuto,config,dom,parse:parse$4,library,findIconDefinition,toHtml},autoReplace=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.autoReplaceSvgRoot,c=o===void 0?DOCUMENT:o;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:c})};function domVariants(a,e){return Object.defineProperty(a,"abstract",{get:e}),Object.defineProperty(a,"html",{get:function(){return a.abstract.map(function(c){return toHtml(c)})}}),Object.defineProperty(a,"node",{get:function(){if(IS_DOM){var c=DOCUMENT.createElement("div");return c.innerHTML=a.html,c.children}}}),a}function asIcon(a){var e=a.children,o=a.main,c=a.mask,et=a.attributes,tt=a.styles,nt=a.transform;if(transformIsMeaningful(nt)&&o.found&&!c.found){var rt=o.width,mt=o.height,gt={x:rt/mt/2,y:.5};et.style=joinStyles(_objectSpread2$1(_objectSpread2$1({},tt),{},{"transform-origin":"".concat(gt.x+nt.x/16,"em ").concat(gt.y+nt.y/16,"em")}))}return[{tag:"svg",attributes:et,children:e}]}function asSymbol(a){var e=a.prefix,o=a.iconName,c=a.children,et=a.attributes,tt=a.symbol,nt=tt===!0?"".concat(e,"-").concat(config.cssPrefix,"-").concat(o):tt;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$1(_objectSpread2$1({},et),{},{id:nt}),children:c}]}]}function makeInlineSvgAbstract(a){var e=a.icons,o=e.main,c=e.mask,et=a.prefix,tt=a.iconName,nt=a.transform,rt=a.symbol,mt=a.title,gt=a.maskId,yt=a.titleId,vt=a.extra,xt=a.watchable,bt=xt===void 0?!1:xt,Et=c.found?c:o,wt=Et.width,St=Et.height,Tt=et==="fak",kt=[config.replacementClass,tt?"".concat(config.cssPrefix,"-").concat(tt):""].filter(function(At){return vt.classes.indexOf(At)===-1}).filter(function(At){return At!==""||!!At}).concat(vt.classes).join(" "),_t={children:[],attributes:_objectSpread2$1(_objectSpread2$1({},vt.attributes),{},{"data-prefix":et,"data-icon":tt,class:kt,role:vt.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(wt," ").concat(St)})},Mt=Tt&&!~vt.classes.indexOf("fa-fw")?{width:"".concat(wt/St*16*.0625,"em")}:{};bt&&(_t.attributes[DATA_FA_I2SVG]=""),mt&&(_t.children.push({tag:"title",attributes:{id:_t.attributes["aria-labelledby"]||"title-".concat(yt||nextUniqueId())},children:[mt]}),delete _t.attributes.title);var Pt=_objectSpread2$1(_objectSpread2$1({},_t),{},{prefix:et,iconName:tt,main:o,mask:c,maskId:gt,transform:nt,symbol:rt,styles:_objectSpread2$1(_objectSpread2$1({},Mt),vt.styles)}),It=c.found&&o.found?callProvided("generateAbstractMask",Pt)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",Pt)||{children:[],attributes:{}},Dt=It.children,Ct=It.attributes;return Pt.children=Dt,Pt.attributes=Ct,rt?asSymbol(Pt):asIcon(Pt)}function makeLayersTextAbstract(a){var e=a.content,o=a.width,c=a.height,et=a.transform,tt=a.title,nt=a.extra,rt=a.watchable,mt=rt===void 0?!1:rt,gt=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},nt.attributes),tt?{title:tt}:{}),{},{class:nt.classes.join(" ")});mt&&(gt[DATA_FA_I2SVG]="");var yt=_objectSpread2$1({},nt.styles);transformIsMeaningful(et)&&(yt.transform=transformForCss({transform:et,startCentered:!0,width:o,height:c}),yt["-webkit-transform"]=yt.transform);var vt=joinStyles(yt);vt.length>0&&(gt.style=vt);var xt=[];return xt.push({tag:"span",attributes:gt,children:[e]}),tt&&xt.push({tag:"span",attributes:{class:"sr-only"},children:[tt]}),xt}function makeLayersCounterAbstract(a){var e=a.content,o=a.title,c=a.extra,et=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},c.attributes),o?{title:o}:{}),{},{class:c.classes.join(" ")}),tt=joinStyles(c.styles);tt.length>0&&(et.style=tt);var nt=[];return nt.push({tag:"span",attributes:et,children:[e]}),o&&nt.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),nt}var styles$1$1=namespace.styles;function asFoundIcon(a){var e=a[0],o=a[1],c=a.slice(4),et=_slicedToArray(c,1),tt=et[0],nt=null;return Array.isArray(tt)?nt={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:tt[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:tt[1]}}]}:nt={tag:"path",attributes:{fill:"currentColor",d:tt}},{found:!0,width:e,height:o,icon:nt}}var missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(a,e){!PRODUCTION$1&&!config.showMissingIcons&&a&&console.error('Icon with name "'.concat(a,'" and prefix "').concat(e,'" is missing.'))}function findIcon(a,e){var o=e;return e==="fa"&&config.styleDefault!==null&&(e=getDefaultUsablePrefix()),new Promise(function(c,et){if(callProvided("missingIconAbstract"),o==="fa"){var tt=byOldName(a)||{};a=tt.iconName||a,e=tt.prefix||e}if(a&&e&&styles$1$1[e]&&styles$1$1[e][a]){var nt=styles$1$1[e][a];return c(asFoundIcon(nt))}maybeNotifyMissing(a,e),c(_objectSpread2$1(_objectSpread2$1({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&a?callProvided("missingIconAbstract")||{}:{}}))})}var noop$1$1=function(){},p$1=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1$1,measure:noop$1$1},preamble='FA "6.5.2"',begin=function(e){return p$1.mark("".concat(preamble," ").concat(e," begins")),function(){return end(e)}},end=function(e){p$1.mark("".concat(preamble," ").concat(e," ends")),p$1.measure("".concat(preamble," ").concat(e),"".concat(preamble," ").concat(e," begins"),"".concat(preamble," ").concat(e," ends"))},perf={begin,end},noop$2$1=function(){};function isWatched(a){var e=a.getAttribute?a.getAttribute(DATA_FA_I2SVG):null;return typeof e=="string"}function hasPrefixAndIcon(a){var e=a.getAttribute?a.getAttribute(DATA_PREFIX):null,o=a.getAttribute?a.getAttribute(DATA_ICON):null;return e&&o}function hasBeenReplaced(a){return a&&a.classList&&a.classList.contains&&a.classList.contains(config.replacementClass)}function getMutator(){if(config.autoReplaceSvg===!0)return mutators.replace;var a=mutators[config.autoReplaceSvg];return a||mutators.replace}function createElementNS(a){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",a)}function createElement(a){return DOCUMENT.createElement(a)}function convertSVG(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.ceFn,c=o===void 0?a.tag==="svg"?createElementNS:createElement:o;if(typeof a=="string")return DOCUMENT.createTextNode(a);var et=c(a.tag);Object.keys(a.attributes||[]).forEach(function(nt){et.setAttribute(nt,a.attributes[nt])});var tt=a.children||[];return tt.forEach(function(nt){et.appendChild(convertSVG(nt,{ceFn:c}))}),et}function nodeAsComment(a){var e=" ".concat(a.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var mutators={replace:function(e){var o=e[0];if(o.parentNode)if(e[1].forEach(function(et){o.parentNode.insertBefore(convertSVG(et),o)}),o.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){var c=DOCUMENT.createComment(nodeAsComment(o));o.parentNode.replaceChild(c,o)}else o.remove()},nest:function(e){var o=e[0],c=e[1];if(~classArray(o).indexOf(config.replacementClass))return mutators.replace(e);var et=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete c[0].attributes.id,c[0].attributes.class){var tt=c[0].attributes.class.split(" ").reduce(function(rt,mt){return mt===config.replacementClass||mt.match(et)?rt.toSvg.push(mt):rt.toNode.push(mt),rt},{toNode:[],toSvg:[]});c[0].attributes.class=tt.toSvg.join(" "),tt.toNode.length===0?o.removeAttribute("class"):o.setAttribute("class",tt.toNode.join(" "))}var nt=c.map(function(rt){return toHtml(rt)}).join(`
`);o.setAttribute(DATA_FA_I2SVG,""),o.innerHTML=nt}};function performOperationSync(a){a()}function perform(a,e){var o=typeof e=="function"?e:noop$2$1;if(a.length===0)o();else{var c=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(c=WINDOW.requestAnimationFrame||performOperationSync),c(function(){var et=getMutator(),tt=perf.begin("mutate");a.map(et),tt(),o()})}}var disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}var mo=null;function observe(a){if(MUTATION_OBSERVER&&config.observeMutations){var e=a.treeCallback,o=e===void 0?noop$2$1:e,c=a.nodeCallback,et=c===void 0?noop$2$1:c,tt=a.pseudoElementsCallback,nt=tt===void 0?noop$2$1:tt,rt=a.observeMutationsRoot,mt=rt===void 0?DOCUMENT:rt;mo=new MUTATION_OBSERVER(function(gt){if(!disabled){var yt=getDefaultUsablePrefix();toArray(gt).forEach(function(vt){if(vt.type==="childList"&&vt.addedNodes.length>0&&!isWatched(vt.addedNodes[0])&&(config.searchPseudoElements&&nt(vt.target),o(vt.target)),vt.type==="attributes"&&vt.target.parentNode&&config.searchPseudoElements&&nt(vt.target.parentNode),vt.type==="attributes"&&isWatched(vt.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(vt.attributeName))if(vt.attributeName==="class"&&hasPrefixAndIcon(vt.target)){var xt=getCanonicalIcon(classArray(vt.target)),bt=xt.prefix,Et=xt.iconName;vt.target.setAttribute(DATA_PREFIX,bt||yt),Et&&vt.target.setAttribute(DATA_ICON,Et)}else hasBeenReplaced(vt.target)&&et(vt.target)})}}),IS_DOM&&mo.observe(mt,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function disconnect(){mo&&mo.disconnect()}function styleParser(a){var e=a.getAttribute("style"),o=[];return e&&(o=e.split(";").reduce(function(c,et){var tt=et.split(":"),nt=tt[0],rt=tt.slice(1);return nt&&rt.length>0&&(c[nt]=rt.join(":").trim()),c},{})),o}function classParser(a){var e=a.getAttribute("data-prefix"),o=a.getAttribute("data-icon"),c=a.innerText!==void 0?a.innerText.trim():"",et=getCanonicalIcon(classArray(a));return et.prefix||(et.prefix=getDefaultUsablePrefix()),e&&o&&(et.prefix=e,et.iconName=o),et.iconName&&et.prefix||(et.prefix&&c.length>0&&(et.iconName=byLigature(et.prefix,a.innerText)||byUnicode(et.prefix,toHex(a.innerText))),!et.iconName&&config.autoFetchSvg&&a.firstChild&&a.firstChild.nodeType===Node.TEXT_NODE&&(et.iconName=a.firstChild.data)),et}function attributesParser(a){var e=toArray(a.attributes).reduce(function(et,tt){return et.name!=="class"&&et.name!=="style"&&(et[tt.name]=tt.value),et},{}),o=a.getAttribute("title"),c=a.getAttribute("data-fa-title-id");return config.autoA11y&&(o?e["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(c||nextUniqueId()):(e["aria-hidden"]="true",e.focusable="false")),e}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},o=classParser(a),c=o.iconName,et=o.prefix,tt=o.rest,nt=attributesParser(a),rt=chainHooks("parseNodeAttributes",{},a),mt=e.styleParser?styleParser(a):[];return _objectSpread2$1({iconName:c,title:a.getAttribute("title"),titleId:a.getAttribute("data-fa-title-id"),prefix:et,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:tt,styles:mt,attributes:nt}},rt)}var styles$2=namespace.styles;function generateMutation(a){var e=config.autoReplaceSvg==="nest"?parseMeta(a,{styleParser:!1}):parseMeta(a);return~e.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",a,e):callProvided("generateSvgReplacementMutation",a,e)}var knownPrefixes=new Set;FAMILIES.map(function(a){knownPrefixes.add("fa-".concat(a))});Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=_toConsumableArray$1(knownPrefixes);function onTree(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();var o=DOCUMENT.documentElement.classList,c=function(vt){return o.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(vt))},et=function(vt){return o.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(vt))},tt=config.autoFetchSvg?knownPrefixes:FAMILIES.map(function(yt){return"fa-".concat(yt)}).concat(Object.keys(styles$2));tt.includes("fa")||tt.push("fa");var nt=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(tt.map(function(yt){return".".concat(yt,":not([").concat(DATA_FA_I2SVG,"])")})).join(", ");if(nt.length===0)return Promise.resolve();var rt=[];try{rt=toArray(a.querySelectorAll(nt))}catch{}if(rt.length>0)c("pending"),et("complete");else return Promise.resolve();var mt=perf.begin("onTree"),gt=rt.reduce(function(yt,vt){try{var xt=generateMutation(vt);xt&&yt.push(xt)}catch(bt){PRODUCTION$1||bt.name==="MissingIcon"&&console.error(bt)}return yt},[]);return new Promise(function(yt,vt){Promise.all(gt).then(function(xt){perform(xt,function(){c("active"),c("complete"),et("pending"),typeof e=="function"&&e(),mt(),yt()})}).catch(function(xt){mt(),vt(xt)})})}function onNode(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(a).then(function(o){o&&perform([o],e)})}function resolveIcons(a){return function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=(e||{}).icon?e:findIconDefinition(e||{}),et=o.mask;return et&&(et=(et||{}).icon?et:findIconDefinition(et||{})),a(c,_objectSpread2$1(_objectSpread2$1({},o),{},{mask:et}))}}var render$1=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.transform,et=c===void 0?meaninglessTransform:c,tt=o.symbol,nt=tt===void 0?!1:tt,rt=o.mask,mt=rt===void 0?null:rt,gt=o.maskId,yt=gt===void 0?null:gt,vt=o.title,xt=vt===void 0?null:vt,bt=o.titleId,Et=bt===void 0?null:bt,wt=o.classes,St=wt===void 0?[]:wt,Tt=o.attributes,kt=Tt===void 0?{}:Tt,_t=o.styles,Mt=_t===void 0?{}:_t;if(e){var Pt=e.prefix,It=e.iconName,Dt=e.icon;return domVariants(_objectSpread2$1({type:"icon"},e),function(){return callHooks("beforeDOMElementCreation",{iconDefinition:e,params:o}),config.autoA11y&&(xt?kt["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(Et||nextUniqueId()):(kt["aria-hidden"]="true",kt.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(Dt),mask:mt?asFoundIcon(mt.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Pt,iconName:It,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),et),symbol:nt,title:xt,maskId:yt,titleId:Et,extra:{attributes:kt,styles:Mt,classes:St}})})}},ReplaceElements={mixout:function(){return{icon:resolveIcons(render$1)}},hooks:function(){return{mutationObserverCallbacks:function(o){return o.treeCallback=onTree,o.nodeCallback=onNode,o}}},provides:function(e){e.i2svg=function(o){var c=o.node,et=c===void 0?DOCUMENT:c,tt=o.callback,nt=tt===void 0?function(){}:tt;return onTree(et,nt)},e.generateSvgReplacementMutation=function(o,c){var et=c.iconName,tt=c.title,nt=c.titleId,rt=c.prefix,mt=c.transform,gt=c.symbol,yt=c.mask,vt=c.maskId,xt=c.extra;return new Promise(function(bt,Et){Promise.all([findIcon(et,rt),yt.iconName?findIcon(yt.iconName,yt.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(wt){var St=_slicedToArray(wt,2),Tt=St[0],kt=St[1];bt([o,makeInlineSvgAbstract({icons:{main:Tt,mask:kt},prefix:rt,iconName:et,transform:mt,symbol:gt,maskId:vt,title:tt,titleId:nt,extra:xt,watchable:!0})])}).catch(Et)})},e.generateAbstractIcon=function(o){var c=o.children,et=o.attributes,tt=o.main,nt=o.transform,rt=o.styles,mt=joinStyles(rt);mt.length>0&&(et.style=mt);var gt;return transformIsMeaningful(nt)&&(gt=callProvided("generateAbstractTransformGrouping",{main:tt,transform:nt,containerWidth:tt.width,iconWidth:tt.width})),c.push(gt||tt.icon),{children:c,attributes:et}}}},Layers={mixout:function(){return{layer:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=c.classes,tt=et===void 0?[]:et;return domVariants({type:"layer"},function(){callHooks("beforeDOMElementCreation",{assembler:o,params:c});var nt=[];return o(function(rt){Array.isArray(rt)?rt.map(function(mt){nt=nt.concat(mt.abstract)}):nt=nt.concat(rt.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers")].concat(_toConsumableArray$1(tt)).join(" ")},children:nt}]})}}}},LayersCounter={mixout:function(){return{counter:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=c.title,tt=et===void 0?null:et,nt=c.classes,rt=nt===void 0?[]:nt,mt=c.attributes,gt=mt===void 0?{}:mt,yt=c.styles,vt=yt===void 0?{}:yt;return domVariants({type:"counter",content:o},function(){return callHooks("beforeDOMElementCreation",{content:o,params:c}),makeLayersCounterAbstract({content:o.toString(),title:tt,extra:{attributes:gt,styles:vt,classes:["".concat(config.cssPrefix,"-layers-counter")].concat(_toConsumableArray$1(rt))}})})}}}},LayersText={mixout:function(){return{text:function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=c.transform,tt=et===void 0?meaninglessTransform:et,nt=c.title,rt=nt===void 0?null:nt,mt=c.classes,gt=mt===void 0?[]:mt,yt=c.attributes,vt=yt===void 0?{}:yt,xt=c.styles,bt=xt===void 0?{}:xt;return domVariants({type:"text",content:o},function(){return callHooks("beforeDOMElementCreation",{content:o,params:c}),makeLayersTextAbstract({content:o,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),tt),title:rt,extra:{attributes:vt,styles:bt,classes:["".concat(config.cssPrefix,"-layers-text")].concat(_toConsumableArray$1(gt))}})})}}},provides:function(e){e.generateLayersText=function(o,c){var et=c.title,tt=c.transform,nt=c.extra,rt=null,mt=null;if(IS_IE){var gt=parseInt(getComputedStyle(o).fontSize,10),yt=o.getBoundingClientRect();rt=yt.width/gt,mt=yt.height/gt}return config.autoA11y&&!et&&(nt.attributes["aria-hidden"]="true"),Promise.resolve([o,makeLayersTextAbstract({content:o.innerHTML,width:rt,height:mt,transform:tt,title:et,extra:nt,watchable:!0})])}}},CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319];function hexValueFromContent(a){var e=a.replace(CLEAN_CONTENT_PATTERN,""),o=codePointAt(e,0),c=o>=SECONDARY_UNICODE_RANGE[0]&&o<=SECONDARY_UNICODE_RANGE[1],et=e.length===2?e[0]===e[1]:!1;return{value:toHex(et?e[0]:e),isSecondary:c||et}}function replaceForPosition(a,e){var o="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(e.replace(":","-"));return new Promise(function(c,et){if(a.getAttribute(o)!==null)return c();var tt=toArray(a.children),nt=tt.filter(function(Dt){return Dt.getAttribute(DATA_FA_PSEUDO_ELEMENT)===e})[0],rt=WINDOW.getComputedStyle(a,e),mt=rt.getPropertyValue("font-family").match(FONT_FAMILY_PATTERN),gt=rt.getPropertyValue("font-weight"),yt=rt.getPropertyValue("content");if(nt&&!mt)return a.removeChild(nt),c();if(mt&&yt!=="none"&&yt!==""){var vt=rt.getPropertyValue("content"),xt=~["Sharp"].indexOf(mt[2])?FAMILY_SHARP:FAMILY_CLASSIC,bt=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(mt[2])?STYLE_TO_PREFIX[xt][mt[2].toLowerCase()]:FONT_WEIGHT_TO_PREFIX[xt][gt],Et=hexValueFromContent(vt),wt=Et.value,St=Et.isSecondary,Tt=mt[0].startsWith("FontAwesome"),kt=byUnicode(bt,wt),_t=kt;if(Tt){var Mt=byOldUnicode(wt);Mt.iconName&&Mt.prefix&&(kt=Mt.iconName,bt=Mt.prefix)}if(kt&&!St&&(!nt||nt.getAttribute(DATA_PREFIX)!==bt||nt.getAttribute(DATA_ICON)!==_t)){a.setAttribute(o,_t),nt&&a.removeChild(nt);var Pt=blankMeta(),It=Pt.extra;It.attributes[DATA_FA_PSEUDO_ELEMENT]=e,findIcon(kt,bt).then(function(Dt){var Ct=makeInlineSvgAbstract(_objectSpread2$1(_objectSpread2$1({},Pt),{},{icons:{main:Dt,mask:emptyCanonicalIcon()},prefix:bt,iconName:_t,extra:It,watchable:!0})),At=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?a.insertBefore(At,a.firstChild):a.appendChild(At),At.outerHTML=Ct.map(function(Lt){return toHtml(Lt)}).join(`
`),a.removeAttribute(o),c()}).catch(et)}else c()}else c()})}function replace2(a){return Promise.all([replaceForPosition(a,"::before"),replaceForPosition(a,"::after")])}function processable(a){return a.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(a.tagName.toUpperCase())&&!a.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!a.parentNode||a.parentNode.tagName!=="svg")}function searchPseudoElements(a){if(IS_DOM)return new Promise(function(e,o){var c=toArray(a.querySelectorAll("*")).filter(processable).map(replace2),et=perf.begin("searchPseudoElements");disableObservation(),Promise.all(c).then(function(){et(),enableObservation(),e()}).catch(function(){et(),enableObservation(),o()})})}var PseudoElements={hooks:function(){return{mutationObserverCallbacks:function(o){return o.pseudoElementsCallback=searchPseudoElements,o}}},provides:function(e){e.pseudoElements2svg=function(o){var c=o.node,et=c===void 0?DOCUMENT:c;config.searchPseudoElements&&searchPseudoElements(et)}}},_unwatched=!1,MutationObserver$1={mixout:function(){return{dom:{unwatch:function(){disableObservation(),_unwatched=!0}}}},hooks:function(){return{bootstrap:function(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto:function(){disconnect()},watch:function(o){var c=o.observeMutationsRoot;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:c}))}}}},parseTransformString=function(e){var o={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(c,et){var tt=et.toLowerCase().split("-"),nt=tt[0],rt=tt.slice(1).join("-");if(nt&&rt==="h")return c.flipX=!0,c;if(nt&&rt==="v")return c.flipY=!0,c;if(rt=parseFloat(rt),isNaN(rt))return c;switch(nt){case"grow":c.size=c.size+rt;break;case"shrink":c.size=c.size-rt;break;case"left":c.x=c.x-rt;break;case"right":c.x=c.x+rt;break;case"up":c.y=c.y-rt;break;case"down":c.y=c.y+rt;break;case"rotate":c.rotate=c.rotate+rt;break}return c},o)},PowerTransforms={mixout:function(){return{parse:{transform:function(o){return parseTransformString(o)}}}},hooks:function(){return{parseNodeAttributes:function(o,c){var et=c.getAttribute("data-fa-transform");return et&&(o.transform=parseTransformString(et)),o}}},provides:function(e){e.generateAbstractTransformGrouping=function(o){var c=o.main,et=o.transform,tt=o.containerWidth,nt=o.iconWidth,rt={transform:"translate(".concat(tt/2," 256)")},mt="translate(".concat(et.x*32,", ").concat(et.y*32,") "),gt="scale(".concat(et.size/16*(et.flipX?-1:1),", ").concat(et.size/16*(et.flipY?-1:1),") "),yt="rotate(".concat(et.rotate," 0 0)"),vt={transform:"".concat(mt," ").concat(gt," ").concat(yt)},xt={transform:"translate(".concat(nt/2*-1," -256)")},bt={outer:rt,inner:vt,path:xt};return{tag:"g",attributes:_objectSpread2$1({},bt.outer),children:[{tag:"g",attributes:_objectSpread2$1({},bt.inner),children:[{tag:c.icon.tag,children:c.icon.children,attributes:_objectSpread2$1(_objectSpread2$1({},c.icon.attributes),bt.path)}]}]}}}},ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return a.attributes&&(a.attributes.fill||e)&&(a.attributes.fill="black"),a}function deGroup(a){return a.tag==="g"?a.children:[a]}var Masks={hooks:function(){return{parseNodeAttributes:function(o,c){var et=c.getAttribute("data-fa-mask"),tt=et?getCanonicalIcon(et.split(" ").map(function(nt){return nt.trim()})):emptyCanonicalIcon();return tt.prefix||(tt.prefix=getDefaultUsablePrefix()),o.mask=tt,o.maskId=c.getAttribute("data-fa-mask-id"),o}}},provides:function(e){e.generateAbstractMask=function(o){var c=o.children,et=o.attributes,tt=o.main,nt=o.mask,rt=o.maskId,mt=o.transform,gt=tt.width,yt=tt.icon,vt=nt.width,xt=nt.icon,bt=transformForSvg({transform:mt,containerWidth:vt,iconWidth:gt}),Et={tag:"rect",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{fill:"white"})},wt=yt.children?{children:yt.children.map(fillBlack)}:{},St={tag:"g",attributes:_objectSpread2$1({},bt.inner),children:[fillBlack(_objectSpread2$1({tag:yt.tag,attributes:_objectSpread2$1(_objectSpread2$1({},yt.attributes),bt.path)},wt))]},Tt={tag:"g",attributes:_objectSpread2$1({},bt.outer),children:[St]},kt="mask-".concat(rt||nextUniqueId()),_t="clip-".concat(rt||nextUniqueId()),Mt={tag:"mask",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{id:kt,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Et,Tt]},Pt={tag:"defs",children:[{tag:"clipPath",attributes:{id:_t},children:deGroup(xt)},Mt]};return c.push(Pt,{tag:"rect",attributes:_objectSpread2$1({fill:"currentColor","clip-path":"url(#".concat(_t,")"),mask:"url(#".concat(kt,")")},ALL_SPACE)}),{children:c,attributes:et}}}},MissingIconIndicator={provides:function(e){var o=!1;WINDOW.matchMedia&&(o=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var c=[],et={fill:"currentColor"},tt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};c.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},et),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var nt=_objectSpread2$1(_objectSpread2$1({},tt),{},{attributeName:"opacity"}),rt={tag:"circle",attributes:_objectSpread2$1(_objectSpread2$1({},et),{},{cx:"256",cy:"364",r:"28"}),children:[]};return o||rt.children.push({tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},tt),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},nt),{},{values:"1;0;1;1;0;1;"})}),c.push(rt),c.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},et),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:o?[]:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},nt),{},{values:"1;0;0;0;0;1;"})}]}),o||c.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},et),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},nt),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:c}}}},SvgSymbols={hooks:function(){return{parseNodeAttributes:function(o,c){var et=c.getAttribute("data-fa-symbol"),tt=et===null?!1:et===""?!0:et;return o.symbol=tt,o}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;api.library;api.dom;var parse$1$1=api.parse;api.findIconDefinition;api.toHtml;var icon2=api.icon;api.layer;api.text;api.counter;function ownKeys$h(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread2(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$h(Object(o),!0).forEach(function(c){_defineProperty$2(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$h(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}function _typeof$1(a){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(a)}function _defineProperty$2(a,e,o){return e in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function _objectWithoutPropertiesLoose$2(a,e){if(a==null)return{};var o={},c=Object.keys(a),et,tt;for(tt=0;tt<c.length;tt++)et=c[tt],!(e.indexOf(et)>=0)&&(o[et]=a[et]);return o}function _objectWithoutProperties$2(a,e){if(a==null)return{};var o=_objectWithoutPropertiesLoose$2(a,e),c,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(a);for(et=0;et<tt.length;et++)c=tt[et],!(e.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(o[c]=a[c])}return o}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _iterableToArray(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _unsupportedIterableToArray(a,e){if(a){if(typeof a=="string")return _arrayLikeToArray(a,e);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(a,e)}}function _arrayLikeToArray(a,e){(e==null||e>a.length)&&(e=a.length);for(var o=0,c=new Array(e);o<e;o++)c[o]=a[o];return c}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function classList(a){var e,o=a.beat,c=a.fade,et=a.beatFade,tt=a.bounce,nt=a.shake,rt=a.flash,mt=a.spin,gt=a.spinPulse,yt=a.spinReverse,vt=a.pulse,xt=a.fixedWidth,bt=a.inverse,Et=a.border,wt=a.listItem,St=a.flip,Tt=a.size,kt=a.rotation,_t=a.pull,Mt=(e={"fa-beat":o,"fa-fade":c,"fa-beat-fade":et,"fa-bounce":tt,"fa-shake":nt,"fa-flash":rt,"fa-spin":mt,"fa-spin-reverse":yt,"fa-spin-pulse":gt,"fa-pulse":vt,"fa-fw":xt,"fa-inverse":bt,"fa-border":Et,"fa-li":wt,"fa-flip":St===!0,"fa-flip-horizontal":St==="horizontal"||St==="both","fa-flip-vertical":St==="vertical"||St==="both"},_defineProperty$2(e,"fa-".concat(Tt),typeof Tt<"u"&&Tt!==null),_defineProperty$2(e,"fa-rotate-".concat(kt),typeof kt<"u"&&kt!==null&&kt!==0),_defineProperty$2(e,"fa-pull-".concat(_t),typeof _t<"u"&&_t!==null),_defineProperty$2(e,"fa-swap-opacity",a.swapOpacity),e);return Object.keys(Mt).map(function(Pt){return Mt[Pt]?Pt:null}).filter(function(Pt){return Pt})}function _isNumerical(a){return a=a-0,a===a}function camelize(a){return _isNumerical(a)?a:(a=a.replace(/[\-_\s]+(.)?/g,function(e,o){return o?o.toUpperCase():""}),a.substr(0,1).toLowerCase()+a.substr(1))}var _excluded$3=["style"];function capitalize$1(a){return a.charAt(0).toUpperCase()+a.slice(1)}function styleToObject(a){return a.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,o){var c=o.indexOf(":"),et=camelize(o.slice(0,c)),tt=o.slice(c+1).trim();return et.startsWith("webkit")?e[capitalize$1(et)]=tt:e[et]=tt,e},{})}function convert$1(a,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var c=(e.children||[]).map(function(mt){return convert$1(a,mt)}),et=Object.keys(e.attributes||{}).reduce(function(mt,gt){var yt=e.attributes[gt];switch(gt){case"class":mt.attrs.className=yt,delete e.attributes.class;break;case"style":mt.attrs.style=styleToObject(yt);break;default:gt.indexOf("aria-")===0||gt.indexOf("data-")===0?mt.attrs[gt.toLowerCase()]=yt:mt.attrs[camelize(gt)]=yt}return mt},{attrs:{}}),tt=o.style,nt=tt===void 0?{}:tt,rt=_objectWithoutProperties$2(o,_excluded$3);return et.attrs.style=_objectSpread2(_objectSpread2({},et.attrs.style),nt),a.apply(void 0,[e.tag,_objectSpread2(_objectSpread2({},et.attrs),rt)].concat(_toConsumableArray(c)))}var PRODUCTION=!1;try{PRODUCTION=!0}catch{}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var a;(a=console).error.apply(a,arguments)}}function normalizeIconArgs(a){if(a&&_typeof$1(a)==="object"&&a.prefix&&a.iconName&&a.icon)return a;if(parse$1$1.icon)return parse$1$1.icon(a);if(a===null)return null;if(a&&_typeof$1(a)==="object"&&a.prefix&&a.iconName)return a;if(Array.isArray(a)&&a.length===2)return{prefix:a[0],iconName:a[1]};if(typeof a=="string")return{prefix:"fas",iconName:a}}function objectWithKey(a,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?_defineProperty$2({},a,e):{}}var defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},FontAwesomeIcon=React.forwardRef(function(a,e){var o=_objectSpread2(_objectSpread2({},defaultProps),a),c=o.icon,et=o.mask,tt=o.symbol,nt=o.className,rt=o.title,mt=o.titleId,gt=o.maskId,yt=normalizeIconArgs(c),vt=objectWithKey("classes",[].concat(_toConsumableArray(classList(o)),_toConsumableArray((nt||"").split(" ")))),xt=objectWithKey("transform",typeof o.transform=="string"?parse$1$1.transform(o.transform):o.transform),bt=objectWithKey("mask",normalizeIconArgs(et)),Et=icon2(yt,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},vt),xt),bt),{},{symbol:tt,title:rt,titleId:mt,maskId:gt}));if(!Et)return log("Could not find icon",yt),null;var wt=Et.abstract,St={ref:e};return Object.keys(o).forEach(function(Tt){defaultProps.hasOwnProperty(Tt)||(St[Tt]=o[Tt])}),convertCurry(wt[0],St)});FontAwesomeIcon.displayName="FontAwesomeIcon";FontAwesomeIcon.propTypes={beat:PropTypes.bool,border:PropTypes.bool,beatFade:PropTypes.bool,bounce:PropTypes.bool,className:PropTypes.string,fade:PropTypes.bool,flash:PropTypes.bool,mask:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),maskId:PropTypes.string,fixedWidth:PropTypes.bool,inverse:PropTypes.bool,flip:PropTypes.oneOf([!0,!1,"horizontal","vertical","both"]),icon:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),listItem:PropTypes.bool,pull:PropTypes.oneOf(["right","left"]),pulse:PropTypes.bool,rotation:PropTypes.oneOf([0,90,180,270]),shake:PropTypes.bool,size:PropTypes.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:PropTypes.bool,spinPulse:PropTypes.bool,spinReverse:PropTypes.bool,symbol:PropTypes.oneOfType([PropTypes.bool,PropTypes.string]),title:PropTypes.string,titleId:PropTypes.string,transform:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),swapOpacity:PropTypes.bool};var convertCurry=convert$1.bind(null,React.createElement),faBars={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$2=["attr","size","title"];function _objectWithoutProperties$1(a,e){if(a==null)return{};var o=_objectWithoutPropertiesLoose$1(a,e),c,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(a);for(et=0;et<tt.length;et++)c=tt[et],!(e.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(o[c]=a[c])}return o}function _objectWithoutPropertiesLoose$1(a,e){if(a==null)return{};var o={};for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){if(e.indexOf(c)>=0)continue;o[c]=a[c]}return o}function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends.apply(this,arguments)}function ownKeys$g(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$g(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$g(Object(o),!0).forEach(function(c){_defineProperty$1(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$g(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}function _defineProperty$1(a,e,o){return e=_toPropertyKey(e),e in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function _toPropertyKey(a){var e=_toPrimitive(a,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive(a,e){if(typeof a!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function Tree2Element(a){return a&&a.map((e,o)=>React.createElement(e.tag,_objectSpread$g({key:o},e.attr),Tree2Element(e.child)))}function GenIcon(a){return e=>React.createElement(IconBase,_extends({attr:_objectSpread$g({},a.attr)},e),Tree2Element(a.child))}function IconBase(a){var e=o=>{var{attr:c,size:et,title:tt}=a,nt=_objectWithoutProperties$1(a,_excluded$2),rt=et||o.size||"1em",mt;return o.className&&(mt=o.className),a.className&&(mt=(mt?mt+" ":"")+a.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,c,nt,{className:mt,style:_objectSpread$g(_objectSpread$g({color:a.color||o.color},o.style),a.style),height:rt,width:rt,xmlns:"http://www.w3.org/2000/svg"}),tt&&React.createElement("title",null,tt),a.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,o=>e(o)):e(DefaultContext)}function FiActivity(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(a)}function FiAlertCircle(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(a)}function FiAlertTriangle(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(a)}function FiArrowLeft(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(a)}function FiCheckCircle(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(a)}function FiEdit3(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(a)}function FiEyeOff(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(a)}function FiEye(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(a)}function FiFileText(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(a)}function FiFile(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(a)}function FiGlobe(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(a)}function FiImage(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(a)}function FiLink(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(a)}function FiLogIn(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(a)}function FiLogOut(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(a)}function FiMoreHorizontal(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(a)}function FiPaperclip(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(a)}function FiPlus(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(a)}function FiPrinter(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(a)}function FiRefreshCw(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(a)}function FiSend(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(a)}function FiSettings(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(a)}function FiTrash2(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(a)}function FiUploadCloud(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(a)}function FiUpload(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(a)}function FiUser(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(a)}function FiX(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(a)}const breakpoint$2=900,SIZES={headerPaddingY:"1.15rem",headerPaddingX:"1.5rem",logo:25,logoMobile:25,text:20,textMobile:18,gap:15},HeaderContainer=pt.header`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: ${SIZES.headerPaddingY} ${SIZES.headerPaddingX};
  background-color: #000;
`,LogoContainer$1=pt.div`
  display: flex;
  align-items: center;
  gap: ${SIZES.gap}px;
  cursor: pointer;

  &:hover {
    opacity: 0.85;
  }
`,Logo$1=pt.img`
  width: ${SIZES.logo}px;

  @media (max-width: ${breakpoint$2}px) {
    width: ${SIZES.logoMobile}px;
  }
`,LogoText$2=pt.span`
  font-size: ${SIZES.text}px;
  font-weight: 800;
  color: #fff;
  line-height: 1;

  @media (max-width: ${breakpoint$2}px) {
    font-size: ${SIZES.textMobile}px;
  }
`,Nav=pt.nav`
  display: flex;
  gap: 0.875rem;
  align-items: center;
  overflow: hidden;

  @media (max-width: ${breakpoint$2}px) {
    display: none;
  }
`,LoginButton=pt.button`
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.45rem 1.1rem;
  border-radius: 999px;
  border: 1px solid #4b5563;
  background: #111827;
  color: #f9fafb;
  font-size: 0.9rem;
  font-weight: 600;
  letter-spacing: 0.01em;
  cursor: pointer;
  transition: background 0.15s ease, border-color 0.15s ease,
    transform 0.05s ease, box-shadow 0.15s ease;

  &:hover {
    background: #ffffff;
    color: #111827;
    border-color: #2563eb;
    box-shadow: 0 6px 18px rgba(37, 99, 235, 0.4);
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
    box-shadow: 0 3px 10px rgba(15, 23, 42, 0.75);
  }
`,BurgerWrap=pt.div`
  display: none;

  @media (max-width: ${breakpoint$2}px) {
    display: block;
    padding: 4px;
  }

  svg {
    width: 20px;
    height: 20px;
  }
`;pt.div`
  display: flex;
  flex-direction: column;
  line-height: 1.05;
`;pt.span`
  margin-top: 2px;
  font-size: 12px;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.7);

  @media (max-width: ${breakpoint$2}px) {
    font-size: 11px;
  }
`;function Header$3({onLoginClick:a}){const[e,o]=reactExports.useState(!1),[c,et]=reactExports.useState(()=>typeof window<"u"?window.innerWidth:breakpoint$2+1),tt=useNavigate(),nt=reactExports.useCallback(()=>{et(window.innerWidth)},[]);reactExports.useEffect(()=>(window.addEventListener("resize",nt,{passive:!0}),()=>window.removeEventListener("resize",nt)),[nt]);const rt=reactExports.useCallback(vt=>{var xt;(xt=vt==null?void 0:vt.preventDefault)==null||xt.call(vt),a?a():tt("/login"),o(!1)},[a,tt]),mt=reactExports.useCallback(()=>{o(vt=>!vt)},[]),gt=reactExports.useCallback(vt=>{vt.target.closest("#dropdown-basic")===null&&o(!1)},[]),yt=reactExports.useCallback(()=>o(!1),[]);return reactExports.useEffect(()=>(e&&(window.addEventListener("click",gt),window.addEventListener("resize",yt)),()=>{window.removeEventListener("click",gt),window.removeEventListener("resize",yt)}),[e,gt,yt]),reactExports.useCallback(vt=>{o(vt)},[]),jsxRuntimeExports.jsxs(HeaderContainer,{children:[jsxRuntimeExports.jsxs(LogoContainer$1,{onClick:()=>tt("/"),children:[jsxRuntimeExports.jsx(Logo$1,{src:logo,alt:"MyPet Health logo"}),jsxRuntimeExports.jsx(LogoText$2,{children:"MyPet Health"})]}),jsxRuntimeExports.jsx(Nav,{children:jsxRuntimeExports.jsxs(LoginButton,{type:"button",onClick:rt,children:[jsxRuntimeExports.jsx(FiLogIn,{}),jsxRuntimeExports.jsx("span",{children:"Log in"})]})}),c<=breakpoint$2&&jsxRuntimeExports.jsxs(Dropdown$1,{show:e,onToggle:o,align:"end",children:[jsxRuntimeExports.jsx(Dropdown$1.Toggle,{as:BurgerWrap,id:"dropdown-basic",onClick:mt,children:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faBars,style:{color:"#fff"}})}),jsxRuntimeExports.jsx(Dropdown$1.Menu,{children:jsxRuntimeExports.jsx(Dropdown$1.Item,{onClick:rt,children:"Log in"})})]})]})}const heroImage="/assets/banner4-YAGAsaD9.png",breakpoint$1=800,StyledHeroSection=pt.section`
  position: relative;
  padding: 5rem 2rem;
  clip-path: polygon(0% 0%, 100% 0%, 100% 95%, 0% 100%);
  background-image: url(${heroImage});
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: #000;
  color: #ffffff;

  min-height: 80vh;
  display: flex;
  align-items: center;

  @media (max-width: 768px) {
    min-height: 60vh;
  }
`,LeftGradient=pt.div`
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    rgba(0, 0, 0, 0.55) 0%,
    rgba(0, 0, 0, 0.45) 25%,
    rgba(0, 0, 0, 0.2) 55%,
    rgba(0, 0, 0, 0) 80%
  );
`,Content$1=pt.div`
  position: relative;
  z-index: 1;
  width: 100%;
`,BrandKicker=pt.div`
  color: rgba(255, 255, 255, 0.78);
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 0.75rem;

  @media (max-width: ${breakpoint$1}px) {
    text-align: left;
  }
`,HeroHeader=pt.h1`
  color: #ffffff;
  margin-bottom: 1rem;
  font-size: 60px;
  font-weight: 800;
  line-height: 1.1;

  @media (max-width: 1022px) {
    font-size: 48px;
  }

  @media (max-width: ${breakpoint$1}px) {
    text-align: left;
  }
`,HeroTagline=pt.p`
  color: #e5edf5;
  margin: 1.5rem 0 3rem;
  font-size: 22px;
  line-height: 1.5;

  @media (max-width: 1022px) {
    font-size: 20px;
  }

  @media (max-width: ${breakpoint$1}px) {
    text-align: left;
  }
`,ButtonsRow=pt.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;

  @media (max-width: ${breakpoint$1}px) {
    justify-content: flex-start;
  }
`;pt(Button$1).attrs({variant:"danger"})`
  padding: 1.2rem 2.8rem;
  text-transform: uppercase;
  border-radius: 999px;
  background: #ff3b00;
  border: none;
  font-weight: 700;
  font-size: 14px;
  letter-spacing: 0.04em;
  display: inline-flex;
  justify-content: center;
  align-items: center;

  &:hover {
    background: #ec3000;
  }
`;pt(Button$1).attrs({variant:"outline-light"})`
  padding: 1.2rem 2.8rem;
  text-transform: uppercase;
  border-radius: 999px;
  font-weight: 700;
  font-size: 14px;
  letter-spacing: 0.04em;
  display: inline-flex;
  justify-content: center;
  align-items: center;
`;function HeroSection$1(){return jsxRuntimeExports.jsxs(StyledHeroSection,{children:[jsxRuntimeExports.jsx(LeftGradient,{}),jsxRuntimeExports.jsx(Content$1,{children:jsxRuntimeExports.jsx(Container$1,{style:{maxWidth:"1140px"},children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{md:7,lg:6,children:[jsxRuntimeExports.jsx(BrandKicker,{children:"by Vetcation"}),jsxRuntimeExports.jsx(HeroHeader,{children:"MyPet Health"}),jsxRuntimeExports.jsx(HeroTagline,{children:"Keep your pets health organized in one place. Pull records from any clinic and share in one click, message your vet when you need help, and get meds when appropriate."}),jsxRuntimeExports.jsx(ButtonsRow,{})]})})})})]})}const GlobalContext=React.createContext({theme:{},rooms:[],setRooms:()=>{},unfilteredRooms:[],setUnfilteredRooms:()=>{},questionId:[],setQuestionId:()=>{},unfilteredQuestions:[],setUnfilteredQuestions:()=>{},userData:[],setUserData:()=>{},petOwners:[],setPetOwners:()=>{},doctors:[],setDoctors:()=>{},unfilteredDoctors:[],setUnfilteredDoctors:()=>{},timeSlots:[],setTimeSlots:()=>{},whereTab:"",setWhereTab:()=>{},isDrawerSwipable:!0,setIsDrawerSwipable:()=>{},isDrawerSwiping:!1,setIsDrawerSwiping:()=>{},allUsersThatUserFollowing:[],setAllUsersThatUserFollowing:()=>{},followersOfUser:[],setFollowersOfUser:()=>{},calleeB:{},setCalleeB:()=>{},incomingCallId:null,setIncomingCallId:()=>{},callId:null,setCallId:()=>{},tabBarDisplay:"true",setTabBarDisplay:()=>{},clinicOwner:{},setClinicOwner:()=>{},currentHomeView:"QA",setCurrentHomeView:()=>{},conversationView:"active",setConversationView:()=>{}}),MotionConfigContext=reactExports.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser$1=typeof document<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};class Queue{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const o=this.order.indexOf(e);o!==-1&&(this.order.splice(o,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(a){let e=new Queue,o=new Queue,c=0,et=!1,tt=!1;const nt=new WeakSet,rt={schedule:(mt,gt=!1,yt=!1)=>{const vt=yt&&et,xt=vt?e:o;return gt&&nt.add(mt),xt.add(mt)&&vt&&et&&(c=e.order.length),mt},cancel:mt=>{o.remove(mt),nt.delete(mt)},process:mt=>{if(et){tt=!0;return}if(et=!0,[e,o]=[o,e],o.clear(),c=e.order.length,c)for(let gt=0;gt<c;gt++){const yt=e.order[gt];nt.has(yt)&&(rt.schedule(yt),a()),yt(mt)}et=!1,tt&&(tt=!1,rt.process(mt))}};return rt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(a,e){let o=!1,c=!0;const et={delta:0,timestamp:0,isProcessing:!1},tt=stepsOrder.reduce((vt,xt)=>(vt[xt]=createRenderStep(()=>o=!0),vt),{}),nt=vt=>{tt[vt].process(et)},rt=()=>{const vt=performance.now();o=!1,et.delta=c?1e3/60:Math.max(Math.min(vt-et.timestamp,maxElapsed),1),et.timestamp=vt,et.isProcessing=!0,stepsOrder.forEach(nt),et.isProcessing=!1,o&&e&&(c=!1,a(rt))},mt=()=>{o=!0,c=!0,et.isProcessing||a(rt)};return{schedule:stepsOrder.reduce((vt,xt)=>{const bt=tt[xt];return vt[xt]=(Et,wt=!1,St=!1)=>(o||mt(),bt.schedule(Et,wt,St)),vt},{}),cancel:vt=>stepsOrder.forEach(xt=>tt[xt].cancel(vt)),state:et,steps:tt}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function useVisualElement(a,e,o,c){const{visualElement:et}=reactExports.useContext(MotionContext),tt=reactExports.useContext(LazyContext),nt=reactExports.useContext(PresenceContext),rt=reactExports.useContext(MotionConfigContext).reducedMotion,mt=reactExports.useRef();c=c||tt.renderer,!mt.current&&c&&(mt.current=c(a,{visualState:e,parent:et,props:o,presenceContext:nt,blockInitialAnimation:nt?nt.initial===!1:!1,reducedMotionConfig:rt}));const gt=mt.current;reactExports.useInsertionEffect(()=>{gt&&gt.update(o,nt)});const yt=reactExports.useRef(!!(o[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{gt&&(microtask.render(gt.render),yt.current&&gt.animationState&&gt.animationState.animateChanges())}),reactExports.useEffect(()=>{gt&&(gt.updateFeatures(),!yt.current&&gt.animationState&&gt.animationState.animateChanges(),yt.current&&(yt.current=!1,window.HandoffComplete=!0))}),gt}function isRefObject(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function useMotionRef(a,e,o){return reactExports.useCallback(c=>{c&&a.mount&&a.mount(c),e&&(c?e.mount(c):e.unmount()),o&&(typeof o=="function"?o(c):isRefObject(o)&&(o.current=c))},[e])}function isVariantLabel(a){return typeof a=="string"||Array.isArray(a)}function isAnimationControls(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(a){return isAnimationControls(a.animate)||variantProps.some(e=>isVariantLabel(a[e]))}function isVariantNode(a){return!!(isControllingVariants(a)||a.variants)}function getCurrentTreeVariants(a,e){if(isControllingVariants(a)){const{initial:o,animate:c}=a;return{initial:o===!1||isVariantLabel(o)?o:void 0,animate:isVariantLabel(c)?c:void 0}}return a.inherit!==!1?e:{}}function useCreateMotionContext(a){const{initial:e,animate:o}=getCurrentTreeVariants(a,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:o}),[variantLabelsAsDependency(e),variantLabelsAsDependency(o)])}function variantLabelsAsDependency(a){return Array.isArray(a)?a.join(" "):a}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const a in featureProps)featureDefinitions[a]={isEnabled:e=>featureProps[a].some(o=>!!e[o])};function loadFeatures(a){for(const e in a)featureDefinitions[e]={...featureDefinitions[e],...a[e]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:a,createVisualElement:e,useRender:o,useVisualState:c,Component:et}){a&&loadFeatures(a);function tt(rt,mt){let gt;const yt={...reactExports.useContext(MotionConfigContext),...rt,layoutId:useLayoutId(rt)},{isStatic:vt}=yt,xt=useCreateMotionContext(rt),bt=c(rt,vt);if(!vt&&isBrowser$1){xt.visualElement=useVisualElement(et,bt,yt,e);const Et=reactExports.useContext(SwitchLayoutGroupContext),wt=reactExports.useContext(LazyContext).strict;xt.visualElement&&(gt=xt.visualElement.loadFeatures(yt,wt,a,Et))}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:xt,children:[gt&&xt.visualElement?jsxRuntimeExports.jsx(gt,{visualElement:xt.visualElement,...yt}):null,o(et,rt,useMotionRef(bt,xt.visualElement,mt),bt,vt,xt.visualElement)]})}const nt=reactExports.forwardRef(tt);return nt[motionComponentSymbol]=et,nt}function useLayoutId({layoutId:a}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&a!==void 0?e+"-"+a:a}function createMotionProxy(a){function e(c,et={}){return createMotionComponent(a(c,et))}if(typeof Proxy>"u")return e;const o=new Map;return new Proxy(e,{get:(c,et)=>(o.has(et)||o.set(et,e(et)),o.get(et))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(a){return typeof a!="string"||a.includes("-")?!1:!!(lowercaseSVGElements.indexOf(a)>-1||/[A-Z]/u.test(a))}const scaleCorrectors={};function addScaleCorrector(a){Object.assign(scaleCorrectors,a)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(a,{layout:e,layoutId:o}){return transformProps.has(a)||a.startsWith("origin")||(e||o!==void 0)&&(!!scaleCorrectors[a]||a==="opacity")}const isMotionValue=a=>!!(a&&a.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(a,{enableHardwareAcceleration:e=!0,allowTransformNone:o=!0},c,et){let tt="";for(let nt=0;nt<numTransforms;nt++){const rt=transformPropOrder[nt];if(a[rt]!==void 0){const mt=translateAlias[rt]||rt;tt+=`${mt}(${a[rt]}) `}}return e&&!a.z&&(tt+="translateZ(0)"),tt=tt.trim(),et?tt=et(a,c?"":tt):o&&c&&(tt="none"),tt}const checkStringStartsWith=a=>e=>typeof e=="string"&&e.startsWith(a),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=a=>startsAsVariableToken(a)?singleCssVariableRegex.test(a.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(a,e)=>e&&typeof a=="number"?e.transform(a):a,clamp=(a,e,o)=>o>e?e:o<a?a:o,number$1={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},alpha={...number$1,transform:a=>clamp(0,1,a)},scale={...number$1,default:1},sanitize=a=>Math.round(a*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString$2(a){return typeof a=="string"}const createUnitType=a=>({test:e=>isString$2(e)&&e.endsWith(a)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${a}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:a=>percent.parse(a)/100,transform:a=>percent.transform(a*100)},int$1={...number$1,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int$1,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int$1};function buildHTMLStyles(a,e,o,c){const{style:et,vars:tt,transform:nt,transformOrigin:rt}=a;let mt=!1,gt=!1,yt=!0;for(const vt in e){const xt=e[vt];if(isCSSVariableName(vt)){tt[vt]=xt;continue}const bt=numberValueTypes[vt],Et=getValueAsType(xt,bt);if(transformProps.has(vt)){if(mt=!0,nt[vt]=Et,!yt)continue;xt!==(bt.default||0)&&(yt=!1)}else vt.startsWith("origin")?(gt=!0,rt[vt]=Et):et[vt]=Et}if(e.transform||(mt||c?et.transform=buildTransform(a.transform,o,yt,c):et.transform&&(et.transform="none")),gt){const{originX:vt="50%",originY:xt="50%",originZ:bt=0}=rt;et.transformOrigin=`${vt} ${xt} ${bt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(a,e,o){for(const c in e)!isMotionValue(e[c])&&!isForcedMotionValue(c,o)&&(a[c]=e[c])}function useInitialMotionValues({transformTemplate:a},e,o){return reactExports.useMemo(()=>{const c=createHtmlRenderState();return buildHTMLStyles(c,e,{enableHardwareAcceleration:!o},a),Object.assign({},c.vars,c.style)},[e])}function useStyle(a,e,o){const c=a.style||{},et={};return copyRawValuesOnly(et,c,a),Object.assign(et,useInitialMotionValues(a,e,o)),et}function useHTMLProps(a,e,o){const c={},et=useStyle(a,e,o);return a.drag&&a.dragListener!==!1&&(c.draggable=!1,et.userSelect=et.WebkitUserSelect=et.WebkitTouchCallout="none",et.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(c.tabIndex=0),c.style=et,c}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||validMotionProps.has(a)}let shouldForward=a=>!isValidMotionProp(a);function loadExternalIsValidProp(a){a&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):a(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(a,e,o){const c={};for(const et in a)et==="values"&&typeof a.values=="object"||(shouldForward(et)||o===!0&&isValidMotionProp(et)||!e&&!isValidMotionProp(et)||a.draggable&&et.startsWith("onDrag"))&&(c[et]=a[et]);return c}function calcOrigin$1(a,e,o){return typeof a=="string"?a:px.transform(e+o*a)}function calcSVGTransformOrigin(a,e,o){const c=calcOrigin$1(e,a.x,a.width),et=calcOrigin$1(o,a.y,a.height);return`${c} ${et}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(a,e,o=1,c=0,et=!0){a.pathLength=1;const tt=et?dashKeys:camelKeys;a[tt.offset]=px.transform(-c);const nt=px.transform(e),rt=px.transform(o);a[tt.array]=`${nt} ${rt}`}function buildSVGAttrs(a,{attrX:e,attrY:o,attrScale:c,originX:et,originY:tt,pathLength:nt,pathSpacing:rt=1,pathOffset:mt=0,...gt},yt,vt,xt){if(buildHTMLStyles(a,gt,yt,xt),vt){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:bt,style:Et,dimensions:wt}=a;bt.transform&&(wt&&(Et.transform=bt.transform),delete bt.transform),wt&&(et!==void 0||tt!==void 0||Et.transform)&&(Et.transformOrigin=calcSVGTransformOrigin(wt,et!==void 0?et:.5,tt!==void 0?tt:.5)),e!==void 0&&(bt.x=e),o!==void 0&&(bt.y=o),c!==void 0&&(bt.scale=c),nt!==void 0&&buildSVGPath(bt,nt,rt,mt,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=a=>typeof a=="string"&&a.toLowerCase()==="svg";function useSVGProps(a,e,o,c){const et=reactExports.useMemo(()=>{const tt=createSvgRenderState();return buildSVGAttrs(tt,e,{enableHardwareAcceleration:!1},isSVGTag(c),a.transformTemplate),{...tt.attrs,style:{...tt.style}}},[e]);if(a.style){const tt={};copyRawValuesOnly(tt,a.style,a),et.style={...tt,...et.style}}return et}function createUseRender(a=!1){return(o,c,et,{latestValues:tt},nt)=>{const mt=(isSVGComponent(o)?useSVGProps:useHTMLProps)(c,tt,nt,o),gt=filterProps(c,typeof o=="string",a),yt=o!==reactExports.Fragment?{...gt,...mt,ref:et}:{},{children:vt}=c,xt=reactExports.useMemo(()=>isMotionValue(vt)?vt.get():vt,[vt]);return reactExports.createElement(o,{...yt,children:xt})}}function renderHTML(a,{style:e,vars:o},c,et){Object.assign(a.style,e,et&&et.getProjectionStyles(c));for(const tt in o)a.style.setProperty(tt,o[tt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(a,e,o,c){renderHTML(a,e,void 0,c);for(const et in e.attrs)a.setAttribute(camelCaseAttributes.has(et)?et:camelToDash(et),e.attrs[et])}function scrapeMotionValuesFromProps$1(a,e,o){var c;const{style:et}=a,tt={};for(const nt in et)(isMotionValue(et[nt])||e.style&&isMotionValue(e.style[nt])||isForcedMotionValue(nt,a)||((c=o==null?void 0:o.getValue(nt))===null||c===void 0?void 0:c.liveStyle)!==void 0)&&(tt[nt]=et[nt]);return tt}function scrapeMotionValuesFromProps(a,e,o){const c=scrapeMotionValuesFromProps$1(a,e,o);for(const et in a)if(isMotionValue(a[et])||isMotionValue(e[et])){const tt=transformPropOrder.indexOf(et)!==-1?"attr"+et.charAt(0).toUpperCase()+et.substring(1):et;c[tt]=a[et]}return c}function getValueState(a){const e=[{},{}];return a==null||a.values.forEach((o,c)=>{e[0][c]=o.get(),e[1][c]=o.getVelocity()}),e}function resolveVariantFromProps(a,e,o,c){if(typeof e=="function"){const[et,tt]=getValueState(c);e=e(o!==void 0?o:a.custom,et,tt)}if(typeof e=="string"&&(e=a.variants&&a.variants[e]),typeof e=="function"){const[et,tt]=getValueState(c);e=e(o!==void 0?o:a.custom,et,tt)}return e}function useConstant(a){const e=reactExports.useRef(null);return e.current===null&&(e.current=a()),e.current}const isKeyframesTarget=a=>Array.isArray(a),isCustomValue=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),resolveFinalValueInKeyframes=a=>isKeyframesTarget(a)?a[a.length-1]||0:a;function resolveMotionValue(a){const e=isMotionValue(a)?a.get():a;return isCustomValue(e)?e.toValue():e}function makeState({scrapeMotionValuesFromProps:a,createRenderState:e,onMount:o},c,et,tt){const nt={latestValues:makeLatestValues(c,et,tt,a),renderState:e()};return o&&(nt.mount=rt=>o(c,rt,nt)),nt}const makeUseVisualState=a=>(e,o)=>{const c=reactExports.useContext(MotionContext),et=reactExports.useContext(PresenceContext),tt=()=>makeState(a,e,c,et);return o?tt():useConstant(tt)};function makeLatestValues(a,e,o,c){const et={},tt=c(a,{});for(const xt in tt)et[xt]=resolveMotionValue(tt[xt]);let{initial:nt,animate:rt}=a;const mt=isControllingVariants(a),gt=isVariantNode(a);e&&gt&&!mt&&a.inherit!==!1&&(nt===void 0&&(nt=e.initial),rt===void 0&&(rt=e.animate));let yt=o?o.initial===!1:!1;yt=yt||nt===!1;const vt=yt?rt:nt;return vt&&typeof vt!="boolean"&&!isAnimationControls(vt)&&(Array.isArray(vt)?vt:[vt]).forEach(bt=>{const Et=resolveVariantFromProps(a,bt);if(!Et)return;const{transitionEnd:wt,transition:St,...Tt}=Et;for(const kt in Tt){let _t=Tt[kt];if(Array.isArray(_t)){const Mt=yt?_t.length-1:0;_t=_t[Mt]}_t!==null&&(et[kt]=_t)}for(const kt in wt)et[kt]=wt[kt]}),et}const noop$3=a=>a,{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$3,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(a,e,{renderState:o,latestValues:c})=>{frame.read(()=>{try{o.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{o.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(o,c,{enableHardwareAcceleration:!1},isSVGTag(e.tagName),a.transformTemplate),renderSVG(e,o)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(a,{forwardMotionProps:e=!1},o,c){return{...isSVGComponent(a)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:o,useRender:createUseRender(e),createVisualElement:c,Component:a}}function addDomEvent(a,e,o,c={passive:!0}){return a.addEventListener(e,o,c),()=>a.removeEventListener(e,o)}const isPrimaryPointer=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1;function extractEventInfo(a,e="page"){return{point:{x:a[`${e}X`],y:a[`${e}Y`]}}}const addPointerInfo=a=>e=>isPrimaryPointer(e)&&a(e,extractEventInfo(e));function addPointerEvent(a,e,o,c){return addDomEvent(a,e,addPointerInfo(o),c)}const combineFunctions=(a,e)=>o=>e(a(o)),pipe=(...a)=>a.reduce(combineFunctions);function createLock(a){let e=null;return()=>{const o=()=>{e=null};return e===null?(e=a,o):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(a){let e=!1;if(a==="y")e=globalVerticalLock();else if(a==="x")e=globalHorizontalLock();else{const o=globalHorizontalLock(),c=globalVerticalLock();o&&c?e=()=>{o(),c()}:(o&&o(),c&&c())}return e}function isDragActive(){const a=getGlobalLock(!0);return a?(a(),!1):!0}let Feature$1=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function addHoverEvent(a,e){const o=e?"pointerenter":"pointerleave",c=e?"onHoverStart":"onHoverEnd",et=(tt,nt)=>{if(tt.pointerType==="touch"||isDragActive())return;const rt=a.getProps();a.animationState&&rt.whileHover&&a.animationState.setActive("whileHover",e);const mt=rt[c];mt&&frame.postRender(()=>mt(tt,nt))};return addPointerEvent(a.current,o,et,{passive:!a.getProps()[c]})}class HoverGesture extends Feature$1{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature$1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(a,e)=>e?a===e?!0:isNodeOrChild(a,e.parentElement):!1;function fireSyntheticPointerEvent(a,e){if(!e)return;const o=new PointerEvent("pointer"+a);e(o,extractEventInfo(o))}class PressGesture extends Feature$1{constructor(){super(...arguments),this.removeStartListeners=noop$3,this.removeEndListeners=noop$3,this.removeAccessibleListeners=noop$3,this.startPointerPress=(e,o)=>{if(this.isPressing)return;this.removeEndListeners();const c=this.node.getProps(),tt=addPointerEvent(window,"pointerup",(rt,mt)=>{if(!this.checkPressEnd())return;const{onTap:gt,onTapCancel:yt,globalTapTarget:vt}=this.node.getProps(),xt=!vt&&!isNodeOrChild(this.node.current,rt.target)?yt:gt;xt&&frame.update(()=>xt(rt,mt))},{passive:!(c.onTap||c.onPointerUp)}),nt=addPointerEvent(window,"pointercancel",(rt,mt)=>this.cancelPress(rt,mt),{passive:!(c.onTapCancel||c.onPointerCancel)});this.removeEndListeners=pipe(tt,nt),this.startPress(e,o)},this.startAccessiblePress=()=>{const e=tt=>{if(tt.key!=="Enter"||this.isPressing)return;const nt=rt=>{rt.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(mt,gt)=>{const{onTap:yt}=this.node.getProps();yt&&frame.postRender(()=>yt(mt,gt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",nt),fireSyntheticPointerEvent("down",(rt,mt)=>{this.startPress(rt,mt)})},o=addDomEvent(this.node.current,"keydown",e),c=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(tt,nt)=>this.cancelPress(tt,nt))},et=addDomEvent(this.node.current,"blur",c);this.removeAccessibleListeners=pipe(o,et)}}startPress(e,o){this.isPressing=!0;const{onTapStart:c,whileTap:et}=this.node.getProps();et&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),c&&frame.postRender(()=>c(e,o))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(e,o){if(!this.checkPressEnd())return;const{onTapCancel:c}=this.node.getProps();c&&frame.postRender(()=>c(e,o))}mount(){const e=this.node.getProps(),o=addPointerEvent(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),c=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(o,c)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=a=>{const e=observerCallbacks.get(a.target);e&&e(a)},fireAllObserverCallbacks=a=>{a.forEach(fireObserverCallback)};function initIntersectionObserver({root:a,...e}){const o=a||document;observers.has(o)||observers.set(o,{});const c=observers.get(o),et=JSON.stringify(e);return c[et]||(c[et]=new IntersectionObserver(fireAllObserverCallbacks,{root:a,...e})),c[et]}function observeIntersection(a,e,o){const c=initIntersectionObserver(e);return observerCallbacks.set(a,o),c.observe(a),()=>{observerCallbacks.delete(a),c.unobserve(a)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature$1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:o,margin:c,amount:et="some",once:tt}=e,nt={root:o?o.current:void 0,rootMargin:c,threshold:typeof et=="number"?et:thresholdNames[et]},rt=mt=>{const{isIntersecting:gt}=mt;if(this.isInView===gt||(this.isInView=gt,tt&&!gt&&this.hasEnteredView))return;gt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",gt);const{onViewportEnter:yt,onViewportLeave:vt}=this.node.getProps(),xt=gt?yt:vt;xt&&xt(mt)};return observeIntersection(this.node.current,nt,rt)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:o}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,o))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:a={}},{viewport:e={}}={}){return o=>a[o]!==e[o]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(a,e){if(!Array.isArray(e))return!1;const o=e.length;if(o!==a.length)return!1;for(let c=0;c<o;c++)if(e[c]!==a[c])return!1;return!0}function resolveVariant(a,e,o){const c=a.getProps();return resolveVariantFromProps(c,e,o!==void 0?o:c.custom,a)}const secondsToMilliseconds=a=>a*1e3,millisecondsToSeconds=a=>a/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(a,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(a)?a.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease;function isTransitionDefined({when:a,delay:e,delayChildren:o,staggerChildren:c,staggerDirection:et,repeat:tt,repeatType:nt,repeatDelay:rt,from:mt,elapsed:gt,...yt}){return!!Object.keys(yt).length}function getValueTransition(a,e){return a[e]||a.default||a}const isNotNull=a=>a!==null;function getFinalKeyframe(a,{repeat:e,repeatType:o="loop"},c){const et=a.filter(isNotNull),tt=e&&o!=="loop"&&e%2===1?0:et.length-1;return!tt||c===void 0?et[tt]:c}let now$1;function clearTime(){now$1=void 0}const time={now:()=>(now$1===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$1),set:a=>{now$1=a,queueMicrotask(clearTime)}},isZeroValueString=a=>/^0[^.\s]+$/u.test(a);function isNone(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||isZeroValueString(a):!0}let invariant$1=noop$3;const isNumericalString=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(a){const e=splitCSSVariableRegex.exec(a);if(!e)return[,];const[,o,c,et]=e;return[`--${o??c}`,et]}function getVariableValue(a,e,o=1){const[c,et]=parseCSSVariable(a);if(!c)return;const tt=window.getComputedStyle(e).getPropertyValue(c);if(tt){const nt=tt.trim();return isNumericalString(nt)?parseFloat(nt):nt}return isCSSVariableToken(et)?getVariableValue(et,e,o+1):et}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=a=>a===number$1||a===px,getPosFromMatrix=(a,e)=>parseFloat(a.split(", ")[e]),getTranslateFromMatrix=(a,e)=>(o,{transform:c})=>{if(c==="none"||!c)return 0;const et=c.match(/^matrix3d\((.+)\)$/u);if(et)return getPosFromMatrix(et[1],e);{const tt=c.match(/^matrix\((.+)\)$/u);return tt?getPosFromMatrix(tt[1],a):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(a=>!transformKeys.has(a));function removeNonTranslationalTransform(a){const e=[];return nonTranslationalTransformKeys.forEach(o=>{const c=a.getValue(o);c!==void 0&&(e.push([o,c.get()]),c.set(o.startsWith("scale")?1:0))}),e}const positionalValues={width:({x:a},{paddingLeft:e="0",paddingRight:o="0"})=>a.max-a.min-parseFloat(e)-parseFloat(o),height:({y:a},{paddingTop:e="0",paddingBottom:o="0"})=>a.max-a.min-parseFloat(e)-parseFloat(o),top:(a,{top:e})=>parseFloat(e),left:(a,{left:e})=>parseFloat(e),bottom:({y:a},{top:e})=>parseFloat(e)+(a.max-a.min),right:({x:a},{left:e})=>parseFloat(e)+(a.max-a.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=a=>e=>e.test(a),auto={test:a=>a==="auto",parse:a=>a},dimensionValueTypes=[number$1,px,percent,degrees,vw,vh,auto],findDimensionValueType=a=>dimensionValueTypes.find(testValueType(a)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const a=Array.from(toResolve).filter(c=>c.needsMeasurement),e=new Set(a.map(c=>c.element)),o=new Map;e.forEach(c=>{const et=removeNonTranslationalTransform(c);et.length&&(o.set(c,et),c.render())}),a.forEach(c=>c.measureInitialState()),e.forEach(c=>{c.render();const et=o.get(c);et&&et.forEach(([tt,nt])=>{var rt;(rt=c.getValue(tt))===null||rt===void 0||rt.set(nt)})}),a.forEach(c=>c.measureEndState()),a.forEach(c=>{c.suspendedScrollY!==void 0&&window.scrollTo(0,c.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(a=>a.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(e,o,c,et,tt,nt=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=o,this.name=c,this.motionValue=et,this.element=tt,this.isAsync=nt}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:o,element:c,motionValue:et}=this;for(let tt=0;tt<e.length;tt++)if(e[tt]===null)if(tt===0){const nt=et==null?void 0:et.get(),rt=e[e.length-1];if(nt!==void 0)e[0]=nt;else if(c&&o){const mt=c.readValue(o,rt);mt!=null&&(e[0]=mt)}e[0]===void 0&&(e[0]=rt),et&&nt===void 0&&et.set(e[0])}else e[tt]=e[tt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(a,e)=>o=>!!(isString$2(o)&&singleColorRegex.test(o)&&o.startsWith(a)||e&&Object.prototype.hasOwnProperty.call(o,e)),splitColor=(a,e,o)=>c=>{if(!isString$2(c))return c;const[et,tt,nt,rt]=c.match(floatRegex);return{[a]:parseFloat(et),[e]:parseFloat(tt),[o]:parseFloat(nt),alpha:rt!==void 0?parseFloat(rt):1}},clampRgbUnit=a=>clamp(0,255,a),rgbUnit={...number$1,transform:a=>Math.round(clampRgbUnit(a))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:a,green:e,blue:o,alpha:c=1})=>"rgba("+rgbUnit.transform(a)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(o)+", "+sanitize(alpha.transform(c))+")"};function parseHex(a){let e="",o="",c="",et="";return a.length>5?(e=a.substring(1,3),o=a.substring(3,5),c=a.substring(5,7),et=a.substring(7,9)):(e=a.substring(1,2),o=a.substring(2,3),c=a.substring(3,4),et=a.substring(4,5),e+=e,o+=o,c+=c,et+=et),{red:parseInt(e,16),green:parseInt(o,16),blue:parseInt(c,16),alpha:et?parseInt(et,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:a,saturation:e,lightness:o,alpha:c=1})=>"hsla("+Math.round(a)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(o))+", "+sanitize(alpha.transform(c))+")"},color$1={test:a=>rgba.test(a)||hex.test(a)||hsla.test(a),parse:a=>rgba.test(a)?rgba.parse(a):hsla.test(a)?hsla.parse(a):hex.parse(a),transform:a=>isString$2(a)?a:a.hasOwnProperty("red")?rgba.transform(a):hsla.transform(a)};function test(a){var e,o;return isNaN(a)&&isString$2(a)&&(((e=a.match(floatRegex))===null||e===void 0?void 0:e.length)||0)+(((o=a.match(colorRegex))===null||o===void 0?void 0:o.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(a){const e=a.toString(),o=[],c={color:[],number:[],var:[]},et=[];let tt=0;const rt=e.replace(complexRegex,mt=>(color$1.test(mt)?(c.color.push(tt),et.push(COLOR_TOKEN),o.push(color$1.parse(mt))):mt.startsWith(VAR_FUNCTION_TOKEN)?(c.var.push(tt),et.push(VAR_TOKEN),o.push(mt)):(c.number.push(tt),et.push(NUMBER_TOKEN),o.push(parseFloat(mt))),++tt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:o,split:rt,indexes:c,types:et}}function parseComplexValue(a){return analyseComplexValue(a).values}function createTransformer(a){const{split:e,types:o}=analyseComplexValue(a),c=e.length;return et=>{let tt="";for(let nt=0;nt<c;nt++)if(tt+=e[nt],et[nt]!==void 0){const rt=o[nt];rt===NUMBER_TOKEN?tt+=sanitize(et[nt]):rt===COLOR_TOKEN?tt+=color$1.transform(et[nt]):tt+=et[nt]}return tt}}const convertNumbersToZero=a=>typeof a=="number"?0:a;function getAnimatableNone$1(a){const e=parseComplexValue(a);return createTransformer(a)(e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(a){const[e,o]=a.slice(0,-1).split("(");if(e==="drop-shadow")return a;const[c]=o.match(floatRegex)||[];if(!c)return a;const et=o.replace(c,"");let tt=maxDefaults.has(e)?1:0;return c!==o&&(tt*=100),e+"("+tt+et+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:a=>{const e=a.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):a}},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=a=>defaultValueTypes[a];function getAnimatableNone(a,e){let o=getDefaultValueType(a);return o!==filter&&(o=complex),o.getAnimatableNone?o.getAnimatableNone(e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(a,e,o){let c=0,et;for(;c<a.length&&!et;){const tt=a[c];typeof tt=="string"&&!invalidTemplates.has(tt)&&analyseComplexValue(tt).values.length&&(et=a[c]),c++}if(et&&o)for(const tt of e)a[tt]=getAnimatableNone(o,et)}class DOMKeyframesResolver extends KeyframeResolver{constructor(e,o,c,et){super(e,o,c,et,et==null?void 0:et.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:o,name:c}=this;if(!o.current)return;super.readKeyframes();for(let mt=0;mt<e.length;mt++){let gt=e[mt];if(typeof gt=="string"&&(gt=gt.trim(),isCSSVariableToken(gt))){const yt=getVariableValue(gt,o.current);yt!==void 0&&(e[mt]=yt),mt===e.length-1&&(this.finalKeyframe=gt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(c)||e.length!==2)return;const[et,tt]=e,nt=findDimensionValueType(et),rt=findDimensionValueType(tt);if(nt!==rt)if(isNumOrPxType(nt)&&isNumOrPxType(rt))for(let mt=0;mt<e.length;mt++){const gt=e[mt];typeof gt=="string"&&(e[mt]=parseFloat(gt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:o}=this,c=[];for(let et=0;et<e.length;et++)isNone(e[et])&&c.push(et);c.length&&makeNoneKeyframesAnimatable(e,c,o)}measureInitialState(){const{element:e,unresolvedKeyframes:o,name:c}=this;if(!e.current)return;c==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[c](e.measureViewportBox(),window.getComputedStyle(e.current)),o[0]=this.measuredOrigin;const et=o[o.length-1];et!==void 0&&e.getValue(c,et).jump(et,!1)}measureEndState(){var e;const{element:o,name:c,unresolvedKeyframes:et}=this;if(!o.current)return;const tt=o.getValue(c);tt&&tt.jump(this.measuredOrigin,!1);const nt=et.length-1,rt=et[nt];et[nt]=positionalValues[c](o.measureViewportBox(),window.getComputedStyle(o.current)),rt!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=rt),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([mt,gt])=>{o.getValue(mt).set(gt)}),this.resolveNoneKeyframes()}}function memo(a){let e;return()=>(e===void 0&&(e=a()),e)}const isAnimatable=(a,e)=>e==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(complex.test(a)||a==="0")&&!a.startsWith("url("));function hasKeyframesChanged(a){const e=a[0];if(a.length===1)return!0;for(let o=0;o<a.length;o++)if(a[o]!==e)return!0}function canAnimate(a,e,o,c){const et=a[0];if(et===null)return!1;if(e==="display"||e==="visibility")return!0;const tt=a[a.length-1],nt=isAnimatable(et,e),rt=isAnimatable(tt,e);return!nt||!rt?!1:hasKeyframesChanged(a)||o==="spring"&&c}class BaseAnimation{constructor({autoplay:e=!0,delay:o=0,type:c="keyframes",repeat:et=0,repeatDelay:tt=0,repeatType:nt="loop",...rt}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:o,type:c,repeat:et,repeatDelay:tt,repeatType:nt,...rt},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(e,o){this.hasAttemptedResolve=!0;const{name:c,type:et,velocity:tt,delay:nt,onComplete:rt,onUpdate:mt,isGenerator:gt}=this.options;if(!gt&&!canAnimate(e,c,et,tt))if(nt)this.options.duration=0;else{mt==null||mt(getFinalKeyframe(e,this.options,o)),rt==null||rt(),this.resolveFinishedPromise();return}const yt=this.initPlayback(e,o);yt!==!1&&(this._resolved={keyframes:e,finalKeyframe:o,...yt},this.onPostResolved())}onPostResolved(){}then(e,o){return this.currentFinishedPromise.then(e,o)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function velocityPerSecond(a,e){return e?a*(1e3/e):0}const velocitySampleDuration=5;function calcGeneratorVelocity(a,e,o){const c=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(o-a(c),e-c)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:a=800,bounce:e=.25,velocity:o=0,mass:c=1}){let et,tt,nt=1-e;nt=clamp(minDamping,maxDamping,nt),a=clamp(minDuration,maxDuration$1,millisecondsToSeconds(a)),nt<1?(et=gt=>{const yt=gt*nt,vt=yt*a,xt=yt-o,bt=calcAngularFreq(gt,nt),Et=Math.exp(-vt);return safeMin-xt/bt*Et},tt=gt=>{const vt=gt*nt*a,xt=vt*o+o,bt=Math.pow(nt,2)*Math.pow(gt,2)*a,Et=Math.exp(-vt),wt=calcAngularFreq(Math.pow(gt,2),nt);return(-et(gt)+safeMin>0?-1:1)*((xt-bt)*Et)/wt}):(et=gt=>{const yt=Math.exp(-gt*a),vt=(gt-o)*a+1;return-safeMin+yt*vt},tt=gt=>{const yt=Math.exp(-gt*a),vt=(o-gt)*(a*a);return yt*vt});const rt=5/a,mt=approximateRoot(et,tt,rt);if(a=secondsToMilliseconds(a),isNaN(mt))return{stiffness:100,damping:10,duration:a};{const gt=Math.pow(mt,2)*c;return{stiffness:gt,damping:nt*2*Math.sqrt(c*gt),duration:a}}}const rootIterations=12;function approximateRoot(a,e,o){let c=o;for(let et=1;et<rootIterations;et++)c=c-a(c)/e(c);return c}function calcAngularFreq(a,e){return a*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(a,e){return e.some(o=>a[o]!==void 0)}function getSpringOptions(a){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...a};if(!isSpringType(a,physicsKeys)&&isSpringType(a,durationKeys)){const o=findSpring(a);e={...e,...o,mass:1},e.isResolvedFromDuration=!0}return e}function spring({keyframes:a,restDelta:e,restSpeed:o,...c}){const et=a[0],tt=a[a.length-1],nt={done:!1,value:et},{stiffness:rt,damping:mt,mass:gt,duration:yt,velocity:vt,isResolvedFromDuration:xt}=getSpringOptions({...c,velocity:-millisecondsToSeconds(c.velocity||0)}),bt=vt||0,Et=mt/(2*Math.sqrt(rt*gt)),wt=tt-et,St=millisecondsToSeconds(Math.sqrt(rt/gt)),Tt=Math.abs(wt)<5;o||(o=Tt?.01:2),e||(e=Tt?.005:.5);let kt;if(Et<1){const _t=calcAngularFreq(St,Et);kt=Mt=>{const Pt=Math.exp(-Et*St*Mt);return tt-Pt*((bt+Et*St*wt)/_t*Math.sin(_t*Mt)+wt*Math.cos(_t*Mt))}}else if(Et===1)kt=_t=>tt-Math.exp(-St*_t)*(wt+(bt+St*wt)*_t);else{const _t=St*Math.sqrt(Et*Et-1);kt=Mt=>{const Pt=Math.exp(-Et*St*Mt),It=Math.min(_t*Mt,300);return tt-Pt*((bt+Et*St*wt)*Math.sinh(It)+_t*wt*Math.cosh(It))/_t}}return{calculatedDuration:xt&&yt||null,next:_t=>{const Mt=kt(_t);if(xt)nt.done=_t>=yt;else{let Pt=bt;_t!==0&&(Et<1?Pt=calcGeneratorVelocity(kt,_t,Mt):Pt=0);const It=Math.abs(Pt)<=o,Dt=Math.abs(tt-Mt)<=e;nt.done=It&&Dt}return nt.value=nt.done?tt:Mt,nt}}}function inertia({keyframes:a,velocity:e=0,power:o=.8,timeConstant:c=325,bounceDamping:et=10,bounceStiffness:tt=500,modifyTarget:nt,min:rt,max:mt,restDelta:gt=.5,restSpeed:yt}){const vt=a[0],xt={done:!1,value:vt},bt=Ct=>rt!==void 0&&Ct<rt||mt!==void 0&&Ct>mt,Et=Ct=>rt===void 0?mt:mt===void 0||Math.abs(rt-Ct)<Math.abs(mt-Ct)?rt:mt;let wt=o*e;const St=vt+wt,Tt=nt===void 0?St:nt(St);Tt!==St&&(wt=Tt-vt);const kt=Ct=>-wt*Math.exp(-Ct/c),_t=Ct=>Tt+kt(Ct),Mt=Ct=>{const At=kt(Ct),Lt=_t(Ct);xt.done=Math.abs(At)<=gt,xt.value=xt.done?Tt:Lt};let Pt,It;const Dt=Ct=>{bt(xt.value)&&(Pt=Ct,It=spring({keyframes:[xt.value,Et(xt.value)],velocity:calcGeneratorVelocity(_t,Ct,xt.value),damping:et,stiffness:tt,restDelta:gt,restSpeed:yt}))};return Dt(0),{calculatedDuration:null,next:Ct=>{let At=!1;return!It&&Pt===void 0&&(At=!0,Mt(Ct),Dt(Ct)),Pt!==void 0&&Ct>=Pt?It.next(Ct-Pt):(!At&&Mt(Ct),xt)}}}const calcBezier=(a,e,o)=>(((1-3*o+3*e)*a+(3*o-6*e))*a+3*e)*a,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(a,e,o,c,et){let tt,nt,rt=0;do nt=e+(o-e)/2,tt=calcBezier(nt,c,et)-a,tt>0?o=nt:e=nt;while(Math.abs(tt)>subdivisionPrecision&&++rt<subdivisionMaxIterations);return nt}function cubicBezier(a,e,o,c){if(a===e&&o===c)return noop$3;const et=tt=>binarySubdivide(tt,0,1,a,o);return tt=>tt===0||tt===1?tt:calcBezier(et(tt),e,c)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=a=>Array.isArray(a)&&typeof a[0]!="number",mirrorEasing=a=>e=>e<=.5?a(2*e)/2:(2-a(2*(1-e)))/2,reverseEasing=a=>e=>1-a(1-e),circIn=a=>1-Math.sin(Math.acos(a)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=a=>(a*=2)<1?.5*backIn(a):.5*(2-Math.pow(2,-10*(a-1))),easingLookup={linear:noop$3,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=a=>{if(Array.isArray(a)){invariant$1(a.length===4);const[e,o,c,et]=a;return cubicBezier(e,o,c,et)}else if(typeof a=="string")return invariant$1(easingLookup[a]!==void 0),easingLookup[a];return a},progress=(a,e,o)=>{const c=e-a;return c===0?1:(o-a)/c},mixNumber$1=(a,e,o)=>a+(e-a)*o;function hueToRgb(a,e,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?a+(e-a)*6*o:o<1/2?e:o<2/3?a+(e-a)*(2/3-o)*6:a}function hslaToRgba({hue:a,saturation:e,lightness:o,alpha:c}){a/=360,e/=100,o/=100;let et=0,tt=0,nt=0;if(!e)et=tt=nt=o;else{const rt=o<.5?o*(1+e):o+e-o*e,mt=2*o-rt;et=hueToRgb(mt,rt,a+1/3),tt=hueToRgb(mt,rt,a),nt=hueToRgb(mt,rt,a-1/3)}return{red:Math.round(et*255),green:Math.round(tt*255),blue:Math.round(nt*255),alpha:c}}function mixImmediate(a,e){return o=>o>0?e:a}const mixLinearColor=(a,e,o)=>{const c=a*a,et=o*(e*e-c)+c;return et<0?0:Math.sqrt(et)},colorTypes=[hex,rgba,hsla],getColorType=a=>colorTypes.find(e=>e.test(a));function asRGBA(a){const e=getColorType(a);if(!e)return!1;let o=e.parse(a);return e===hsla&&(o=hslaToRgba(o)),o}const mixColor=(a,e)=>{const o=asRGBA(a),c=asRGBA(e);if(!o||!c)return mixImmediate(a,e);const et={...o};return tt=>(et.red=mixLinearColor(o.red,c.red,tt),et.green=mixLinearColor(o.green,c.green,tt),et.blue=mixLinearColor(o.blue,c.blue,tt),et.alpha=mixNumber$1(o.alpha,c.alpha,tt),rgba.transform(et))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(a,e){return invisibleValues.has(a)?o=>o<=0?a:e:o=>o>=1?e:a}function mixNumber(a,e){return o=>mixNumber$1(a,e,o)}function getMixer(a){return typeof a=="number"?mixNumber:typeof a=="string"?isCSSVariableToken(a)?mixImmediate:color$1.test(a)?mixColor:mixComplex:Array.isArray(a)?mixArray:typeof a=="object"?color$1.test(a)?mixColor:mixObject:mixImmediate}function mixArray(a,e){const o=[...a],c=o.length,et=a.map((tt,nt)=>getMixer(tt)(tt,e[nt]));return tt=>{for(let nt=0;nt<c;nt++)o[nt]=et[nt](tt);return o}}function mixObject(a,e){const o={...a,...e},c={};for(const et in o)a[et]!==void 0&&e[et]!==void 0&&(c[et]=getMixer(a[et])(a[et],e[et]));return et=>{for(const tt in c)o[tt]=c[tt](et);return o}}function matchOrder(a,e){var o;const c=[],et={color:0,var:0,number:0};for(let tt=0;tt<e.values.length;tt++){const nt=e.types[tt],rt=a.indexes[nt][et[nt]],mt=(o=a.values[rt])!==null&&o!==void 0?o:0;c[tt]=mt,et[nt]++}return c}const mixComplex=(a,e)=>{const o=complex.createTransformer(e),c=analyseComplexValue(a),et=analyseComplexValue(e);return c.indexes.var.length===et.indexes.var.length&&c.indexes.color.length===et.indexes.color.length&&c.indexes.number.length>=et.indexes.number.length?invisibleValues.has(a)&&!et.values.length||invisibleValues.has(e)&&!c.values.length?mixVisibility(a,e):pipe(mixArray(matchOrder(c,et),et.values),o):mixImmediate(a,e)};function mix(a,e,o){return typeof a=="number"&&typeof e=="number"&&typeof o=="number"?mixNumber$1(a,e,o):getMixer(a)(a,e)}function createMixers(a,e,o){const c=[],et=o||mix,tt=a.length-1;for(let nt=0;nt<tt;nt++){let rt=et(a[nt],a[nt+1]);if(e){const mt=Array.isArray(e)?e[nt]||noop$3:e;rt=pipe(mt,rt)}c.push(rt)}return c}function interpolate(a,e,{clamp:o=!0,ease:c,mixer:et}={}){const tt=a.length;if(invariant$1(tt===e.length),tt===1)return()=>e[0];if(tt===2&&a[0]===a[1])return()=>e[1];a[0]>a[tt-1]&&(a=[...a].reverse(),e=[...e].reverse());const nt=createMixers(e,c,et),rt=nt.length,mt=gt=>{let yt=0;if(rt>1)for(;yt<a.length-2&&!(gt<a[yt+1]);yt++);const vt=progress(a[yt],a[yt+1],gt);return nt[yt](vt)};return o?gt=>mt(clamp(a[0],a[tt-1],gt)):mt}function fillOffset(a,e){const o=a[a.length-1];for(let c=1;c<=e;c++){const et=progress(0,e,c);a.push(mixNumber$1(o,1,et))}}function defaultOffset(a){const e=[0];return fillOffset(e,a.length-1),e}function convertOffsetToTimes(a,e){return a.map(o=>o*e)}function defaultEasing(a,e){return a.map(()=>e||easeInOut).splice(0,a.length-1)}function keyframes({duration:a=300,keyframes:e,times:o,ease:c="easeInOut"}){const et=isEasingArray(c)?c.map(easingDefinitionToFunction):easingDefinitionToFunction(c),tt={done:!1,value:e[0]},nt=convertOffsetToTimes(o&&o.length===e.length?o:defaultOffset(e),a),rt=interpolate(nt,e,{ease:Array.isArray(et)?et:defaultEasing(e,et)});return{calculatedDuration:a,next:mt=>(tt.value=rt(mt),tt.done=mt>=a,tt)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(a){let e=0;const o=50;let c=a.next(e);for(;!c.done&&e<maxGeneratorDuration;)e+=o,c=a.next(e);return e>=maxGeneratorDuration?1/0:e}const frameloopDriver=a=>{const e=({timestamp:o})=>a(o);return{start:()=>frame.update(e,!0),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=a=>a/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:e=KeyframeResolver,...o}){super(o),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:rt}=this.options;rt&&rt()};const{name:c,motionValue:et,keyframes:tt}=this.options,nt=(rt,mt)=>this.onKeyframesResolved(rt,mt);c&&et&&et.owner?this.resolver=et.owner.resolveKeyframes(tt,nt,c,et):this.resolver=new e(tt,nt,c,et),this.resolver.scheduleResolve()}initPlayback(e){const{type:o="keyframes",repeat:c=0,repeatDelay:et=0,repeatType:tt,velocity:nt=0}=this.options,rt=generators[o]||keyframes;let mt,gt;rt!==keyframes&&typeof e[0]!="number"&&(mt=pipe(percentToProgress,mix(e[0],e[1])),e=[0,100]);const yt=rt({...this.options,keyframes:e});tt==="mirror"&&(gt=rt({...this.options,keyframes:[...e].reverse(),velocity:-nt})),yt.calculatedDuration===null&&(yt.calculatedDuration=calcGeneratorDuration(yt));const{calculatedDuration:vt}=yt,xt=vt+et,bt=xt*(c+1)-et;return{generator:yt,mirroredGenerator:gt,mapPercentToKeyframes:mt,calculatedDuration:vt,resolvedDuration:xt,totalDuration:bt}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,o=!1){const{resolved:c}=this;if(!c){const{keyframes:Ct}=this.options;return{done:!0,value:Ct[Ct.length-1]}}const{finalKeyframe:et,generator:tt,mirroredGenerator:nt,mapPercentToKeyframes:rt,keyframes:mt,calculatedDuration:gt,totalDuration:yt,resolvedDuration:vt}=c;if(this.startTime===null)return tt.next(0);const{delay:xt,repeat:bt,repeatType:Et,repeatDelay:wt,onUpdate:St}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-yt/this.speed,this.startTime)),o?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const Tt=this.currentTime-xt*(this.speed>=0?1:-1),kt=this.speed>=0?Tt<0:Tt>yt;this.currentTime=Math.max(Tt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=yt);let _t=this.currentTime,Mt=tt;if(bt){const Ct=Math.min(this.currentTime,yt)/vt;let At=Math.floor(Ct),Lt=Ct%1;!Lt&&Ct>=1&&(Lt=1),Lt===1&&At--,At=Math.min(At,bt+1),!!(At%2)&&(Et==="reverse"?(Lt=1-Lt,wt&&(Lt-=wt/vt)):Et==="mirror"&&(Mt=nt)),_t=clamp(0,1,Lt)*vt}const Pt=kt?{done:!1,value:mt[0]}:Mt.next(_t);rt&&(Pt.value=rt(Pt.value));let{done:It}=Pt;!kt&&gt!==null&&(It=this.speed>=0?this.currentTime>=yt:this.currentTime<=0);const Dt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&It);return Dt&&et!==void 0&&(Pt.value=getFinalKeyframe(mt,this.options,et)),St&&St(Pt.value),Dt&&this.finish(),Pt}get duration(){const{resolved:e}=this;return e?millisecondsToSeconds(e.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(e){e=secondsToMilliseconds(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const o=this.playbackSpeed!==e;this.playbackSpeed=e,o&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=frameloopDriver,onPlay:o}=this.options;this.driver||(this.driver=e(et=>this.tick(et))),o&&o();const c=this.driver.now();this.holdTime!==null?this.startTime=c-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=c),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const isBezierDefinition=a=>Array.isArray(a)&&typeof a[0]=="number";function isWaapiSupportedEasing(a){return!!(!a||typeof a=="string"&&a in supportedWaapiEasing||isBezierDefinition(a)||Array.isArray(a)&&a.every(isWaapiSupportedEasing))}const cubicBezierAsString=([a,e,o,c])=>`cubic-bezier(${a}, ${e}, ${o}, ${c})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(a){return mapEasingToNativeEasing(a)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(a){if(a)return isBezierDefinition(a)?cubicBezierAsString(a):Array.isArray(a)?a.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[a]}function animateStyle(a,e,o,{delay:c=0,duration:et=300,repeat:tt=0,repeatType:nt="loop",ease:rt,times:mt}={}){const gt={[e]:o};mt&&(gt.offset=mt);const yt=mapEasingToNativeEasing(rt);return Array.isArray(yt)&&(gt.easing=yt),a.animate(gt,{delay:c,duration:et,easing:Array.isArray(yt)?"linear":yt,fill:"both",iterations:tt+1,direction:nt==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(a){return a.type==="spring"||a.name==="backgroundColor"||!isWaapiSupportedEasing(a.ease)}function pregenerateKeyframes(a,e){const o=new MainThreadAnimation({...e,keyframes:a,repeat:0,delay:0,isGenerator:!0});let c={done:!1,value:a[0]};const et=[];let tt=0;for(;!c.done&&tt<maxDuration;)c=o.sample(tt),et.push(c.value),tt+=sampleDelta;return{times:void 0,keyframes:et,duration:tt-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor(e){super(e);const{name:o,motionValue:c,keyframes:et}=this.options;this.resolver=new DOMKeyframesResolver(et,(tt,nt)=>this.onKeyframesResolved(tt,nt),o,c),this.resolver.scheduleResolve()}initPlayback(e,o){var c;let{duration:et=300,times:tt,ease:nt,type:rt,motionValue:mt,name:gt}=this.options;if(!(!((c=mt.owner)===null||c===void 0)&&c.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:vt,onUpdate:xt,motionValue:bt,...Et}=this.options,wt=pregenerateKeyframes(e,Et);e=wt.keyframes,e.length===1&&(e[1]=e[0]),et=wt.duration,tt=wt.times,nt=wt.ease,rt="keyframes"}const yt=animateStyle(mt.owner.current,gt,e,{...this.options,duration:et,times:tt,ease:nt});return yt.startTime=time.now(),this.pendingTimeline?(yt.timeline=this.pendingTimeline,this.pendingTimeline=void 0):yt.onfinish=()=>{const{onComplete:vt}=this.options;mt.set(getFinalKeyframe(e,this.options,o)),vt&&vt(),this.cancel(),this.resolveFinishedPromise()},{animation:yt,duration:et,times:tt,type:rt,ease:nt,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:o}=e;return millisecondsToSeconds(o)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:o}=e;return millisecondsToSeconds(o.currentTime||0)}set time(e){const{resolved:o}=this;if(!o)return;const{animation:c}=o;c.currentTime=secondsToMilliseconds(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:o}=e;return o.playbackRate}set speed(e){const{resolved:o}=this;if(!o)return;const{animation:c}=o;c.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:o}=e;return o.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:o}=this;if(!o)return noop$3;const{animation:c}=o;c.timeline=e,c.onfinish=null}return noop$3}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:o}=e;o.playState==="finished"&&this.updateFinishedPromise(),o.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:o}=e;o.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:o,keyframes:c,duration:et,type:tt,ease:nt,times:rt}=e;if(!(o.playState==="idle"||o.playState==="finished")){if(this.time){const{motionValue:mt,onUpdate:gt,onComplete:yt,...vt}=this.options,xt=new MainThreadAnimation({...vt,keyframes:c,duration:et,type:tt,ease:nt,times:rt,isGenerator:!0}),bt=secondsToMilliseconds(this.time);mt.setWithVelocity(xt.sample(bt-sampleDelta).value,xt.sample(bt).value,sampleDelta)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:o,name:c,repeatDelay:et,repeatType:tt,damping:nt,type:rt}=e;return supportsWaapi()&&c&&acceleratedValues.has(c)&&o&&o.owner&&o.owner.current instanceof HTMLElement&&!o.owner.getProps().onUpdate&&!et&&tt!=="mirror"&&nt!==0&&rt!=="inertia"}}function observeTimeline(a,e){let o;const c=()=>{const{currentTime:et}=e,nt=(et===null?0:et.value)/100;o!==nt&&a(nt),o=nt};return frame.update(c,!0),()=>cancelFrame(c)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,o){return Promise.all(this.animations).then(e).catch(o)}getAll(e){return this.animations[0][e]}setAll(e,o){for(let c=0;c<this.animations.length;c++)this.animations[c][e]=o}attachTimeline(e){const o=this.animations.map(c=>{if(supportsScrollTimeline()&&c.attachTimeline)c.attachTimeline(e);else return c.pause(),observeTimeline(et=>{c.time=c.duration*et},e)});return()=>{o.forEach((c,et)=>{c&&c(),this.animations[et].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let o=0;o<this.animations.length;o++)e=Math.max(e,this.animations[o].duration);return e}runAll(e){this.animations.forEach(o=>o[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(a,e,o,c={},et,tt)=>nt=>{const rt=getValueTransition(c,a)||{},mt=rt.delay||c.delay||0;let{elapsed:gt=0}=c;gt=gt-secondsToMilliseconds(mt);let yt={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:e.getVelocity(),...rt,delay:-gt,onUpdate:xt=>{e.set(xt),rt.onUpdate&&rt.onUpdate(xt)},onComplete:()=>{nt(),rt.onComplete&&rt.onComplete()},name:a,motionValue:e,element:tt?void 0:et};isTransitionDefined(rt)||(yt={...yt,...getDefaultTransition(a,yt)}),yt.duration&&(yt.duration=secondsToMilliseconds(yt.duration)),yt.repeatDelay&&(yt.repeatDelay=secondsToMilliseconds(yt.repeatDelay)),yt.from!==void 0&&(yt.keyframes[0]=yt.from);let vt=!1;if((yt.type===!1||yt.duration===0&&!yt.repeatDelay)&&(yt.duration=0,yt.delay===0&&(vt=!0)),vt&&!tt&&e.get()!==void 0){const xt=getFinalKeyframe(yt.keyframes,rt);if(xt!==void 0)return frame.update(()=>{yt.onUpdate(xt),yt.onComplete()}),new GroupPlaybackControls([])}return!tt&&AcceleratedAnimation.supports(yt)?new AcceleratedAnimation(yt):new MainThreadAnimation(yt)};function isWillChangeMotionValue(a){return!!(isMotionValue(a)&&a.add)}function addUniqueItem(a,e){a.indexOf(e)===-1&&a.push(e)}function removeItem(a,e){const o=a.indexOf(e);o>-1&&a.splice(o,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,o,c){const et=this.subscriptions.length;if(et)if(et===1)this.subscriptions[0](e,o,c);else for(let tt=0;tt<et;tt++){const nt=this.subscriptions[tt];nt&&nt(e,o,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=a=>!isNaN(parseFloat(a));class MotionValue{constructor(e,o={}){this.version="11.2.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(c,et=!0)=>{const tt=time.now();this.updatedAt!==tt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(c),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),et&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=o.owner}setCurrent(e){this.current=e,this.updatedAt=time.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,o){this.events[e]||(this.events[e]=new SubscriptionManager);const c=this.events[e].add(o);return e==="change"?()=>{c(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,o){this.passiveEffect=e,this.stopPassiveEffect=o}set(e,o=!0){!o||!this.passiveEffect?this.updateAndNotify(e,o):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,o,c){this.set(o),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-c}jump(e,o=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(e){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=e(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(a,e){return new MotionValue(a,e)}function setMotionValue(a,e,o){a.hasValue(e)?a.getValue(e).set(o):a.addValue(e,motionValue(o))}function setTarget(a,e){const o=resolveVariant(a,e);let{transitionEnd:c={},transition:et={},...tt}=o||{};tt={...tt,...c};for(const nt in tt){const rt=resolveFinalValueInKeyframes(tt[nt]);setMotionValue(a,nt,rt)}}function getOptimisedAppearId(a){return a.getProps()[optimizedAppearDataAttribute]}function shouldBlockAnimation({protectedKeys:a,needsAnimating:e},o){const c=a.hasOwnProperty(o)&&e[o]!==!0;return e[o]=!1,c}function animateTarget(a,e,{delay:o=0,transitionOverride:c,type:et}={}){var tt;let{transition:nt=a.getDefaultTransition(),transitionEnd:rt,...mt}=e;const gt=a.getValue("willChange");c&&(nt=c);const yt=[],vt=et&&a.animationState&&a.animationState.getState()[et];for(const xt in mt){const bt=a.getValue(xt,(tt=a.latestValues[xt])!==null&&tt!==void 0?tt:null),Et=mt[xt];if(Et===void 0||vt&&shouldBlockAnimation(vt,xt))continue;const wt={delay:o,elapsed:0,...getValueTransition(nt||{},xt)};let St=!1;if(window.HandoffAppearAnimations){const kt=getOptimisedAppearId(a);if(kt){const _t=window.HandoffAppearAnimations(kt,xt,bt,frame);_t!==null&&(wt.elapsed=_t,St=!0)}}bt.start(animateMotionValue(xt,bt,Et,a.shouldReduceMotion&&transformProps.has(xt)?{type:!1}:wt,a,St));const Tt=bt.animation;Tt&&(isWillChangeMotionValue(gt)&&(gt.add(xt),Tt.then(()=>gt.remove(xt))),yt.push(Tt))}return rt&&Promise.all(yt).then(()=>{frame.update(()=>{rt&&setTarget(a,rt)})}),yt}function animateVariant(a,e,o={}){var c;const et=resolveVariant(a,e,o.type==="exit"?(c=a.presenceContext)===null||c===void 0?void 0:c.custom:void 0);let{transition:tt=a.getDefaultTransition()||{}}=et||{};o.transitionOverride&&(tt=o.transitionOverride);const nt=et?()=>Promise.all(animateTarget(a,et,o)):()=>Promise.resolve(),rt=a.variantChildren&&a.variantChildren.size?(gt=0)=>{const{delayChildren:yt=0,staggerChildren:vt,staggerDirection:xt}=tt;return animateChildren(a,e,yt+gt,vt,xt,o)}:()=>Promise.resolve(),{when:mt}=tt;if(mt){const[gt,yt]=mt==="beforeChildren"?[nt,rt]:[rt,nt];return gt().then(()=>yt())}else return Promise.all([nt(),rt(o.delay)])}function animateChildren(a,e,o=0,c=0,et=1,tt){const nt=[],rt=(a.variantChildren.size-1)*c,mt=et===1?(gt=0)=>gt*c:(gt=0)=>rt-gt*c;return Array.from(a.variantChildren).sort(sortByTreeOrder).forEach((gt,yt)=>{gt.notify("AnimationStart",e),nt.push(animateVariant(gt,e,{...tt,delay:o+mt(yt)}).then(()=>gt.notify("AnimationComplete",e)))}),Promise.all(nt)}function sortByTreeOrder(a,e){return a.sortNodePosition(e)}function animateVisualElement(a,e,o={}){a.notify("AnimationStart",e);let c;if(Array.isArray(e)){const et=e.map(tt=>animateVariant(a,tt,o));c=Promise.all(et)}else if(typeof e=="string")c=animateVariant(a,e,o);else{const et=typeof e=="function"?resolveVariant(a,e,o.custom):e;c=Promise.all(animateTarget(a,et,o))}return c.then(()=>{frame.postRender(()=>{a.notify("AnimationComplete",e)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(a){return e=>Promise.all(e.map(({animation:o,options:c})=>animateVisualElement(a,o,c)))}function createAnimationState(a){let e=animateList(a);const o=createState$1();let c=!0;const et=mt=>(gt,yt)=>{var vt;const xt=resolveVariant(a,yt,mt==="exit"?(vt=a.presenceContext)===null||vt===void 0?void 0:vt.custom:void 0);if(xt){const{transition:bt,transitionEnd:Et,...wt}=xt;gt={...gt,...wt,...Et}}return gt};function tt(mt){e=mt(a)}function nt(mt){const gt=a.getProps(),yt=a.getVariantContext(!0)||{},vt=[],xt=new Set;let bt={},Et=1/0;for(let St=0;St<numAnimationTypes;St++){const Tt=reversePriorityOrder[St],kt=o[Tt],_t=gt[Tt]!==void 0?gt[Tt]:yt[Tt],Mt=isVariantLabel(_t),Pt=Tt===mt?kt.isActive:null;Pt===!1&&(Et=St);let It=_t===yt[Tt]&&_t!==gt[Tt]&&Mt;if(It&&c&&a.manuallyAnimateOnMount&&(It=!1),kt.protectedKeys={...bt},!kt.isActive&&Pt===null||!_t&&!kt.prevProp||isAnimationControls(_t)||typeof _t=="boolean")continue;let Ct=checkVariantsDidChange(kt.prevProp,_t)||Tt===mt&&kt.isActive&&!It&&Mt||St>Et&&Mt,At=!1;const Lt=Array.isArray(_t)?_t:[_t];let jt=Lt.reduce(et(Tt),{});Pt===!1&&(jt={});const{prevResolvedValues:Bt={}}=kt,zt={...Bt,...jt},Yt=en=>{Ct=!0,xt.has(en)&&(At=!0,xt.delete(en)),kt.needsAnimating[en]=!0;const rn=a.getValue(en);rn&&(rn.liveStyle=!1)};for(const en in zt){const rn=jt[en],on=Bt[en];if(bt.hasOwnProperty(en))continue;let Zt=!1;isKeyframesTarget(rn)&&isKeyframesTarget(on)?Zt=!shallowCompare(rn,on):Zt=rn!==on,Zt?rn!=null?Yt(en):xt.add(en):rn!==void 0&&xt.has(en)?Yt(en):kt.protectedKeys[en]=!0}kt.prevProp=_t,kt.prevResolvedValues=jt,kt.isActive&&(bt={...bt,...jt}),c&&a.blockInitialAnimation&&(Ct=!1),Ct&&(!It||At)&&vt.push(...Lt.map(en=>({animation:en,options:{type:Tt}})))}if(xt.size){const St={};xt.forEach(Tt=>{const kt=a.getBaseTarget(Tt),_t=a.getValue(Tt);_t&&(_t.liveStyle=!0),St[Tt]=kt??null}),vt.push({animation:St})}let wt=!!vt.length;return c&&(gt.initial===!1||gt.initial===gt.animate)&&!a.manuallyAnimateOnMount&&(wt=!1),c=!1,wt?e(vt):Promise.resolve()}function rt(mt,gt){var yt;if(o[mt].isActive===gt)return Promise.resolve();(yt=a.variantChildren)===null||yt===void 0||yt.forEach(xt=>{var bt;return(bt=xt.animationState)===null||bt===void 0?void 0:bt.setActive(mt,gt)}),o[mt].isActive=gt;const vt=nt(mt);for(const xt in o)o[xt].protectedKeys={};return vt}return{animateChanges:nt,setActive:rt,setAnimateFunction:tt,getState:()=>o}}function checkVariantsDidChange(a,e){return typeof e=="string"?e!==a:Array.isArray(e)?!shallowCompare(e,a):!1}function createTypeState(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature$1{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),isAnimationControls(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:o}=this.node.prevProps||{};e!==o&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature$1{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:o}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===c)return;const et=this.node.animationState.setActive("exit",!e);o&&!e&&et.then(()=>o(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(a,e)=>Math.abs(a-e);function distance2D(a,e){const o=distance(a.x,e.x),c=distance(a.y,e.y);return Math.sqrt(o**2+c**2)}class PanSession{constructor(e,o,{transformPagePoint:c,contextWindow:et,dragSnapToOrigin:tt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const vt=getPanInfo(this.lastMoveEventInfo,this.history),xt=this.startEvent!==null,bt=distance2D(vt.offset,{x:0,y:0})>=3;if(!xt&&!bt)return;const{point:Et}=vt,{timestamp:wt}=frameData;this.history.push({...Et,timestamp:wt});const{onStart:St,onMove:Tt}=this.handlers;xt||(St&&St(this.lastMoveEvent,vt),this.startEvent=this.lastMoveEvent),Tt&&Tt(this.lastMoveEvent,vt)},this.handlePointerMove=(vt,xt)=>{this.lastMoveEvent=vt,this.lastMoveEventInfo=transformPoint(xt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(vt,xt)=>{this.end();const{onEnd:bt,onSessionEnd:Et,resumeAnimation:wt}=this.handlers;if(this.dragSnapToOrigin&&wt&&wt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const St=getPanInfo(vt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(xt,this.transformPagePoint),this.history);this.startEvent&&bt&&bt(vt,St),Et&&Et(vt,St)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=tt,this.handlers=o,this.transformPagePoint=c,this.contextWindow=et||window;const nt=extractEventInfo(e),rt=transformPoint(nt,this.transformPagePoint),{point:mt}=rt,{timestamp:gt}=frameData;this.history=[{...mt,timestamp:gt}];const{onSessionStart:yt}=o;yt&&yt(e,getPanInfo(rt,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(a,e){return e?{point:e(a.point)}:a}function subtractPoint(a,e){return{x:a.x-e.x,y:a.y-e.y}}function getPanInfo({point:a},e){return{point:a,delta:subtractPoint(a,lastDevicePoint(e)),offset:subtractPoint(a,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(a){return a[0]}function lastDevicePoint(a){return a[a.length-1]}function getVelocity(a,e){if(a.length<2)return{x:0,y:0};let o=a.length-1,c=null;const et=lastDevicePoint(a);for(;o>=0&&(c=a[o],!(et.timestamp-c.timestamp>secondsToMilliseconds(e)));)o--;if(!c)return{x:0,y:0};const tt=millisecondsToSeconds(et.timestamp-c.timestamp);if(tt===0)return{x:0,y:0};const nt={x:(et.x-c.x)/tt,y:(et.y-c.y)/tt};return nt.x===1/0&&(nt.x=0),nt.y===1/0&&(nt.y=0),nt}function calcLength(a){return a.max-a.min}function isNear(a,e=0,o=.01){return Math.abs(a-e)<=o}function calcAxisDelta(a,e,o,c=.5){a.origin=c,a.originPoint=mixNumber$1(e.min,e.max,a.origin),a.scale=calcLength(o)/calcLength(e),(isNear(a.scale,1,1e-4)||isNaN(a.scale))&&(a.scale=1),a.translate=mixNumber$1(o.min,o.max,a.origin)-a.originPoint,(isNear(a.translate)||isNaN(a.translate))&&(a.translate=0)}function calcBoxDelta(a,e,o,c){calcAxisDelta(a.x,e.x,o.x,c?c.originX:void 0),calcAxisDelta(a.y,e.y,o.y,c?c.originY:void 0)}function calcRelativeAxis(a,e,o){a.min=o.min+e.min,a.max=a.min+calcLength(e)}function calcRelativeBox(a,e,o){calcRelativeAxis(a.x,e.x,o.x),calcRelativeAxis(a.y,e.y,o.y)}function calcRelativeAxisPosition(a,e,o){a.min=e.min-o.min,a.max=a.min+calcLength(e)}function calcRelativePosition(a,e,o){calcRelativeAxisPosition(a.x,e.x,o.x),calcRelativeAxisPosition(a.y,e.y,o.y)}function applyConstraints(a,{min:e,max:o},c){return e!==void 0&&a<e?a=c?mixNumber$1(e,a,c.min):Math.max(a,e):o!==void 0&&a>o&&(a=c?mixNumber$1(o,a,c.max):Math.min(a,o)),a}function calcRelativeAxisConstraints(a,e,o){return{min:e!==void 0?a.min+e:void 0,max:o!==void 0?a.max+o-(a.max-a.min):void 0}}function calcRelativeConstraints(a,{top:e,left:o,bottom:c,right:et}){return{x:calcRelativeAxisConstraints(a.x,o,et),y:calcRelativeAxisConstraints(a.y,e,c)}}function calcViewportAxisConstraints(a,e){let o=e.min-a.min,c=e.max-a.max;return e.max-e.min<a.max-a.min&&([o,c]=[c,o]),{min:o,max:c}}function calcViewportConstraints(a,e){return{x:calcViewportAxisConstraints(a.x,e.x),y:calcViewportAxisConstraints(a.y,e.y)}}function calcOrigin(a,e){let o=.5;const c=calcLength(a),et=calcLength(e);return et>c?o=progress(e.min,e.max-c,a.min):c>et&&(o=progress(a.min,a.max-et,e.min)),clamp(0,1,o)}function rebaseAxisConstraints(a,e){const o={};return e.min!==void 0&&(o.min=e.min-a.min),e.max!==void 0&&(o.max=e.max-a.min),o}const defaultElastic=.35;function resolveDragElastic(a=defaultElastic){return a===!1?a=0:a===!0&&(a=defaultElastic),{x:resolveAxisElastic(a,"left","right"),y:resolveAxisElastic(a,"top","bottom")}}function resolveAxisElastic(a,e,o){return{min:resolvePointElastic(a,e),max:resolvePointElastic(a,o)}}function resolvePointElastic(a,e){return typeof a=="number"?a:a[e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(a){return[a("x"),a("y")]}function convertBoundingBoxToBox({top:a,left:e,right:o,bottom:c}){return{x:{min:e,max:o},y:{min:a,max:c}}}function convertBoxToBoundingBox({x:a,y:e}){return{top:e.min,right:a.max,bottom:e.max,left:a.min}}function transformBoxPoints(a,e){if(!e)return a;const o=e({x:a.left,y:a.top}),c=e({x:a.right,y:a.bottom});return{top:o.y,left:o.x,bottom:c.y,right:c.x}}function isIdentityScale(a){return a===void 0||a===1}function hasScale({scale:a,scaleX:e,scaleY:o}){return!isIdentityScale(a)||!isIdentityScale(e)||!isIdentityScale(o)}function hasTransform(a){return hasScale(a)||has2DTranslate(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function has2DTranslate(a){return is2DTranslate(a.x)||is2DTranslate(a.y)}function is2DTranslate(a){return a&&a!=="0%"}function scalePoint(a,e,o){const c=a-o,et=e*c;return o+et}function applyPointDelta(a,e,o,c,et){return et!==void 0&&(a=scalePoint(a,et,c)),scalePoint(a,o,c)+e}function applyAxisDelta(a,e=0,o=1,c,et){a.min=applyPointDelta(a.min,e,o,c,et),a.max=applyPointDelta(a.max,e,o,c,et)}function applyBoxDelta(a,{x:e,y:o}){applyAxisDelta(a.x,e.translate,e.scale,e.originPoint),applyAxisDelta(a.y,o.translate,o.scale,o.originPoint)}function applyTreeDeltas(a,e,o,c=!1){const et=o.length;if(!et)return;e.x=e.y=1;let tt,nt;for(let rt=0;rt<et;rt++){tt=o[rt],nt=tt.projectionDelta;const mt=tt.instance;mt&&mt.style&&mt.style.display==="contents"||(c&&tt.options.layoutScroll&&tt.scroll&&tt!==tt.root&&transformBox(a,{x:-tt.scroll.offset.x,y:-tt.scroll.offset.y}),nt&&(e.x*=nt.x.scale,e.y*=nt.y.scale,applyBoxDelta(a,nt)),c&&hasTransform(tt.latestValues)&&transformBox(a,tt.latestValues))}e.x=snapToDefault(e.x),e.y=snapToDefault(e.y)}function snapToDefault(a){return Number.isInteger(a)||a>1.0000000000001||a<.999999999999?a:1}function translateAxis(a,e){a.min=a.min+e,a.max=a.max+e}function transformAxis(a,e,[o,c,et]){const tt=e[et]!==void 0?e[et]:.5,nt=mixNumber$1(a.min,a.max,tt);applyAxisDelta(a,e[o],e[c],nt,e.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(a,e){transformAxis(a.x,e,xKeys$1),transformAxis(a.y,e,yKeys$1)}function measureViewportBox(a,e){return convertBoundingBoxToBox(transformBoxPoints(a.getBoundingClientRect(),e))}function measurePageBox(a,e,o){const c=measureViewportBox(a,o),{scroll:et}=e;return et&&(translateAxis(c.x,et.offset.x),translateAxis(c.y,et.offset.y)),c}const getContextWindow=({current:a})=>a?a.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=e}start(e,{snapToCursor:o=!1}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const et=yt=>{const{dragSnapToOrigin:vt}=this.getProps();vt?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(extractEventInfo(yt,"page").point)},tt=(yt,vt)=>{const{drag:xt,dragPropagation:bt,onDragStart:Et}=this.getProps();if(xt&&!bt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(xt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(St=>{let Tt=this.getAxisMotionValue(St).get()||0;if(percent.test(Tt)){const{projection:kt}=this.visualElement;if(kt&&kt.layout){const _t=kt.layout.layoutBox[St];_t&&(Tt=calcLength(_t)*(parseFloat(Tt)/100))}}this.originPoint[St]=Tt}),Et&&frame.postRender(()=>Et(yt,vt));const{animationState:wt}=this.visualElement;wt&&wt.setActive("whileDrag",!0)},nt=(yt,vt)=>{const{dragPropagation:xt,dragDirectionLock:bt,onDirectionLock:Et,onDrag:wt}=this.getProps();if(!xt&&!this.openGlobalLock)return;const{offset:St}=vt;if(bt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(St),this.currentDirection!==null&&Et&&Et(this.currentDirection);return}this.updateAxis("x",vt.point,St),this.updateAxis("y",vt.point,St),this.visualElement.render(),wt&&wt(yt,vt)},rt=(yt,vt)=>this.stop(yt,vt),mt=()=>eachAxis(yt=>{var vt;return this.getAnimationState(yt)==="paused"&&((vt=this.getAxisMotionValue(yt).animation)===null||vt===void 0?void 0:vt.play())}),{dragSnapToOrigin:gt}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:et,onStart:tt,onMove:nt,onSessionEnd:rt,resumeAnimation:mt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:gt,contextWindow:getContextWindow(this.visualElement)})}stop(e,o){const c=this.isDragging;if(this.cancel(),!c)return;const{velocity:et}=o;this.startAnimation(et);const{onDragEnd:tt}=this.getProps();tt&&frame.postRender(()=>tt(e,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:o}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:c}=this.getProps();!c&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(e,o,c){const{drag:et}=this.getProps();if(!c||!shouldDrag(e,et,this.currentDirection))return;const tt=this.getAxisMotionValue(e);let nt=this.originPoint[e]+c[e];this.constraints&&this.constraints[e]&&(nt=applyConstraints(nt,this.constraints[e],this.elastic[e])),tt.set(nt)}resolveConstraints(){var e;const{dragConstraints:o,dragElastic:c}=this.getProps(),et=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,tt=this.constraints;o&&isRefObject(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):o&&et?this.constraints=calcRelativeConstraints(et.layoutBox,o):this.constraints=!1,this.elastic=resolveDragElastic(c),tt!==this.constraints&&et&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(nt=>{this.constraints!==!1&&this.getAxisMotionValue(nt)&&(this.constraints[nt]=rebaseAxisConstraints(et.layoutBox[nt],this.constraints[nt]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:o}=this.getProps();if(!e||!isRefObject(e))return!1;const c=e.current,{projection:et}=this.visualElement;if(!et||!et.layout)return!1;const tt=measurePageBox(c,et.root,this.visualElement.getTransformPagePoint());let nt=calcViewportConstraints(et.layout.layoutBox,tt);if(o){const rt=o(convertBoxToBoundingBox(nt));this.hasMutatedConstraints=!!rt,rt&&(nt=convertBoundingBoxToBox(rt))}return nt}startAnimation(e){const{drag:o,dragMomentum:c,dragElastic:et,dragTransition:tt,dragSnapToOrigin:nt,onDragTransitionEnd:rt}=this.getProps(),mt=this.constraints||{},gt=eachAxis(yt=>{if(!shouldDrag(yt,o,this.currentDirection))return;let vt=mt&&mt[yt]||{};nt&&(vt={min:0,max:0});const xt=et?200:1e6,bt=et?40:1e7,Et={type:"inertia",velocity:c?e[yt]:0,bounceStiffness:xt,bounceDamping:bt,timeConstant:750,restDelta:1,restSpeed:10,...tt,...vt};return this.startAxisValueAnimation(yt,Et)});return Promise.all(gt).then(rt)}startAxisValueAnimation(e,o){const c=this.getAxisMotionValue(e);return c.start(animateMotionValue(e,c,0,o,this.visualElement))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>{var o;return(o=this.getAxisMotionValue(e).animation)===null||o===void 0?void 0:o.pause()})}getAnimationState(e){var o;return(o=this.getAxisMotionValue(e).animation)===null||o===void 0?void 0:o.state}getAxisMotionValue(e){const o=`_drag${e.toUpperCase()}`,c=this.visualElement.getProps(),et=c[o];return et||this.visualElement.getValue(e,(c.initial?c.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(o=>{const{drag:c}=this.getProps();if(!shouldDrag(o,c,this.currentDirection))return;const{projection:et}=this.visualElement,tt=this.getAxisMotionValue(o);if(et&&et.layout){const{min:nt,max:rt}=et.layout.layoutBox[o];tt.set(e[o]-mixNumber$1(nt,rt,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:o}=this.getProps(),{projection:c}=this.visualElement;if(!isRefObject(o)||!c||!this.constraints)return;this.stopAnimation();const et={x:0,y:0};eachAxis(nt=>{const rt=this.getAxisMotionValue(nt);if(rt&&this.constraints!==!1){const mt=rt.get();et[nt]=calcOrigin({min:mt,max:mt},this.constraints[nt])}});const{transformTemplate:tt}=this.visualElement.getProps();this.visualElement.current.style.transform=tt?tt({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),eachAxis(nt=>{if(!shouldDrag(nt,e,null))return;const rt=this.getAxisMotionValue(nt),{min:mt,max:gt}=this.constraints[nt];rt.set(mixNumber$1(mt,gt,et[nt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,o=addPointerEvent(e,"pointerdown",mt=>{const{drag:gt,dragListener:yt=!0}=this.getProps();gt&&yt&&this.start(mt)}),c=()=>{const{dragConstraints:mt}=this.getProps();isRefObject(mt)&&(this.constraints=this.resolveRefConstraints())},{projection:et}=this.visualElement,tt=et.addEventListener("measure",c);et&&!et.layout&&(et.root&&et.root.updateScroll(),et.updateLayout()),c();const nt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),rt=et.addEventListener("didUpdate",({delta:mt,hasLayoutChanged:gt})=>{this.isDragging&&gt&&(eachAxis(yt=>{const vt=this.getAxisMotionValue(yt);vt&&(this.originPoint[yt]+=mt[yt].translate,vt.set(vt.get()+mt[yt].translate))}),this.visualElement.render())});return()=>{nt(),o(),tt(),rt&&rt()}}getProps(){const e=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:c=!1,dragPropagation:et=!1,dragConstraints:tt=!1,dragElastic:nt=defaultElastic,dragMomentum:rt=!0}=e;return{...e,drag:o,dragDirectionLock:c,dragPropagation:et,dragConstraints:tt,dragElastic:nt,dragMomentum:rt}}}function shouldDrag(a,e,o){return(e===!0||e===a)&&(o===null||o===a)}function getCurrentDirection(a,e=10){let o=null;return Math.abs(a.y)>e?o="y":Math.abs(a.x)>e&&(o="x"),o}class DragGesture extends Feature$1{constructor(e){super(e),this.removeGroupControls=noop$3,this.removeListeners=noop$3,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$3}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=a=>(e,o)=>{a&&frame.postRender(()=>a(e,o))};class PanGesture extends Feature$1{constructor(){super(...arguments),this.removePointerDownListener=noop$3}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:o,onPan:c,onPanEnd:et}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(o),onMove:c,onEnd:(tt,nt)=>{delete this.session,et&&frame.postRender(()=>et(tt,nt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const a=reactExports.useContext(PresenceContext);if(a===null)return[!0,null];const{isPresent:e,onExitComplete:o,register:c}=a,et=reactExports.useId();return reactExports.useEffect(()=>c(et),[]),!e&&o?[!1,()=>o&&o(et)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(a,e){return e.max===e.min?0:a/(e.max-e.min)*100}const correctBorderRadius={correct:(a,e)=>{if(!e.target)return a;if(typeof a=="string")if(px.test(a))a=parseFloat(a);else return a;const o=pixelsToPercent(a,e.target.x),c=pixelsToPercent(a,e.target.y);return`${o}% ${c}%`}},correctBoxShadow={correct:(a,{treeScale:e,projectionDelta:o})=>{const c=a,et=complex.parse(a);if(et.length>5)return c;const tt=complex.createTransformer(a),nt=typeof et[0]!="number"?1:0,rt=o.x.scale*e.x,mt=o.y.scale*e.y;et[0+nt]/=rt,et[1+nt]/=mt;const gt=mixNumber$1(rt,mt,.5);return typeof et[2+nt]=="number"&&(et[2+nt]/=gt),typeof et[3+nt]=="number"&&(et[3+nt]/=gt),tt(et)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:e,layoutGroup:o,switchLayoutGroup:c,layoutId:et}=this.props,{projection:tt}=e;addScaleCorrector(defaultScaleCorrectors),tt&&(o.group&&o.group.add(tt),c&&c.register&&et&&c.register(tt),tt.root.didUpdate(),tt.addEventListener("animationComplete",()=>{this.safeToRemove()}),tt.setOptions({...tt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:o,visualElement:c,drag:et,isPresent:tt}=this.props,nt=c.projection;return nt&&(nt.isPresent=tt,et||e.layoutDependency!==o||o===void 0?nt.willUpdate():this.safeToRemove(),e.isPresent!==tt&&(tt?nt.promote():nt.relegate()||frame.postRender(()=>{const rt=nt.getStack();(!rt||!rt.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),microtask.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:o,switchLayoutGroup:c}=this.props,{projection:et}=e;et&&(et.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(et),c&&c.deregister&&c.deregister(et))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(a){const[e,o]=usePresence(),c=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...a,layoutGroup:c,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:o})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber$2=a=>typeof a=="string"?parseFloat(a):a,isPx=a=>typeof a=="number"||px.test(a);function mixValues(a,e,o,c,et,tt){et?(a.opacity=mixNumber$1(0,o.opacity!==void 0?o.opacity:1,easeCrossfadeIn(c)),a.opacityExit=mixNumber$1(e.opacity!==void 0?e.opacity:1,0,easeCrossfadeOut(c))):tt&&(a.opacity=mixNumber$1(e.opacity!==void 0?e.opacity:1,o.opacity!==void 0?o.opacity:1,c));for(let nt=0;nt<numBorders;nt++){const rt=`border${borders[nt]}Radius`;let mt=getRadius(e,rt),gt=getRadius(o,rt);if(mt===void 0&&gt===void 0)continue;mt||(mt=0),gt||(gt=0),mt===0||gt===0||isPx(mt)===isPx(gt)?(a[rt]=Math.max(mixNumber$1(asNumber$2(mt),asNumber$2(gt),c),0),(percent.test(gt)||percent.test(mt))&&(a[rt]+="%")):a[rt]=gt}(e.rotate||o.rotate)&&(a.rotate=mixNumber$1(e.rotate||0,o.rotate||0,c))}function getRadius(a,e){return a[e]!==void 0?a[e]:a.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$3);function compress(a,e,o){return c=>c<a?0:c>e?1:o(progress(a,e,c))}function copyAxisInto(a,e){a.min=e.min,a.max=e.max}function copyBoxInto(a,e){copyAxisInto(a.x,e.x),copyAxisInto(a.y,e.y)}function removePointDelta(a,e,o,c,et){return a-=e,a=scalePoint(a,1/o,c),et!==void 0&&(a=scalePoint(a,1/et,c)),a}function removeAxisDelta(a,e=0,o=1,c=.5,et,tt=a,nt=a){if(percent.test(e)&&(e=parseFloat(e),e=mixNumber$1(nt.min,nt.max,e/100)-nt.min),typeof e!="number")return;let rt=mixNumber$1(tt.min,tt.max,c);a===tt&&(rt-=e),a.min=removePointDelta(a.min,e,o,rt,et),a.max=removePointDelta(a.max,e,o,rt,et)}function removeAxisTransforms(a,e,[o,c,et],tt,nt){removeAxisDelta(a,e[o],e[c],e[et],e.scale,tt,nt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(a,e,o,c){removeAxisTransforms(a.x,e,xKeys,o?o.x:void 0,c?c.x:void 0),removeAxisTransforms(a.y,e,yKeys,o?o.y:void 0,c?c.y:void 0)}function isAxisDeltaZero(a){return a.translate===0&&a.scale===1}function isDeltaZero(a){return isAxisDeltaZero(a.x)&&isAxisDeltaZero(a.y)}function boxEquals(a,e){return a.x.min===e.x.min&&a.x.max===e.x.max&&a.y.min===e.y.min&&a.y.max===e.y.max}function boxEqualsRounded(a,e){return Math.round(a.x.min)===Math.round(e.x.min)&&Math.round(a.x.max)===Math.round(e.x.max)&&Math.round(a.y.min)===Math.round(e.y.min)&&Math.round(a.y.max)===Math.round(e.y.max)}function aspectRatio(a){return calcLength(a.x)/calcLength(a.y)}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(e){const o=this.members.findIndex(et=>e===et);if(o===0)return!1;let c;for(let et=o;et>=0;et--){const tt=this.members[et];if(tt.isPresent!==!1){c=tt;break}}return c?(this.promote(c),!0):!1}promote(e,o){const c=this.lead;if(e!==c&&(this.prevLead=c,this.lead=e,e.show(),c)){c.instance&&c.scheduleRender(),e.scheduleRender(),e.resumeFrom=c,o&&(e.resumeFrom.preserveOpacity=!0),c.snapshot&&(e.snapshot=c.snapshot,e.snapshot.latestValues=c.animationValues||c.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:et}=e.options;et===!1&&c.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:o,resumingFrom:c}=e;o.onExitComplete&&o.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(a,e,o){let c="";const et=a.x.translate/e.x,tt=a.y.translate/e.y,nt=(o==null?void 0:o.z)||0;if((et||tt||nt)&&(c=`translate3d(${et}px, ${tt}px, ${nt}px) `),(e.x!==1||e.y!==1)&&(c+=`scale(${1/e.x}, ${1/e.y}) `),o){const{transformPerspective:gt,rotate:yt,rotateX:vt,rotateY:xt,skewX:bt,skewY:Et}=o;gt&&(c=`perspective(${gt}px) ${c}`),yt&&(c+=`rotate(${yt}deg) `),vt&&(c+=`rotateX(${vt}deg) `),xt&&(c+=`rotateY(${xt}deg) `),bt&&(c+=`skewX(${bt}deg) `),Et&&(c+=`skewY(${Et}deg) `)}const rt=a.x.scale*e.x,mt=a.y.scale*e.y;return(rt!==1||mt!==1)&&(c+=`scale(${rt}, ${mt})`),c||"none"}const compareByDepth=(a,e)=>a.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(a,e){const o=time.now(),c=({timestamp:et})=>{const tt=et-o;tt>=e&&(cancelFrame(c),a(tt-e))};return frame.read(c,!0),()=>cancelFrame(c)}function record(a){window.MotionDebug&&window.MotionDebug.record(a)}function isSVGElement(a){return a instanceof SVGElement&&a.tagName!=="svg"}function animateSingleValue(a,e,o){const c=isMotionValue(a)?a:motionValue(a);return c.start(animateMotionValue("",c,e,o)),c.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function resetDistortingTransform(a,e,o,c){const{latestValues:et}=e;et[a]&&(o[a]=et[a],e.setStaticValue(a,0),c&&(c[a]=0))}function isOptimisedAppearTree(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return!1;const{visualElement:e}=a.options;return e?getOptimisedAppearId(e)?!0:a.parent&&!a.parent.hasCheckedOptimisedAppear?isOptimisedAppearTree(a.parent):!1:!1}function createProjectionNode({attachResizeListener:a,defaultParent:e,measureScroll:o,checkIsScrollRoot:c,resetTransform:et}){return class{constructor(nt={},rt=e==null?void 0:e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=nt,this.root=rt?rt.root||rt:this,this.path=rt?[...rt.path,rt]:[],this.parent=rt,this.depth=rt?rt.depth+1:0;for(let mt=0;mt<this.path.length;mt++)this.path[mt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(nt,rt){return this.eventHandlers.has(nt)||this.eventHandlers.set(nt,new SubscriptionManager),this.eventHandlers.get(nt).add(rt)}notifyListeners(nt,...rt){const mt=this.eventHandlers.get(nt);mt&&mt.notify(...rt)}hasListeners(nt){return this.eventHandlers.has(nt)}mount(nt,rt=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(nt),this.instance=nt;const{layoutId:mt,layout:gt,visualElement:yt}=this.options;if(yt&&!yt.current&&yt.mount(nt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),rt&&(gt||mt)&&(this.isLayoutDirty=!0),a){let vt;const xt=()=>this.root.updateBlockedByResize=!1;a(nt,()=>{this.root.updateBlockedByResize=!0,vt&&vt(),vt=delay(xt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}mt&&this.root.registerSharedNode(mt,this),this.options.animate!==!1&&yt&&(mt||gt)&&this.addEventListener("didUpdate",({delta:vt,hasLayoutChanged:xt,hasRelativeTargetChanged:bt,layout:Et})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const wt=this.options.transition||yt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:St,onLayoutAnimationComplete:Tt}=yt.getProps(),kt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Et)||bt,_t=!xt&&bt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_t||xt&&(kt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(vt,_t);const Mt={...getValueTransition(wt,"layout"),onPlay:St,onComplete:Tt};(yt.shouldReduceMotion||this.options.layoutRoot)&&(Mt.delay=0,Mt.type=!1),this.startAnimation(Mt)}else xt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Et})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const nt=this.getStack();nt&&nt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:nt}=this.options;return nt&&nt.getProps().transformTemplate}willUpdate(nt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&isOptimisedAppearTree(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let yt=0;yt<this.path.length;yt++){const vt=this.path[yt];vt.shouldResetTransform=!0,vt.updateScroll("snapshot"),vt.options.layoutRoot&&vt.willUpdate(!1)}const{layoutId:rt,layout:mt}=this.options;if(rt===void 0&&!mt)return;const gt=this.getTransformTemplate();this.prevTransformTemplateValue=gt?gt(this.latestValues,""):void 0,this.updateSnapshot(),nt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const rt=time.now();frameData.delta=clamp(0,1e3/60,rt-frameData.timestamp),frameData.timestamp=rt,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let mt=0;mt<this.path.length;mt++)this.path[mt].updateScroll();const nt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:rt}=this.options;rt&&rt.notify("LayoutMeasure",this.layout.layoutBox,nt?nt.layoutBox:void 0)}updateScroll(nt="measure"){let rt=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===nt&&(rt=!1),rt&&(this.scroll={animationId:this.root.animationId,phase:nt,isRoot:c(this.instance),offset:o(this.instance)})}resetTransform(){if(!et)return;const nt=this.isLayoutDirty||this.shouldResetTransform,rt=this.projectionDelta&&!isDeltaZero(this.projectionDelta),mt=this.getTransformTemplate(),gt=mt?mt(this.latestValues,""):void 0,yt=gt!==this.prevTransformTemplateValue;nt&&(rt||hasTransform(this.latestValues)||yt)&&(et(this.instance,gt),this.shouldResetTransform=!1,this.scheduleRender())}measure(nt=!0){const rt=this.measurePageBox();let mt=this.removeElementScroll(rt);return nt&&(mt=this.removeTransform(mt)),roundBox(mt),{animationId:this.root.animationId,measuredBox:rt,layoutBox:mt,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:nt}=this.options;if(!nt)return createBox();const rt=nt.measureViewportBox(),{scroll:mt}=this.root;return mt&&(translateAxis(rt.x,mt.offset.x),translateAxis(rt.y,mt.offset.y)),rt}removeElementScroll(nt){const rt=createBox();copyBoxInto(rt,nt);for(let mt=0;mt<this.path.length;mt++){const gt=this.path[mt],{scroll:yt,options:vt}=gt;if(gt!==this.root&&yt&&vt.layoutScroll){if(yt.isRoot){copyBoxInto(rt,nt);const{scroll:xt}=this.root;xt&&(translateAxis(rt.x,-xt.offset.x),translateAxis(rt.y,-xt.offset.y))}translateAxis(rt.x,yt.offset.x),translateAxis(rt.y,yt.offset.y)}}return rt}applyTransform(nt,rt=!1){const mt=createBox();copyBoxInto(mt,nt);for(let gt=0;gt<this.path.length;gt++){const yt=this.path[gt];!rt&&yt.options.layoutScroll&&yt.scroll&&yt!==yt.root&&transformBox(mt,{x:-yt.scroll.offset.x,y:-yt.scroll.offset.y}),hasTransform(yt.latestValues)&&transformBox(mt,yt.latestValues)}return hasTransform(this.latestValues)&&transformBox(mt,this.latestValues),mt}removeTransform(nt){const rt=createBox();copyBoxInto(rt,nt);for(let mt=0;mt<this.path.length;mt++){const gt=this.path[mt];if(!gt.instance||!hasTransform(gt.latestValues))continue;hasScale(gt.latestValues)&&gt.updateSnapshot();const yt=createBox(),vt=gt.measurePageBox();copyBoxInto(yt,vt),removeBoxTransforms(rt,gt.latestValues,gt.snapshot?gt.snapshot.layoutBox:void 0,yt)}return hasTransform(this.latestValues)&&removeBoxTransforms(rt,this.latestValues),rt}setTargetDelta(nt){this.targetDelta=nt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(nt){this.options={...this.options,...nt,crossfade:nt.crossfade!==void 0?nt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(nt=!1){var rt;const mt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=mt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=mt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=mt.isSharedProjectionDirty);const gt=!!this.resumingFrom||this!==mt;if(!(nt||gt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((rt=this.parent)===null||rt===void 0)&&rt.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:vt,layoutId:xt}=this.options;if(!(!this.layout||!(vt||xt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const bt=this.getClosestProjectingParent();bt&&bt.layout&&this.animationProgress!==1?(this.relativeParent=bt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,bt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const bt=this.getClosestProjectingParent();bt&&!!bt.resumingFrom==!!this.resumingFrom&&!bt.options.layoutScroll&&bt.target&&this.animationProgress!==1?(this.relativeParent=bt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,bt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var nt;const rt=this.getLead(),mt=!!this.resumingFrom||this!==rt;let gt=!0;if((this.isProjectionDirty||!((nt=this.parent)===null||nt===void 0)&&nt.isProjectionDirty)&&(gt=!1),mt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(gt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(gt=!1),gt)return;const{layout:yt,layoutId:vt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(yt||vt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const xt=this.treeScale.x,bt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,mt),rt.layout&&!rt.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(rt.target=rt.layout.layoutBox,rt.targetWithTransforms=createBox());const{target:Et}=rt;if(!Et){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const wt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,Et,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==wt||this.treeScale.x!==xt||this.treeScale.y!==bt)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Et)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(nt=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),nt){const rt=this.getStack();rt&&rt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(nt,rt=!1){const mt=this.snapshot,gt=mt?mt.latestValues:{},yt={...this.latestValues},vt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!rt;const xt=createBox(),bt=mt?mt.source:void 0,Et=this.layout?this.layout.source:void 0,wt=bt!==Et,St=this.getStack(),Tt=!St||St.members.length<=1,kt=!!(wt&&!Tt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let _t;this.mixTargetDelta=Mt=>{const Pt=Mt/1e3;mixAxisDelta(vt.x,nt.x,Pt),mixAxisDelta(vt.y,nt.y,Pt),this.setTargetDelta(vt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(xt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,xt,Pt),_t&&boxEquals(this.relativeTarget,_t)&&(this.isProjectionDirty=!1),_t||(_t=createBox()),copyBoxInto(_t,this.relativeTarget)),wt&&(this.animationValues=yt,mixValues(yt,gt,this.latestValues,Pt,kt,Tt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Pt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(nt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...nt,onUpdate:rt=>{this.mixTargetDelta(rt),nt.onUpdate&&nt.onUpdate(rt)},onComplete:()=>{nt.onComplete&&nt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const nt=this.getStack();nt&&nt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const nt=this.getLead();let{targetWithTransforms:rt,target:mt,layout:gt,latestValues:yt}=nt;if(!(!rt||!mt||!gt)){if(this!==nt&&this.layout&&gt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,gt.layoutBox)){mt=this.target||createBox();const vt=calcLength(this.layout.layoutBox.x);mt.x.min=nt.target.x.min,mt.x.max=mt.x.min+vt;const xt=calcLength(this.layout.layoutBox.y);mt.y.min=nt.target.y.min,mt.y.max=mt.y.min+xt}copyBoxInto(rt,mt),transformBox(rt,yt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,rt,yt)}}registerSharedNode(nt,rt){this.sharedNodes.has(nt)||this.sharedNodes.set(nt,new NodeStack),this.sharedNodes.get(nt).add(rt);const gt=rt.options.initialPromotionConfig;rt.promote({transition:gt?gt.transition:void 0,preserveFollowOpacity:gt&&gt.shouldPreserveFollowOpacity?gt.shouldPreserveFollowOpacity(rt):void 0})}isLead(){const nt=this.getStack();return nt?nt.lead===this:!0}getLead(){var nt;const{layoutId:rt}=this.options;return rt?((nt=this.getStack())===null||nt===void 0?void 0:nt.lead)||this:this}getPrevLead(){var nt;const{layoutId:rt}=this.options;return rt?(nt=this.getStack())===null||nt===void 0?void 0:nt.prevLead:void 0}getStack(){const{layoutId:nt}=this.options;if(nt)return this.root.sharedNodes.get(nt)}promote({needsReset:nt,transition:rt,preserveFollowOpacity:mt}={}){const gt=this.getStack();gt&&gt.promote(this,mt),nt&&(this.projectionDelta=void 0,this.needsReset=!0),rt&&this.setOptions({transition:rt})}relegate(){const nt=this.getStack();return nt?nt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:nt}=this.options;if(!nt)return;let rt=!1;const{latestValues:mt}=nt;if((mt.z||mt.rotate||mt.rotateX||mt.rotateY||mt.rotateZ||mt.skewX||mt.skewY)&&(rt=!0),!rt)return;const gt={};mt.z&&resetDistortingTransform("z",nt,gt,this.animationValues);for(let yt=0;yt<transformAxes.length;yt++)resetDistortingTransform(`rotate${transformAxes[yt]}`,nt,gt,this.animationValues),resetDistortingTransform(`skew${transformAxes[yt]}`,nt,gt,this.animationValues);nt.render();for(const yt in gt)nt.setStaticValue(yt,gt[yt]),this.animationValues&&(this.animationValues[yt]=gt[yt]);nt.scheduleRender()}getProjectionStyles(nt){var rt,mt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const gt={visibility:""},yt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,gt.opacity="",gt.pointerEvents=resolveMotionValue(nt==null?void 0:nt.pointerEvents)||"",gt.transform=yt?yt(this.latestValues,""):"none",gt;const vt=this.getLead();if(!this.projectionDelta||!this.layout||!vt.target){const wt={};return this.options.layoutId&&(wt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,wt.pointerEvents=resolveMotionValue(nt==null?void 0:nt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(wt.transform=yt?yt({},""):"none",this.hasProjected=!1),wt}const xt=vt.animationValues||vt.latestValues;this.applyTransformsToTarget(),gt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,xt),yt&&(gt.transform=yt(xt,gt.transform));const{x:bt,y:Et}=this.projectionDelta;gt.transformOrigin=`${bt.origin*100}% ${Et.origin*100}% 0`,vt.animationValues?gt.opacity=vt===this?(mt=(rt=xt.opacity)!==null&&rt!==void 0?rt:this.latestValues.opacity)!==null&&mt!==void 0?mt:1:this.preserveOpacity?this.latestValues.opacity:xt.opacityExit:gt.opacity=vt===this?xt.opacity!==void 0?xt.opacity:"":xt.opacityExit!==void 0?xt.opacityExit:0;for(const wt in scaleCorrectors){if(xt[wt]===void 0)continue;const{correct:St,applyTo:Tt}=scaleCorrectors[wt],kt=gt.transform==="none"?xt[wt]:St(xt[wt],vt);if(Tt){const _t=Tt.length;for(let Mt=0;Mt<_t;Mt++)gt[Tt[Mt]]=kt}else gt[wt]=kt}return this.options.layoutId&&(gt.pointerEvents=vt===this?resolveMotionValue(nt==null?void 0:nt.pointerEvents)||"":"none"),gt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(nt=>{var rt;return(rt=nt.currentAnimation)===null||rt===void 0?void 0:rt.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(a){a.updateLayout()}function notifyLayoutUpdate(a){var e;const o=((e=a.resumeFrom)===null||e===void 0?void 0:e.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&o&&a.hasListeners("didUpdate")){const{layoutBox:c,measuredBox:et}=a.layout,{animationType:tt}=a.options,nt=o.source!==a.layout.source;tt==="size"?eachAxis(vt=>{const xt=nt?o.measuredBox[vt]:o.layoutBox[vt],bt=calcLength(xt);xt.min=c[vt].min,xt.max=xt.min+bt}):shouldAnimatePositionOnly(tt,o.layoutBox,c)&&eachAxis(vt=>{const xt=nt?o.measuredBox[vt]:o.layoutBox[vt],bt=calcLength(c[vt]);xt.max=xt.min+bt,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[vt].max=a.relativeTarget[vt].min+bt)});const rt=createDelta();calcBoxDelta(rt,c,o.layoutBox);const mt=createDelta();nt?calcBoxDelta(mt,a.applyTransform(et,!0),o.measuredBox):calcBoxDelta(mt,c,o.layoutBox);const gt=!isDeltaZero(rt);let yt=!1;if(!a.resumeFrom){const vt=a.getClosestProjectingParent();if(vt&&!vt.resumeFrom){const{snapshot:xt,layout:bt}=vt;if(xt&&bt){const Et=createBox();calcRelativePosition(Et,o.layoutBox,xt.layoutBox);const wt=createBox();calcRelativePosition(wt,c,bt.layoutBox),boxEqualsRounded(Et,wt)||(yt=!0),vt.options.layoutRoot&&(a.relativeTarget=wt,a.relativeTargetOrigin=Et,a.relativeParent=vt)}}}a.notifyListeners("didUpdate",{layout:c,snapshot:o,delta:mt,layoutDelta:rt,hasLayoutChanged:gt,hasRelativeTargetChanged:yt})}else if(a.isLead()){const{onExitComplete:c}=a.options;c&&c()}a.options.transition=void 0}function propagateDirtyNodes(a){projectionFrameData.totalNodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function cleanDirtyNodes(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function clearSnapshot(a){a.clearSnapshot()}function clearMeasurements(a){a.clearMeasurements()}function clearIsLayoutDirty(a){a.isLayoutDirty=!1}function resetTransformStyle(a){const{visualElement:e}=a.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),a.resetTransform()}function finishAnimation(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function resolveTargetDelta(a){a.resolveTargetDelta()}function calcProjection(a){a.calcProjection()}function resetSkewAndRotation(a){a.resetSkewAndRotation()}function removeLeadSnapshots(a){a.removeLeadSnapshot()}function mixAxisDelta(a,e,o){a.translate=mixNumber$1(e.translate,0,o),a.scale=mixNumber$1(e.scale,1,o),a.origin=e.origin,a.originPoint=e.originPoint}function mixAxis(a,e,o,c){a.min=mixNumber$1(e.min,o.min,c),a.max=mixNumber$1(e.max,o.max,c)}function mixBox(a,e,o,c){mixAxis(a.x,e.x,o.x,c),mixAxis(a.y,e.y,o.y,c)}function hasOpacityCrossfade(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$3;function roundAxis(a){a.min=roundPoint(a.min),a.max=roundPoint(a.max)}function roundBox(a){roundAxis(a.x),roundAxis(a.y)}function shouldAnimatePositionOnly(a,e,o){return a==="position"||a==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(o),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(a,e)=>addDomEvent(a,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const a=new DocumentProjectionNode({});a.mount(window),a.setOptions({layoutScroll:!0}),rootProjectionNode.current=a}return rootProjectionNode.current},resetTransform:(a,e)=>{a.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=a.matches;a.addListener(e),e()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(a,e,o){const{willChange:c}=e;for(const et in e){const tt=e[et],nt=o[et];if(isMotionValue(tt))a.addValue(et,tt),isWillChangeMotionValue(c)&&c.add(et);else if(isMotionValue(nt))a.addValue(et,motionValue(tt,{owner:a})),isWillChangeMotionValue(c)&&c.remove(et);else if(nt!==tt)if(a.hasValue(et)){const rt=a.getValue(et);rt.liveStyle===!0?rt.jump(tt):rt.hasAnimated||rt.set(tt)}else{const rt=a.getStaticValue(et);a.addValue(et,motionValue(rt!==void 0?rt:tt,{owner:a}))}}for(const et in o)e[et]===void 0&&a.removeValue(et);return e}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=a=>valueTypes.find(testValueType(a)),featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;function getClosestProjectingNode(a){if(a)return a.options.allowProjection!==!1?a.projection:getClosestProjectingNode(a.parent)}class VisualElement{scrapeMotionValuesFromProps(e,o,c){return{}}constructor({parent:e,props:o,presenceContext:c,reducedMotionConfig:et,blockInitialAnimation:tt,visualState:nt},rt={}){this.resolveKeyframes=(xt,bt,Et,wt)=>new this.KeyframeResolver(xt,bt,Et,wt,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:mt,renderState:gt}=nt;this.latestValues=mt,this.baseTarget={...mt},this.initialValues=o.initial?{...mt}:{},this.renderState=gt,this.parent=e,this.props=o,this.presenceContext=c,this.depth=e?e.depth+1:0,this.reducedMotionConfig=et,this.options=rt,this.blockInitialAnimation=!!tt,this.isControllingVariants=isControllingVariants(o),this.isVariantNode=isVariantNode(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:yt,...vt}=this.scrapeMotionValuesFromProps(o,{},this);for(const xt in vt){const bt=vt[xt];mt[xt]!==void 0&&isMotionValue(bt)&&(bt.set(mt[xt],!1),isWillChangeMotionValue(yt)&&yt.add(xt))}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,c)=>this.bindToMotionValue(c,o)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(o=>o()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const o in this.events)this.events[o].clear();for(const o in this.features)(e=this.features[o])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,o){const c=transformProps.has(e),et=o.on("change",nt=>{this.latestValues[e]=nt,this.props.onUpdate&&frame.preRender(this.notifyUpdate),c&&this.projection&&(this.projection.isTransformDirty=!0)}),tt=o.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{et(),tt(),o.owner&&o.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...o},c,et,tt){let nt,rt;for(let mt=0;mt<numFeatures;mt++){const gt=featureNames[mt],{isEnabled:yt,Feature:vt,ProjectionNode:xt,MeasureLayout:bt}=featureDefinitions[gt];xt&&(nt=xt),yt(o)&&(!this.features[gt]&&vt&&(this.features[gt]=new vt(this)),bt&&(rt=bt))}if((this.type==="html"||this.type==="svg")&&!this.projection&&nt){const{layoutId:mt,layout:gt,drag:yt,dragConstraints:vt,layoutScroll:xt,layoutRoot:bt}=o;this.projection=new nt(this.latestValues,o["data-framer-portal-id"]?void 0:getClosestProjectingNode(this.parent)),this.projection.setOptions({layoutId:mt,layout:gt,alwaysMeasureLayout:!!yt||vt&&isRefObject(vt),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof gt=="string"?gt:"both",initialPromotionConfig:tt,layoutScroll:xt,layoutRoot:bt})}return rt}updateFeatures(){for(const e in this.features){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,o){this.latestValues[e]=o}update(e,o){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let c=0;c<propEventHandlers.length;c++){const et=propEventHandlers[c];this.propEventSubscriptions[et]&&(this.propEventSubscriptions[et](),delete this.propEventSubscriptions[et]);const tt="on"+et,nt=e[tt];nt&&(this.propEventSubscriptions[et]=this.on(et,nt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const c=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(c.initial=this.props.initial),c}const o={};for(let c=0;c<numVariantProps;c++){const et=variantProps[c],tt=this.props[et];(isVariantLabel(tt)||tt===!1)&&(o[et]=tt)}return o}addVariantChild(e){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(e),()=>o.variantChildren.delete(e)}addValue(e,o){const c=this.values.get(e);o!==c&&(c&&this.removeValue(e),this.bindToMotionValue(e,o),this.values.set(e,o),this.latestValues[e]=o.get())}removeValue(e){this.values.delete(e);const o=this.valueSubscriptions.get(e);o&&(o(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,o){if(this.props.values&&this.props.values[e])return this.props.values[e];let c=this.values.get(e);return c===void 0&&o!==void 0&&(c=motionValue(o===null?void 0:o,{owner:this}),this.addValue(e,c)),c}readValue(e,o){var c;let et=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(c=this.getBaseTargetFromProps(this.props,e))!==null&&c!==void 0?c:this.readValueFromInstance(this.current,e,this.options);return et!=null&&(typeof et=="string"&&(isNumericalString(et)||isZeroValueString(et))?et=parseFloat(et):!findValueType(et)&&complex.test(o)&&(et=getAnimatableNone(e,o)),this.setBaseTarget(e,isMotionValue(et)?et.get():et)),isMotionValue(et)?et.get():et}setBaseTarget(e,o){this.baseTarget[e]=o}getBaseTarget(e){var o;const{initial:c}=this.props;let et;if(typeof c=="string"||typeof c=="object"){const nt=resolveVariantFromProps(this.props,c,(o=this.presenceContext)===null||o===void 0?void 0:o.custom);nt&&(et=nt[e])}if(c&&et!==void 0)return et;const tt=this.getBaseTargetFromProps(this.props,e);return tt!==void 0&&!isMotionValue(tt)?tt:this.initialValues[e]!==void 0&&et===void 0?void 0:this.baseTarget[e]}on(e,o){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(o)}notify(e,...o){this.events[e]&&this.events[e].notify(...o)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(e,o){return e.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(e,o){return e.style?e.style[o]:void 0}removeValueFromRenderState(e,{vars:o,style:c}){delete o[e],delete c[e]}}function getComputedStyle$1(a){return window.getComputedStyle(a)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,o){if(transformProps.has(o)){const c=getDefaultValueType(o);return c&&c.default||0}else{const c=getComputedStyle$1(e),et=(isCSSVariableName(o)?c.getPropertyValue(o):c[o])||0;return typeof et=="string"?et.trim():et}}measureInstanceViewportBox(e,{transformPagePoint:o}){return measureViewportBox(e,o)}build(e,o,c,et){buildHTMLStyles(e,o,c,et.transformTemplate)}scrapeMotionValuesFromProps(e,o,c){return scrapeMotionValuesFromProps$1(e,o,c)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}renderInstance(e,o,c,et){renderHTML(e,o,c,et)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,o){return e[o]}readValueFromInstance(e,o){if(transformProps.has(o)){const c=getDefaultValueType(o);return c&&c.default||0}return o=camelCaseAttributes.has(o)?o:camelToDash(o),e.getAttribute(o)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(e,o,c){return scrapeMotionValuesFromProps(e,o,c)}build(e,o,c,et){buildSVGAttrs(e,o,c,this.isSVGTag,et.transformTemplate)}renderInstance(e,o,c,et){renderSVG(e,o,c,et)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(a,e)=>isSVGComponent(a)?new SVGVisualElement(e,{enableHardwareAcceleration:!1}):new HTMLVisualElement(e,{allowProjection:a!==reactExports.Fragment,enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((a,e)=>createDomMotionConfig(a,e,preloadedFeatures,createDomVisualElement));function FaArrowRight(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(a)}function FaBookOpen(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(a)}function FaBug(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"},child:[]}]})(a)}function FaCheckCircle(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(a)}function FaCheckSquare(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(a)}function FaClock(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(a)}function FaEnvelope(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(a)}function FaExternalLinkAlt(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(a)}function FaGraduationCap(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(a)}function FaInfoCircle(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(a)}function FaPhoneAlt(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(a)}function FaShieldAlt(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(a)}function FaSms(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7 1.3 3 4.1 4.8 7.3 4.8 66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128.2 304H116c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h12.3c6 0 10.4-3.5 10.4-6.6 0-1.3-.8-2.7-2.1-3.8l-21.9-18.8c-8.5-7.2-13.3-17.5-13.3-28.1 0-21.3 19-38.6 42.4-38.6H156c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-12.3c-6 0-10.4 3.5-10.4 6.6 0 1.3.8 2.7 2.1 3.8l21.9 18.8c8.5 7.2 13.3 17.5 13.3 28.1.1 21.3-19 38.6-42.4 38.6zm191.8-8c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8v-68.2l-24.8 55.8c-2.9 5.9-11.4 5.9-14.3 0L224 227.8V296c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V192c0-8.8 7.2-16 16-16h16c6.1 0 11.6 3.4 14.3 8.8l17.7 35.4 17.7-35.4c2.7-5.4 8.3-8.8 14.3-8.8h16c8.8 0 16 7.2 16 16v104zm48.3 8H356c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h12.3c6 0 10.4-3.5 10.4-6.6 0-1.3-.8-2.7-2.1-3.8l-21.9-18.8c-8.5-7.2-13.3-17.5-13.3-28.1 0-21.3 19-38.6 42.4-38.6H396c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-12.3c-6 0-10.4 3.5-10.4 6.6 0 1.3.8 2.7 2.1 3.8l21.9 18.8c8.5 7.2 13.3 17.5 13.3 28.1.1 21.3-18.9 38.6-42.3 38.6z"},child:[]}]})(a)}function FaStarHalfAlt(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(a)}function FaStar(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(a)}function FaUserAlt(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(a)}function FaRegSquare(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z"},child:[]}]})(a)}function FaRegStar(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(a)}const sprite="/assets/sprite-CSzRL6sX.svg",iPhoneFrame="/assets/iphone-frame_15pro-OPSbzXpP.png";pt.div`
  margin-top: 2rem;
  padding: 1rem;
  border-top: 1px solid #ddd;
  text-align: center;
  font-size: 16px;
  color: #555;

  a {
    color: #316ff6;
    text-decoration: none;
    font-weight: bold;

    &:hover {
      text-decoration: underline;
    }
  }
`;const QRCodeImage$1=pt.img`
  margin-top: 10px;
  width: 450px;
  height: 210px;
  max-width: 450px;
  max-height: 210px;
  cursor: ${a=>a.$clickable?"pointer":"default"};

  @media (max-width: 768px) {
    width: 340px;
    height: 160px;
    margin-left: auto;
    margin-right: auto;
  }
`,FeatureBlock=pt(motion.article)`
  display: grid;
  gap: 4rem;
  margin: 12rem 0;
  outline: none; /* for custom focus when clickable */
  cursor: ${a=>a.$clickable?"pointer":"default"};

  &:first-of-type {
    margin-top: 4rem;
  }

  &:last-of-type {
    margin-bottom: 6rem;
  }

  @media screen and (min-width: 768px) {
    grid-template-columns: repeat(2, 1fr);
    &:nth-of-type(even) {
      & > div:first-child {
        order: 2;
      }
    }
  }
`,FeatureContent=pt(motion.div)`
  display: flex;
  flex-direction: column;
  justify-content: center;

  h3 {
    color: var(--color-headings);
    margin-bottom: 1rem;
    font-size: 30px;
    font-weight: 600;
    line-height: 1.3;
  }

  p {
    color: var(--color-body);
    font-size: 20px;
    line-height: 1.5;
    margin-top: 0;
  }

  a {
    color: red;
    text-transform: uppercase;
    font-size: 15px;
    font-weight: bold;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    position: relative;
  }

  @media (max-width: 768px) {
    align-items: center;
    text-align: center;
  }
`,IconContainer=pt.span`
  background: #f3f9fa;
  width: 64px;
  height: 64px;
  border-radius: 100%;
  display: flex;
  justify-content: center;
  align-items: center;

  svg {
    width: 40px;
    height: 40px;
  }
`,FeatureImage=pt(motion.img)`
  width: 100%;
`,VideoFrameContainer$1=pt.div`
  position: relative;
  width: 300px;
  height: 600px;
  margin: 0 auto;
`,FrameImage$1=pt.img`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  pointer-events: none;
`,StyledVideo=pt(motion.video)`
  position: absolute;
  top: 1.69%;
  height: 96.3%;
  left: 0%;
  width: 100%;
`,FramedImage$1=pt(motion.img)`
  position: absolute;
  top: 1.5%;
  left: 1.5%;
  width: 97%;
  height: 97%;
  object-fit: contain;
`,contentVariants={hidden:{x:-100,opacity:0},visible:{x:0,opacity:1,transition:{type:"spring",duration:.8}}},imageVariants={hidden:{scale:.5,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",duration:.8}}};function Feature({iconId:a=null,heading:e,text:o,linkText:c,linkHref:et,qrCodeLink:tt,image:nt,videoSrc:rt,imageSrc:mt,to:gt,headerFontSize:yt=30}){const[vt,xt]=reactExports.useState(!1),bt=useNavigate(),Et=!!gt,wt=()=>{gt&&bt(gt)},St=Tt=>{Et&&(Tt.key==="Enter"||Tt.key===" ")&&(Tt.preventDefault(),wt())};return jsxRuntimeExports.jsxs(FeatureBlock,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:contentVariants,onClick:Et?wt:void 0,onKeyDown:St,role:Et?"link":void 0,tabIndex:Et?0:void 0,"aria-label":Et?`Open ${e}`:void 0,$clickable:Et,children:[jsxRuntimeExports.jsxs(FeatureContent,{children:[a&&jsxRuntimeExports.jsx(IconContainer,{children:jsxRuntimeExports.jsx("svg",{children:jsxRuntimeExports.jsx("use",{xlinkHref:`${sprite}#${a}`})})}),jsxRuntimeExports.jsx("h3",{style:{fontSize:yt,color:"#000000",fontFamily:"inherit",marginBottom:0},children:e}),jsxRuntimeExports.jsx("p",{style:{fontSize:28,marginTop:5,lineHeight:1.2,fontFamily:"inherit"},children:o}),c&&jsxRuntimeExports.jsxs("a",{href:gt||et||"#",onClick:Tt=>{gt&&(Tt.preventDefault(),wt())},onMouseEnter:()=>xt(!0),onMouseLeave:()=>xt(!1),style:{fontSize:"15px",color:"red",display:"inline-flex",alignItems:"center",textDecoration:"none"},children:[c,jsxRuntimeExports.jsx(FaArrowRight,{style:{marginLeft:"5px",transition:"transform 0.3s ease",transform:vt?"translateX(5px)":"translateX(0)"}})]}),tt&&jsxRuntimeExports.jsx(QRCodeImage$1,{src:tt,alt:"QR Code",$clickable:Et,onClick:Et?wt:void 0})]}),rt?jsxRuntimeExports.jsxs(VideoFrameContainer$1,{onClick:Et?wt:void 0,role:Et?"img":void 0,"aria-label":Et?`${e} demo`:void 0,tabIndex:Et?0:void 0,onKeyDown:St,style:{cursor:Et?"pointer":"default"},children:[jsxRuntimeExports.jsx(StyledVideo,{variants:imageVariants,src:rt,alt:e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),jsxRuntimeExports.jsx(FrameImage$1,{src:iPhoneFrame,alt:"iPhone Frame"})]}):mt?jsxRuntimeExports.jsxs(VideoFrameContainer$1,{onClick:Et?wt:void 0,role:Et?"img":void 0,"aria-label":Et?`${e} image`:void 0,tabIndex:Et?0:void 0,onKeyDown:St,style:{cursor:Et?"pointer":"default"},children:[jsxRuntimeExports.jsx(FramedImage$1,{variants:imageVariants,src:mt,alt:e}),jsxRuntimeExports.jsx(FrameImage$1,{src:iPhoneFrame,alt:"iPhone Frame"})]}):jsxRuntimeExports.jsx("picture",{onClick:Et?wt:void 0,role:Et?"img":void 0,"aria-label":Et?`${e} image`:void 0,tabIndex:Et?0:void 0,onKeyDown:St,style:{cursor:Et?"pointer":"default"},children:jsxRuntimeExports.jsx(FeatureImage,{variants:imageVariants,src:nt==null?void 0:nt.png,alt:e})})]})}const qrCodeImage="/assets/qrcode6-C-Ik0Nic.png";function IoCalendarOutline(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(a)}function IoCallOutline(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M451 374c-15.88-16-54.34-39.35-73-48.76-24.3-12.24-26.3-13.24-45.4.95-12.74 9.47-21.21 17.93-36.12 14.75s-47.31-21.11-75.68-49.39-47.34-61.62-50.53-76.48 5.41-23.23 14.79-36c13.22-18 12.22-21 .92-45.3-8.81-18.9-32.84-57-48.9-72.8C119.9 44 119.9 47 108.83 51.6A160.15 160.15 0 0 0 83 65.37C67 76 58.12 84.83 51.91 98.1s-9 44.38 23.07 102.64 54.57 88.05 101.14 134.49S258.5 406.64 310.85 436c64.76 36.27 89.6 29.2 102.91 23s22.18-15 32.83-31a159.09 159.09 0 0 0 13.8-25.8C465 391.17 468 391.17 451 374z"},child:[]}]})(a)}function IoLocationOutline(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0 0 25.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"192",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(a)}function IoShieldCheckmarkSharp(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m479.07 111.36-.79-12.53-12.36-2.21c-86.5-15.52-122.61-26.74-203.33-63.2l-6.59-3-6.59 3C168.69 69.88 132.58 81.1 46.08 96.62l-12.36 2.21-.79 12.53c-3.85 61.11 4.36 118.05 24.43 169.24A349.47 349.47 0 0 0 129 393.11c53.47 56.73 110.24 81.37 121.07 85.73l6 2.41 6-2.41c10.83-4.36 67.6-29 121.07-85.73a349.47 349.47 0 0 0 71.5-112.51c20.07-51.19 28.28-108.13 24.43-169.24zm-252.91 216L153.37 256l22.4-22.86 48.47 47.49 110.13-127.2 24.2 20.94z"},child:[]}]})(a)}function IoTimeOutline(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 128v144h96"},child:[]}]})(a)}const FeaturesContainer=pt.section`
  max-width: 1140px;
  margin: 0 auto;
  padding: 0rem 2rem;
`,CTAGroup=pt.div`
  display: grid;
  grid-template-columns: repeat(5, 1fr); /* 5 equal columns on wide screens */
  gap: 10px;
  margin: 2.25rem auto 0;
  max-width: 800px;
  width: 100%;

  /* Downshift to 2 columns and stay there */
  @media (max-width: 900px) {
    grid-template-columns: repeat(2, 1fr);
    max-width: 480px; /* optional: adjust as you like */
  }
  /* Removed the 1-column breakpoint */
`,CTAButton=pt.button`
  --radius: 10px;
  --pad-y: 10px;
  --pad-x: 12px;

  appearance: none;
  border: 1px solid #e2e8f0;
  border-radius: var(--radius);
  padding: var(--pad-y) var(--pad-x);
  background: #f7f9fc;
  color: #0f1217;
  font-weight: 600;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
  transition: background 120ms ease, border-color 120ms ease,
    transform 120ms ease;

  /* Make each button fill its grid cell equally */
  width: 100%;
  justify-self: stretch;

  /* Nice centering for text + (optional) icon */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;

  &:hover {
    background: #eef2f7;
    border-color: #cbd5e1;
    transform: translateY(-0.5px);
  }
  &:active {
    transform: translateY(0);
  }
  &:focus-visible {
    outline: 2px solid #9ec1ff;
    outline-offset: 2px;
  }
`,ComplianceButton=pt(CTAButton)`
  border-color: #4d9fec;
  background: #f5f9ff; /* subtle cool blue tint */

  &:hover {
    background: #eaf3ff; /* slightly deeper tint on hover */
    border-color: #3c91e6; /* darker hover border */
  }

  &:focus-visible {
    outline: 2px solid #a9d0ff; /* soft accessible focus ring */
    outline-offset: 2px;
  }
`;function RegisterSection(){const a=useNavigate();return jsxRuntimeExports.jsxs(FeaturesContainer,{children:[jsxRuntimeExports.jsxs(CTAGroup,{"aria-label":"Audience quick links",children:[jsxRuntimeExports.jsx(CTAButton,{onClick:()=>a("/telemedicine-info/clients/clientIntroToVetcation/"),"aria-label":"For Pet Owners",children:"For Pet Owners"}),jsxRuntimeExports.jsx(CTAButton,{onClick:()=>a("/telemedicine-info/home/introToVetcation/"),"aria-label":"For Vets",children:"For Vets"}),jsxRuntimeExports.jsx(CTAButton,{onClick:()=>a("/telemedicine-info/clinics/clinicIntroToVetcation/"),"aria-label":"For Hospitals",children:"For Hospitals"}),jsxRuntimeExports.jsx(CTAButton,{onClick:()=>a("/telemedicine-info/corporations/corpIntroToVetcation/"),"aria-label":"For Corporations",children:"For Corporations"}),jsxRuntimeExports.jsxs(ComplianceButton,{onClick:()=>a("/telemedicine-info/compliance/Bill1399/"),"aria-label":"Compliance",children:[jsxRuntimeExports.jsx(IoShieldCheckmarkSharp,{style:{marginRight:6,color:"#4d9fec"},"aria-hidden":"true"}),"Compliance"]})]}),jsxRuntimeExports.jsx(Feature,{heading:"Universal pet medical records",text:"MyPet Health pulls your pets scattered records from any clinic into one secure place and turns them into a clear, vet-ready timeline. Share it in one click.",linkText:"learn more",linkHref:/universal-pet-medical-records/,imageSrc:"https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1533.webp?alt=media&token=b40a6669-3cfc-48e7-9d89-ba0c779ed6ff",headerFontSize:50}),jsxRuntimeExports.jsx(Feature,{heading:"Message your vet",text:"Message your vet when you need help, and keep everything in one place so they can quickly understand your pets history and what other vets have already tried.",imageSrc:"https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1615.webp?alt=media&token=808eb96e-b65b-48bc-9a04-a501bb04d35a",headerFontSize:45}),jsxRuntimeExports.jsx(Feature,{heading:"Get medications",text:"Start with messaging so your vet can understand whats going on. When treatment makes sense, you can schedule a video visit and get medications or refills delivered, where allowed.",imageSrc:"https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8432-min.PNG?alt=media&token=b2e4620a-d057-48d1-95e5-1286039fd5ee",headerFontSize:45}),jsxRuntimeExports.jsx(Feature,{heading:"The professional community",text:"Connect with pet owners and veterinary professionals, share experiences, and learn from real-world questions and answers in a supportive, education-focused community.",imageSrc:"https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/IMG_7383_compressed.png?alt=media&token=4f4cc1eb-073b-4a46-acba-1dedd89943ad",headerFontSize:45}),jsxRuntimeExports.jsx(Feature,{heading:"The Radar",text:"Explore transparent, anonymous clinic insights. Compare real prices, see what pet owners experienced, and understand whether a clinic is privately owned or corporate-owned. Radar helps you choose the right clinic with confidence, not guesswork.",imageSrc:"https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1514.webp?alt=media&token=3f9f3f91-e706-4931-9d84-b28f0b7d1823",headerFontSize:45})]})}function MdAutorenew(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8A5.87 5.87 0 0 1 6 12c0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"},child:[]}]})(a)}function MdCheckCircle(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(a)}function MdErrorOutline(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(a)}function MdChevronRight(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(a)}function MdExpandMore(a){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(a)}const FooterContainer=pt.footer`
  background: #232323;
  color: #7b858b;
  padding: 1rem 5.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
`,GridContainer=pt.div`
  display: flex; // Changed from grid to flex to control row vs column layout
  flex-direction: row; // Default to row layout
  flex-wrap: wrap; // Allow wrapping for responsive behavior
  width: 100%;
  max-width: 1140px;
  gap: 2rem;
  justify-content: space-between; // Space items evenly

  @media (max-width: 768px) {
    flex-direction: column; // Change to column layout on narrow screens
  }
`,Section$4=pt.div`
  flex: 1; // Each section takes equal space
  padding: 1rem;
  border-bottom: none; // No border by default

  @media (max-width: 768px) {
    border-bottom: 1px solid #393939; // Apply border on narrow screens
    &:last-child {
      border-bottom: none;
    }
  }
`,Header$2=pt.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
`,Heading$1=pt.h2`
  color: #fff;
  font-size: 1rem;
  text-transform: uppercase;
`,Content=pt.div`
  margin-top: 1rem;

  // Always show content on wide screens
  @media (min-width: 769px) {
    display: block;
  }

  // Conditionally show content on smaller screens based on $isOpen
  @media (max-width: 768px) {
    display: ${({$isOpen:a})=>a?"block":"none"};
  }
`,LinkList=pt.ul`
  list-style: none;
  padding: 0;
`,LinkItem=pt.li`
  margin-bottom: 0.5rem;

  a {
    color: #777;
    text-decoration: none;
    transition: color 0.3s;

    &:hover {
      color: #fff;
    }
  }
`,Icon=pt.span`
  display: flex;
  align-items: center;
  font-size: 24px;
  color: #fff;

  @media (min-width: 769px) {
    display: none; // Icon is hidden on wide screens
  }
`,FooterSection=({title:a,links:e})=>{const[o,c]=reactExports.useState(!1),[et,tt]=reactExports.useState(window.innerWidth<769);reactExports.useEffect(()=>{const rt=()=>{tt(window.innerWidth<769)};return window.addEventListener("resize",rt),()=>window.removeEventListener("resize",rt)},[]);const nt=()=>{et&&c(!o)};return jsxRuntimeExports.jsxs(Section$4,{children:[jsxRuntimeExports.jsxs(Header$2,{onClick:nt,children:[jsxRuntimeExports.jsx(Heading$1,{children:a}),jsxRuntimeExports.jsx(Icon,{children:o?jsxRuntimeExports.jsx(MdExpandMore,{}):jsxRuntimeExports.jsx(MdChevronRight,{})})]}),jsxRuntimeExports.jsx(Content,{$isOpen:o,children:jsxRuntimeExports.jsx(LinkList,{children:e.map((rt,mt)=>jsxRuntimeExports.jsx(LinkItem,{children:jsxRuntimeExports.jsx("a",{href:rt.url,children:rt.text})},mt))})})]})},Footer=()=>{const a=[{title:"Guides",links:[{text:"For Vets",url:"/telemedicine-info/home/introToVetcation/"},{text:"For Hospitals & Clinics",url:"/telemedicine-info/clinics/clinicIntroToVetcation/"},{text:"For Corporations",url:"/telemedicine-info/corporations/corpIntroToVetcation/"}]},{title:"Compliance",links:[{text:"AB 1399 FAQ",url:"/telemedicine-info/compliance/Bill1399/"},{text:"VCPR",url:"/telemedicine-info/compliance/VCPR/"},{text:"Prescription Limits",url:"/telemedicine-info/compliance/PrescriptionLimits/"},{text:"Privacy & Confidentiality",url:"/telemedicine-info/compliance/PrivacyConfidentiality/"},{text:"Record-Keeping",url:"/telemedicine-info/compliance/RecordKeepingDocumentation/"}]},{title:"Company",links:[{text:"Our Contributors",url:"/telemedicine-info/contributors/ourContributors/"}]},{title:"Support",links:[{text:"Support Center",url:"/support/"},{text:"Email Support",url:"mailto:gcfchen@vetcation.com",external:!0}]},{title:"Legal",links:[{text:"Privacy Policy",url:"/privacy-policy/"},{text:"SMS Terms & Conditions",url:"/SMSTerms/"}]}];return jsxRuntimeExports.jsx(FooterContainer,{children:jsxRuntimeExports.jsx(GridContainer,{children:a.map((e,o)=>jsxRuntimeExports.jsx(FooterSection,{title:e.title,links:e.links},o))})})};function _typeof(a){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(a)}function toPrimitive(a,e){if(_typeof(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,e||"default");if(_typeof(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function toPropertyKey(a){var e=toPrimitive(a,"string");return _typeof(e)=="symbol"?e:e+""}function _defineProperty(a,e,o){return(e=toPropertyKey(e))in a?Object.defineProperty(a,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[e]=o,a}function getDefaultExportFromCjs$1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var invariant_1,hasRequiredInvariant;function requireInvariant(){if(hasRequiredInvariant)return invariant_1;hasRequiredInvariant=1;var a=function(o,c,et,tt,nt,rt,mt,gt){if(!o){var yt;if(c===void 0)yt=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var vt=[et,tt,nt,rt,mt,gt],xt=0;yt=new Error(c.replace(/%s/g,function(){return vt[xt++]})),yt.name="Invariant Violation"}throw yt.framesToPop=1,yt}};return invariant_1=a,invariant_1}var invariantExports=requireInvariant(),invariant=getDefaultExportFromCjs$1(invariantExports),MapContext=reactExports.createContext(null);function useGoogleMap(){invariant(!!reactExports.useContext,"useGoogleMap is React hook and requires React version 16.8+");var a=reactExports.useContext(MapContext);return invariant(!!a,"useGoogleMap needs a GoogleMap available up in the tree"),a}function reduce(a,e,o){return Object.keys(a).reduce(function(et,tt){return e(et,a[tt],tt)},o)}function forEach$1(a,e){Object.keys(a).forEach(o=>e(a[o],o))}function applyUpdaterToNextProps(a,e,o,c){var et={},tt=(nt,rt)=>{var mt=o[rt];mt!==e[rt]&&(et[rt]=mt,nt(c,mt))};return forEach$1(a,tt),et}function registerEvents(a,e,o){var c=reduce(o,function(tt,nt,rt){return typeof a[rt]=="function"&&tt.push(google.maps.event.addListener(e,nt,a[rt])),tt},[]);return c}function unregisterEvent(a){google.maps.event.removeListener(a)}function unregisterEvents(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];a.forEach(unregisterEvent)}function applyUpdatersToPropsAndRegisterEvents(a){var{updaterMap:e,eventMap:o,prevProps:c,nextProps:et,instance:tt}=a,nt=registerEvents(et,tt,o);return applyUpdaterToNextProps(e,c,et,tt),nt}var eventMap$i={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},updaterMap$i={extraMapTypes(a,e){e.forEach(function(c,et){a.mapTypes.set(String(et),c)})},center(a,e){a.setCenter(e)},clickableIcons(a,e){a.setClickableIcons(e)},heading(a,e){a.setHeading(e)},mapTypeId(a,e){a.setMapTypeId(e)},options(a,e){a.setOptions(e)},streetView(a,e){a.setStreetView(e)},tilt(a,e){a.setTilt(e)},zoom(a,e){a.setZoom(e)}};function GoogleMapFunctional(a){var{children:e,options:o,id:c,mapContainerStyle:et,mapContainerClassName:tt,center:nt,onClick:rt,onDblClick:mt,onDrag:gt,onDragEnd:yt,onDragStart:vt,onMouseMove:xt,onMouseOut:bt,onMouseOver:Et,onMouseDown:wt,onMouseUp:St,onRightClick:Tt,onCenterChanged:kt,onLoad:_t,onUnmount:Mt}=a,[Pt,It]=reactExports.useState(null),Dt=reactExports.useRef(null),[Ct,At]=reactExports.useState(null),[Lt,jt]=reactExports.useState(null),[Bt,zt]=reactExports.useState(null),[Yt,en]=reactExports.useState(null),[rn,on]=reactExports.useState(null),[Zt,an]=reactExports.useState(null),[Xt,yn]=reactExports.useState(null),[vn,Nt]=reactExports.useState(null),[$t,Ot]=reactExports.useState(null),[Ft,Ut]=reactExports.useState(null),[Gt,Vt]=reactExports.useState(null),[Kt,Jt]=reactExports.useState(null);return reactExports.useEffect(()=>{o&&Pt!==null&&Pt.setOptions(o)},[Pt,o]),reactExports.useEffect(()=>{Pt!==null&&typeof nt<"u"&&Pt.setCenter(nt)},[Pt,nt]),reactExports.useEffect(()=>{Pt&&mt&&(Lt!==null&&google.maps.event.removeListener(Lt),jt(google.maps.event.addListener(Pt,"dblclick",mt)))},[mt]),reactExports.useEffect(()=>{Pt&&yt&&(Bt!==null&&google.maps.event.removeListener(Bt),zt(google.maps.event.addListener(Pt,"dragend",yt)))},[yt]),reactExports.useEffect(()=>{Pt&&vt&&(Yt!==null&&google.maps.event.removeListener(Yt),en(google.maps.event.addListener(Pt,"dragstart",vt)))},[vt]),reactExports.useEffect(()=>{Pt&&wt&&(rn!==null&&google.maps.event.removeListener(rn),on(google.maps.event.addListener(Pt,"mousedown",wt)))},[wt]),reactExports.useEffect(()=>{Pt&&xt&&(Zt!==null&&google.maps.event.removeListener(Zt),an(google.maps.event.addListener(Pt,"mousemove",xt)))},[xt]),reactExports.useEffect(()=>{Pt&&bt&&(Xt!==null&&google.maps.event.removeListener(Xt),yn(google.maps.event.addListener(Pt,"mouseout",bt)))},[bt]),reactExports.useEffect(()=>{Pt&&Et&&(vn!==null&&google.maps.event.removeListener(vn),Nt(google.maps.event.addListener(Pt,"mouseover",Et)))},[Et]),reactExports.useEffect(()=>{Pt&&St&&($t!==null&&google.maps.event.removeListener($t),Ot(google.maps.event.addListener(Pt,"mouseup",St)))},[St]),reactExports.useEffect(()=>{Pt&&Tt&&(Ft!==null&&google.maps.event.removeListener(Ft),Ut(google.maps.event.addListener(Pt,"rightclick",Tt)))},[Tt]),reactExports.useEffect(()=>{Pt&&rt&&(Gt!==null&&google.maps.event.removeListener(Gt),Vt(google.maps.event.addListener(Pt,"click",rt)))},[rt]),reactExports.useEffect(()=>{Pt&&gt&&(Kt!==null&&google.maps.event.removeListener(Kt),Jt(google.maps.event.addListener(Pt,"drag",gt)))},[gt]),reactExports.useEffect(()=>{Pt&&kt&&(Ct!==null&&google.maps.event.removeListener(Ct),At(google.maps.event.addListener(Pt,"center_changed",kt)))},[rt]),reactExports.useEffect(()=>{var nn=Dt.current===null?null:new google.maps.Map(Dt.current,o);return It(nn),nn!==null&&_t&&_t(nn),()=>{nn!==null&&Mt&&Mt(nn)}},[]),jsxRuntimeExports.jsx("div",{id:c,ref:Dt,style:et,className:tt,children:jsxRuntimeExports.jsx(MapContext.Provider,{value:Pt,children:Pt!==null?e:null})})}reactExports.memo(GoogleMapFunctional);class GoogleMap extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{map:null}),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"mapRef",null),_defineProperty(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),_defineProperty(this,"panTo",e=>{var o=this.getInstance();o&&o.panTo(e)}),_defineProperty(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),_defineProperty(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$i,eventMap:eventMap$i,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$i,eventMap:eventMap$i,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),unregisterEvents(this.registeredEvents))}render(){return jsxRuntimeExports.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:jsxRuntimeExports.jsx(MapContext.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function asyncGeneratorStep(a,e,o,c,et,tt,nt){try{var rt=a[tt](nt),mt=rt.value}catch(gt){return void o(gt)}rt.done?e(mt):Promise.resolve(mt).then(c,et)}function _asyncToGenerator(a){return function(){var e=this,o=arguments;return new Promise(function(c,et){var tt=a.apply(e,o);function nt(mt){asyncGeneratorStep(tt,c,et,nt,rt,"next",mt)}function rt(mt){asyncGeneratorStep(tt,c,et,nt,rt,"throw",mt)}nt(void 0)})}}function makeLoadScriptUrl(a){var{googleMapsApiKey:e,googleMapsClientId:o,version:c="weekly",language:et,region:tt,libraries:nt,channel:rt,mapIds:mt,authReferrerPolicy:gt}=a,yt=[];return invariant(e&&o||!(e&&o),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?yt.push("key=".concat(e)):o&&yt.push("client=".concat(o)),c&&yt.push("v=".concat(c)),et&&yt.push("language=".concat(et)),tt&&yt.push("region=".concat(tt)),nt&&nt.length&&yt.push("libraries=".concat(nt.sort().join(","))),rt&&yt.push("channel=".concat(rt)),mt&&mt.length&&yt.push("map_ids=".concat(mt.join(","))),gt&&yt.push("auth_referrer_policy=".concat(gt)),yt.push("loading=async"),yt.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(yt.join("&"))}var isBrowser=typeof document<"u";function injectScript(a){var{url:e,id:o,nonce:c}=a;return isBrowser?new Promise(function(tt,nt){var rt=document.getElementById(o),mt=window;if(rt){var gt=rt.getAttribute("data-state");if(rt.src===e&&gt!=="error"){if(gt==="ready")return tt(o);var yt=mt.initMap,vt=rt.onerror;mt.initMap=function(){yt&&yt(),tt(o)},rt.onerror=function(bt){vt&&vt(bt),nt(bt)};return}else rt.remove()}var xt=document.createElement("script");xt.type="text/javascript",xt.src=e,xt.id=o,xt.async=!0,xt.nonce=c||"",xt.onerror=function(Et){xt.setAttribute("data-state","error"),nt(Et)},mt.initMap=function(){xt.setAttribute("data-state","ready"),tt(o)},document.head.appendChild(xt)}).catch(et=>{throw console.error("injectScript error: ",et),et}):Promise.reject(new Error("document is undefined"))}function isGoogleFontStyle(a){var e=a.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:a.tagName.toLowerCase()==="style"&&a.styleSheet&&a.styleSheet.cssText&&a.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(a.styleSheet.cssText="",!0):a.tagName.toLowerCase()==="style"&&a.innerHTML&&a.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(a.innerHTML="",!0):a.tagName.toLowerCase()==="style"&&!a.styleSheet&&!a.innerHTML}function preventGoogleFonts(){var a=document.getElementsByTagName("head")[0];if(a){var e=a.insertBefore.bind(a);a.insertBefore=function(et,tt){return isGoogleFontStyle(et)||Reflect.apply(e,a,[et,tt]),et};var o=a.appendChild.bind(a);a.appendChild=function(et){return isGoogleFontStyle(et)||Reflect.apply(o,a,[et]),et}}}var cleaningUp=!1;function DefaultLoadingElement(){return jsxRuntimeExports.jsx("div",{children:"Loading..."})}var defaultLoadScriptProps={id:"script-loader",version:"weekly"};class LoadScript extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"check",null),_defineProperty(this,"state",{loaded:!1}),_defineProperty(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),_defineProperty(this,"isCleaningUp",_asyncToGenerator(function*(){function e(o){if(!cleaningUp)o();else if(isBrowser)var c=window.setInterval(function(){cleaningUp||(window.clearInterval(c),o())},1)}return new Promise(e)})),_defineProperty(this,"cleanup",()=>{cleaningUp=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(c){return typeof c.src=="string"&&c.src.includes("maps.googleapis")}).forEach(function(c){c.parentNode&&c.parentNode.removeChild(c)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(c){return c.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(c){c.parentNode&&c.parentNode.removeChild(c)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(c){return c.innerText!==void 0&&c.innerText.length>0&&c.innerText.includes(".gm-")}).forEach(function(c){c.parentNode&&c.parentNode.removeChild(c)})}),_defineProperty(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&preventGoogleFonts(),invariant(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:makeLoadScriptUrl(this.props)};injectScript(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(o=>{this.props.onError&&this.props.onError(o),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),_defineProperty(this,"getRef",e=>{this.check=e})}componentDidMount(){if(isBrowser){if(window.google&&window.google.maps&&!cleaningUp){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(o){console.error("Error at injecting script after cleaning up: ",o)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),isBrowser&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(isBrowser){this.cleanup();var e=()=>{this.check||(delete window.google,cleaningUp=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||jsxRuntimeExports.jsx(DefaultLoadingElement,{})]})}}_defineProperty(LoadScript,"defaultProps",defaultLoadScriptProps);function _objectWithoutPropertiesLoose(a,e){if(a==null)return{};var o={};for(var c in a)if({}.hasOwnProperty.call(a,c)){if(e.includes(c))continue;o[c]=a[c]}return o}function _objectWithoutProperties(a,e){if(a==null)return{};var o,c,et=_objectWithoutPropertiesLoose(a,e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(a);for(c=0;c<tt.length;c++)o=tt[c],e.includes(o)||{}.propertyIsEnumerable.call(a,o)&&(et[o]=a[o])}return et}var previouslyLoadedUrl;function useLoadScript(a){var{id:e=defaultLoadScriptProps.id,version:o=defaultLoadScriptProps.version,nonce:c,googleMapsApiKey:et,googleMapsClientId:tt,language:nt,region:rt,libraries:mt,preventGoogleFontsLoading:gt,channel:yt,mapIds:vt,authReferrerPolicy:xt}=a,bt=reactExports.useRef(!1),[Et,wt]=reactExports.useState(!1),[St,Tt]=reactExports.useState(void 0);reactExports.useEffect(function(){return bt.current=!0,()=>{bt.current=!1}},[]),reactExports.useEffect(function(){isBrowser&&gt&&preventGoogleFonts()},[gt]),reactExports.useEffect(function(){Et&&invariant(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[Et]);var kt=makeLoadScriptUrl({version:o,googleMapsApiKey:et,googleMapsClientId:tt,language:nt,region:rt,libraries:mt,channel:yt,mapIds:vt,authReferrerPolicy:xt});reactExports.useEffect(function(){if(!isBrowser)return;function Pt(){bt.current&&(wt(!0),previouslyLoadedUrl=kt)}if(window.google&&window.google.maps&&previouslyLoadedUrl===kt){Pt();return}injectScript({id:e,url:kt,nonce:c}).then(Pt).catch(function(Dt){bt.current&&Tt(Dt),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(et||"-",") or Client ID (").concat(tt||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(Dt)})},[e,kt,c]);var _t=reactExports.useRef(void 0);return reactExports.useEffect(function(){_t.current&&mt!==_t.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),_t.current=mt},[mt]),{isLoaded:Et,loadError:St,url:kt}}var _excluded$1=["loadingElement","onLoad","onError","onUnmount","children"],defaultLoadingElement=jsxRuntimeExports.jsx(DefaultLoadingElement,{});function LoadScriptNext(a){var{loadingElement:e,onLoad:o,onError:c,onUnmount:et,children:tt}=a,nt=_objectWithoutProperties(a,_excluded$1),{isLoaded:rt,loadError:mt}=useLoadScript(nt);return reactExports.useEffect(function(){rt&&typeof o=="function"&&o()},[rt,o]),reactExports.useEffect(function(){mt&&typeof c=="function"&&c(mt)},[mt,c]),reactExports.useEffect(function(){return()=>{et&&et()}},[et]),rt?tt:e||defaultLoadingElement}reactExports.memo(LoadScriptNext);typeof SuppressedError=="function"&&SuppressedError;var LoaderStatus;(function(a){a[a.INITIALIZED=0]="INITIALIZED",a[a.LOADING=1]="LOADING",a[a.SUCCESS=2]="SUCCESS",a[a.FAILURE=3]="FAILURE"})(LoaderStatus||(LoaderStatus={}));function ownKeys$f(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$f(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$f(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$f(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$h={},updaterMap$h={options(a,e){a.setOptions(e)}};function TrafficLayerFunctional(a){var{options:e,onLoad:o,onUnmount:c}=a,et=reactExports.useContext(MapContext),[tt,nt]=reactExports.useState(null);return reactExports.useEffect(()=>{tt!==null&&tt.setMap(et)},[et]),reactExports.useEffect(()=>{e&&tt!==null&&tt.setOptions(e)},[tt,e]),reactExports.useEffect(()=>{var rt=new google.maps.TrafficLayer(_objectSpread$f(_objectSpread$f({},e),{},{map:et}));return nt(rt),o&&o(rt),()=>{tt!==null&&(c&&c(tt),tt.setMap(null))}},[]),null}reactExports.memo(TrafficLayerFunctional);class TrafficLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{trafficLayer:null}),_defineProperty(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),_defineProperty(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(_objectSpread$f(_objectSpread$f({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$h,eventMap:eventMap$h,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$h,eventMap:eventMap$h,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),unregisterEvents(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}_defineProperty(TrafficLayer,"contextType",MapContext);function BicyclingLayerFunctional(a){var{onLoad:e,onUnmount:o}=a,c=reactExports.useContext(MapContext),[et,tt]=reactExports.useState(null);return reactExports.useEffect(()=>{et!==null&&et.setMap(c)},[c]),reactExports.useEffect(()=>{var nt=new google.maps.BicyclingLayer;return tt(nt),nt.setMap(c),e&&e(nt),()=>{nt!==null&&(o&&o(nt),nt.setMap(null))}},[]),null}reactExports.memo(BicyclingLayerFunctional);class BicyclingLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{bicyclingLayer:null}),_defineProperty(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}_defineProperty(BicyclingLayer,"contextType",MapContext);function TransitLayerFunctional(a){var{onLoad:e,onUnmount:o}=a,c=reactExports.useContext(MapContext),[et,tt]=reactExports.useState(null);return reactExports.useEffect(()=>{et!==null&&et.setMap(c)},[c]),reactExports.useEffect(()=>{var nt=new google.maps.TransitLayer;return tt(nt),nt.setMap(c),e&&e(nt),()=>{et!==null&&(o&&o(et),et.setMap(null))}},[]),null}reactExports.memo(TransitLayerFunctional);class TransitLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{transitLayer:null}),_defineProperty(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}_defineProperty(TransitLayer,"contextType",MapContext);function ownKeys$e(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$e(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$e(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$e(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$g={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},updaterMap$g={drawingMode(a,e){a.setDrawingMode(e)},options(a,e){a.setOptions(e)}};function DrawingManagerFunctional(a){var{options:e,drawingMode:o,onCircleComplete:c,onMarkerComplete:et,onOverlayComplete:tt,onPolygonComplete:nt,onPolylineComplete:rt,onRectangleComplete:mt,onLoad:gt,onUnmount:yt}=a,vt=reactExports.useContext(MapContext),[xt,bt]=reactExports.useState(null),[Et,wt]=reactExports.useState(null),[St,Tt]=reactExports.useState(null),[kt,_t]=reactExports.useState(null),[Mt,Pt]=reactExports.useState(null),[It,Dt]=reactExports.useState(null),[Ct,At]=reactExports.useState(null);return reactExports.useEffect(()=>{xt!==null&&xt.setMap(vt)},[vt]),reactExports.useEffect(()=>{e&&xt!==null&&xt.setOptions(e)},[xt,e]),reactExports.useEffect(()=>{xt!==null&&xt.setDrawingMode(o??null)},[xt,o]),reactExports.useEffect(()=>{xt&&c&&(Et!==null&&google.maps.event.removeListener(Et),wt(google.maps.event.addListener(xt,"circlecomplete",c)))},[xt,c]),reactExports.useEffect(()=>{xt&&et&&(St!==null&&google.maps.event.removeListener(St),Tt(google.maps.event.addListener(xt,"markercomplete",et)))},[xt,et]),reactExports.useEffect(()=>{xt&&tt&&(kt!==null&&google.maps.event.removeListener(kt),_t(google.maps.event.addListener(xt,"overlaycomplete",tt)))},[xt,tt]),reactExports.useEffect(()=>{xt&&nt&&(Mt!==null&&google.maps.event.removeListener(Mt),Pt(google.maps.event.addListener(xt,"polygoncomplete",nt)))},[xt,nt]),reactExports.useEffect(()=>{xt&&rt&&(It!==null&&google.maps.event.removeListener(It),Dt(google.maps.event.addListener(xt,"polylinecomplete",rt)))},[xt,rt]),reactExports.useEffect(()=>{xt&&mt&&(Ct!==null&&google.maps.event.removeListener(Ct),At(google.maps.event.addListener(xt,"rectanglecomplete",mt)))},[xt,mt]),reactExports.useEffect(()=>{invariant(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var Lt=new google.maps.drawing.DrawingManager(_objectSpread$e(_objectSpread$e({},e),{},{map:vt}));return o&&Lt.setDrawingMode(o),c&&wt(google.maps.event.addListener(Lt,"circlecomplete",c)),et&&Tt(google.maps.event.addListener(Lt,"markercomplete",et)),tt&&_t(google.maps.event.addListener(Lt,"overlaycomplete",tt)),nt&&Pt(google.maps.event.addListener(Lt,"polygoncomplete",nt)),rt&&Dt(google.maps.event.addListener(Lt,"polylinecomplete",rt)),mt&&At(google.maps.event.addListener(Lt,"rectanglecomplete",mt)),bt(Lt),gt&&gt(Lt),()=>{xt!==null&&(Et&&google.maps.event.removeListener(Et),St&&google.maps.event.removeListener(St),kt&&google.maps.event.removeListener(kt),Mt&&google.maps.event.removeListener(Mt),It&&google.maps.event.removeListener(It),Ct&&google.maps.event.removeListener(Ct),yt&&yt(xt),xt.setMap(null))}},[]),null}reactExports.memo(DrawingManagerFunctional);class DrawingManager extends reactExports.PureComponent{constructor(e){super(e),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{drawingManager:null}),_defineProperty(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),invariant(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(_objectSpread$e(_objectSpread$e({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$g,eventMap:eventMap$g,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$g,eventMap:eventMap$g,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),unregisterEvents(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}_defineProperty(DrawingManager,"contextType",MapContext);function ownKeys$d(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$d(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$d(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$d(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$f={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},updaterMap$f={animation(a,e){a.setAnimation(e)},clickable(a,e){a.setClickable(e)},cursor(a,e){a.setCursor(e)},draggable(a,e){a.setDraggable(e)},icon(a,e){a.setIcon(e)},label(a,e){a.setLabel(e)},map(a,e){a.setMap(e)},opacity(a,e){a.setOpacity(e)},options(a,e){a.setOptions(e)},position(a,e){a.setPosition(e)},shape(a,e){a.setShape(e)},title(a,e){a.setTitle(e)},visible(a,e){a.setVisible(e)},zIndex(a,e){a.setZIndex(e)}},defaultOptions$5={};function MarkerFunctional(a){var{position:e,options:o,clusterer:c,noClustererRedraw:et,children:tt,draggable:nt,visible:rt,animation:mt,clickable:gt,cursor:yt,icon:vt,label:xt,opacity:bt,shape:Et,title:wt,zIndex:St,onClick:Tt,onDblClick:kt,onDrag:_t,onDragEnd:Mt,onDragStart:Pt,onMouseOut:It,onMouseOver:Dt,onMouseUp:Ct,onMouseDown:At,onRightClick:Lt,onClickableChanged:jt,onCursorChanged:Bt,onAnimationChanged:zt,onDraggableChanged:Yt,onFlatChanged:en,onIconChanged:rn,onPositionChanged:on,onShapeChanged:Zt,onTitleChanged:an,onVisibleChanged:Xt,onZindexChanged:yn,onLoad:vn,onUnmount:Nt}=a,$t=reactExports.useContext(MapContext),[Ot,Ft]=reactExports.useState(null),[Ut,Gt]=reactExports.useState(null),[Vt,Kt]=reactExports.useState(null),[Jt,nn]=reactExports.useState(null),[sn,gn]=reactExports.useState(null),[fn,In]=reactExports.useState(null),[Dn,Gn]=reactExports.useState(null),[rr,Bn]=reactExports.useState(null),[An,Sn]=reactExports.useState(null),[xn,wn]=reactExports.useState(null),[jn,pn]=reactExports.useState(null),[Rn,Kn]=reactExports.useState(null),[tr,ir]=reactExports.useState(null),[On,Qn]=reactExports.useState(null),[Xn,or]=reactExports.useState(null),[lr,Un]=reactExports.useState(null),[En,mn]=reactExports.useState(null),[Fn,gr]=reactExports.useState(null),[Ln,dn]=reactExports.useState(null),[zn,Yn]=reactExports.useState(null),[hn,Pn]=reactExports.useState(null),[Tn,Zn]=reactExports.useState(null);reactExports.useEffect(()=>{Ot!==null&&Ot.setMap($t)},[$t]),reactExports.useEffect(()=>{typeof o<"u"&&Ot!==null&&Ot.setOptions(o)},[Ot,o]),reactExports.useEffect(()=>{typeof nt<"u"&&Ot!==null&&Ot.setDraggable(nt)},[Ot,nt]),reactExports.useEffect(()=>{e&&Ot!==null&&Ot.setPosition(e)},[Ot,e]),reactExports.useEffect(()=>{typeof rt<"u"&&Ot!==null&&Ot.setVisible(rt)},[Ot,rt]),reactExports.useEffect(()=>{Ot==null||Ot.setAnimation(mt)},[Ot,mt]),reactExports.useEffect(()=>{Ot&&gt!==void 0&&Ot.setClickable(gt)},[Ot,gt]),reactExports.useEffect(()=>{Ot&&yt!==void 0&&Ot.setCursor(yt)},[Ot,yt]),reactExports.useEffect(()=>{Ot&&vt!==void 0&&Ot.setIcon(vt)},[Ot,vt]),reactExports.useEffect(()=>{Ot&&xt!==void 0&&Ot.setLabel(xt)},[Ot,xt]),reactExports.useEffect(()=>{Ot&&bt!==void 0&&Ot.setOpacity(bt)},[Ot,bt]),reactExports.useEffect(()=>{Ot&&Et!==void 0&&Ot.setShape(Et)},[Ot,Et]),reactExports.useEffect(()=>{Ot&&wt!==void 0&&Ot.setTitle(wt)},[Ot,wt]),reactExports.useEffect(()=>{Ot&&St!==void 0&&Ot.setZIndex(St)},[Ot,St]),reactExports.useEffect(()=>{Ot&&kt&&(Ut!==null&&google.maps.event.removeListener(Ut),Gt(google.maps.event.addListener(Ot,"dblclick",kt)))},[kt]),reactExports.useEffect(()=>{Ot&&Mt&&(Vt!==null&&google.maps.event.removeListener(Vt),Kt(google.maps.event.addListener(Ot,"dragend",Mt)))},[Mt]),reactExports.useEffect(()=>{Ot&&Pt&&(Jt!==null&&google.maps.event.removeListener(Jt),nn(google.maps.event.addListener(Ot,"dragstart",Pt)))},[Pt]),reactExports.useEffect(()=>{Ot&&At&&(sn!==null&&google.maps.event.removeListener(sn),gn(google.maps.event.addListener(Ot,"mousedown",At)))},[At]),reactExports.useEffect(()=>{Ot&&It&&(fn!==null&&google.maps.event.removeListener(fn),In(google.maps.event.addListener(Ot,"mouseout",It)))},[It]),reactExports.useEffect(()=>{Ot&&Dt&&(Dn!==null&&google.maps.event.removeListener(Dn),Gn(google.maps.event.addListener(Ot,"mouseover",Dt)))},[Dt]),reactExports.useEffect(()=>{Ot&&Ct&&(rr!==null&&google.maps.event.removeListener(rr),Bn(google.maps.event.addListener(Ot,"mouseup",Ct)))},[Ct]),reactExports.useEffect(()=>{Ot&&Lt&&(An!==null&&google.maps.event.removeListener(An),Sn(google.maps.event.addListener(Ot,"rightclick",Lt)))},[Lt]),reactExports.useEffect(()=>{Ot&&Tt&&(xn!==null&&google.maps.event.removeListener(xn),wn(google.maps.event.addListener(Ot,"click",Tt)))},[Tt]),reactExports.useEffect(()=>{Ot&&_t&&(jn!==null&&google.maps.event.removeListener(jn),pn(google.maps.event.addListener(Ot,"drag",_t)))},[_t]),reactExports.useEffect(()=>{Ot&&jt&&(Rn!==null&&google.maps.event.removeListener(Rn),Kn(google.maps.event.addListener(Ot,"clickable_changed",jt)))},[jt]),reactExports.useEffect(()=>{Ot&&Bt&&(tr!==null&&google.maps.event.removeListener(tr),ir(google.maps.event.addListener(Ot,"cursor_changed",Bt)))},[Bt]),reactExports.useEffect(()=>{Ot&&zt&&(On!==null&&google.maps.event.removeListener(On),Qn(google.maps.event.addListener(Ot,"animation_changed",zt)))},[zt]),reactExports.useEffect(()=>{Ot&&Yt&&(Xn!==null&&google.maps.event.removeListener(Xn),or(google.maps.event.addListener(Ot,"draggable_changed",Yt)))},[Yt]),reactExports.useEffect(()=>{Ot&&en&&(lr!==null&&google.maps.event.removeListener(lr),Un(google.maps.event.addListener(Ot,"flat_changed",en)))},[en]),reactExports.useEffect(()=>{Ot&&rn&&(En!==null&&google.maps.event.removeListener(En),mn(google.maps.event.addListener(Ot,"icon_changed",rn)))},[rn]),reactExports.useEffect(()=>{Ot&&on&&(Fn!==null&&google.maps.event.removeListener(Fn),gr(google.maps.event.addListener(Ot,"position_changed",on)))},[on]),reactExports.useEffect(()=>{Ot&&Zt&&(Ln!==null&&google.maps.event.removeListener(Ln),dn(google.maps.event.addListener(Ot,"shape_changed",Zt)))},[Zt]),reactExports.useEffect(()=>{Ot&&an&&(zn!==null&&google.maps.event.removeListener(zn),Yn(google.maps.event.addListener(Ot,"title_changed",an)))},[an]),reactExports.useEffect(()=>{Ot&&Xt&&(hn!==null&&google.maps.event.removeListener(hn),Pn(google.maps.event.addListener(Ot,"visible_changed",Xt)))},[Xt]),reactExports.useEffect(()=>{Ot&&yn&&(Tn!==null&&google.maps.event.removeListener(Tn),Zn(google.maps.event.addListener(Ot,"zindex_changed",yn)))},[yn]),reactExports.useEffect(()=>{var qn=_objectSpread$d(_objectSpread$d(_objectSpread$d({},o||defaultOptions$5),c?defaultOptions$5:{map:$t}),{},{position:e}),Wn=new google.maps.Marker(qn);return c?c.addMarker(Wn,!!et):Wn.setMap($t),e&&Wn.setPosition(e),typeof rt<"u"&&Wn.setVisible(rt),typeof nt<"u"&&Wn.setDraggable(nt),typeof gt<"u"&&Wn.setClickable(gt),typeof yt=="string"&&Wn.setCursor(yt),vt&&Wn.setIcon(vt),typeof xt<"u"&&Wn.setLabel(xt),typeof bt<"u"&&Wn.setOpacity(bt),Et&&Wn.setShape(Et),typeof wt=="string"&&Wn.setTitle(wt),typeof St=="number"&&Wn.setZIndex(St),kt&&Gt(google.maps.event.addListener(Wn,"dblclick",kt)),Mt&&Kt(google.maps.event.addListener(Wn,"dragend",Mt)),Pt&&nn(google.maps.event.addListener(Wn,"dragstart",Pt)),At&&gn(google.maps.event.addListener(Wn,"mousedown",At)),It&&In(google.maps.event.addListener(Wn,"mouseout",It)),Dt&&Gn(google.maps.event.addListener(Wn,"mouseover",Dt)),Ct&&Bn(google.maps.event.addListener(Wn,"mouseup",Ct)),Lt&&Sn(google.maps.event.addListener(Wn,"rightclick",Lt)),Tt&&wn(google.maps.event.addListener(Wn,"click",Tt)),_t&&pn(google.maps.event.addListener(Wn,"drag",_t)),jt&&Kn(google.maps.event.addListener(Wn,"clickable_changed",jt)),Bt&&ir(google.maps.event.addListener(Wn,"cursor_changed",Bt)),zt&&Qn(google.maps.event.addListener(Wn,"animation_changed",zt)),Yt&&or(google.maps.event.addListener(Wn,"draggable_changed",Yt)),en&&Un(google.maps.event.addListener(Wn,"flat_changed",en)),rn&&mn(google.maps.event.addListener(Wn,"icon_changed",rn)),on&&gr(google.maps.event.addListener(Wn,"position_changed",on)),Zt&&dn(google.maps.event.addListener(Wn,"shape_changed",Zt)),an&&Yn(google.maps.event.addListener(Wn,"title_changed",an)),Xt&&Pn(google.maps.event.addListener(Wn,"visible_changed",Xt)),yn&&Zn(google.maps.event.addListener(Wn,"zindex_changed",yn)),Ft(Wn),vn&&vn(Wn),()=>{Ut!==null&&google.maps.event.removeListener(Ut),Vt!==null&&google.maps.event.removeListener(Vt),Jt!==null&&google.maps.event.removeListener(Jt),sn!==null&&google.maps.event.removeListener(sn),fn!==null&&google.maps.event.removeListener(fn),Dn!==null&&google.maps.event.removeListener(Dn),rr!==null&&google.maps.event.removeListener(rr),An!==null&&google.maps.event.removeListener(An),xn!==null&&google.maps.event.removeListener(xn),Rn!==null&&google.maps.event.removeListener(Rn),tr!==null&&google.maps.event.removeListener(tr),On!==null&&google.maps.event.removeListener(On),Xn!==null&&google.maps.event.removeListener(Xn),lr!==null&&google.maps.event.removeListener(lr),En!==null&&google.maps.event.removeListener(En),Fn!==null&&google.maps.event.removeListener(Fn),zn!==null&&google.maps.event.removeListener(zn),hn!==null&&google.maps.event.removeListener(hn),Tn!==null&&google.maps.event.removeListener(Tn),Nt&&Nt(Wn),c?c.removeMarker(Wn,!!et):Wn&&Wn.setMap(null)}},[]);var $n=reactExports.useMemo(()=>tt?reactExports.Children.map(tt,qn=>{if(!reactExports.isValidElement(qn))return qn;var Wn=qn;return reactExports.cloneElement(Wn,{anchor:Ot})}):null,[tt,Ot]);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:$n})||null}var MarkerF=reactExports.memo(MarkerFunctional);class Marker extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[])}componentDidMount(){var e=this;return _asyncToGenerator(function*(){var o=_objectSpread$d(_objectSpread$d(_objectSpread$d({},e.props.options||defaultOptions$5),e.props.clusterer?defaultOptions$5:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(o),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$f,eventMap:eventMap$f,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$f,eventMap:eventMap$f,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),unregisterEvents(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?reactExports.Children.map(this.props.children,o=>{if(!reactExports.isValidElement(o))return o;var c=o;return reactExports.cloneElement(c,{anchor:this.marker})}):null;return e||null}}_defineProperty(Marker,"contextType",MapContext);var ClusterIcon=function(){function a(e,o){e.getClusterer().extend(a,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=o,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return a.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},a.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},a.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var o=this.cluster.getClusterer();if(google.maps.event.trigger(o,"click",this.cluster),google.maps.event.trigger(o,"clusterclick",this.cluster),o.getZoomOnClick()){var c=o.getMaxZoom(),et=this.cluster.getBounds(),tt=o.getMap();tt!==null&&"fitBounds"in tt&&tt.fitBounds(et),this.timeOut=window.setTimeout(function(){var nt=o.getMap();if(nt!==null){"fitBounds"in nt&&nt.fitBounds(et);var rt=nt.getZoom()||0;c!==null&&rt>c&&nt.setZoom(c+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},a.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},a.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},a.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var o=this.getMap();o!==null&&(this.boundsChangedListener=google.maps.event.addListener(o,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},a.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},a.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},a.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},a.prototype.show=function(){var e,o,c,et,tt,nt;if(this.div&&this.center){var rt=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,mt=this.backgroundPosition.split(" "),gt=parseInt(((e=mt[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),yt=parseInt(((o=mt[1])===null||o===void 0?void 0:o.replace(/^\s+|\s+$/g,""))||"0",10),vt=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(vt!==null?"".concat(vt.y,"px"):"0","; left: ").concat(vt!==null?"".concat(vt.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var xt=document.createElement("img");xt.alt=rt,xt.src=this.url,xt.width=this.width,xt.height=this.height,xt.setAttribute("style","position: absolute; top: ".concat(yt,"px; left: ").concat(gt,"px")),this.cluster.getClusterer().enableRetinaIcons||(xt.style.clip="rect(-".concat(yt,"px, -").concat(gt+this.width,"px, -").concat(yt+this.height,", -").concat(gt,")"));var bt=document.createElement("div");bt.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((c=this.sums)===null||c===void 0)&&c.text&&(bt.innerText="".concat((et=this.sums)===null||et===void 0?void 0:et.text)),!((tt=this.sums)===null||tt===void 0)&&tt.html&&(bt.innerHTML="".concat((nt=this.sums)===null||nt===void 0?void 0:nt.html)),this.div.innerHTML="",this.div.appendChild(xt),this.div.appendChild(bt),this.div.title=rt,this.div.style.display=""}this.visible=!0},a.prototype.useStyle=function(e){this.sums=e;var o=this.cluster.getClusterer().getStyles(),c=o[Math.min(o.length-1,Math.max(0,e.index-1))];c&&(this.url=c.url,this.height=c.height,this.width=c.width,c.className&&(this.className="".concat(this.clusterClassName," ").concat(c.className)),this.anchorText=c.anchorText||[0,0],this.anchorIcon=c.anchorIcon||[this.height/2,this.width/2],this.textColor=c.textColor||"black",this.textSize=c.textSize||11,this.textDecoration=c.textDecoration||"none",this.fontWeight=c.fontWeight||"bold",this.fontStyle=c.fontStyle||"normal",this.fontFamily=c.fontFamily||"Arial,sans-serif",this.backgroundPosition=c.backgroundPosition||"0 0")},a.prototype.setCenter=function(e){this.center=e},a.prototype.getPosFromLatLng=function(e){var o=this.getProjection().fromLatLngToDivPixel(e);return o!==null&&(o.x-=this.anchorIcon[1],o.y-=this.anchorIcon[0]),o},a}(),Cluster$1=function(){function a(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new ClusterIcon(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return a.prototype.getSize=function(){return this.markers.length},a.prototype.getMarkers=function(){return this.markers},a.prototype.getCenter=function(){return this.center},a.prototype.getMap=function(){return this.map},a.prototype.getClusterer=function(){return this.markerClusterer},a.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),o=this.getMarkers(),c=0,et=o;c<et.length;c++){var tt=et[c],nt=tt.getPosition();nt&&e.extend(nt)}return e},a.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},a.prototype.addMarker=function(e){var o;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var c=e.getPosition();if(c){var et=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(et-1)+c.lat())/et,(this.center.lng()*(et-1)+c.lng())/et),this.calculateBounds()}}}else{var c=e.getPosition();c&&(this.center=c,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var tt=this.markers.length,nt=this.markerClusterer.getMaxZoom(),rt=(o=this.map)===null||o===void 0?void 0:o.getZoom();if(nt!==null&&typeof rt<"u"&&rt>nt)e.getMap()!==this.map&&e.setMap(this.map);else if(tt<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(tt===this.minClusterSize)for(var mt=0,gt=this.markers;mt<gt.length;mt++){var yt=gt[mt];yt.setMap(null)}else e.setMap(null);return!0},a.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var o=e.getPosition();if(o)return this.bounds.contains(o)}return!1},a.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},a.prototype.updateIcon=function(){var e,o=this.markers.length,c=this.markerClusterer.getMaxZoom(),et=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(c!==null&&typeof et<"u"&&et>c){this.clusterIcon.hide();return}if(o<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},a.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var o=0;o<this.markers.length;o++)if(e===this.markers[o])return!0;return!1},a}();function CALCULATOR(a,e){var o=a.length,c=o.toString().length,et=Math.min(c,e);return{text:o.toString(),index:et,title:""}}var BATCH_SIZE=2e3,BATCH_SIZE_IE=500,IMAGE_PATH="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",IMAGE_EXTENSION="png",IMAGE_SIZES=[53,56,66,78,90],CLUSTERER_CLASS="cluster",Clusterer=function(){function a(e,o,c){o===void 0&&(o=[]),c===void 0&&(c={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(a,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=c.gridSize||60,this.minClusterSize=c.minimumClusterSize||2,this.maxZoom=c.maxZoom||null,this.styles=c.styles||[],this.title=c.title||"",this.zoomOnClick=!0,c.zoomOnClick!==void 0&&(this.zoomOnClick=c.zoomOnClick),this.averageCenter=!1,c.averageCenter!==void 0&&(this.averageCenter=c.averageCenter),this.ignoreHidden=!1,c.ignoreHidden!==void 0&&(this.ignoreHidden=c.ignoreHidden),this.enableRetinaIcons=!1,c.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=c.enableRetinaIcons),this.imagePath=c.imagePath||IMAGE_PATH,this.imageExtension=c.imageExtension||IMAGE_EXTENSION,this.imageSizes=c.imageSizes||IMAGE_SIZES,this.calculator=c.calculator||CALCULATOR,this.batchSize=c.batchSize||BATCH_SIZE,this.batchSizeIE=c.batchSizeIE||BATCH_SIZE_IE,this.clusterClass=c.clusterClass||CLUSTERER_CLASS,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(o,!0),this.setMap(e)}return a.prototype.onZoomChanged=function(){var e,o;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((o=this.getMap())===null||o===void 0?void 0:o.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},a.prototype.onIdle=function(){this.redraw()},a.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},a.prototype.onRemove=function(){for(var e=0,o=this.markers;e<o.length;e++){var c=o[e];c.getMap()!==this.activeMap&&c.setMap(this.activeMap)}for(var et=0,tt=this.clusters;et<tt.length;et++){var nt=tt[et];nt.remove()}this.clusters=[];for(var rt=0,mt=this.listeners;rt<mt.length;rt++){var gt=mt[rt];google.maps.event.removeListener(gt)}this.listeners=[],this.activeMap=null,this.ready=!1},a.prototype.draw=function(){},a.prototype.getMap=function(){return null},a.prototype.getPanes=function(){return null},a.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},a.prototype.setMap=function(){},a.prototype.addListener=function(){return{remove:function(){}}},a.prototype.bindTo=function(){},a.prototype.get=function(){},a.prototype.notify=function(){},a.prototype.set=function(){},a.prototype.setValues=function(){},a.prototype.unbind=function(){},a.prototype.unbindAll=function(){},a.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},a.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),o=new google.maps.LatLngBounds,c=0,et=e;c<et.length;c++){var tt=et[c],nt=tt.getPosition();nt&&o.extend(nt)}var rt=this.getMap();rt!==null&&"fitBounds"in rt&&rt.fitBounds(o)},a.prototype.getGridSize=function(){return this.gridSize},a.prototype.setGridSize=function(e){this.gridSize=e},a.prototype.getMinimumClusterSize=function(){return this.minClusterSize},a.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},a.prototype.getMaxZoom=function(){return this.maxZoom},a.prototype.setMaxZoom=function(e){this.maxZoom=e},a.prototype.getStyles=function(){return this.styles},a.prototype.setStyles=function(e){this.styles=e},a.prototype.getTitle=function(){return this.title},a.prototype.setTitle=function(e){this.title=e},a.prototype.getZoomOnClick=function(){return this.zoomOnClick},a.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},a.prototype.getAverageCenter=function(){return this.averageCenter},a.prototype.setAverageCenter=function(e){this.averageCenter=e},a.prototype.getIgnoreHidden=function(){return this.ignoreHidden},a.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},a.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},a.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},a.prototype.getImageExtension=function(){return this.imageExtension},a.prototype.setImageExtension=function(e){this.imageExtension=e},a.prototype.getImagePath=function(){return this.imagePath},a.prototype.setImagePath=function(e){this.imagePath=e},a.prototype.getImageSizes=function(){return this.imageSizes},a.prototype.setImageSizes=function(e){this.imageSizes=e},a.prototype.getCalculator=function(){return this.calculator},a.prototype.setCalculator=function(e){this.calculator=e},a.prototype.getBatchSizeIE=function(){return this.batchSizeIE},a.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},a.prototype.getClusterClass=function(){return this.clusterClass},a.prototype.setClusterClass=function(e){this.clusterClass=e},a.prototype.getMarkers=function(){return this.markers},a.prototype.getTotalMarkers=function(){return this.markers.length},a.prototype.getClusters=function(){return this.clusters},a.prototype.getTotalClusters=function(){return this.clusters.length},a.prototype.addMarker=function(e,o){this.pushMarkerTo(e),o||this.redraw()},a.prototype.addMarkers=function(e,o){for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var et=e[c];et&&this.pushMarkerTo(et)}o||this.redraw()},a.prototype.pushMarkerTo=function(e){var o=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){o.ready&&(e.isAdded=!1,o.repaint())}),e.isAdded=!1,this.markers.push(e)},a.prototype.removeMarker_=function(e){var o=-1;if(this.markers.indexOf)o=this.markers.indexOf(e);else for(var c=0;c<this.markers.length;c++)if(e===this.markers[c]){o=c;break}return o===-1?!1:(e.setMap(null),this.markers.splice(o,1),!0)},a.prototype.removeMarker=function(e,o){var c=this.removeMarker_(e);return!o&&c&&this.repaint(),c},a.prototype.removeMarkers=function(e,o){for(var c=!1,et=0,tt=e;et<tt.length;et++){var nt=tt[et];c=c||this.removeMarker_(nt)}return!o&&c&&this.repaint(),c},a.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},a.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var c=0,et=e;c<et.length;c++){var tt=et[c];tt.remove()}},0)},a.prototype.getExtendedBounds=function(e){var o=this.getProjection(),c=o.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));c!==null&&(c.x+=this.gridSize,c.y-=this.gridSize);var et=o.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(et!==null&&(et.x-=this.gridSize,et.y+=this.gridSize),c!==null){var tt=o.fromDivPixelToLatLng(c);tt!==null&&e.extend(tt)}if(et!==null){var nt=o.fromDivPixelToLatLng(et);nt!==null&&e.extend(nt)}return e},a.prototype.redraw=function(){this.createClusters(0)},a.prototype.resetViewport=function(e){for(var o=0,c=this.clusters;o<c.length;o++){var et=c[o];et.remove()}this.clusters=[];for(var tt=0,nt=this.markers;tt<nt.length;tt++){var rt=nt[tt];rt.isAdded=!1,e&&rt.setMap(null)}},a.prototype.distanceBetweenPoints=function(e,o){var c=6371,et=(o.lat()-e.lat())*Math.PI/180,tt=(o.lng()-e.lng())*Math.PI/180,nt=Math.sin(et/2)*Math.sin(et/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(o.lat()*Math.PI/180)*Math.sin(tt/2)*Math.sin(tt/2);return c*(2*Math.atan2(Math.sqrt(nt),Math.sqrt(1-nt)))},a.prototype.isMarkerInBounds=function(e,o){var c=e.getPosition();return c?o.contains(c):!1},a.prototype.addToClosestCluster=function(e){for(var o,c=4e4,et=null,tt=0,nt=this.clusters;tt<nt.length;tt++){var rt=nt[tt];o=rt;var mt=o.getCenter(),gt=e.getPosition();if(mt&&gt){var yt=this.distanceBetweenPoints(mt,gt);yt<c&&(c=yt,et=o)}}et&&et.isMarkerInClusterBounds(e)?et.addMarker(e):(o=new Cluster$1(this),o.addMarker(e),this.clusters.push(o))},a.prototype.createClusters=function(e){var o=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var c=this.getMap(),et=c!==null&&("getBounds"in c)?c.getBounds():null,tt=(c==null?void 0:c.getZoom())||0,nt=tt>3?new google.maps.LatLngBounds(et==null?void 0:et.getSouthWest(),et==null?void 0:et.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),rt=this.getExtendedBounds(nt),mt=Math.min(e+this.batchSize,this.markers.length),gt=e;gt<mt;gt++){var yt=this.markers[gt];yt&&!yt.isAdded&&this.isMarkerInBounds(yt,rt)&&(!this.ignoreHidden||this.ignoreHidden&&yt.getVisible())&&this.addToClosestCluster(yt)}if(mt<this.markers.length)this.timerRefStatic=window.setTimeout(function(){o.createClusters(mt)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var vt=0,xt=this.clusters;vt<xt.length;vt++){var bt=xt[vt];bt.updateIcon()}}}},a.prototype.extend=function(e,o){return(function(et){for(var tt in et.prototype){var nt=tt;this.prototype[nt]=et.prototype[nt]}return this}).apply(e,[o])},a}();function ownKeys$c(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$c(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$c(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$c(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$e={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},updaterMap$e={averageCenter(a,e){a.setAverageCenter(e)},batchSizeIE(a,e){a.setBatchSizeIE(e)},calculator(a,e){a.setCalculator(e)},clusterClass(a,e){a.setClusterClass(e)},enableRetinaIcons(a,e){a.setEnableRetinaIcons(e)},gridSize(a,e){a.setGridSize(e)},ignoreHidden(a,e){a.setIgnoreHidden(e)},imageExtension(a,e){a.setImageExtension(e)},imagePath(a,e){a.setImagePath(e)},imageSizes(a,e){a.setImageSizes(e)},maxZoom(a,e){a.setMaxZoom(e)},minimumClusterSize(a,e){a.setMinimumClusterSize(e)},styles(a,e){a.setStyles(e)},title(a,e){a.setTitle(e)},zoomOnClick(a,e){a.setZoomOnClick(e)}},defaultOptions$4={};function MarkerClustererFunctional(a){var{children:e,options:o,averageCenter:c,batchSizeIE:et,calculator:tt,clusterClass:nt,enableRetinaIcons:rt,gridSize:mt,ignoreHidden:gt,imageExtension:yt,imagePath:vt,imageSizes:xt,maxZoom:bt,minimumClusterSize:Et,styles:wt,title:St,zoomOnClick:Tt,onClick:kt,onClusteringBegin:_t,onClusteringEnd:Mt,onMouseOver:Pt,onMouseOut:It,onLoad:Dt,onUnmount:Ct}=a,[At,Lt]=reactExports.useState(null),jt=reactExports.useContext(MapContext),[Bt,zt]=reactExports.useState(null),[Yt,en]=reactExports.useState(null),[rn,on]=reactExports.useState(null),[Zt,an]=reactExports.useState(null),[Xt,yn]=reactExports.useState(null);return reactExports.useEffect(()=>{At&&It&&(Zt!==null&&google.maps.event.removeListener(Zt),an(google.maps.event.addListener(At,eventMap$e.onMouseOut,It)))},[It]),reactExports.useEffect(()=>{At&&Pt&&(Xt!==null&&google.maps.event.removeListener(Xt),yn(google.maps.event.addListener(At,eventMap$e.onMouseOver,Pt)))},[Pt]),reactExports.useEffect(()=>{At&&kt&&(Bt!==null&&google.maps.event.removeListener(Bt),zt(google.maps.event.addListener(At,eventMap$e.onClick,kt)))},[kt]),reactExports.useEffect(()=>{At&&_t&&(Yt!==null&&google.maps.event.removeListener(Yt),en(google.maps.event.addListener(At,eventMap$e.onClusteringBegin,_t)))},[_t]),reactExports.useEffect(()=>{At&&Mt&&(rn!==null&&google.maps.event.removeListener(rn),en(google.maps.event.addListener(At,eventMap$e.onClusteringEnd,Mt)))},[Mt]),reactExports.useEffect(()=>{typeof c<"u"&&At!==null&&updaterMap$e.averageCenter(At,c)},[At,c]),reactExports.useEffect(()=>{typeof et<"u"&&At!==null&&updaterMap$e.batchSizeIE(At,et)},[At,et]),reactExports.useEffect(()=>{typeof tt<"u"&&At!==null&&updaterMap$e.calculator(At,tt)},[At,tt]),reactExports.useEffect(()=>{typeof nt<"u"&&At!==null&&updaterMap$e.clusterClass(At,nt)},[At,nt]),reactExports.useEffect(()=>{typeof rt<"u"&&At!==null&&updaterMap$e.enableRetinaIcons(At,rt)},[At,rt]),reactExports.useEffect(()=>{typeof mt<"u"&&At!==null&&updaterMap$e.gridSize(At,mt)},[At,mt]),reactExports.useEffect(()=>{typeof gt<"u"&&At!==null&&updaterMap$e.ignoreHidden(At,gt)},[At,gt]),reactExports.useEffect(()=>{typeof yt<"u"&&At!==null&&updaterMap$e.imageExtension(At,yt)},[At,yt]),reactExports.useEffect(()=>{typeof vt<"u"&&At!==null&&updaterMap$e.imagePath(At,vt)},[At,vt]),reactExports.useEffect(()=>{typeof xt<"u"&&At!==null&&updaterMap$e.imageSizes(At,xt)},[At,xt]),reactExports.useEffect(()=>{typeof bt<"u"&&At!==null&&updaterMap$e.maxZoom(At,bt)},[At,bt]),reactExports.useEffect(()=>{typeof Et<"u"&&At!==null&&updaterMap$e.minimumClusterSize(At,Et)},[At,Et]),reactExports.useEffect(()=>{typeof wt<"u"&&At!==null&&updaterMap$e.styles(At,wt)},[At,wt]),reactExports.useEffect(()=>{typeof St<"u"&&At!==null&&updaterMap$e.title(At,St)},[At,St]),reactExports.useEffect(()=>{typeof Tt<"u"&&At!==null&&updaterMap$e.zoomOnClick(At,Tt)},[At,Tt]),reactExports.useEffect(()=>{if(jt){var vn=_objectSpread$c({},o||defaultOptions$4),Nt=new Clusterer(jt,[],vn);return c&&updaterMap$e.averageCenter(Nt,c),et&&updaterMap$e.batchSizeIE(Nt,et),tt&&updaterMap$e.calculator(Nt,tt),nt&&updaterMap$e.clusterClass(Nt,nt),rt&&updaterMap$e.enableRetinaIcons(Nt,rt),mt&&updaterMap$e.gridSize(Nt,mt),gt&&updaterMap$e.ignoreHidden(Nt,gt),yt&&updaterMap$e.imageExtension(Nt,yt),vt&&updaterMap$e.imagePath(Nt,vt),xt&&updaterMap$e.imageSizes(Nt,xt),bt&&updaterMap$e.maxZoom(Nt,bt),Et&&updaterMap$e.minimumClusterSize(Nt,Et),wt&&updaterMap$e.styles(Nt,wt),St&&updaterMap$e.title(Nt,St),Tt&&updaterMap$e.zoomOnClick(Nt,Tt),It&&an(google.maps.event.addListener(Nt,eventMap$e.onMouseOut,It)),Pt&&yn(google.maps.event.addListener(Nt,eventMap$e.onMouseOver,Pt)),kt&&zt(google.maps.event.addListener(Nt,eventMap$e.onClick,kt)),_t&&en(google.maps.event.addListener(Nt,eventMap$e.onClusteringBegin,_t)),Mt&&on(google.maps.event.addListener(Nt,eventMap$e.onClusteringEnd,Mt)),Lt(Nt),Dt&&Dt(Nt),()=>{Zt!==null&&google.maps.event.removeListener(Zt),Xt!==null&&google.maps.event.removeListener(Xt),Bt!==null&&google.maps.event.removeListener(Bt),Yt!==null&&google.maps.event.removeListener(Yt),rn!==null&&google.maps.event.removeListener(rn),Ct&&Ct(Nt)}}},[]),At!==null&&e(At)||null}reactExports.memo(MarkerClustererFunctional);class ClustererComponent extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{markerClusterer:null}),_defineProperty(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new Clusterer(this.context,[],this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$e,eventMap:eventMap$e,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$e,eventMap:eventMap$e,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),unregisterEvents(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}_defineProperty(ClustererComponent,"contextType",MapContext);function cancelHandler(a){a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()}var InfoBox=function(){function a(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(a,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return a.prototype.createInfoBoxDiv=function(){var e=this,o=function(yt){yt.returnValue=!1,yt.preventDefault&&yt.preventDefault(),e.enableEventPropagation||cancelHandler(yt)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var c=this.getPanes();if(c!==null&&c[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var et=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-et.left-et.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var tt=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],nt=0,rt=tt;nt<rt.length;nt++){var mt=rt[nt];this.eventListeners.push(google.maps.event.addListener(this.div,mt,cancelHandler))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",o),google.maps.event.trigger(this,"domready")}},a.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},a.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},a.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},a.prototype.getCloseClickHandler=function(){return this.closeClickHandler},a.prototype.panBox=function(e){if(this.div&&!e){var o=this.getMap();if(o instanceof google.maps.Map){var c=0,et=0,tt=o.getBounds();tt&&!tt.contains(this.position)&&o.setCenter(this.position);var nt=o.getDiv(),rt=nt.offsetWidth,mt=nt.offsetHeight,gt=this.pixelOffset.width,yt=this.pixelOffset.height,vt=this.div.offsetWidth,xt=this.div.offsetHeight,bt=this.infoBoxClearance.width,Et=this.infoBoxClearance.height,wt=this.getProjection(),St=wt.fromLatLngToContainerPixel(this.position);St!==null&&(St.x<-gt+bt?c=St.x+gt-bt:St.x+vt+gt+bt>rt&&(c=St.x+vt+gt+bt-rt),this.alignBottom?St.y<-yt+Et+xt?et=St.y+yt-Et-xt:St.y+yt+Et>mt&&(et=St.y+yt+Et-mt):St.y<-yt+Et?et=St.y+yt-Et:St.y+xt+yt+Et>mt&&(et=St.y+xt+yt+Et-mt)),c===0&&et===0||o.panBy(c,et)}}},a.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(this.div.style[o]=e[o]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var c=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+c*100+')"',this.div.style.filter="alpha(opacity="+c*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},a.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var o=this.div.ownerDocument,c=o&&o.defaultView?o.defaultView.getComputedStyle(this.div,""):null;c&&(e.top=parseInt(c.borderTopWidth||"",10)||0,e.bottom=parseInt(c.borderBottomWidth||"",10)||0,e.left=parseInt(c.borderLeftWidth||"",10)||0,e.right=parseInt(c.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var et=this.div.currentStyle;et&&(e.top=parseInt(et.borderTopWidth||"",10)||0,e.bottom=parseInt(et.borderBottomWidth||"",10)||0,e.left=parseInt(et.borderLeftWidth||"",10)||0,e.right=parseInt(et.borderRightWidth||"",10)||0)}return e},a.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},a.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),o=e.fromLatLngToDivPixel(this.position);o!==null&&(this.div.style.left=o.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(o.y+this.pixelOffset.height)+"px":this.div.style.top=o.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},a.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},a.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},a.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},a.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},a.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},a.prototype.getContent=function(){return this.content},a.prototype.getPosition=function(){return this.position},a.prototype.getZIndex=function(){return this.zIndex},a.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},a.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},a.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},a.prototype.open=function(e,o){var c=this;o&&(this.position=o.getPosition(),this.moveListener=google.maps.event.addListener(o,"position_changed",function(){var et=o.getPosition();c.setPosition(et)}),this.mapListener=google.maps.event.addListener(o,"map_changed",function(){c.setMap(o.map)})),this.setMap(e),this.div&&this.panBox()},a.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,o=this.eventListeners;e<o.length;e++){var c=o[e];google.maps.event.removeListener(c)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},a.prototype.extend=function(e,o){return(function(et){for(var tt in et.prototype)Object.prototype.hasOwnProperty.call(this,tt)||(this.prototype[tt]=et.prototype[tt]);return this}).apply(e,[o])},a}(),_excluded=["position"],_excluded2=["position"];function ownKeys$b(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$b(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$b(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$b(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$d={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},updaterMap$d={options(a,e){a.setOptions(e)},position(a,e){e instanceof google.maps.LatLng?a.setPosition(e):a.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(a,e){a.setVisible(e)},zIndex(a,e){a.setZIndex(e)}},defaultOptions$3={};function InfoBoxFunctional(a){var{children:e,anchor:o,options:c,position:et,zIndex:tt,onCloseClick:nt,onDomReady:rt,onContentChanged:mt,onPositionChanged:gt,onZindexChanged:yt,onLoad:vt,onUnmount:xt}=a,bt=reactExports.useContext(MapContext),[Et,wt]=reactExports.useState(null),[St,Tt]=reactExports.useState(null),[kt,_t]=reactExports.useState(null),[Mt,Pt]=reactExports.useState(null),[It,Dt]=reactExports.useState(null),[Ct,At]=reactExports.useState(null),Lt=reactExports.useRef(null);return reactExports.useEffect(()=>{bt&&Et!==null&&(Et.close(),o?Et.open(bt,o):Et.getPosition()&&Et.open(bt))},[bt,Et,o]),reactExports.useEffect(()=>{c&&Et!==null&&Et.setOptions(c)},[Et,c]),reactExports.useEffect(()=>{if(et&&Et!==null){var jt=et instanceof google.maps.LatLng?et:new google.maps.LatLng(et.lat,et.lng);Et.setPosition(jt)}},[et]),reactExports.useEffect(()=>{typeof tt=="number"&&Et!==null&&Et.setZIndex(tt)},[tt]),reactExports.useEffect(()=>{Et&&nt&&(St!==null&&google.maps.event.removeListener(St),Tt(google.maps.event.addListener(Et,"closeclick",nt)))},[nt]),reactExports.useEffect(()=>{Et&&rt&&(kt!==null&&google.maps.event.removeListener(kt),_t(google.maps.event.addListener(Et,"domready",rt)))},[rt]),reactExports.useEffect(()=>{Et&&mt&&(Mt!==null&&google.maps.event.removeListener(Mt),Pt(google.maps.event.addListener(Et,"content_changed",mt)))},[mt]),reactExports.useEffect(()=>{Et&&gt&&(It!==null&&google.maps.event.removeListener(It),Dt(google.maps.event.addListener(Et,"position_changed",gt)))},[gt]),reactExports.useEffect(()=>{Et&&yt&&(Ct!==null&&google.maps.event.removeListener(Ct),At(google.maps.event.addListener(Et,"zindex_changed",yt)))},[yt]),reactExports.useEffect(()=>{if(bt){var jt=c||defaultOptions$3,{position:Bt}=jt,zt=_objectWithoutProperties(jt,_excluded),Yt;Bt&&!(Bt instanceof google.maps.LatLng)&&(Yt=new google.maps.LatLng(Bt.lat,Bt.lng));var en=new InfoBox(_objectSpread$b(_objectSpread$b({},zt),Yt?{position:Yt}:{}));Lt.current=document.createElement("div"),wt(en),nt&&Tt(google.maps.event.addListener(en,"closeclick",nt)),rt&&_t(google.maps.event.addListener(en,"domready",rt)),mt&&Pt(google.maps.event.addListener(en,"content_changed",mt)),gt&&Dt(google.maps.event.addListener(en,"position_changed",gt)),yt&&At(google.maps.event.addListener(en,"zindex_changed",yt)),en.setContent(Lt.current),o?en.open(bt,o):en.getPosition()?en.open(bt):invariant(!1,"You must provide either an anchor or a position prop for <InfoBox>."),vt&&vt(en)}return()=>{Et!==null&&(St&&google.maps.event.removeListener(St),Mt&&google.maps.event.removeListener(Mt),kt&&google.maps.event.removeListener(kt),It&&google.maps.event.removeListener(It),Ct&&google.maps.event.removeListener(Ct),xt&&xt(Et),Et.close())}},[]),Lt.current?reactDomExports.createPortal(reactExports.Children.only(e),Lt.current):null}reactExports.memo(InfoBoxFunctional);class InfoBoxComponent extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"containerElement",null),_defineProperty(this,"state",{infoBox:null}),_defineProperty(this,"open",(e,o)=>{o?this.context!==null&&e.open(this.context,o):e.getPosition()?this.context!==null&&e.open(this.context):invariant(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),_defineProperty(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:o}=e,c=_objectWithoutProperties(e,_excluded2),et;o&&!(o instanceof google.maps.LatLng)&&(et=new google.maps.LatLng(o.lat,o.lng));var tt=new InfoBox(_objectSpread$b(_objectSpread$b({},c),et?{position:et}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$d,eventMap:eventMap$d,prevProps:{},nextProps:this.props,instance:tt}),this.setState({infoBox:tt},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:o}=this.state;o!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$d,eventMap:eventMap$d,prevProps:e,nextProps:this.props,instance:o}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:o}=this.state;o!==null&&(e&&e(o),unregisterEvents(this.registeredEvents),o.close())}render(){return this.containerElement?reactDomExports.createPortal(reactExports.Children.only(this.props.children),this.containerElement):null}}_defineProperty(InfoBoxComponent,"contextType",MapContext);var fastDeepEqual,hasRequiredFastDeepEqual;function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function a(e,o){if(e===o)return!0;if(e&&o&&typeof e=="object"&&typeof o=="object"){if(e.constructor!==o.constructor)return!1;var c,et,tt;if(Array.isArray(e)){if(c=e.length,c!=o.length)return!1;for(et=c;et--!==0;)if(!a(e[et],o[et]))return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if(tt=Object.keys(e),c=tt.length,c!==Object.keys(o).length)return!1;for(et=c;et--!==0;)if(!Object.prototype.hasOwnProperty.call(o,tt[et]))return!1;for(et=c;et--!==0;){var nt=tt[et];if(!a(e[nt],o[nt]))return!1}return!0}return e!==e&&o!==o}),fastDeepEqual}var fastDeepEqualExports=requireFastDeepEqual(),equal2=getDefaultExportFromCjs$1(fastDeepEqualExports),ARRAY_TYPES=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],VERSION=1,HEADER_SIZE=8;class KDBush{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[o,c]=new Uint8Array(e,0,2);if(o!==219)throw new Error("Data does not appear to be in a KDBush format.");var et=c>>4;if(et!==VERSION)throw new Error("Got v".concat(et," data when expected v").concat(VERSION,"."));var tt=ARRAY_TYPES[c&15];if(!tt)throw new Error("Unrecognized array type.");var[nt]=new Uint16Array(e,2,1),[rt]=new Uint32Array(e,4,1);return new KDBush(rt,nt,tt,e)}constructor(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,et=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+o,2),65535),this.ArrayType=c,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var tt=ARRAY_TYPES.indexOf(this.ArrayType),nt=e*2*this.ArrayType.BYTES_PER_ELEMENT,rt=e*this.IndexArrayType.BYTES_PER_ELEMENT,mt=(8-rt%8)%8;if(tt<0)throw new Error("Unexpected typed array class: ".concat(c,"."));et&&et instanceof ArrayBuffer?(this.data=et,this.ids=new this.IndexArrayType(this.data,HEADER_SIZE,e),this.coords=new this.ArrayType(this.data,HEADER_SIZE+rt+mt,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(HEADER_SIZE+nt+rt+mt),this.ids=new this.IndexArrayType(this.data,HEADER_SIZE,e),this.coords=new this.ArrayType(this.data,HEADER_SIZE+rt+mt,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(VERSION<<4)+tt]),new Uint16Array(this.data,2,1)[0]=o,new Uint32Array(this.data,4,1)[0]=e)}add(e,o){var c=this._pos>>1;return this.ids[c]=c,this.coords[this._pos++]=e,this.coords[this._pos++]=o,c}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return sort(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,o,c,et){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:tt,coords:nt,nodeSize:rt}=this,mt=[0,tt.length-1,0],gt=[];mt.length;){var yt=mt.pop()||0,vt=mt.pop()||0,xt=mt.pop()||0;if(vt-xt<=rt){for(var bt=xt;bt<=vt;bt++){var Et=nt[2*bt],wt=nt[2*bt+1];Et>=e&&Et<=c&&wt>=o&&wt<=et&&gt.push(tt[bt])}continue}var St=xt+vt>>1,Tt=nt[2*St],kt=nt[2*St+1];Tt>=e&&Tt<=c&&kt>=o&&kt<=et&&gt.push(tt[St]),(yt===0?e<=Tt:o<=kt)&&(mt.push(xt),mt.push(St-1),mt.push(1-yt)),(yt===0?c>=Tt:et>=kt)&&(mt.push(St+1),mt.push(vt),mt.push(1-yt))}return gt}within(e,o,c){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:et,coords:tt,nodeSize:nt}=this,rt=[0,et.length-1,0],mt=[],gt=c*c;rt.length;){var yt=rt.pop()||0,vt=rt.pop()||0,xt=rt.pop()||0;if(vt-xt<=nt){for(var bt=xt;bt<=vt;bt++)sqDist(tt[2*bt],tt[2*bt+1],e,o)<=gt&&mt.push(et[bt]);continue}var Et=xt+vt>>1,wt=tt[2*Et],St=tt[2*Et+1];sqDist(wt,St,e,o)<=gt&&mt.push(et[Et]),(yt===0?e-c<=wt:o-c<=St)&&(rt.push(xt),rt.push(Et-1),rt.push(1-yt)),(yt===0?e+c>=wt:o+c>=St)&&(rt.push(Et+1),rt.push(vt),rt.push(1-yt))}return mt}}function sort(a,e,o,c,et,tt){if(!(et-c<=o)){var nt=c+et>>1;select(a,e,nt,c,et,tt),sort(a,e,o,c,nt-1,1-tt),sort(a,e,o,nt+1,et,1-tt)}}function select(a,e,o,c,et,tt){for(;et>c;){if(et-c>600){var nt=et-c+1,rt=o-c+1,mt=Math.log(nt),gt=.5*Math.exp(2*mt/3),yt=.5*Math.sqrt(mt*gt*(nt-gt)/nt)*(rt-nt/2<0?-1:1),vt=Math.max(c,Math.floor(o-rt*gt/nt+yt)),xt=Math.min(et,Math.floor(o+(nt-rt)*gt/nt+yt));select(a,e,o,vt,xt,tt)}var bt=e[2*o+tt],Et=c,wt=et;for(swapItem(a,e,c,o),e[2*et+tt]>bt&&swapItem(a,e,c,et);Et<wt;){for(swapItem(a,e,Et,wt),Et++,wt--;e[2*Et+tt]<bt;)Et++;for(;e[2*wt+tt]>bt;)wt--}e[2*c+tt]===bt?swapItem(a,e,c,wt):(wt++,swapItem(a,e,wt,et)),wt<=o&&(c=wt+1),o<=wt&&(et=wt-1)}}function swapItem(a,e,o,c){swap(a,o,c),swap(e,2*o,2*c),swap(e,2*o+1,2*c+1)}function swap(a,e,o){var c=a[e];a[e]=a[o],a[o]=c}function sqDist(a,e,o,c){var et=a-o,tt=e-c;return et*et+tt*tt}var defaultOptions$2={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:a=>a},fround=Math.fround||(a=>e=>(a[0]=+e,a[0]))(new Float32Array(1)),OFFSET_ZOOM=2,OFFSET_ID=3,OFFSET_PARENT=4,OFFSET_NUM=5,OFFSET_PROP=6;class Supercluster{constructor(e){this.options=Object.assign(Object.create(defaultOptions$2),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:o,minZoom:c,maxZoom:et}=this.options;o&&console.time("total time");var tt="prepare ".concat(e.length," points");o&&console.time(tt),this.points=e;for(var nt=[],rt=0;rt<e.length;rt++){var mt=e[rt];if(mt.geometry){var[gt,yt]=mt.geometry.coordinates,vt=fround(lngX(gt)),xt=fround(latY(yt));nt.push(vt,xt,1/0,rt,-1,1),this.options.reduce&&nt.push(0)}}var bt=this.trees[et+1]=this._createTree(nt);o&&console.timeEnd(tt);for(var Et=et;Et>=c;Et--){var wt=+Date.now();bt=this.trees[Et]=this._createTree(this._cluster(bt,Et)),o&&console.log("z%d: %d clusters in %dms",Et,bt.numItems,+Date.now()-wt)}return o&&console.timeEnd("total time"),this}getClusters(e,o){var c=((e[0]+180)%360+360)%360-180,et=Math.max(-90,Math.min(90,e[1])),tt=e[2]===180?180:((e[2]+180)%360+360)%360-180,nt=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)c=-180,tt=180;else if(c>tt){var rt=this.getClusters([c,et,180,nt],o),mt=this.getClusters([-180,et,tt,nt],o);return rt.concat(mt)}var gt=this.trees[this._limitZoom(o)],yt=gt.range(lngX(c),latY(nt),lngX(tt),latY(et)),vt=gt.data,xt=[];for(var bt of yt){var Et=this.stride*bt;xt.push(vt[Et+OFFSET_NUM]>1?getClusterJSON(vt,Et,this.clusterProps):this.points[vt[Et+OFFSET_ID]])}return xt}getChildren(e){var o=this._getOriginId(e),c=this._getOriginZoom(e),et="No cluster with the specified id.",tt=this.trees[c];if(!tt)throw new Error(et);var nt=tt.data;if(o*this.stride>=nt.length)throw new Error(et);var rt=this.options.radius/(this.options.extent*Math.pow(2,c-1)),mt=nt[o*this.stride],gt=nt[o*this.stride+1],yt=tt.within(mt,gt,rt),vt=[];for(var xt of yt){var bt=xt*this.stride;nt[bt+OFFSET_PARENT]===e&&vt.push(nt[bt+OFFSET_NUM]>1?getClusterJSON(nt,bt,this.clusterProps):this.points[nt[bt+OFFSET_ID]])}if(vt.length===0)throw new Error(et);return vt}getLeaves(e,o,c){o=o||10,c=c||0;var et=[];return this._appendLeaves(et,e,o,c,0),et}getTile(e,o,c){var et=this.trees[this._limitZoom(e)],tt=Math.pow(2,e),{extent:nt,radius:rt}=this.options,mt=rt/nt,gt=(c-mt)/tt,yt=(c+1+mt)/tt,vt={features:[]};return this._addTileFeatures(et.range((o-mt)/tt,gt,(o+1+mt)/tt,yt),et.data,o,c,tt,vt),o===0&&this._addTileFeatures(et.range(1-mt/tt,gt,1,yt),et.data,tt,c,tt,vt),o===tt-1&&this._addTileFeatures(et.range(0,gt,mt/tt,yt),et.data,-1,c,tt,vt),vt.features.length?vt:null}getClusterExpansionZoom(e){for(var o=this._getOriginZoom(e)-1;o<=this.options.maxZoom;){var c=this.getChildren(e);if(o++,c.length!==1)break;e=c[0].properties.cluster_id}return o}_appendLeaves(e,o,c,et,tt){var nt=this.getChildren(o);for(var rt of nt){var mt=rt.properties;if(mt&&mt.cluster?tt+mt.point_count<=et?tt+=mt.point_count:tt=this._appendLeaves(e,mt.cluster_id,c,et,tt):tt<et?tt++:e.push(rt),e.length===c)break}return tt}_createTree(e){for(var o=new KDBush(e.length/this.stride|0,this.options.nodeSize,Float32Array),c=0;c<e.length;c+=this.stride)o.add(e[c],e[c+1]);return o.finish(),o.data=e,o}_addTileFeatures(e,o,c,et,tt,nt){for(var rt of e){var mt=rt*this.stride,gt=o[mt+OFFSET_NUM]>1,yt=void 0,vt=void 0,xt=void 0;if(gt)yt=getClusterProperties(o,mt,this.clusterProps),vt=o[mt],xt=o[mt+1];else{var bt=this.points[o[mt+OFFSET_ID]];yt=bt.properties;var[Et,wt]=bt.geometry.coordinates;vt=lngX(Et),xt=latY(wt)}var St={type:1,geometry:[[Math.round(this.options.extent*(vt*tt-c)),Math.round(this.options.extent*(xt*tt-et))]],tags:yt},Tt=void 0;gt||this.options.generateId?Tt=o[mt+OFFSET_ID]:Tt=this.points[o[mt+OFFSET_ID]].id,Tt!==void 0&&(St.id=Tt),nt.features.push(St)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,o){for(var{radius:c,extent:et,reduce:tt,minPoints:nt}=this.options,rt=c/(et*Math.pow(2,o)),mt=e.data,gt=[],yt=this.stride,vt=0;vt<mt.length;vt+=yt)if(!(mt[vt+OFFSET_ZOOM]<=o)){mt[vt+OFFSET_ZOOM]=o;var xt=mt[vt],bt=mt[vt+1],Et=e.within(mt[vt],mt[vt+1],rt),wt=mt[vt+OFFSET_NUM],St=wt;for(var Tt of Et){var kt=Tt*yt;mt[kt+OFFSET_ZOOM]>o&&(St+=mt[kt+OFFSET_NUM])}if(St>wt&&St>=nt){var _t=xt*wt,Mt=bt*wt,Pt=void 0,It=-1,Dt=((vt/yt|0)<<5)+(o+1)+this.points.length;for(var Ct of Et){var At=Ct*yt;if(!(mt[At+OFFSET_ZOOM]<=o)){mt[At+OFFSET_ZOOM]=o;var Lt=mt[At+OFFSET_NUM];_t+=mt[At]*Lt,Mt+=mt[At+1]*Lt,mt[At+OFFSET_PARENT]=Dt,tt&&(Pt||(Pt=this._map(mt,vt,!0),It=this.clusterProps.length,this.clusterProps.push(Pt)),tt(Pt,this._map(mt,At)))}}mt[vt+OFFSET_PARENT]=Dt,gt.push(_t/St,Mt/St,1/0,Dt,-1,St),tt&&gt.push(It)}else{for(var jt=0;jt<yt;jt++)gt.push(mt[vt+jt]);if(St>1)for(var Bt of Et){var zt=Bt*yt;if(!(mt[zt+OFFSET_ZOOM]<=o)){mt[zt+OFFSET_ZOOM]=o;for(var Yt=0;Yt<yt;Yt++)gt.push(mt[zt+Yt])}}}}return gt}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,o,c){if(e[o+OFFSET_NUM]>1){var et=this.clusterProps[e[o+OFFSET_PROP]];return c?Object.assign({},et):et}var tt=this.points[e[o+OFFSET_ID]].properties,nt=this.options.map(tt);return c&&nt===tt?Object.assign({},nt):nt}}function getClusterJSON(a,e,o){return{type:"Feature",id:a[e+OFFSET_ID],properties:getClusterProperties(a,e,o),geometry:{type:"Point",coordinates:[xLng(a[e]),yLat(a[e+1])]}}}function getClusterProperties(a,e,o){var c=a[e+OFFSET_NUM],et=c>=1e4?"".concat(Math.round(c/1e3),"k"):c>=1e3?"".concat(Math.round(c/100)/10,"k"):c,tt=a[e+OFFSET_PROP],nt=tt===-1?{}:Object.assign({},o[tt]);return Object.assign(nt,{cluster:!0,cluster_id:a[e+OFFSET_ID],point_count:c,point_count_abbreviated:et})}function lngX(a){return a/360+.5}function latY(a){var e=Math.sin(a*Math.PI/180),o=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return o<0?0:o>1?1:o}function xLng(a){return(a-.5)*360}function yLat(a){var e=(180-a*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __rest(a,e){var o={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&e.indexOf(c)<0&&(o[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,c=Object.getOwnPropertySymbols(a);et<c.length;et++)e.indexOf(c[et])<0&&Object.prototype.propertyIsEnumerable.call(a,c[et])&&(o[c[et]]=a[c[et]]);return o}class MarkerUtils{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,o){this.isAdvancedMarker(e)?e.map=o:e.setMap(o)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Cluster{constructor(e){var{markers:o,position:c}=e;this.markers=o,c&&(c instanceof google.maps.LatLng?this._position=c:this._position=new google.maps.LatLng(c))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var o of this.markers)e.extend(MarkerUtils.getPosition(o));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>MarkerUtils.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(MarkerUtils.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class AbstractAlgorithm{constructor(e){var{maxZoom:o=16}=e;this.maxZoom=o}noop(e){var{markers:o}=e;return noop$1(o)}}var noop$1=a=>{var e=a.map(o=>new Cluster({position:MarkerUtils.getPosition(o),markers:[o]}));return e};class SuperClusterAlgorithm extends AbstractAlgorithm{constructor(e){var{maxZoom:o,radius:c=60}=e,et=__rest(e,["maxZoom","radius"]);super({maxZoom:o}),this.state={zoom:-1},this.superCluster=new Supercluster(Object.assign({maxZoom:this.maxZoom,radius:c},et))}calculate(e){var o=!1,c={zoom:e.map.getZoom()};if(!equal2(e.markers,this.markers)){o=!0,this.markers=[...e.markers];var et=this.markers.map(tt=>{var nt=MarkerUtils.getPosition(tt),rt=[nt.lng(),nt.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:rt},properties:{marker:tt}}});this.superCluster.load(et)}return o||(this.state.zoom<=this.maxZoom||c.zoom<=this.maxZoom)&&(o=!equal2(this.state,c)),this.state=c,o&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:o}}cluster(e){var{map:o}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(o.getZoom())).map(c=>this.transformCluster(c))}transformCluster(e){var{geometry:{coordinates:[o,c]},properties:et}=e;if(et.cluster)return new Cluster({markers:this.superCluster.getLeaves(et.cluster_id,1/0).map(nt=>nt.properties.marker),position:{lat:c,lng:o}});var tt=et.marker;return new Cluster({markers:[tt],position:MarkerUtils.getPosition(tt)})}}class ClusterStats{constructor(e,o){this.markers={sum:e.length};var c=o.map(tt=>tt.count),et=c.reduce((tt,nt)=>tt+nt,0);this.clusters={count:o.length,markers:{mean:et/o.length,sum:et,min:Math.min(...c),max:Math.max(...c)}}}}class DefaultRenderer{render(e,o,c){var{count:et,position:tt}=e,nt=et>Math.max(10,o.clusters.markers.mean)?"#ff0000":"#0000ff",rt='<svg fill="'.concat(nt,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(et,`</text>
</svg>`),mt="Cluster of ".concat(et," markers"),gt=Number(google.maps.Marker.MAX_ZINDEX)+et;if(MarkerUtils.isAdvancedMarkerAvailable(c)){var yt=new DOMParser,vt=yt.parseFromString(rt,"image/svg+xml").documentElement;vt.setAttribute("transform","translate(0 25)");var xt={map:c,position:tt,zIndex:gt,title:mt,content:vt};return new google.maps.marker.AdvancedMarkerElement(xt)}var bt={position:tt,zIndex:gt,title:mt,icon:{url:"data:image/svg+xml;base64,".concat(btoa(rt)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(bt)}}function extend$2(a,e){for(var o in e.prototype)a.prototype[o]=e.prototype[o]}class OverlayViewSafe{constructor(){extend$2(OverlayViewSafe,google.maps.OverlayView)}}var MarkerClustererEvents;(function(a){a.CLUSTERING_BEGIN="clusteringbegin",a.CLUSTERING_END="clusteringend",a.CLUSTER_CLICK="click"})(MarkerClustererEvents||(MarkerClustererEvents={}));var defaultOnClusterClickHandler=(a,e,o)=>{o.fitBounds(e.bounds)};class MarkerClusterer extends OverlayViewSafe{constructor(e){var{map:o,markers:c=[],algorithmOptions:et={},algorithm:tt=new SuperClusterAlgorithm(et),renderer:nt=new DefaultRenderer,onClusterClick:rt=defaultOnClusterClickHandler}=e;super(),this.markers=[...c],this.clusters=[],this.algorithm=tt,this.renderer=nt,this.onClusterClick=rt,o&&this.setMap(o)}addMarker(e,o){this.markers.includes(e)||(this.markers.push(e),o||this.render())}addMarkers(e,o){e.forEach(c=>{this.addMarker(c,!0)}),o||this.render()}removeMarker(e,o){var c=this.markers.indexOf(e);return c===-1?!1:(MarkerUtils.setMap(e,null),this.markers.splice(c,1),o||this.render(),!0)}removeMarkers(e,o){var c=!1;return e.forEach(et=>{c=this.removeMarker(et,!0)||c}),c&&!o&&this.render(),c}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,MarkerClustererEvents.CLUSTERING_BEGIN,this);var{clusters:o,changed:c}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(c||c==null){var et=new Set;for(var tt of o)tt.markers.length==1&&et.add(tt.markers[0]);var nt=[];for(var rt of this.clusters)rt.marker!=null&&(rt.markers.length==1?et.has(rt.marker)||MarkerUtils.setMap(rt.marker,null):nt.push(rt.marker));this.clusters=o,this.renderClusters(),requestAnimationFrame(()=>nt.forEach(mt=>MarkerUtils.setMap(mt,null)))}google.maps.event.trigger(this,MarkerClustererEvents.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>MarkerUtils.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new ClusterStats(this.markers,this.clusters),o=this.getMap();this.clusters.forEach(c=>{c.markers.length===1?c.marker=c.markers[0]:(c.marker=this.renderer.render(c,e,o),c.markers.forEach(et=>MarkerUtils.setMap(et,null)),this.onClusterClick&&c.marker.addListener("click",et=>{google.maps.event.trigger(this,MarkerClustererEvents.CLUSTER_CLICK,c),this.onClusterClick(et,c,o)})),MarkerUtils.setMap(c.marker,o)})}}function ownKeys$a(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$a(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$a(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}function useGoogleMarkerClusterer(a){var e=useGoogleMap(),[o,c]=reactExports.useState(null);return reactExports.useEffect(()=>{if(e&&o===null){var et=new MarkerClusterer(_objectSpread$a(_objectSpread$a({},a),{},{map:e}));c(et)}},[e]),o}function GoogleMarkerClusterer(a){var{children:e,options:o}=a,c=useGoogleMarkerClusterer(o);return c!==null?e(c):null}reactExports.memo(GoogleMarkerClusterer);var eventMap$c={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},updaterMap$c={options(a,e){a.setOptions(e)},position(a,e){a.setPosition(e)},zIndex(a,e){a.setZIndex(e)}};function InfoWindowFunctional(a){var{children:e,anchor:o,options:c,position:et,zIndex:tt,onCloseClick:nt,onDomReady:rt,onContentChanged:mt,onPositionChanged:gt,onZindexChanged:yt,onLoad:vt,onUnmount:xt}=a,bt=reactExports.useContext(MapContext),[Et,wt]=reactExports.useState(null),[St,Tt]=reactExports.useState(null),[kt,_t]=reactExports.useState(null),[Mt,Pt]=reactExports.useState(null),[It,Dt]=reactExports.useState(null),[Ct,At]=reactExports.useState(null),Lt=reactExports.useRef(null);return reactExports.useEffect(()=>{Et!==null&&(Et.close(),o?Et.open(bt,o):Et.getPosition()&&Et.open(bt))},[bt,Et,o]),reactExports.useEffect(()=>{c&&Et!==null&&Et.setOptions(c)},[Et,c]),reactExports.useEffect(()=>{et&&Et!==null&&Et.setPosition(et)},[et]),reactExports.useEffect(()=>{typeof tt=="number"&&Et!==null&&Et.setZIndex(tt)},[tt]),reactExports.useEffect(()=>{Et&&nt&&(St!==null&&google.maps.event.removeListener(St),Tt(google.maps.event.addListener(Et,"closeclick",nt)))},[nt]),reactExports.useEffect(()=>{Et&&rt&&(kt!==null&&google.maps.event.removeListener(kt),_t(google.maps.event.addListener(Et,"domready",rt)))},[rt]),reactExports.useEffect(()=>{Et&&mt&&(Mt!==null&&google.maps.event.removeListener(Mt),Pt(google.maps.event.addListener(Et,"content_changed",mt)))},[mt]),reactExports.useEffect(()=>{Et&&gt&&(It!==null&&google.maps.event.removeListener(It),Dt(google.maps.event.addListener(Et,"position_changed",gt)))},[gt]),reactExports.useEffect(()=>{Et&&yt&&(Ct!==null&&google.maps.event.removeListener(Ct),At(google.maps.event.addListener(Et,"zindex_changed",yt)))},[yt]),reactExports.useEffect(()=>{var jt=new google.maps.InfoWindow(c);return wt(jt),Lt.current=document.createElement("div"),nt&&Tt(google.maps.event.addListener(jt,"closeclick",nt)),rt&&_t(google.maps.event.addListener(jt,"domready",rt)),mt&&Pt(google.maps.event.addListener(jt,"content_changed",mt)),gt&&Dt(google.maps.event.addListener(jt,"position_changed",gt)),yt&&At(google.maps.event.addListener(jt,"zindex_changed",yt)),jt.setContent(Lt.current),et&&jt.setPosition(et),tt&&jt.setZIndex(tt),o?jt.open(bt,o):jt.getPosition()?jt.open(bt):invariant(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),vt&&vt(jt),()=>{St&&google.maps.event.removeListener(St),Mt&&google.maps.event.removeListener(Mt),kt&&google.maps.event.removeListener(kt),It&&google.maps.event.removeListener(It),Ct&&google.maps.event.removeListener(Ct),xt&&xt(jt),jt.close()}},[]),Lt.current?reactDomExports.createPortal(reactExports.Children.only(e),Lt.current):null}var InfoWindowF=reactExports.memo(InfoWindowFunctional);class InfoWindow extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"containerElement",null),_defineProperty(this,"state",{infoWindow:null}),_defineProperty(this,"open",(e,o)=>{o?e.open(this.context,o):e.getPosition()?e.open(this.context):invariant(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),_defineProperty(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$c,eventMap:eventMap$c,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$c,eventMap:eventMap$c,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(unregisterEvents(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?reactDomExports.createPortal(reactExports.Children.only(this.props.children),this.containerElement):null}}_defineProperty(InfoWindow,"contextType",MapContext);function ownKeys$9(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$9(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$9(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$b={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},updaterMap$b={draggable(a,e){a.setDraggable(e)},editable(a,e){a.setEditable(e)},map(a,e){a.setMap(e)},options(a,e){a.setOptions(e)},path(a,e){a.setPath(e)},visible(a,e){a.setVisible(e)}},defaultOptions$1={};function PolylineFunctional(a){var{options:e,draggable:o,editable:c,visible:et,path:tt,onDblClick:nt,onDragEnd:rt,onDragStart:mt,onMouseDown:gt,onMouseMove:yt,onMouseOut:vt,onMouseOver:xt,onMouseUp:bt,onRightClick:Et,onClick:wt,onDrag:St,onLoad:Tt,onUnmount:kt}=a,_t=reactExports.useContext(MapContext),[Mt,Pt]=reactExports.useState(null),[It,Dt]=reactExports.useState(null),[Ct,At]=reactExports.useState(null),[Lt,jt]=reactExports.useState(null),[Bt,zt]=reactExports.useState(null),[Yt,en]=reactExports.useState(null),[rn,on]=reactExports.useState(null),[Zt,an]=reactExports.useState(null),[Xt,yn]=reactExports.useState(null),[vn,Nt]=reactExports.useState(null),[$t,Ot]=reactExports.useState(null),[Ft,Ut]=reactExports.useState(null);return reactExports.useEffect(()=>{Mt!==null&&Mt.setMap(_t)},[_t]),reactExports.useEffect(()=>{typeof e<"u"&&Mt!==null&&Mt.setOptions(e)},[Mt,e]),reactExports.useEffect(()=>{typeof o<"u"&&Mt!==null&&Mt.setDraggable(o)},[Mt,o]),reactExports.useEffect(()=>{typeof c<"u"&&Mt!==null&&Mt.setEditable(c)},[Mt,c]),reactExports.useEffect(()=>{typeof et<"u"&&Mt!==null&&Mt.setVisible(et)},[Mt,et]),reactExports.useEffect(()=>{typeof tt<"u"&&Mt!==null&&Mt.setPath(tt)},[Mt,tt]),reactExports.useEffect(()=>{Mt&&nt&&(It!==null&&google.maps.event.removeListener(It),Dt(google.maps.event.addListener(Mt,"dblclick",nt)))},[nt]),reactExports.useEffect(()=>{Mt&&rt&&(Ct!==null&&google.maps.event.removeListener(Ct),At(google.maps.event.addListener(Mt,"dragend",rt)))},[rt]),reactExports.useEffect(()=>{Mt&&mt&&(Lt!==null&&google.maps.event.removeListener(Lt),jt(google.maps.event.addListener(Mt,"dragstart",mt)))},[mt]),reactExports.useEffect(()=>{Mt&&gt&&(Bt!==null&&google.maps.event.removeListener(Bt),zt(google.maps.event.addListener(Mt,"mousedown",gt)))},[gt]),reactExports.useEffect(()=>{Mt&&yt&&(Yt!==null&&google.maps.event.removeListener(Yt),en(google.maps.event.addListener(Mt,"mousemove",yt)))},[yt]),reactExports.useEffect(()=>{Mt&&vt&&(rn!==null&&google.maps.event.removeListener(rn),on(google.maps.event.addListener(Mt,"mouseout",vt)))},[vt]),reactExports.useEffect(()=>{Mt&&xt&&(Zt!==null&&google.maps.event.removeListener(Zt),an(google.maps.event.addListener(Mt,"mouseover",xt)))},[xt]),reactExports.useEffect(()=>{Mt&&bt&&(Xt!==null&&google.maps.event.removeListener(Xt),yn(google.maps.event.addListener(Mt,"mouseup",bt)))},[bt]),reactExports.useEffect(()=>{Mt&&Et&&(vn!==null&&google.maps.event.removeListener(vn),Nt(google.maps.event.addListener(Mt,"rightclick",Et)))},[Et]),reactExports.useEffect(()=>{Mt&&wt&&($t!==null&&google.maps.event.removeListener($t),Ot(google.maps.event.addListener(Mt,"click",wt)))},[wt]),reactExports.useEffect(()=>{Mt&&St&&(Ft!==null&&google.maps.event.removeListener(Ft),Ut(google.maps.event.addListener(Mt,"drag",St)))},[St]),reactExports.useEffect(()=>{var Gt=new google.maps.Polyline(_objectSpread$9(_objectSpread$9({},e||defaultOptions$1),{},{map:_t}));return tt&&Gt.setPath(tt),typeof et<"u"&&Gt.setVisible(et),typeof c<"u"&&Gt.setEditable(c),typeof o<"u"&&Gt.setDraggable(o),nt&&Dt(google.maps.event.addListener(Gt,"dblclick",nt)),rt&&At(google.maps.event.addListener(Gt,"dragend",rt)),mt&&jt(google.maps.event.addListener(Gt,"dragstart",mt)),gt&&zt(google.maps.event.addListener(Gt,"mousedown",gt)),yt&&en(google.maps.event.addListener(Gt,"mousemove",yt)),vt&&on(google.maps.event.addListener(Gt,"mouseout",vt)),xt&&an(google.maps.event.addListener(Gt,"mouseover",xt)),bt&&yn(google.maps.event.addListener(Gt,"mouseup",bt)),Et&&Nt(google.maps.event.addListener(Gt,"rightclick",Et)),wt&&Ot(google.maps.event.addListener(Gt,"click",wt)),St&&Ut(google.maps.event.addListener(Gt,"drag",St)),Pt(Gt),Tt&&Tt(Gt),()=>{It!==null&&google.maps.event.removeListener(It),Ct!==null&&google.maps.event.removeListener(Ct),Lt!==null&&google.maps.event.removeListener(Lt),Bt!==null&&google.maps.event.removeListener(Bt),Yt!==null&&google.maps.event.removeListener(Yt),rn!==null&&google.maps.event.removeListener(rn),Zt!==null&&google.maps.event.removeListener(Zt),Xt!==null&&google.maps.event.removeListener(Xt),vn!==null&&google.maps.event.removeListener(vn),$t!==null&&google.maps.event.removeListener($t),kt&&kt(Gt),Gt.setMap(null)}},[]),null}reactExports.memo(PolylineFunctional);class Polyline extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{polyline:null}),_defineProperty(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(_objectSpread$9(_objectSpread$9({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$b,eventMap:eventMap$b,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$b,eventMap:eventMap$b,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),unregisterEvents(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}_defineProperty(Polyline,"contextType",MapContext);function ownKeys$8(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$8(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$8(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$a={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},updaterMap$a={draggable(a,e){a.setDraggable(e)},editable(a,e){a.setEditable(e)},map(a,e){a.setMap(e)},options(a,e){a.setOptions(e)},path(a,e){a.setPath(e)},paths(a,e){a.setPaths(e)},visible(a,e){a.setVisible(e)}};function PolygonFunctional(a){var{options:e,draggable:o,editable:c,visible:et,path:tt,paths:nt,onDblClick:rt,onDragEnd:mt,onDragStart:gt,onMouseDown:yt,onMouseMove:vt,onMouseOut:xt,onMouseOver:bt,onMouseUp:Et,onRightClick:wt,onClick:St,onDrag:Tt,onLoad:kt,onUnmount:_t,onEdit:Mt}=a,Pt=reactExports.useContext(MapContext),[It,Dt]=reactExports.useState(null),[Ct,At]=reactExports.useState(null),[Lt,jt]=reactExports.useState(null),[Bt,zt]=reactExports.useState(null),[Yt,en]=reactExports.useState(null),[rn,on]=reactExports.useState(null),[Zt,an]=reactExports.useState(null),[Xt,yn]=reactExports.useState(null),[vn,Nt]=reactExports.useState(null),[$t,Ot]=reactExports.useState(null),[Ft,Ut]=reactExports.useState(null),[Gt,Vt]=reactExports.useState(null);return reactExports.useEffect(()=>{It!==null&&It.setMap(Pt)},[Pt]),reactExports.useEffect(()=>{typeof e<"u"&&It!==null&&It.setOptions(e)},[It,e]),reactExports.useEffect(()=>{typeof o<"u"&&It!==null&&It.setDraggable(o)},[It,o]),reactExports.useEffect(()=>{typeof c<"u"&&It!==null&&It.setEditable(c)},[It,c]),reactExports.useEffect(()=>{typeof et<"u"&&It!==null&&It.setVisible(et)},[It,et]),reactExports.useEffect(()=>{typeof tt<"u"&&It!==null&&It.setPath(tt)},[It,tt]),reactExports.useEffect(()=>{typeof nt<"u"&&It!==null&&It.setPaths(nt)},[It,nt]),reactExports.useEffect(()=>{It&&typeof rt=="function"&&(Ct!==null&&google.maps.event.removeListener(Ct),At(google.maps.event.addListener(It,"dblclick",rt)))},[rt]),reactExports.useEffect(()=>{It&&(google.maps.event.addListener(It.getPath(),"insert_at",()=>{Mt==null||Mt(It)}),google.maps.event.addListener(It.getPath(),"set_at",()=>{Mt==null||Mt(It)}),google.maps.event.addListener(It.getPath(),"remove_at",()=>{Mt==null||Mt(It)}))},[It,Mt]),reactExports.useEffect(()=>{It&&typeof mt=="function"&&(Lt!==null&&google.maps.event.removeListener(Lt),jt(google.maps.event.addListener(It,"dragend",mt)))},[mt]),reactExports.useEffect(()=>{It&&typeof gt=="function"&&(Bt!==null&&google.maps.event.removeListener(Bt),zt(google.maps.event.addListener(It,"dragstart",gt)))},[gt]),reactExports.useEffect(()=>{It&&typeof yt=="function"&&(Yt!==null&&google.maps.event.removeListener(Yt),en(google.maps.event.addListener(It,"mousedown",yt)))},[yt]),reactExports.useEffect(()=>{It&&typeof vt=="function"&&(rn!==null&&google.maps.event.removeListener(rn),on(google.maps.event.addListener(It,"mousemove",vt)))},[vt]),reactExports.useEffect(()=>{It&&typeof xt=="function"&&(Zt!==null&&google.maps.event.removeListener(Zt),an(google.maps.event.addListener(It,"mouseout",xt)))},[xt]),reactExports.useEffect(()=>{It&&typeof bt=="function"&&(Xt!==null&&google.maps.event.removeListener(Xt),yn(google.maps.event.addListener(It,"mouseover",bt)))},[bt]),reactExports.useEffect(()=>{It&&typeof Et=="function"&&(vn!==null&&google.maps.event.removeListener(vn),Nt(google.maps.event.addListener(It,"mouseup",Et)))},[Et]),reactExports.useEffect(()=>{It&&typeof wt=="function"&&($t!==null&&google.maps.event.removeListener($t),Ot(google.maps.event.addListener(It,"rightclick",wt)))},[wt]),reactExports.useEffect(()=>{It&&typeof St=="function"&&(Ft!==null&&google.maps.event.removeListener(Ft),Ut(google.maps.event.addListener(It,"click",St)))},[St]),reactExports.useEffect(()=>{It&&typeof Tt=="function"&&(Gt!==null&&google.maps.event.removeListener(Gt),Vt(google.maps.event.addListener(It,"drag",Tt)))},[Tt]),reactExports.useEffect(()=>{var Kt=new google.maps.Polygon(_objectSpread$8(_objectSpread$8({},e),{},{map:Pt}));return tt&&Kt.setPath(tt),nt&&Kt.setPaths(nt),typeof et<"u"&&Kt.setVisible(et),typeof c<"u"&&Kt.setEditable(c),typeof o<"u"&&Kt.setDraggable(o),rt&&At(google.maps.event.addListener(Kt,"dblclick",rt)),mt&&jt(google.maps.event.addListener(Kt,"dragend",mt)),gt&&zt(google.maps.event.addListener(Kt,"dragstart",gt)),yt&&en(google.maps.event.addListener(Kt,"mousedown",yt)),vt&&on(google.maps.event.addListener(Kt,"mousemove",vt)),xt&&an(google.maps.event.addListener(Kt,"mouseout",xt)),bt&&yn(google.maps.event.addListener(Kt,"mouseover",bt)),Et&&Nt(google.maps.event.addListener(Kt,"mouseup",Et)),wt&&Ot(google.maps.event.addListener(Kt,"rightclick",wt)),St&&Ut(google.maps.event.addListener(Kt,"click",St)),Tt&&Vt(google.maps.event.addListener(Kt,"drag",Tt)),Dt(Kt),kt&&kt(Kt),()=>{Ct!==null&&google.maps.event.removeListener(Ct),Lt!==null&&google.maps.event.removeListener(Lt),Bt!==null&&google.maps.event.removeListener(Bt),Yt!==null&&google.maps.event.removeListener(Yt),rn!==null&&google.maps.event.removeListener(rn),Zt!==null&&google.maps.event.removeListener(Zt),Xt!==null&&google.maps.event.removeListener(Xt),vn!==null&&google.maps.event.removeListener(vn),$t!==null&&google.maps.event.removeListener($t),Ft!==null&&google.maps.event.removeListener(Ft),_t&&_t(Kt),Kt.setMap(null)}},[]),null}reactExports.memo(PolygonFunctional);class Polygon extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$a,eventMap:eventMap$a,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$a,eventMap:eventMap$a,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),unregisterEvents(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}_defineProperty(Polygon,"contextType",MapContext);function ownKeys$7(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$7(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$7(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$9={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},updaterMap$9={bounds(a,e){a.setBounds(e)},draggable(a,e){a.setDraggable(e)},editable(a,e){a.setEditable(e)},map(a,e){a.setMap(e)},options(a,e){a.setOptions(e)},visible(a,e){a.setVisible(e)}};function RectangleFunctional(a){var{options:e,bounds:o,draggable:c,editable:et,visible:tt,onDblClick:nt,onDragEnd:rt,onDragStart:mt,onMouseDown:gt,onMouseMove:yt,onMouseOut:vt,onMouseOver:xt,onMouseUp:bt,onRightClick:Et,onClick:wt,onDrag:St,onBoundsChanged:Tt,onLoad:kt,onUnmount:_t}=a,Mt=reactExports.useContext(MapContext),[Pt,It]=reactExports.useState(null),[Dt,Ct]=reactExports.useState(null),[At,Lt]=reactExports.useState(null),[jt,Bt]=reactExports.useState(null),[zt,Yt]=reactExports.useState(null),[en,rn]=reactExports.useState(null),[on,Zt]=reactExports.useState(null),[an,Xt]=reactExports.useState(null),[yn,vn]=reactExports.useState(null),[Nt,$t]=reactExports.useState(null),[Ot,Ft]=reactExports.useState(null),[Ut,Gt]=reactExports.useState(null),[Vt,Kt]=reactExports.useState(null);return reactExports.useEffect(()=>{Pt!==null&&Pt.setMap(Mt)},[Mt]),reactExports.useEffect(()=>{typeof e<"u"&&Pt!==null&&Pt.setOptions(e)},[Pt,e]),reactExports.useEffect(()=>{typeof c<"u"&&Pt!==null&&Pt.setDraggable(c)},[Pt,c]),reactExports.useEffect(()=>{typeof et<"u"&&Pt!==null&&Pt.setEditable(et)},[Pt,et]),reactExports.useEffect(()=>{typeof tt<"u"&&Pt!==null&&Pt.setVisible(tt)},[Pt,tt]),reactExports.useEffect(()=>{typeof o<"u"&&Pt!==null&&Pt.setBounds(o)},[Pt,o]),reactExports.useEffect(()=>{Pt&&nt&&(Dt!==null&&google.maps.event.removeListener(Dt),Ct(google.maps.event.addListener(Pt,"dblclick",nt)))},[nt]),reactExports.useEffect(()=>{Pt&&rt&&(At!==null&&google.maps.event.removeListener(At),Lt(google.maps.event.addListener(Pt,"dragend",rt)))},[rt]),reactExports.useEffect(()=>{Pt&&mt&&(jt!==null&&google.maps.event.removeListener(jt),Bt(google.maps.event.addListener(Pt,"dragstart",mt)))},[mt]),reactExports.useEffect(()=>{Pt&&gt&&(zt!==null&&google.maps.event.removeListener(zt),Yt(google.maps.event.addListener(Pt,"mousedown",gt)))},[gt]),reactExports.useEffect(()=>{Pt&&yt&&(en!==null&&google.maps.event.removeListener(en),rn(google.maps.event.addListener(Pt,"mousemove",yt)))},[yt]),reactExports.useEffect(()=>{Pt&&vt&&(on!==null&&google.maps.event.removeListener(on),Zt(google.maps.event.addListener(Pt,"mouseout",vt)))},[vt]),reactExports.useEffect(()=>{Pt&&xt&&(an!==null&&google.maps.event.removeListener(an),Xt(google.maps.event.addListener(Pt,"mouseover",xt)))},[xt]),reactExports.useEffect(()=>{Pt&&bt&&(yn!==null&&google.maps.event.removeListener(yn),vn(google.maps.event.addListener(Pt,"mouseup",bt)))},[bt]),reactExports.useEffect(()=>{Pt&&Et&&(Nt!==null&&google.maps.event.removeListener(Nt),$t(google.maps.event.addListener(Pt,"rightclick",Et)))},[Et]),reactExports.useEffect(()=>{Pt&&wt&&(Ot!==null&&google.maps.event.removeListener(Ot),Ft(google.maps.event.addListener(Pt,"click",wt)))},[wt]),reactExports.useEffect(()=>{Pt&&St&&(Ut!==null&&google.maps.event.removeListener(Ut),Gt(google.maps.event.addListener(Pt,"drag",St)))},[St]),reactExports.useEffect(()=>{Pt&&Tt&&(Vt!==null&&google.maps.event.removeListener(Vt),Kt(google.maps.event.addListener(Pt,"bounds_changed",Tt)))},[Tt]),reactExports.useEffect(()=>{var Jt=new google.maps.Rectangle(_objectSpread$7(_objectSpread$7({},e),{},{map:Mt}));return typeof tt<"u"&&Jt.setVisible(tt),typeof et<"u"&&Jt.setEditable(et),typeof c<"u"&&Jt.setDraggable(c),typeof o<"u"&&Jt.setBounds(o),nt&&Ct(google.maps.event.addListener(Jt,"dblclick",nt)),rt&&Lt(google.maps.event.addListener(Jt,"dragend",rt)),mt&&Bt(google.maps.event.addListener(Jt,"dragstart",mt)),gt&&Yt(google.maps.event.addListener(Jt,"mousedown",gt)),yt&&rn(google.maps.event.addListener(Jt,"mousemove",yt)),vt&&Zt(google.maps.event.addListener(Jt,"mouseout",vt)),xt&&Xt(google.maps.event.addListener(Jt,"mouseover",xt)),bt&&vn(google.maps.event.addListener(Jt,"mouseup",bt)),Et&&$t(google.maps.event.addListener(Jt,"rightclick",Et)),wt&&Ft(google.maps.event.addListener(Jt,"click",wt)),St&&Gt(google.maps.event.addListener(Jt,"drag",St)),Tt&&Kt(google.maps.event.addListener(Jt,"bounds_changed",Tt)),It(Jt),kt&&kt(Jt),()=>{Dt!==null&&google.maps.event.removeListener(Dt),At!==null&&google.maps.event.removeListener(At),jt!==null&&google.maps.event.removeListener(jt),zt!==null&&google.maps.event.removeListener(zt),en!==null&&google.maps.event.removeListener(en),on!==null&&google.maps.event.removeListener(on),an!==null&&google.maps.event.removeListener(an),yn!==null&&google.maps.event.removeListener(yn),Nt!==null&&google.maps.event.removeListener(Nt),Ot!==null&&google.maps.event.removeListener(Ot),Ut!==null&&google.maps.event.removeListener(Ut),Vt!==null&&google.maps.event.removeListener(Vt),_t&&_t(Jt),Jt.setMap(null)}},[]),null}reactExports.memo(RectangleFunctional);class Rectangle extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{rectangle:null}),_defineProperty(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(_objectSpread$7(_objectSpread$7({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$9,eventMap:eventMap$9,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$9,eventMap:eventMap$9,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),unregisterEvents(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}_defineProperty(Rectangle,"contextType",MapContext);function ownKeys$6(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$6(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$6(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$8={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},updaterMap$8={center(a,e){a.setCenter(e)},draggable(a,e){a.setDraggable(e)},editable(a,e){a.setEditable(e)},map(a,e){a.setMap(e)},options(a,e){a.setOptions(e)},radius(a,e){a.setRadius(e)},visible(a,e){a.setVisible(e)}},defaultOptions={};function CircleFunctional(a){var{options:e,center:o,radius:c,draggable:et,editable:tt,visible:nt,onDblClick:rt,onDragEnd:mt,onDragStart:gt,onMouseDown:yt,onMouseMove:vt,onMouseOut:xt,onMouseOver:bt,onMouseUp:Et,onRightClick:wt,onClick:St,onDrag:Tt,onCenterChanged:kt,onRadiusChanged:_t,onLoad:Mt,onUnmount:Pt}=a,It=reactExports.useContext(MapContext),[Dt,Ct]=reactExports.useState(null),[At,Lt]=reactExports.useState(null),[jt,Bt]=reactExports.useState(null),[zt,Yt]=reactExports.useState(null),[en,rn]=reactExports.useState(null),[on,Zt]=reactExports.useState(null),[an,Xt]=reactExports.useState(null),[yn,vn]=reactExports.useState(null),[Nt,$t]=reactExports.useState(null),[Ot,Ft]=reactExports.useState(null),[Ut,Gt]=reactExports.useState(null),[Vt,Kt]=reactExports.useState(null),[Jt,nn]=reactExports.useState(null),[sn,gn]=reactExports.useState(null);return reactExports.useEffect(()=>{Dt!==null&&Dt.setMap(It)},[It]),reactExports.useEffect(()=>{typeof e<"u"&&Dt!==null&&Dt.setOptions(e)},[Dt,e]),reactExports.useEffect(()=>{typeof et<"u"&&Dt!==null&&Dt.setDraggable(et)},[Dt,et]),reactExports.useEffect(()=>{typeof tt<"u"&&Dt!==null&&Dt.setEditable(tt)},[Dt,tt]),reactExports.useEffect(()=>{typeof nt<"u"&&Dt!==null&&Dt.setVisible(nt)},[Dt,nt]),reactExports.useEffect(()=>{typeof c=="number"&&Dt!==null&&Dt.setRadius(c)},[Dt,c]),reactExports.useEffect(()=>{typeof o<"u"&&Dt!==null&&Dt.setCenter(o)},[Dt,o]),reactExports.useEffect(()=>{Dt&&rt&&(At!==null&&google.maps.event.removeListener(At),Lt(google.maps.event.addListener(Dt,"dblclick",rt)))},[rt]),reactExports.useEffect(()=>{Dt&&mt&&(jt!==null&&google.maps.event.removeListener(jt),Bt(google.maps.event.addListener(Dt,"dragend",mt)))},[mt]),reactExports.useEffect(()=>{Dt&&gt&&(zt!==null&&google.maps.event.removeListener(zt),Yt(google.maps.event.addListener(Dt,"dragstart",gt)))},[gt]),reactExports.useEffect(()=>{Dt&&yt&&(en!==null&&google.maps.event.removeListener(en),rn(google.maps.event.addListener(Dt,"mousedown",yt)))},[yt]),reactExports.useEffect(()=>{Dt&&vt&&(on!==null&&google.maps.event.removeListener(on),Zt(google.maps.event.addListener(Dt,"mousemove",vt)))},[vt]),reactExports.useEffect(()=>{Dt&&xt&&(an!==null&&google.maps.event.removeListener(an),Xt(google.maps.event.addListener(Dt,"mouseout",xt)))},[xt]),reactExports.useEffect(()=>{Dt&&bt&&(yn!==null&&google.maps.event.removeListener(yn),vn(google.maps.event.addListener(Dt,"mouseover",bt)))},[bt]),reactExports.useEffect(()=>{Dt&&Et&&(Nt!==null&&google.maps.event.removeListener(Nt),$t(google.maps.event.addListener(Dt,"mouseup",Et)))},[Et]),reactExports.useEffect(()=>{Dt&&wt&&(Ot!==null&&google.maps.event.removeListener(Ot),Ft(google.maps.event.addListener(Dt,"rightclick",wt)))},[wt]),reactExports.useEffect(()=>{Dt&&St&&(Ut!==null&&google.maps.event.removeListener(Ut),Gt(google.maps.event.addListener(Dt,"click",St)))},[St]),reactExports.useEffect(()=>{Dt&&Tt&&(Vt!==null&&google.maps.event.removeListener(Vt),Kt(google.maps.event.addListener(Dt,"drag",Tt)))},[Tt]),reactExports.useEffect(()=>{Dt&&kt&&(Jt!==null&&google.maps.event.removeListener(Jt),nn(google.maps.event.addListener(Dt,"center_changed",kt)))},[St]),reactExports.useEffect(()=>{Dt&&_t&&(sn!==null&&google.maps.event.removeListener(sn),gn(google.maps.event.addListener(Dt,"radius_changed",_t)))},[_t]),reactExports.useEffect(()=>{var fn=new google.maps.Circle(_objectSpread$6(_objectSpread$6({},e||defaultOptions),{},{map:It}));return typeof c=="number"&&fn.setRadius(c),typeof o<"u"&&fn.setCenter(o),typeof c=="number"&&fn.setRadius(c),typeof nt<"u"&&fn.setVisible(nt),typeof tt<"u"&&fn.setEditable(tt),typeof et<"u"&&fn.setDraggable(et),rt&&Lt(google.maps.event.addListener(fn,"dblclick",rt)),mt&&Bt(google.maps.event.addListener(fn,"dragend",mt)),gt&&Yt(google.maps.event.addListener(fn,"dragstart",gt)),yt&&rn(google.maps.event.addListener(fn,"mousedown",yt)),vt&&Zt(google.maps.event.addListener(fn,"mousemove",vt)),xt&&Xt(google.maps.event.addListener(fn,"mouseout",xt)),bt&&vn(google.maps.event.addListener(fn,"mouseover",bt)),Et&&$t(google.maps.event.addListener(fn,"mouseup",Et)),wt&&Ft(google.maps.event.addListener(fn,"rightclick",wt)),St&&Gt(google.maps.event.addListener(fn,"click",St)),Tt&&Kt(google.maps.event.addListener(fn,"drag",Tt)),kt&&nn(google.maps.event.addListener(fn,"center_changed",kt)),_t&&gn(google.maps.event.addListener(fn,"radius_changed",_t)),Ct(fn),Mt&&Mt(fn),()=>{At!==null&&google.maps.event.removeListener(At),jt!==null&&google.maps.event.removeListener(jt),zt!==null&&google.maps.event.removeListener(zt),en!==null&&google.maps.event.removeListener(en),on!==null&&google.maps.event.removeListener(on),an!==null&&google.maps.event.removeListener(an),yn!==null&&google.maps.event.removeListener(yn),Nt!==null&&google.maps.event.removeListener(Nt),Ot!==null&&google.maps.event.removeListener(Ot),Ut!==null&&google.maps.event.removeListener(Ut),Jt!==null&&google.maps.event.removeListener(Jt),sn!==null&&google.maps.event.removeListener(sn),Pt&&Pt(fn),fn.setMap(null)}},[]),null}var CircleF=reactExports.memo(CircleFunctional);class Circle extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{circle:null}),_defineProperty(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(_objectSpread$6(_objectSpread$6({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$8,eventMap:eventMap$8,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$8,eventMap:eventMap$8,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),unregisterEvents(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}_defineProperty(Circle,"contextType",MapContext);function ownKeys$5(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$5(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$5(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$7={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},updaterMap$7={add(a,e){a.add(e)},addgeojson(a,e,o){a.addGeoJson(e,o)},contains(a,e){a.contains(e)},foreach(a,e){a.forEach(e)},loadgeojson(a,e,o,c){a.loadGeoJson(e,o,c)},overridestyle(a,e,o){a.overrideStyle(e,o)},remove(a,e){a.remove(e)},revertstyle(a,e){a.revertStyle(e)},controlposition(a,e){a.setControlPosition(e)},controls(a,e){a.setControls(e)},drawingmode(a,e){a.setDrawingMode(e)},map(a,e){a.setMap(e)},style(a,e){a.setStyle(e)},togeojson(a,e){a.toGeoJson(e)}};function DataFunctional(a){var{options:e,onClick:o,onDblClick:c,onMouseDown:et,onMouseMove:tt,onMouseOut:nt,onMouseOver:rt,onMouseUp:mt,onRightClick:gt,onAddFeature:yt,onRemoveFeature:vt,onRemoveProperty:xt,onSetGeometry:bt,onSetProperty:Et,onLoad:wt,onUnmount:St}=a,Tt=reactExports.useContext(MapContext),[kt,_t]=reactExports.useState(null),[Mt,Pt]=reactExports.useState(null),[It,Dt]=reactExports.useState(null),[Ct,At]=reactExports.useState(null),[Lt,jt]=reactExports.useState(null),[Bt,zt]=reactExports.useState(null),[Yt,en]=reactExports.useState(null),[rn,on]=reactExports.useState(null),[Zt,an]=reactExports.useState(null),[Xt,yn]=reactExports.useState(null),[vn,Nt]=reactExports.useState(null),[$t,Ot]=reactExports.useState(null),[Ft,Ut]=reactExports.useState(null),[Gt,Vt]=reactExports.useState(null);return reactExports.useEffect(()=>{kt!==null&&kt.setMap(Tt)},[Tt]),reactExports.useEffect(()=>{kt&&c&&(Mt!==null&&google.maps.event.removeListener(Mt),Pt(google.maps.event.addListener(kt,"dblclick",c)))},[c]),reactExports.useEffect(()=>{kt&&et&&(It!==null&&google.maps.event.removeListener(It),Dt(google.maps.event.addListener(kt,"mousedown",et)))},[et]),reactExports.useEffect(()=>{kt&&tt&&(Ct!==null&&google.maps.event.removeListener(Ct),At(google.maps.event.addListener(kt,"mousemove",tt)))},[tt]),reactExports.useEffect(()=>{kt&&nt&&(Lt!==null&&google.maps.event.removeListener(Lt),jt(google.maps.event.addListener(kt,"mouseout",nt)))},[nt]),reactExports.useEffect(()=>{kt&&rt&&(Bt!==null&&google.maps.event.removeListener(Bt),zt(google.maps.event.addListener(kt,"mouseover",rt)))},[rt]),reactExports.useEffect(()=>{kt&&mt&&(Yt!==null&&google.maps.event.removeListener(Yt),en(google.maps.event.addListener(kt,"mouseup",mt)))},[mt]),reactExports.useEffect(()=>{kt&&gt&&(rn!==null&&google.maps.event.removeListener(rn),on(google.maps.event.addListener(kt,"rightclick",gt)))},[gt]),reactExports.useEffect(()=>{kt&&o&&(Zt!==null&&google.maps.event.removeListener(Zt),an(google.maps.event.addListener(kt,"click",o)))},[o]),reactExports.useEffect(()=>{kt&&yt&&(Xt!==null&&google.maps.event.removeListener(Xt),yn(google.maps.event.addListener(kt,"addfeature",yt)))},[yt]),reactExports.useEffect(()=>{kt&&vt&&(vn!==null&&google.maps.event.removeListener(vn),Nt(google.maps.event.addListener(kt,"removefeature",vt)))},[vt]),reactExports.useEffect(()=>{kt&&xt&&($t!==null&&google.maps.event.removeListener($t),Ot(google.maps.event.addListener(kt,"removeproperty",xt)))},[xt]),reactExports.useEffect(()=>{kt&&bt&&(Ft!==null&&google.maps.event.removeListener(Ft),Ut(google.maps.event.addListener(kt,"setgeometry",bt)))},[bt]),reactExports.useEffect(()=>{kt&&Et&&(Gt!==null&&google.maps.event.removeListener(Gt),Vt(google.maps.event.addListener(kt,"setproperty",Et)))},[Et]),reactExports.useEffect(()=>{if(Tt!==null){var Kt=new google.maps.Data(_objectSpread$5(_objectSpread$5({},e),{},{map:Tt}));c&&Pt(google.maps.event.addListener(Kt,"dblclick",c)),et&&Dt(google.maps.event.addListener(Kt,"mousedown",et)),tt&&At(google.maps.event.addListener(Kt,"mousemove",tt)),nt&&jt(google.maps.event.addListener(Kt,"mouseout",nt)),rt&&zt(google.maps.event.addListener(Kt,"mouseover",rt)),mt&&en(google.maps.event.addListener(Kt,"mouseup",mt)),gt&&on(google.maps.event.addListener(Kt,"rightclick",gt)),o&&an(google.maps.event.addListener(Kt,"click",o)),yt&&yn(google.maps.event.addListener(Kt,"addfeature",yt)),vt&&Nt(google.maps.event.addListener(Kt,"removefeature",vt)),xt&&Ot(google.maps.event.addListener(Kt,"removeproperty",xt)),bt&&Ut(google.maps.event.addListener(Kt,"setgeometry",bt)),Et&&Vt(google.maps.event.addListener(Kt,"setproperty",Et)),_t(Kt),wt&&wt(Kt)}return()=>{kt&&(Mt!==null&&google.maps.event.removeListener(Mt),It!==null&&google.maps.event.removeListener(It),Ct!==null&&google.maps.event.removeListener(Ct),Lt!==null&&google.maps.event.removeListener(Lt),Bt!==null&&google.maps.event.removeListener(Bt),Yt!==null&&google.maps.event.removeListener(Yt),rn!==null&&google.maps.event.removeListener(rn),Zt!==null&&google.maps.event.removeListener(Zt),Xt!==null&&google.maps.event.removeListener(Xt),vn!==null&&google.maps.event.removeListener(vn),$t!==null&&google.maps.event.removeListener($t),Ft!==null&&google.maps.event.removeListener(Ft),Gt!==null&&google.maps.event.removeListener(Gt),St&&St(kt),kt.setMap(null))}},[]),null}reactExports.memo(DataFunctional);class Data extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{data:null}),_defineProperty(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(_objectSpread$5(_objectSpread$5({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$7,eventMap:eventMap$7,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$7,eventMap:eventMap$7,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),unregisterEvents(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}_defineProperty(Data,"contextType",MapContext);function ownKeys$4(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$4(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$4(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$6={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},updaterMap$6={options(a,e){a.setOptions(e)},url(a,e){a.setUrl(e)},zIndex(a,e){a.setZIndex(e)}};class KmlLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{kmlLayer:null}),_defineProperty(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(_objectSpread$4(_objectSpread$4({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$6,eventMap:eventMap$6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$6,eventMap:eventMap$6,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),unregisterEvents(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}_defineProperty(KmlLayer,"contextType",MapContext);function getOffsetOverride(a,e){return typeof e=="function"?e(a.offsetWidth,a.offsetHeight):{x:0,y:0}}function createLatLng(a,e){return new e(a.lat,a.lng)}function createLatLngBounds(a,e){return new e(new google.maps.LatLng(a.ne.lat,a.ne.lng),new google.maps.LatLng(a.sw.lat,a.sw.lng))}function ensureOfType(a,e,o){return a instanceof e?a:o(a,e)}function ensureOfTypeBounds(a,e,o){return a instanceof e?a:o(a,e)}function getLayoutStylesByBounds(a,e,o){var c=a&&a.fromLatLngToDivPixel(o.getNorthEast()),et=a&&a.fromLatLngToDivPixel(o.getSouthWest());return c&&et?{left:"".concat(et.x+e.x,"px"),top:"".concat(c.y+e.y,"px"),width:"".concat(c.x-et.x-e.x,"px"),height:"".concat(et.y-c.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function getLayoutStylesByPosition(a,e,o){var c=a&&a.fromLatLngToDivPixel(o);if(c){var{x:et,y:tt}=c;return{left:"".concat(et+e.x,"px"),top:"".concat(tt+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function getLayoutStyles(a,e,o,c){return o!==void 0?getLayoutStylesByBounds(a,e,ensureOfTypeBounds(o,google.maps.LatLngBounds,createLatLngBounds)):getLayoutStylesByPosition(a,e,ensureOfType(c,google.maps.LatLng,createLatLng))}function arePositionsEqual(a,e){return a.left===e.left&&a.top===e.top&&a.width===e.height&&a.height===e.height}function ownKeys$3(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$3(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$3(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}function createOverlay(a,e,o,c,et){class tt extends google.maps.OverlayView{constructor(rt,mt,gt,yt){super(),this.container=rt,this.pane=mt,this.position=gt,this.bounds=yt}onAdd(){var rt,mt=(rt=this.getPanes())===null||rt===void 0?void 0:rt[this.pane];mt==null||mt.appendChild(this.container)}draw(){var rt=this.getProjection(),mt=_objectSpread$3({},this.container?getOffsetOverride(this.container,et):{x:0,y:0}),gt=getLayoutStyles(rt,mt,this.bounds,this.position);for(var[yt,vt]of Object.entries(gt))this.container.style[yt]=vt}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new tt(a,e,o,c)}function ownKeys$2(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$2(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$2(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}function convertToLatLngString(a){if(!a)return"";var e=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);return e+""}function convertToLatLngBoundsString(a){if(!a)return"";var e=a instanceof google.maps.LatLngBounds?a:new google.maps.LatLngBounds(new google.maps.LatLng(a.south,a.east),new google.maps.LatLng(a.north,a.west));return e+""}function OverlayViewFunctional(a){var{position:e,bounds:o,mapPaneName:c,zIndex:et,onLoad:tt,onUnmount:nt,getPixelPositionOffset:rt,children:mt}=a,gt=reactExports.useContext(MapContext),yt=reactExports.useMemo(()=>{var xt=document.createElement("div");return xt.style.position="absolute",xt},[]),vt=reactExports.useMemo(()=>createOverlay(yt,c,e,o,rt),[yt,c,e,o]);return reactExports.useEffect(()=>(tt==null||tt(vt),vt==null||vt.setMap(gt),()=>{nt==null||nt(vt),vt==null||vt.setMap(null)}),[gt,vt]),reactExports.useEffect(()=>{yt.style.zIndex="".concat(et)},[et,yt]),reactDomExports.createPortal(mt,yt)}var OverlayViewF=reactExports.memo(OverlayViewFunctional);class OverlayView extends reactExports.PureComponent{constructor(e){super(e),_defineProperty(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),_defineProperty(this,"updatePane",()=>{var c=this.props.mapPaneName,et=this.overlayView.getPanes();invariant(!!c,"OverlayView requires props.mapPaneName but got %s",c),et?this.setState({paneEl:et[c]}):this.setState({paneEl:null})}),_defineProperty(this,"onAdd",()=>{var c,et;this.updatePane(),(c=(et=this.props).onLoad)===null||c===void 0||c.call(et,this.overlayView)}),_defineProperty(this,"onPositionElement",()=>{var c=this.overlayView.getProjection(),et=_objectSpread$2({x:0,y:0},this.containerRef.current?getOffsetOverride(this.containerRef.current,this.props.getPixelPositionOffset):{}),tt=getLayoutStyles(c,et,this.props.bounds,this.props.position);if(!arePositionsEqual(tt,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var nt,rt,mt,gt;this.setState({containerStyle:{top:(nt=tt.top)!==null&&nt!==void 0?nt:0,left:(rt=tt.left)!==null&&rt!==void 0?rt:0,width:(mt=tt.width)!==null&&mt!==void 0?mt:0,height:(gt=tt.height)!==null&&gt!==void 0?gt:0,position:"absolute"}})}}),_defineProperty(this,"draw",()=>{this.onPositionElement()}),_defineProperty(this,"onRemove",()=>{var c,et;this.setState(()=>({paneEl:null})),(c=(et=this.props).onUnmount)===null||c===void 0||c.call(et,this.overlayView)}),this.containerRef=reactExports.createRef();var o=new google.maps.OverlayView;o.onAdd=this.onAdd,o.draw=this.draw,o.onRemove=this.onRemove,this.overlayView=o}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var o=convertToLatLngString(e.position),c=convertToLatLngString(this.props.position),et=convertToLatLngBoundsString(e.bounds),tt=convertToLatLngBoundsString(this.props.bounds);(o!==c||et!==tt)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:reactExports.Children.only(this.props.children)}),e):null}}_defineProperty(OverlayView,"FLOAT_PANE","floatPane");_defineProperty(OverlayView,"MAP_PANE","mapPane");_defineProperty(OverlayView,"MARKER_LAYER","markerLayer");_defineProperty(OverlayView,"OVERLAY_LAYER","overlayLayer");_defineProperty(OverlayView,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");_defineProperty(OverlayView,"contextType",MapContext);function noop$2(){}function ownKeys$1(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread$1(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$1(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$5={onDblClick:"dblclick",onClick:"click"},updaterMap$5={opacity(a,e){a.setOpacity(e)}};function GroundOverlayFunctional(a){var{url:e,bounds:o,options:c,visible:et}=a,tt=reactExports.useContext(MapContext),nt=new google.maps.LatLngBounds(new google.maps.LatLng(o.south,o.west),new google.maps.LatLng(o.north,o.east)),rt=reactExports.useMemo(()=>new google.maps.GroundOverlay(e,nt,c),[]);return reactExports.useEffect(()=>{rt!==null&&rt.setMap(tt)},[tt]),reactExports.useEffect(()=>{typeof e<"u"&&rt!==null&&(rt.set("url",e),rt.setMap(tt))},[rt,e]),reactExports.useEffect(()=>{typeof et<"u"&&rt!==null&&rt.setOpacity(et?1:0)},[rt,et]),reactExports.useEffect(()=>{var mt=new google.maps.LatLngBounds(new google.maps.LatLng(o.south,o.west),new google.maps.LatLng(o.north,o.east));typeof o<"u"&&rt!==null&&(rt.set("bounds",mt),rt.setMap(tt))},[rt,o]),null}reactExports.memo(GroundOverlayFunctional);class GroundOverlay extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{groundOverlay:null}),_defineProperty(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){invariant(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,_objectSpread$1(_objectSpread$1({},this.props.options),{},{map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$5,eventMap:eventMap$5,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$5,eventMap:eventMap$5,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}_defineProperty(GroundOverlay,"defaultProps",{onLoad:noop$2});_defineProperty(GroundOverlay,"contextType",MapContext);function ownKeys(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(et){return Object.getOwnPropertyDescriptor(a,et).enumerable})),o.push.apply(o,c)}return o}function _objectSpread(a){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}var eventMap$4={},updaterMap$4={data(a,e){a.setData(e)},map(a,e){a.setMap(e)},options(a,e){a.setOptions(e)}};function HeatmapLayerFunctional(a){var{data:e,onLoad:o,onUnmount:c,options:et}=a,tt=reactExports.useContext(MapContext),[nt,rt]=reactExports.useState(null);return reactExports.useEffect(()=>{google.maps.visualization||invariant(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),reactExports.useEffect(()=>{invariant(!!e,"data property is required in HeatmapLayer %s",e)},[e]),reactExports.useEffect(()=>{nt!==null&&nt.setMap(tt)},[tt]),reactExports.useEffect(()=>{et&&nt!==null&&nt.setOptions(et)},[nt,et]),reactExports.useEffect(()=>{var mt=new google.maps.visualization.HeatmapLayer(_objectSpread(_objectSpread({},et),{},{data:e,map:tt}));return rt(mt),o&&o(mt),()=>{nt!==null&&(c&&c(nt),nt.setMap(null))}},[]),null}reactExports.memo(HeatmapLayerFunctional);class HeatmapLayer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{heatmapLayer:null}),_defineProperty(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){invariant(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),invariant(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(_objectSpread(_objectSpread({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$4,eventMap:eventMap$4,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$4,eventMap:eventMap$4,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),unregisterEvents(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}_defineProperty(HeatmapLayer,"contextType",MapContext);var eventMap$3={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},updaterMap$3={register(a,e,o){a.registerPanoProvider(e,o)},links(a,e){a.setLinks(e)},motionTracking(a,e){a.setMotionTracking(e)},options(a,e){a.setOptions(e)},pano(a,e){a.setPano(e)},position(a,e){a.setPosition(e)},pov(a,e){a.setPov(e)},visible(a,e){a.setVisible(e)},zoom(a,e){a.setZoom(e)}};class StreetViewPanorama extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{streetViewPanorama:null}),_defineProperty(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,o,c=(e=(o=this.context)===null||o===void 0?void 0:o.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$3,eventMap:eventMap$3,prevProps:{},nextProps:this.props,instance:c}),this.setState(()=>({streetViewPanorama:c}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$3,eventMap:eventMap$3,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),unregisterEvents(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}_defineProperty(StreetViewPanorama,"contextType",MapContext);class StreetViewService extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{streetViewService:null}),_defineProperty(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}_defineProperty(StreetViewService,"contextType",MapContext);var eventMap$2={onDirectionsChanged:"directions_changed"},updaterMap$2={directions(a,e){a.setDirections(e)},map(a,e){a.setMap(e)},options(a,e){a.setOptions(e)},panel(a,e){a.setPanel(e)},routeIndex(a,e){a.setRouteIndex(e)}};class DirectionsRenderer extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"state",{directionsRenderer:null}),_defineProperty(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$2,eventMap:eventMap$2,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$2,eventMap:eventMap$2,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),unregisterEvents(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}_defineProperty(DirectionsRenderer,"contextType",MapContext);var eventMap$1={onPlacesChanged:"places_changed"},updaterMap$1={bounds(a,e){a.setBounds(e)}};class StandaloneSearchBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"containerElement",reactExports.createRef()),_defineProperty(this,"state",{searchBox:null}),_defineProperty(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(invariant(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var o=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$1,eventMap:eventMap$1,prevProps:{},nextProps:this.props,instance:o}),this.setState(function(){return{searchBox:o}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap:updaterMap$1,eventMap:eventMap$1,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),unregisterEvents(this.registeredEvents))}render(){return jsxRuntimeExports.jsx("div",{ref:this.containerElement,children:reactExports.Children.only(this.props.children)})}}_defineProperty(StandaloneSearchBox,"contextType",MapContext);var eventMap={onPlaceChanged:"place_changed"},updaterMap={bounds(a,e){a.setBounds(e)},restrictions(a,e){a.setComponentRestrictions(e)},fields(a,e){a.setFields(e)},options(a,e){a.setOptions(e)},types(a,e){a.setTypes(e)}};class Autocomplete extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty(this,"registeredEvents",[]),_defineProperty(this,"containerElement",reactExports.createRef()),_defineProperty(this,"state",{autocomplete:null}),_defineProperty(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;invariant(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var o=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(o){var c=new google.maps.places.Autocomplete(o,this.props.options);this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap,eventMap,prevProps:{},nextProps:this.props,instance:c}),this.setState(()=>({autocomplete:c}),this.setAutocompleteCallback)}}componentDidUpdate(e){unregisterEvents(this.registeredEvents),this.registeredEvents=applyUpdatersToPropsAndRegisterEvents({updaterMap,eventMap,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&unregisterEvents(this.registeredEvents)}render(){return jsxRuntimeExports.jsx("div",{ref:this.containerElement,className:this.props.className,children:reactExports.Children.only(this.props.children)})}}_defineProperty(Autocomplete,"defaultProps",{className:""});_defineProperty(Autocomplete,"contextType",MapContext);var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(a){const e=[];let o=0;for(let c=0;c<a.length;c++){let et=a.charCodeAt(c);et<128?e[o++]=et:et<2048?(e[o++]=et>>6|192,e[o++]=et&63|128):(et&64512)===55296&&c+1<a.length&&(a.charCodeAt(c+1)&64512)===56320?(et=65536+((et&1023)<<10)+(a.charCodeAt(++c)&1023),e[o++]=et>>18|240,e[o++]=et>>12&63|128,e[o++]=et>>6&63|128,e[o++]=et&63|128):(e[o++]=et>>12|224,e[o++]=et>>6&63|128,e[o++]=et&63|128)}return e},byteArrayToString=function(a){const e=[];let o=0,c=0;for(;o<a.length;){const et=a[o++];if(et<128)e[c++]=String.fromCharCode(et);else if(et>191&&et<224){const tt=a[o++];e[c++]=String.fromCharCode((et&31)<<6|tt&63)}else if(et>239&&et<365){const tt=a[o++],nt=a[o++],rt=a[o++],mt=((et&7)<<18|(tt&63)<<12|(nt&63)<<6|rt&63)-65536;e[c++]=String.fromCharCode(55296+(mt>>10)),e[c++]=String.fromCharCode(56320+(mt&1023))}else{const tt=a[o++],nt=a[o++];e[c++]=String.fromCharCode((et&15)<<12|(tt&63)<<6|nt&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let et=0;et<a.length;et+=3){const tt=a[et],nt=et+1<a.length,rt=nt?a[et+1]:0,mt=et+2<a.length,gt=mt?a[et+2]:0,yt=tt>>2,vt=(tt&3)<<4|rt>>4;let xt=(rt&15)<<2|gt>>6,bt=gt&63;mt||(bt=64,nt||(xt=64)),c.push(o[yt],o[vt],o[xt],o[bt])}return c.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(stringToByteArray$1(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):byteArrayToString(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const o=e?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let et=0;et<a.length;){const tt=o[a.charAt(et++)],rt=et<a.length?o[a.charAt(et)]:0;++et;const gt=et<a.length?o[a.charAt(et)]:64;++et;const vt=et<a.length?o[a.charAt(et)]:64;if(++et,tt==null||rt==null||gt==null||vt==null)throw new DecodeBase64StringError;const xt=tt<<2|rt>>4;if(c.push(xt),gt!==64){const bt=rt<<4&240|gt>>2;if(c.push(bt),vt!==64){const Et=gt<<6&192|vt;c.push(Et)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(a){const e=stringToByteArray$1(a);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(a){return base64Encode(a).replace(/\./g,"")},base64Decode=function(a){try{return base64.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const a=define_process_env_default.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&base64Decode(a[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},getDefaultEmulatorHost=a=>{var e,o;return(o=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||o===void 0?void 0:o[a]},getDefaultEmulatorHostnameAndPort=a=>{const e=getDefaultEmulatorHost(a);if(!e)return;const o=e.lastIndexOf(":");if(o<=0||o+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const c=parseInt(e.substring(o+1),10);return e[0]==="["?[e.substring(1,o-1),c]:[e.substring(0,o),c]},getDefaultAppConfig=()=>{var a;return(a=getDefaults())===null||a===void 0?void 0:a.config},getExperimentalSetting=a=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o})}wrapCallback(e){return(o,c)=>{o?this.reject(o):this.resolve(c),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(o):e(o,c))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const o={alg:"none",type:"JWT"},c=e||"demo-project",et=a.iat||0,tt=a.sub||a.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nt=Object.assign({iss:`https://securetoken.google.com/${c}`,aud:c,iat:et,exp:et+3600,auth_time:et,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},a);return[base64urlEncodeWithoutPadding(JSON.stringify(o)),base64urlEncodeWithoutPadding(JSON.stringify(nt)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var a;const e=(a=getDefaults())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const a=getUA();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((a,e)=>{try{let o=!0;const c="validate-browser-context-for-indexeddb-analytics-module",et=self.indexedDB.open(c);et.onsuccess=()=>{et.result.close(),o||self.indexedDB.deleteDatabase(c),a(!0)},et.onupgradeneeded=()=>{o=!1},et.onerror=()=>{var tt;e(((tt=et.error)===null||tt===void 0?void 0:tt.message)||"")}}catch(o){e(o)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,o,c){super(o),this.code=e,this.customData=c,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,o,c){this.service=e,this.serviceName=o,this.errors=c}create(e,...o){const c=o[0]||{},et=`${this.service}/${e}`,tt=this.errors[e],nt=tt?replaceTemplate(tt,c):"Error",rt=`${this.serviceName}: ${nt} (${et}).`;return new FirebaseError(et,rt,c)}}function replaceTemplate(a,e){return a.replace(PATTERN,(o,c)=>{const et=e[c];return et!=null?String(et):`<${c}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function deepEqual(a,e){if(a===e)return!0;const o=Object.keys(a),c=Object.keys(e);for(const et of o){if(!c.includes(et))return!1;const tt=a[et],nt=e[et];if(isObject(tt)&&isObject(nt)){if(!deepEqual(tt,nt))return!1}else if(tt!==nt)return!1}for(const et of c)if(!o.includes(et))return!1;return!0}function isObject(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(a){const e=[];for(const[o,c]of Object.entries(a))Array.isArray(c)?c.forEach(et=>{e.push(encodeURIComponent(o)+"="+encodeURIComponent(et))}):e.push(encodeURIComponent(o)+"="+encodeURIComponent(c));return e.length?"&"+e.join("&"):""}function querystringDecode(a){const e={};return a.replace(/^\?/,"").split("&").forEach(c=>{if(c){const[et,tt]=c.split("=");e[decodeURIComponent(et)]=decodeURIComponent(tt)}}),e}function extractQuerystring(a){const e=a.indexOf("?");if(!e)return"";const o=a.indexOf("#",e);return a.substring(e,o>0?o:void 0)}function createSubscribe(a,e){const o=new ObserverProxy(a,e);return o.subscribe.bind(o)}class ObserverProxy{constructor(e,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{e(this)}).catch(c=>{this.error(c)})}next(e){this.forEachObserver(o=>{o.next(e)})}error(e){this.forEachObserver(o=>{o.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,o,c){let et;if(e===void 0&&o===void 0&&c===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?et=e:et={next:e,error:o,complete:c},et.next===void 0&&(et.next=noop),et.error===void 0&&(et.error=noop),et.complete===void 0&&(et.complete=noop);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?et.error(this.finalError):et.complete()}catch{}}),this.observers.push(et),tt}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,e)}sendOne(e,o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{o(this.observers[e])}catch(c){typeof console<"u"&&console.error&&console.error(c)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(a,e){if(typeof a!="object"||a===null)return!1;for(const o of e)if(o in a&&typeof a[o]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=4*60*60*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(a,e=DEFAULT_INTERVAL_MILLIS,o=DEFAULT_BACKOFF_FACTOR){const c=e*Math.pow(o,a),et=Math.round(RANDOM_FACTOR*c*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,c+et)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(a){return a&&a._delegate?a._delegate:a}class Component{constructor(e,o,c){this.name=e,this.instanceFactory=o,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,o){this.name=e,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const o=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(o)){const c=new Deferred;if(this.instancesDeferred.set(o,c),this.isInitialized(o)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:o});et&&c.resolve(et)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(e){var o;const c=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),et=(o=e==null?void 0:e.optional)!==null&&o!==void 0?o:!1;if(this.isInitialized(c)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:c})}catch(tt){if(et)return null;throw tt}else{if(et)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[o,c]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(o);try{const tt=this.getOrInitializeService({instanceIdentifier:et});c.resolve(tt)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...e.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:o={}}=e,c=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:c,options:o});for(const[tt,nt]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(tt);c===rt&&nt.resolve(et)}return et}onInit(e,o){var c;const et=this.normalizeInstanceIdentifier(o),tt=(c=this.onInitCallbacks.get(et))!==null&&c!==void 0?c:new Set;tt.add(e),this.onInitCallbacks.set(et,tt);const nt=this.instances.get(et);return nt&&e(nt,et),()=>{tt.delete(e)}}invokeOnInitCallbacks(e,o){const c=this.onInitCallbacks.get(o);if(c)for(const et of c)try{et(e,o)}catch{}}getOrInitializeService({instanceIdentifier:e,options:o={}}){let c=this.instances.get(e);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:o}),this.instances.set(e,c),this.instancesOptions.set(e,o),this.invokeOnInitCallbacks(c,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,c)}catch{}return c||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(a){return a===DEFAULT_ENTRY_NAME$1?void 0:a}function isComponentEager(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const o=this.getProvider(e.name);if(o.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);o.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const o=new Provider(e,this);return this.providers.set(e,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(a,e,...o)=>{if(e<a.logLevel)return;const c=new Date().toISOString(),et=ConsoleMethod[e];if(et)console[et](`[${c}]  ${a.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(a,e)=>e.some(o=>a instanceof o);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(a){const e=new Promise((o,c)=>{const et=()=>{a.removeEventListener("success",tt),a.removeEventListener("error",nt)},tt=()=>{o(wrap$2(a.result)),et()},nt=()=>{c(a.error),et()};a.addEventListener("success",tt),a.addEventListener("error",nt)});return e.then(o=>{o instanceof IDBCursor&&cursorRequestMap.set(o,a)}).catch(()=>{}),reverseTransformCache.set(e,a),e}function cacheDonePromiseForTransaction(a){if(transactionDoneMap.has(a))return;const e=new Promise((o,c)=>{const et=()=>{a.removeEventListener("complete",tt),a.removeEventListener("error",nt),a.removeEventListener("abort",nt)},tt=()=>{o(),et()},nt=()=>{c(a.error||new DOMException("AbortError","AbortError")),et()};a.addEventListener("complete",tt),a.addEventListener("error",nt),a.addEventListener("abort",nt)});transactionDoneMap.set(a,e)}let idbProxyTraps={get(a,e,o){if(a instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(a);if(e==="objectStoreNames")return a.objectStoreNames||transactionStoreNamesMap.get(a);if(e==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return wrap$2(a[e])},set(a,e,o){return a[e]=o,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function replaceTraps(a){idbProxyTraps=a(idbProxyTraps)}function wrapFunction(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...o){const c=a.call(unwrap(this),e,...o);return transactionStoreNamesMap.set(c,e.sort?e.sort():[e]),wrap$2(c)}:getCursorAdvanceMethods().includes(a)?function(...e){return a.apply(unwrap(this),e),wrap$2(cursorRequestMap.get(this))}:function(...e){return wrap$2(a.apply(unwrap(this),e))}}function transformCachableValue(a){return typeof a=="function"?wrapFunction(a):(a instanceof IDBTransaction&&cacheDonePromiseForTransaction(a),instanceOfAny(a,getIdbProxyableTypes())?new Proxy(a,idbProxyTraps):a)}function wrap$2(a){if(a instanceof IDBRequest)return promisifyRequest(a);if(transformCache.has(a))return transformCache.get(a);const e=transformCachableValue(a);return e!==a&&(transformCache.set(a,e),reverseTransformCache.set(e,a)),e}const unwrap=a=>reverseTransformCache.get(a);function openDB(a,e,{blocked:o,upgrade:c,blocking:et,terminated:tt}={}){const nt=indexedDB.open(a,e),rt=wrap$2(nt);return c&&nt.addEventListener("upgradeneeded",mt=>{c(wrap$2(nt.result),mt.oldVersion,mt.newVersion,wrap$2(nt.transaction),mt)}),o&&nt.addEventListener("blocked",mt=>o(mt.oldVersion,mt.newVersion,mt)),rt.then(mt=>{tt&&mt.addEventListener("close",()=>tt()),et&&mt.addEventListener("versionchange",gt=>et(gt.oldVersion,gt.newVersion,gt))}).catch(()=>{}),rt}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const o=e.replace(/FromIndex$/,""),c=e!==o,et=writeMethods.includes(o);if(!(o in(c?IDBIndex:IDBObjectStore).prototype)||!(et||readMethods.includes(o)))return;const tt=async function(nt,...rt){const mt=this.transaction(nt,et?"readwrite":"readonly");let gt=mt.store;return c&&(gt=gt.index(rt.shift())),(await Promise.all([gt[o](...rt),et&&mt.done]))[0]};return cachedMethods.set(e,tt),tt}replaceTraps(a=>({...a,get:(e,o,c)=>getMethod(e,o)||a.get(e,o,c),has:(e,o)=>!!getMethod(e,o)||a.has(e,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(isVersionServiceProvider(o)){const c=o.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(o=>o).join(" ")}}function isVersionServiceProvider(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5$1="@firebase/storage",name$4$1="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5$1]:"fire-gcs",[name$4$1]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(a,e){try{a.container.addComponent(e)}catch(o){logger$1.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,o)}}function _registerComponent(a){const e=a.name;if(_components.has(e))return logger$1.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,a);for(const o of _apps.values())_addComponent(o,a);for(const o of _serverApps.values())_addComponent(o,a);return!0}function _getProvider(a,e){const o=a.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),a.container.getProvider(e)}function _isFirebaseServerApp(a){return a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,o,c){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$6;function initializeApp(a,e={}){let o=a;typeof e!="object"&&(e={name:e});const c=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),et=c.name;if(typeof et!="string"||!et)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(et)});if(o||(o=getDefaultAppConfig()),!o)throw ERROR_FACTORY$2.create("no-options");const tt=_apps.get(et);if(tt){if(deepEqual(o,tt.options)&&deepEqual(c,tt.config))return tt;throw ERROR_FACTORY$2.create("duplicate-app",{appName:et})}const nt=new ComponentContainer(et);for(const mt of _components.values())nt.addComponent(mt);const rt=new FirebaseAppImpl(o,c,nt);return _apps.set(et,rt),rt}function getApp(a=DEFAULT_ENTRY_NAME){const e=_apps.get(a);if(!e&&a===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY$2.create("no-app",{appName:a});return e}function getApps(){return Array.from(_apps.values())}function registerVersion(a,e,o){var c;let et=(c=PLATFORM_LOG_STRING[a])!==null&&c!==void 0?c:a;o&&(et+=`-${o}`);const tt=et.match(/\s|\//),nt=e.match(/\s|\//);if(tt||nt){const rt=[`Unable to register library "${et}" with version "${e}":`];tt&&rt.push(`library name "${et}" contains illegal characters (whitespace or "/")`),tt&&nt&&rt.push("and"),nt&&rt.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$1.warn(rt.join(" "));return}_registerComponent(new Component(`${et}-version`,()=>({library:et,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(STORE_NAME)}catch(o){console.warn(o)}}}}).catch(a=>{throw ERROR_FACTORY$2.create("idb-open",{originalErrorMessage:a.message})})),dbPromise$1}async function readHeartbeatsFromIndexedDB(a){try{const o=(await getDbPromise$1()).transaction(STORE_NAME),c=await o.objectStore(STORE_NAME).get(computeKey(a));return await o.done,c}catch(e){if(e instanceof FirebaseError)logger$1.warn(e.message);else{const o=ERROR_FACTORY$2.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger$1.warn(o.message)}}}async function writeHeartbeatsToIndexedDB(a,e){try{const c=(await getDbPromise$1()).transaction(STORE_NAME,"readwrite");await c.objectStore(STORE_NAME).put(e,computeKey(a)),await c.done}catch(o){if(o instanceof FirebaseError)logger$1.warn(o.message);else{const c=ERROR_FACTORY$2.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});logger$1.warn(c.message)}}}function computeKey(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(o),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){var e,o;try{const et=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tt=getUTCDateString();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===tt||this._heartbeatsCache.heartbeats.some(nt=>nt.date===tt)?void 0:(this._heartbeatsCache.heartbeats.push({date:tt,agent:et}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(nt=>{const rt=new Date(nt.date).valueOf();return Date.now()-rt<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(c){logger$1.warn(c)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=getUTCDateString(),{heartbeatsToSend:c,unsentEntries:et}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),tt=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=o,et.length>0?(this._heartbeatsCache.heartbeats=et,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),tt}catch(o){return logger$1.warn(o),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(a,e=MAX_HEADER_BYTES){const o=[];let c=a.slice();for(const et of a){const tt=o.find(nt=>nt.agent===et.agent);if(tt){if(tt.dates.push(et.date),countBytes(o)>e){tt.dates.pop();break}}else if(o.push({agent:et.agent,dates:[et.date]}),countBytes(o)>e){o.pop();break}c=c.slice(1)}return{heartbeatsToSend:o,unsentEntries:c}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await readHeartbeatsFromIndexedDB(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var o;if(await this._canUseIndexedDBPromise){const et=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(o=e.lastSentHeartbeatDate)!==null&&o!==void 0?o:et.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var o;if(await this._canUseIndexedDBPromise){const et=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(o=e.lastSentHeartbeatDate)!==null&&o!==void 0?o:et.lastSentHeartbeatDate,heartbeats:[...et.heartbeats,...e.heartbeats]})}else return}}function countBytes(a){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:a})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(a){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,a),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$5="firebase",version$5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$5,version$5,"app");function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(a,...e){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${a}`,...e)}function _logError(a,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(a,...e){throw createErrorInternal(a,...e)}function _createError(a,...e){return createErrorInternal(a,...e)}function _errorWithCustomMessage(a,e,o){const c=Object.assign(Object.assign({},prodErrorMap()),{[e]:o});return new ErrorFactory("auth","Firebase",c).create(e,{appName:a.name})}function _serverAppCurrentUserOperationNotSupportedError(a){return _errorWithCustomMessage(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(a,e,o){const c=o;if(!(e instanceof c))throw c.name!==e.constructor.name&&_fail(a,"argument-error"),_errorWithCustomMessage(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(a,...e){if(typeof a!="string"){const o=e[0],c=[...e.slice(1)];return c[0]&&(c[0].appName=a.name),a._errorFactory.create(o,...c)}return _DEFAULT_AUTH_ERROR_FACTORY.create(a,...e)}function _assert(a,e,...o){if(!a)throw createErrorInternal(e,...o)}function debugFail(a){const e="INTERNAL ASSERTION FAILED: "+a;throw _logError(e),new Error(e)}function debugAssert(a,e){a||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,o){this.shortDelay=e,this.longDelay=o,debugAssert(o>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(a,e){debugAssert(a.emulator,"Emulator should always be set here");const{url:o}=a.emulator;return e?`${o}${e.startsWith("/")?e.slice(1):e}`:o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,o,c){this.fetchImpl=e,o&&(this.headersImpl=o),c&&(this.responseImpl=c)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(a,e){return a.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:a.tenantId}):e}async function _performApiRequest(a,e,o,c,et={}){return _performFetchWithErrorHandling(a,et,async()=>{let tt={},nt={};c&&(e==="GET"?nt=c:tt={body:JSON.stringify(c)});const rt=querystring(Object.assign({key:a.config.apiKey},nt)).slice(1),mt=await a._getAdditionalHeaders();mt["Content-Type"]="application/json",a.languageCode&&(mt["X-Firebase-Locale"]=a.languageCode);const gt=Object.assign({method:e,headers:mt},tt);return isCloudflareWorker()||(gt.referrerPolicy="no-referrer"),FetchProvider.fetch()(_getFinalTarget(a,a.config.apiHost,o,rt),gt)})}async function _performFetchWithErrorHandling(a,e,o){a._canInitEmulator=!1;const c=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const et=new NetworkTimeout(a),tt=await Promise.race([o(),et.promise]);et.clearNetworkTimeout();const nt=await tt.json();if("needConfirmation"in nt)throw _makeTaggedError(a,"account-exists-with-different-credential",nt);if(tt.ok&&!("errorMessage"in nt))return nt;{const rt=tt.ok?nt.errorMessage:nt.error.message,[mt,gt]=rt.split(" : ");if(mt==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(a,"credential-already-in-use",nt);if(mt==="EMAIL_EXISTS")throw _makeTaggedError(a,"email-already-in-use",nt);if(mt==="USER_DISABLED")throw _makeTaggedError(a,"user-disabled",nt);const yt=c[mt]||mt.toLowerCase().replace(/[_\s]+/g,"-");if(gt)throw _errorWithCustomMessage(a,yt,gt);_fail(a,yt)}}catch(et){if(et instanceof FirebaseError)throw et;_fail(a,"network-request-failed",{message:String(et)})}}async function _performSignInRequest(a,e,o,c,et={}){const tt=await _performApiRequest(a,e,o,c,et);return"mfaPendingCredential"in tt&&_fail(a,"multi-factor-auth-required",{_serverResponse:tt}),tt}function _getFinalTarget(a,e,o,c){const et=`${e}${o}?${c}`;return a.config.emulator?_emulatorUrl(a.config,et):`${a.config.apiScheme}://${et}`}function _parseEnforcementState(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((o,c)=>{this.timer=setTimeout(()=>c(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(a,e,o){const c={appName:a.name};o.email&&(c.email=o.email),o.phoneNumber&&(c.phoneNumber=o.phoneNumber);const et=_createError(a,e,c);return et.customData._tokenResponse=o,et}function isEnterprise(a){return a!==void 0&&a.enterprise!==void 0}class RecaptchaConfig{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const o of this.recaptchaEnforcementState)if(o.provider&&o.provider===e)return _parseEnforcementState(o.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function getRecaptchaConfig(a,e){return _performApiRequest(a,"GET","/v2/recaptchaConfig",_addTidIfNecessary(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(a,e){return _performApiRequest(a,"POST","/v1/accounts:delete",e)}async function getAccountInfo(a,e){return _performApiRequest(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(a,e=!1){const o=getModularInstance(a),c=await o.getIdToken(e),et=_parseToken(c);_assert(et&&et.exp&&et.auth_time&&et.iat,o.auth,"internal-error");const tt=typeof et.firebase=="object"?et.firebase:void 0,nt=tt==null?void 0:tt.sign_in_provider;return{claims:et,token:c,authTime:utcTimestampToDateString(secondsStringToMilliseconds(et.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(et.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(et.exp)),signInProvider:nt||null,signInSecondFactor:(tt==null?void 0:tt.sign_in_second_factor)||null}}function secondsStringToMilliseconds(a){return Number(a)*1e3}function _parseToken(a){const[e,o,c]=a.split(".");if(e===void 0||o===void 0||c===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const et=base64Decode(o);return et?JSON.parse(et):(_logError("Failed to decode base64 JWT payload"),null)}catch(et){return _logError("Caught error parsing JWT payload as JSON",et==null?void 0:et.toString()),null}}function _tokenExpiresIn(a){const e=_parseToken(a);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(a,e,o=!1){if(o)return e;try{return await e}catch(c){throw c instanceof FirebaseError&&isUserInvalidated(c)&&a.auth.currentUser===a&&await a.auth.signOut(),c}}function isUserInvalidated({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var o;if(e){const c=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),c}else{this.errorBackoff=3e4;const et=((o=this.user.stsTokenManager.expirationTime)!==null&&o!==void 0?o:0)-Date.now()-3e5;return Math.max(0,et)}}schedule(e=!1){if(!this.isRunning)return;const o=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},o)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,o){this.createdAt=e,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(a){var e;const o=a.auth,c=await a.getIdToken(),et=await _logoutIfInvalidated(a,getAccountInfo(o,{idToken:c}));_assert(et==null?void 0:et.users.length,o,"internal-error");const tt=et.users[0];a._notifyReloadListener(tt);const nt=!((e=tt.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(tt.providerUserInfo):[],rt=mergeProviderData(a.providerData,nt),mt=a.isAnonymous,gt=!(a.email&&tt.passwordHash)&&!(rt!=null&&rt.length),yt=mt?gt:!1,vt={uid:tt.localId,displayName:tt.displayName||null,photoURL:tt.photoUrl||null,email:tt.email||null,emailVerified:tt.emailVerified||!1,phoneNumber:tt.phoneNumber||null,tenantId:tt.tenantId||null,providerData:rt,metadata:new UserMetadata(tt.createdAt,tt.lastLoginAt),isAnonymous:yt};Object.assign(a,vt)}async function reload(a){const e=getModularInstance(a);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(a,e){return[...a.filter(c=>!e.some(et=>et.providerId===c.providerId)),...e]}function extractProviderData(a){return a.map(e=>{var{providerId:o}=e,c=__rest$1(e,["providerId"]);return{providerId:o,uid:c.rawId||"",displayName:c.displayName||null,email:c.email||null,phoneNumber:c.phoneNumber||null,photoURL:c.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(a,e){const o=await _performFetchWithErrorHandling(a,{},async()=>{const c=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:et,apiKey:tt}=a.config,nt=_getFinalTarget(a,et,"/v1/token",`key=${tt}`),rt=await a._getAdditionalHeaders();return rt["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(nt,{method:"POST",headers:rt,body:c})});return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}async function revokeToken(a,e){return _performApiRequest(a,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const o="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,o)}updateFromIdToken(e){_assert(e.length!==0,"internal-error");const o=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,o)}async getToken(e,o=!1){return!o&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,o){const{accessToken:c,refreshToken:et,expiresIn:tt}=await requestStsToken(e,o);this.updateTokensAndExpiration(c,et,Number(tt))}updateTokensAndExpiration(e,o,c){this.refreshToken=o||null,this.accessToken=e||null,this.expirationTime=Date.now()+c*1e3}static fromJSON(e,o){const{refreshToken:c,accessToken:et,expirationTime:tt}=o,nt=new StsTokenManager;return c&&(_assert(typeof c=="string","internal-error",{appName:e}),nt.refreshToken=c),et&&(_assert(typeof et=="string","internal-error",{appName:e}),nt.accessToken=et),tt&&(_assert(typeof tt=="number","internal-error",{appName:e}),nt.expirationTime=tt),nt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(a,e){_assert(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:o,auth:c,stsTokenManager:et}=e,tt=__rest$1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=o,this.auth=c,this.stsTokenManager=et,this.accessToken=et.accessToken,this.displayName=tt.displayName||null,this.email=tt.email||null,this.emailVerified=tt.emailVerified||!1,this.phoneNumber=tt.phoneNumber||null,this.photoURL=tt.photoURL||null,this.isAnonymous=tt.isAnonymous||!1,this.tenantId=tt.tenantId||null,this.providerData=tt.providerData?[...tt.providerData]:[],this.metadata=new UserMetadata(tt.createdAt||void 0,tt.lastLoginAt||void 0)}async getIdToken(e){const o=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(o,this.auth,"internal-error"),this.accessToken!==o&&(this.accessToken=o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),o}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(o=>Object.assign({},o)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const o=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return o.metadata._copy(this.metadata),o}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,o=!1){let c=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),c=!0),o&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),c&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,o){var c,et,tt,nt,rt,mt,gt,yt;const vt=(c=o.displayName)!==null&&c!==void 0?c:void 0,xt=(et=o.email)!==null&&et!==void 0?et:void 0,bt=(tt=o.phoneNumber)!==null&&tt!==void 0?tt:void 0,Et=(nt=o.photoURL)!==null&&nt!==void 0?nt:void 0,wt=(rt=o.tenantId)!==null&&rt!==void 0?rt:void 0,St=(mt=o._redirectEventId)!==null&&mt!==void 0?mt:void 0,Tt=(gt=o.createdAt)!==null&&gt!==void 0?gt:void 0,kt=(yt=o.lastLoginAt)!==null&&yt!==void 0?yt:void 0,{uid:_t,emailVerified:Mt,isAnonymous:Pt,providerData:It,stsTokenManager:Dt}=o;_assert(_t&&Dt,e,"internal-error");const Ct=StsTokenManager.fromJSON(this.name,Dt);_assert(typeof _t=="string",e,"internal-error"),assertStringOrUndefined(vt,e.name),assertStringOrUndefined(xt,e.name),_assert(typeof Mt=="boolean",e,"internal-error"),_assert(typeof Pt=="boolean",e,"internal-error"),assertStringOrUndefined(bt,e.name),assertStringOrUndefined(Et,e.name),assertStringOrUndefined(wt,e.name),assertStringOrUndefined(St,e.name),assertStringOrUndefined(Tt,e.name),assertStringOrUndefined(kt,e.name);const At=new UserImpl({uid:_t,auth:e,email:xt,emailVerified:Mt,displayName:vt,isAnonymous:Pt,photoURL:Et,phoneNumber:bt,tenantId:wt,stsTokenManager:Ct,createdAt:Tt,lastLoginAt:kt});return It&&Array.isArray(It)&&(At.providerData=It.map(Lt=>Object.assign({},Lt))),St&&(At._redirectEventId=St),At}static async _fromIdTokenResponse(e,o,c=!1){const et=new StsTokenManager;et.updateFromServerResponse(o);const tt=new UserImpl({uid:o.localId,auth:e,stsTokenManager:et,isAnonymous:c});return await _reloadWithoutSaving(tt),tt}static async _fromGetAccountInfoResponse(e,o,c){const et=o.users[0];_assert(et.localId!==void 0,"internal-error");const tt=et.providerUserInfo!==void 0?extractProviderData(et.providerUserInfo):[],nt=!(et.email&&et.passwordHash)&&!(tt!=null&&tt.length),rt=new StsTokenManager;rt.updateFromIdToken(c);const mt=new UserImpl({uid:et.localId,auth:e,stsTokenManager:rt,isAnonymous:nt}),gt={uid:et.localId,displayName:et.displayName||null,photoURL:et.photoUrl||null,email:et.email||null,emailVerified:et.emailVerified||!1,phoneNumber:et.phoneNumber||null,tenantId:et.tenantId||null,providerData:tt,metadata:new UserMetadata(et.createdAt,et.lastLoginAt),isAnonymous:!(et.email&&et.passwordHash)&&!(tt!=null&&tt.length)};return Object.assign(mt,gt),mt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(a){debugAssert(a instanceof Function,"Expected a class definition");let e=instanceCache.get(a);return e?(debugAssert(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,instanceCache.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,o){this.storage[e]=o}async _get(e){const o=this.storage[e];return o===void 0?null:o}async _remove(e){delete this.storage[e]}_addListener(e,o){}_removeListener(e,o){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(a,e,o){return`firebase:${a}:${e}:${o}`}class PersistenceUserManager{constructor(e,o,c){this.persistence=e,this.auth=o,this.userKey=c;const{config:et,name:tt}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,et.apiKey,tt),this.fullPersistenceKey=_persistenceKeyName("persistence",et.apiKey,tt),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?UserImpl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,o)return this.setCurrentUser(o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,o,c="authUser"){if(!o.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,c);const et=(await Promise.all(o.map(async gt=>{if(await gt._isAvailable())return gt}))).filter(gt=>gt);let tt=et[0]||_getInstance(inMemoryPersistence);const nt=_persistenceKeyName(c,e.config.apiKey,e.name);let rt=null;for(const gt of o)try{const yt=await gt._get(nt);if(yt){const vt=UserImpl._fromJSON(e,yt);gt!==tt&&(rt=vt),tt=gt;break}}catch{}const mt=et.filter(gt=>gt._shouldAllowMigration);return!tt._shouldAllowMigration||!mt.length?new PersistenceUserManager(tt,e,c):(tt=mt[0],rt&&await tt._set(nt,rt.toJSON()),await Promise.all(o.map(async gt=>{if(gt!==tt)try{await gt._remove(nt)}catch{}})),new PersistenceUserManager(tt,e,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,c=a.match(o);if((c==null?void 0:c.length)===2)return c[1]}return"Other"}function _isFirefox(a=getUA()){return/firefox\//i.test(a)}function _isSafari(a=getUA()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(a=getUA()){return/crios\//i.test(a)}function _isIEMobile(a=getUA()){return/iemobile/i.test(a)}function _isAndroid(a=getUA()){return/android/i.test(a)}function _isBlackBerry(a=getUA()){return/blackberry/i.test(a)}function _isWebOS(a=getUA()){return/webos/i.test(a)}function _isIOS(a=getUA()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function _isIOSStandalone(a=getUA()){var e;return _isIOS(a)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(a=getUA()){return _isIOS(a)||_isAndroid(a)||_isWebOS(a)||_isBlackBerry(a)||/windows phone/i.test(a)||_isIEMobile(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(a,e=[]){let o;switch(a){case"Browser":o=_getBrowserName(getUA());break;case"Worker":o=`${_getBrowserName(getUA())}-${a}`;break;default:o=a}const c=e.length?e.join(","):"FirebaseCore-web";return`${o}/JsCore/${SDK_VERSION}/${c}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,o){const c=tt=>new Promise((nt,rt)=>{try{const mt=e(tt);nt(mt)}catch(mt){rt(mt)}});c.onAbort=o,this.queue.push(c);const et=this.queue.length-1;return()=>{this.queue[et]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const o=[];try{for(const c of this.queue)await c(e),c.onAbort&&o.push(c.onAbort)}catch(c){o.reverse();for(const et of o)try{et()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:c==null?void 0:c.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(a,e={}){return _performApiRequest(a,"GET","/v2/passwordPolicy",_addTidIfNecessary(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(e){var o,c,et,tt;const nt=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(o=nt.minPasswordLength)!==null&&o!==void 0?o:MINIMUM_MIN_PASSWORD_LENGTH,nt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=nt.maxPasswordLength),nt.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=nt.containsLowercaseCharacter),nt.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=nt.containsUppercaseCharacter),nt.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=nt.containsNumericCharacter),nt.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=nt.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(et=(c=e.allowedNonAlphanumericCharacters)===null||c===void 0?void 0:c.join(""))!==null&&et!==void 0?et:"",this.forceUpgradeOnSignin=(tt=e.forceUpgradeOnSignin)!==null&&tt!==void 0?tt:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var o,c,et,tt,nt,rt;const mt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,mt),this.validatePasswordCharacterOptions(e,mt),mt.isValid&&(mt.isValid=(o=mt.meetsMinPasswordLength)!==null&&o!==void 0?o:!0),mt.isValid&&(mt.isValid=(c=mt.meetsMaxPasswordLength)!==null&&c!==void 0?c:!0),mt.isValid&&(mt.isValid=(et=mt.containsLowercaseLetter)!==null&&et!==void 0?et:!0),mt.isValid&&(mt.isValid=(tt=mt.containsUppercaseLetter)!==null&&tt!==void 0?tt:!0),mt.isValid&&(mt.isValid=(nt=mt.containsNumericCharacter)!==null&&nt!==void 0?nt:!0),mt.isValid&&(mt.isValid=(rt=mt.containsNonAlphanumericCharacter)!==null&&rt!==void 0?rt:!0),mt}validatePasswordLengthOptions(e,o){const c=this.customStrengthOptions.minPasswordLength,et=this.customStrengthOptions.maxPasswordLength;c&&(o.meetsMinPasswordLength=e.length>=c),et&&(o.meetsMaxPasswordLength=e.length<=et)}validatePasswordCharacterOptions(e,o){this.updatePasswordCharacterOptionsStatuses(o,!1,!1,!1,!1);let c;for(let et=0;et<e.length;et++)c=e.charAt(et),this.updatePasswordCharacterOptionsStatuses(o,c>="a"&&c<="z",c>="A"&&c<="Z",c>="0"&&c<="9",this.allowedNonAlphanumericCharacters.includes(c))}updatePasswordCharacterOptionsStatuses(e,o,c,et,tt){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=o)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=c)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=et)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=tt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,o,c,et){this.app=e,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=c,this.config=et,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=et.sdkClientVersion}_initializeWithPersistence(e,o){return o&&(this._popupRedirectResolver=_getInstance(o)),this._initializationPromise=this.queue(async()=>{var c,et;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),!this._deleted)){if(!((c=this._popupRedirectResolver)===null||c===void 0)&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(o),this.lastNotifiedUid=((et=this.currentUser)===null||et===void 0?void 0:et.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const o=await getAccountInfo(this,{idToken:e}),c=await UserImpl._fromGetAccountInfoResponse(this,o,e);await this.directlySetCurrentUser(c)}catch(o){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",o),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(_isFirebaseServerApp(this.app)){const nt=this.app.settings.authIdToken;return nt?new Promise(rt=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(nt).then(rt,rt))}):this.directlySetCurrentUser(null)}const c=await this.assertedPersistence.getCurrentUser();let et=c,tt=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const nt=(o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId,rt=et==null?void 0:et._redirectEventId,mt=await this.tryRedirectSignIn(e);(!nt||nt===rt)&&(mt!=null&&mt.user)&&(et=mt.user,tt=!0)}if(!et)return this.directlySetCurrentUser(null);if(!et._redirectEventId){if(tt)try{await this.beforeStateQueue.runMiddleware(et)}catch(nt){et=c,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(nt))}return et?this.reloadAndSetCurrentUserOrClear(et):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===et._redirectEventId?this.directlySetCurrentUser(et):this.reloadAndSetCurrentUserOrClear(et)}async tryRedirectSignIn(e){let o=null;try{o=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return o}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(o){if((o==null?void 0:o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const o=e?getModularInstance(e):null;return o&&_assert(o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(o&&o._clone(this))}async _updateCurrentUser(e,o=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),o||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const o=this._getPasswordPolicyInternal();return o.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):o.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _getPasswordPolicy(this),o=new PasswordPolicyImpl(e);this.tenantId===null?this._projectPasswordPolicy=o:this._tenantPasswordPolicies[this.tenantId]=o}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,o,c){return this.registerStateListener(this.authStateSubscription,e,o,c)}beforeAuthStateChanged(e,o){return this.beforeStateQueue.pushCallback(e,o)}onIdTokenChanged(e,o,c){return this.registerStateListener(this.idTokenSubscription,e,o,c)}authStateReady(){return new Promise((e,o)=>{if(this.currentUser)e();else{const c=this.onAuthStateChanged(()=>{c(),e()},o)}})}async revokeAccessToken(e){if(this.currentUser){const o=await this.currentUser.getIdToken(),c={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:o};this.tenantId!=null&&(c.tenantId=this.tenantId),await revokeToken(this,c)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,o){const c=await this.getOrInitRedirectPersistenceManager(o);return e===null?c.removeCurrentUser():c.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const o=e&&_getInstance(e)||this._popupRedirectResolver;_assert(o,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var o,c;return this._isInitialized&&await this.queue(async()=>{}),((o=this._currentUser)===null||o===void 0?void 0:o._redirectEventId)===e?this._currentUser:((c=this.redirectUser)===null||c===void 0?void 0:c._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const c=(o=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&o!==void 0?o:null;this.lastNotifiedUid!==c&&(this.lastNotifiedUid=c,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,o,c,et){if(this._deleted)return()=>{};const tt=typeof o=="function"?o:o.next.bind(o);let nt=!1;const rt=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(rt,this,"internal-error"),rt.then(()=>{nt||tt(this.currentUser)}),typeof o=="function"){const mt=e.addObserver(o,c,et);return()=>{nt=!0,mt()}}else{const mt=e.addObserver(o);return()=>{nt=!0,mt()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const o={"X-Client-Version":this.clientVersion};this.app.options.appId&&(o["X-Firebase-gmpid"]=this.app.options.appId);const c=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());c&&(o["X-Firebase-Client"]=c);const et=await this._getAppCheckToken();return et&&(o["X-Firebase-AppCheck"]=et),o}async _getAppCheckToken(){var e;const o=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return o!=null&&o.error&&_logWarn(`Error while retrieving App Check token: ${o.error}`),o==null?void 0:o.token}}function _castAuth(a){return getModularInstance(a)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(o=>this.observer=o)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(a){externalJSProvider=a}function _loadJS(a){return externalJSProvider.loadJS(a)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(a){return`__${a}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(e){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(e)}async verify(e="verify",o=!1){async function c(tt){if(!o){if(tt.tenantId==null&&tt._agentRecaptchaConfig!=null)return tt._agentRecaptchaConfig.siteKey;if(tt.tenantId!=null&&tt._tenantRecaptchaConfigs[tt.tenantId]!==void 0)return tt._tenantRecaptchaConfigs[tt.tenantId].siteKey}return new Promise(async(nt,rt)=>{getRecaptchaConfig(tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(mt=>{if(mt.recaptchaKey===void 0)rt(new Error("recaptcha Enterprise site key undefined"));else{const gt=new RecaptchaConfig(mt);return tt.tenantId==null?tt._agentRecaptchaConfig=gt:tt._tenantRecaptchaConfigs[tt.tenantId]=gt,nt(gt.siteKey)}}).catch(mt=>{rt(mt)})})}function et(tt,nt,rt){const mt=window.grecaptcha;isEnterprise(mt)?mt.enterprise.ready(()=>{mt.enterprise.execute(tt,{action:e}).then(gt=>{nt(gt)}).catch(()=>{nt(FAKE_TOKEN)})}):rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((tt,nt)=>{c(this.auth).then(rt=>{if(!o&&isEnterprise(window.grecaptcha))et(rt,tt,nt);else{if(typeof window>"u"){nt(new Error("RecaptchaVerifier is only supported in browser"));return}let mt=_recaptchaEnterpriseScriptUrl();mt.length!==0&&(mt+=rt),_loadJS(mt).then(()=>{et(rt,tt,nt)}).catch(gt=>{nt(gt)})}}).catch(rt=>{nt(rt)})})}}async function injectRecaptchaFields(a,e,o,c=!1){const et=new RecaptchaEnterpriseVerifier(a);let tt;try{tt=await et.verify(o)}catch{tt=await et.verify(o,!0)}const nt=Object.assign({},e);return c?Object.assign(nt,{captchaResp:tt}):Object.assign(nt,{captchaResponse:tt}),Object.assign(nt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(nt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),nt}async function handleRecaptchaFlow(a,e,o,c){var et;if(!((et=a._getRecaptchaConfig())===null||et===void 0)&&et.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const tt=await injectRecaptchaFields(a,e,o,o==="getOobCode");return c(a,tt)}else return c(a,e).catch(async tt=>{if(tt.code==="auth/missing-recaptcha-token"){console.log(`${o} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const nt=await injectRecaptchaFields(a,e,o,o==="getOobCode");return c(a,nt)}else return Promise.reject(tt)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(a,e){const o=_getProvider(a,"auth");if(o.isInitialized()){const et=o.getImmediate(),tt=o.getOptions();if(deepEqual(tt,e??{}))return et;_fail(et,"already-initialized")}return o.initialize({options:e})}function _initializeAuthInstance(a,e){const o=(e==null?void 0:e.persistence)||[],c=(Array.isArray(o)?o:[o]).map(_getInstance);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(c,e==null?void 0:e.popupRedirectResolver)}function connectAuthEmulator(a,e,o){const c=_castAuth(a);_assert(c._canInitEmulator,c,"emulator-config-failed"),_assert(/^https?:\/\//.test(e),c,"invalid-emulator-scheme");const et=!1,tt=extractProtocol(e),{host:nt,port:rt}=extractHostAndPort(e),mt=rt===null?"":`:${rt}`;c.config.emulator={url:`${tt}//${nt}${mt}/`},c.settings.appVerificationDisabledForTesting=!0,c.emulatorConfig=Object.freeze({host:nt,port:rt,protocol:tt.replace(":",""),options:Object.freeze({disableWarnings:et})}),emitEmulatorWarning()}function extractProtocol(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function extractHostAndPort(a){const e=extractProtocol(a),o=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!o)return{host:"",port:null};const c=o[2].split("@").pop()||"",et=/^(\[[^\]]+\])(:|$)/.exec(c);if(et){const tt=et[1];return{host:tt,port:parsePort(c.substr(tt.length+1))}}else{const[tt,nt]=c.split(":");return{host:tt,port:parsePort(nt)}}}function parsePort(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function emitEmulatorWarning(){function a(){const e=document.createElement("p"),o=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,o){this.providerId=e,this.signInMethod=o}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,o){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function linkEmailPassword(a,e){return _performApiRequest(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(a,e){return _performSignInRequest(a,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(a,e))}async function sendOobCode(a,e){return _performApiRequest(a,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(a,e))}async function sendEmailVerification$1(a,e){return sendOobCode(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(a,e){return _performSignInRequest(a,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(a,e))}async function signInWithEmailLinkForLinking(a,e){return _performSignInRequest(a,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,o,c,et=null){super("password",c),this._email=e,this._password=o,this._tenantId=et}static _fromEmailAndPassword(e,o){return new EmailAuthCredential(e,o,"password")}static _fromEmailAndCode(e,o,c=null){return new EmailAuthCredential(e,o,"emailLink",c)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const o=typeof e=="string"?JSON.parse(e):e;if(o!=null&&o.email&&(o!=null&&o.password)){if(o.signInMethod==="password")return this._fromEmailAndPassword(o.email,o.password);if(o.signInMethod==="emailLink")return this._fromEmailAndCode(o.email,o.password,o.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const o={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,o,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,o){switch(this.signInMethod){case"password":const c={idToken:o,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,c,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:o,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(a,e){return _performSignInRequest(a,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const o=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(o.idToken=e.idToken),e.accessToken&&(o.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(o.nonce=e.nonce),e.pendingToken&&(o.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(o.accessToken=e.oauthToken,o.secret=e.oauthTokenSecret):_fail("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const o=typeof e=="string"?JSON.parse(e):e,{providerId:c,signInMethod:et}=o,tt=__rest$1(o,["providerId","signInMethod"]);if(!c||!et)return null;const nt=new OAuthCredential(c,et);return nt.idToken=tt.idToken||void 0,nt.accessToken=tt.accessToken||void 0,nt.secret=tt.secret,nt.nonce=tt.nonce,nt.pendingToken=tt.pendingToken||null,nt}_getIdTokenResponse(e){const o=this.buildRequest();return signInWithIdp(e,o)}_linkToIdToken(e,o){const c=this.buildRequest();return c.idToken=o,signInWithIdp(e,c)}_getReauthenticationResolver(e){const o=this.buildRequest();return o.autoCreate=!1,signInWithIdp(e,o)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),e.postBody=querystring(o)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(a){const e=querystringDecode(extractQuerystring(a)).link,o=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,c=querystringDecode(extractQuerystring(a)).deep_link_id;return(c?querystringDecode(extractQuerystring(c)).link:null)||c||o||e||a}class ActionCodeURL{constructor(e){var o,c,et,tt,nt,rt;const mt=querystringDecode(extractQuerystring(e)),gt=(o=mt.apiKey)!==null&&o!==void 0?o:null,yt=(c=mt.oobCode)!==null&&c!==void 0?c:null,vt=parseMode((et=mt.mode)!==null&&et!==void 0?et:null);_assert(gt&&yt&&vt,"argument-error"),this.apiKey=gt,this.operation=vt,this.code=yt,this.continueUrl=(tt=mt.continueUrl)!==null&&tt!==void 0?tt:null,this.languageCode=(nt=mt.languageCode)!==null&&nt!==void 0?nt:null,this.tenantId=(rt=mt.tenantId)!==null&&rt!==void 0?rt:null}static parseLink(e){const o=parseDeepLink(e);try{return new ActionCodeURL(o)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,o){return EmailAuthCredential._fromEmailAndPassword(e,o)}static credentialWithLink(e,o){const c=ActionCodeURL.parseLink(o);return _assert(c,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,c.code,c.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,o){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:o})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:o,oauthAccessToken:c}=e;if(!o&&!c)return null;try{return GoogleAuthProvider.credential(o,c)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,o){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:o})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:o,oauthTokenSecret:c}=e;if(!o||!c)return null;try{return TwitterAuthProvider.credential(o,c)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(a,e){return _performSignInRequest(a,"POST","/v1/accounts:signUp",_addTidIfNecessary(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,o,c,et=!1){const tt=await UserImpl._fromIdTokenResponse(e,c,et),nt=providerIdForResponse(c);return new UserCredentialImpl({user:tt,providerId:nt,_tokenResponse:c,operationType:o})}static async _forOperation(e,o,c){await e._updateTokensIfNecessary(c,!0);const et=providerIdForResponse(c);return new UserCredentialImpl({user:e,providerId:et,_tokenResponse:c,operationType:o})}}function providerIdForResponse(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,o,c,et){var tt;super(o.code,o.message),this.operationType=c,this.user=et,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(tt=e.tenantId)!==null&&tt!==void 0?tt:void 0,_serverResponse:o.customData._serverResponse,operationType:c}}static _fromErrorAndOperation(e,o,c,et){return new MultiFactorError(e,o,c,et)}}function _processCredentialSavingMfaContextIfNecessary(a,e,o,c){return(e==="reauthenticate"?o._getReauthenticationResolver(a):o._getIdTokenResponse(a)).catch(tt=>{throw tt.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(a,tt,e,c):tt})}async function _link$1(a,e,o=!1){const c=await _logoutIfInvalidated(a,e._linkToIdToken(a.auth,await a.getIdToken()),o);return UserCredentialImpl._forOperation(a,"link",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(a,e,o=!1){const{auth:c}=a;if(_isFirebaseServerApp(c.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(c));const et="reauthenticate";try{const tt=await _logoutIfInvalidated(a,_processCredentialSavingMfaContextIfNecessary(c,et,e,a),o);_assert(tt.idToken,c,"internal-error");const nt=_parseToken(tt.idToken);_assert(nt,c,"internal-error");const{sub:rt}=nt;return _assert(a.uid===rt,c,"user-mismatch"),UserCredentialImpl._forOperation(a,et,tt)}catch(tt){throw(tt==null?void 0:tt.code)==="auth/user-not-found"&&_fail(c,"user-mismatch"),tt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(a,e,o=!1){if(_isFirebaseServerApp(a.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(a));const c="signIn",et=await _processCredentialSavingMfaContextIfNecessary(a,c,e),tt=await UserCredentialImpl._fromIdTokenResponse(a,c,et);return o||await a._updateCurrentUser(tt.user),tt}async function signInWithCredential(a,e){return _signInWithCredential(_castAuth(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(a){const e=_castAuth(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function createUserWithEmailAndPassword(a,e,o){if(_isFirebaseServerApp(a.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(a));const c=_castAuth(a),nt=await handleRecaptchaFlow(c,{returnSecureToken:!0,email:e,password:o,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(mt=>{throw mt.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(a),mt}),rt=await UserCredentialImpl._fromIdTokenResponse(c,"signIn",nt);return await c._updateCurrentUser(rt.user),rt}function signInWithEmailAndPassword(a,e,o){return _isFirebaseServerApp(a.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(a)):signInWithCredential(getModularInstance(a),EmailAuthProvider.credential(e,o)).catch(async c=>{throw c.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(a),c})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createAuthUri(a,e){return _performApiRequest(a,"POST","/v1/accounts:createAuthUri",_addTidIfNecessary(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fetchSignInMethodsForEmail(a,e){const o=_isHttpOrHttps()?_getCurrentUrl():"http://localhost",c={identifier:e,continueUri:o},{signinMethods:et}=await createAuthUri(getModularInstance(a),c);return et||[]}async function sendEmailVerification(a,e){const o=getModularInstance(a),et={requestType:"VERIFY_EMAIL",idToken:await a.getIdToken()},{email:tt}=await sendEmailVerification$1(o.auth,et);tt!==a.email&&await a.reload()}function onIdTokenChanged(a,e,o,c){return getModularInstance(a).onIdTokenChanged(e,o,c)}function beforeAuthStateChanged(a,e,o){return getModularInstance(a).beforeAuthStateChanged(e,o)}function onAuthStateChanged(a,e,o,c){return getModularInstance(a).onAuthStateChanged(e,o,c)}function signOut$1(a){return getModularInstance(a).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,o){this.storageRetriever=e,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,o){return this.storage.setItem(e,JSON.stringify(o)),Promise.resolve()}_get(e){const o=this.storage.getItem(e);return Promise.resolve(o?JSON.parse(o):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,o)=>this.onStorageEvent(e,o),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const o of Object.keys(this.listeners)){const c=this.storage.getItem(o),et=this.localCache[o];c!==et&&e(o,et,c)}}onStorageEvent(e,o=!1){if(!e.key){this.forAllChangedKeys((nt,rt,mt)=>{this.notifyListeners(nt,mt)});return}const c=e.key;o?this.detachListener():this.stopPolling();const et=()=>{const nt=this.storage.getItem(c);!o&&this.localCache[c]===nt||this.notifyListeners(c,nt)},tt=this.storage.getItem(c);_isIE10()&&tt!==e.newValue&&e.newValue!==e.oldValue?setTimeout(et,IE10_LOCAL_STORAGE_SYNC_DELAY):et()}notifyListeners(e,o){this.localCache[e]=o;const c=this.listeners[e];if(c)for(const et of Array.from(c))et(o&&JSON.parse(o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,o,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:o,newValue:c}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,o){await super._set(e,o),this.localCache[e]=JSON.stringify(o)}async _get(e){const o=await super._get(e);return this.localCache[e]=JSON.stringify(o),o}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,o){}_removeListener(e,o){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(o){return{fulfilled:!1,reason:o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const o=this.receivers.find(et=>et.isListeningto(e));if(o)return o;const c=new Receiver(e);return this.receivers.push(c),c}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const o=e,{eventId:c,eventType:et,data:tt}=o.data,nt=this.handlersMap[et];if(!(nt!=null&&nt.size))return;o.ports[0].postMessage({status:"ack",eventId:c,eventType:et});const rt=Array.from(nt).map(async gt=>gt(o.origin,tt)),mt=await _allSettled(rt);o.ports[0].postMessage({status:"done",eventId:c,eventType:et,response:mt})}_subscribe(e,o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(o)}_unsubscribe(e,o){this.handlersMap[e]&&o&&this.handlersMap[e].delete(o),(!o||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(a="",e=10){let o="";for(let c=0;c<e;c++)o+=Math.floor(Math.random()*10);return a+o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,o,c=50){const et=typeof MessageChannel<"u"?new MessageChannel:null;if(!et)throw new Error("connection_unavailable");let tt,nt;return new Promise((rt,mt)=>{const gt=_generateEventId("",20);et.port1.start();const yt=setTimeout(()=>{mt(new Error("unsupported_event"))},c);nt={messageChannel:et,onMessage(vt){const xt=vt;if(xt.data.eventId===gt)switch(xt.data.status){case"ack":clearTimeout(yt),tt=setTimeout(()=>{mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(tt),rt(xt.data.response);break;default:clearTimeout(yt),clearTimeout(tt),mt(new Error("invalid_response"));break}}},this.handlers.add(nt),et.port1.addEventListener("message",nt.onMessage),this.target.postMessage({eventType:e,eventId:gt,data:o},[et.port2])}).finally(()=>{nt&&this.removeMessageHandler(nt)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(a){_window().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,o)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function getObjectStore(a,e){return a.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const a=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(a).toPromise()}function _openDatabase(){const a=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,o)=>{a.addEventListener("error",()=>{o(a.error)}),a.addEventListener("upgradeneeded",()=>{const c=a.result;try{c.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(et){o(et)}}),a.addEventListener("success",async()=>{const c=a.result;c.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(c):(c.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(a,e,o){const c=getObjectStore(a,!0).put({[DB_DATA_KEYPATH]:e,value:o});return new DBPromise(c).toPromise()}async function getObject(a,e){const o=getObjectStore(a,!1).get(e),c=await new DBPromise(o).toPromise();return c===void 0?null:c.value}function _deleteObject(a,e){const o=getObjectStore(a,!0).delete(e);return new DBPromise(o).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let o=0;for(;;)try{const c=await this._openDb();return await e(c)}catch(c){if(o++>_TRANSACTION_RETRY_COUNT)throw c;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,o)=>({keyProcessed:(await this._poll()).includes(o.key)})),this.receiver._subscribe("ping",async(e,o)=>["keyChanged"])}async initializeSender(){var e,o;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const c=await this.sender._send("ping",{},800);c&&!((e=c[0])===null||e===void 0)&&e.fulfilled&&!((o=c[0])===null||o===void 0)&&o.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,o){return this._withPendingWrite(async()=>(await this._withRetries(c=>_putObject(c,e,o)),this.localCache[e]=o,this.notifyServiceWorker(e)))}async _get(e){const o=await this._withRetries(c=>getObject(c,e));return this.localCache[e]=o,o}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(o=>_deleteObject(o,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(et=>{const tt=getObjectStore(et,!1).getAll();return new DBPromise(tt).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const o=[],c=new Set;if(e.length!==0)for(const{fbase_key:et,value:tt}of e)c.add(et),JSON.stringify(this.localCache[et])!==JSON.stringify(tt)&&(this.notifyListeners(et,tt),o.push(et));for(const et of Object.keys(this.localCache))this.localCache[et]&&!c.has(et)&&(this.notifyListeners(et,null),o.push(et));return o}notifyListeners(e,o){this.localCache[e]=o;const c=this.listeners[e];if(c)for(const et of Array.from(c))et(o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(a,e){return e?_getInstance(e):(_assert(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,o){return signInWithIdp(e,this._buildIdpRequest(o))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(o.idToken=e),o}}function _signIn(a){return _signInWithCredential(a.auth,new IdpCredential(a),a.bypassAuthState)}function _reauth(a){const{auth:e,user:o}=a;return _assert(o,e,"internal-error"),_reauthenticate(o,new IdpCredential(a),a.bypassAuthState)}async function _link(a){const{auth:e,user:o}=a;return _assert(o,e,"internal-error"),_link$1(o,new IdpCredential(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,o,c,et,tt=!1){this.auth=e,this.resolver=c,this.user=et,this.bypassAuthState=tt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){return new Promise(async(e,o)=>{this.pendingPromise={resolve:e,reject:o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(c){this.reject(c)}})}async onAuthEvent(e){const{urlResponse:o,sessionId:c,postBody:et,tenantId:tt,error:nt,type:rt}=e;if(nt){this.reject(nt);return}const mt={auth:this.auth,requestUri:o,sessionId:c,tenantId:tt||void 0,postBody:et||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(rt)(mt))}catch(gt){this.reject(gt)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(a,e,o){if(_isFirebaseServerApp(a.app))return Promise.reject(_createError(a,"operation-not-supported-in-this-environment"));const c=_castAuth(a);_assertInstanceOf(a,e,FederatedAuthProvider);const et=_withDefaultResolver(c,o);return new PopupOperation(c,"signInViaPopup",e,et).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,o,c,et,tt){super(e,o,et,tt),this.provider=c,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(o=>{this.reject(o)}),this.resolver._isIframeWebStorageSupported(this.auth,o=>{o||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var o,c;if(!((c=(o=this.authWindow)===null||o===void 0?void 0:o.window)===null||c===void 0)&&c.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,o,c=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,c),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const c=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(c)}catch(o){e=()=>Promise.reject(o)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const o=await this.auth._redirectUserForId(e.eventId);if(o)return this.user=o,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(a,e){const o=pendingRedirectKey(e),c=resolverPersistence(a);if(!await c._isAvailable())return!1;const et=await c._get(o)==="true";return await c._remove(o),et}function _overrideRedirectResult(a,e){redirectOutcomeMap.set(a._key(),e)}function resolverPersistence(a){return _getInstance(a._redirectPersistence)}function pendingRedirectKey(a){return _persistenceKeyName(PENDING_REDIRECT_KEY,a.config.apiKey,a.name)}async function _getRedirectResult(a,e,o=!1){if(_isFirebaseServerApp(a.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(a));const c=_castAuth(a),et=_withDefaultResolver(c,e),nt=await new RedirectAction(c,et,o).execute();return nt&&!o&&(delete nt.user._redirectEventId,await c._persistUserIfCurrent(nt.user),await c._setRedirectUser(null,e)),nt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let o=!1;return this.consumers.forEach(c=>{this.isEventForConsumer(e,c)&&(o=!0,this.sendToConsumer(e,c),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=e,o=!0)),o}sendToConsumer(e,o){var c;if(e.error&&!isNullRedirectEvent(e)){const et=((c=e.error.code)===null||c===void 0?void 0:c.split("auth/")[1])||"internal-error";o.onError(_createError(this.auth,et))}else o.onAuthEvent(e)}isEventForConsumer(e,o){const c=o.eventId===null||!!e.eventId&&e.eventId===o.eventId;return o.filter.includes(e.type)&&c}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(a,e={}){return _performApiRequest(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(a){if(a.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(a);for(const o of e)try{if(matchDomain(o))return}catch{}_fail(a,"unauthorized-domain")}function matchDomain(a){const e=_getCurrentUrl(),{protocol:o,hostname:c}=new URL(e);if(a.startsWith("chrome-extension://")){const nt=new URL(a);return nt.hostname===""&&c===""?o==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):o==="chrome-extension:"&&nt.hostname===c}if(!HTTP_REGEX.test(o))return!1;if(IP_ADDRESS_REGEX.test(a))return c===a;const et=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+et+"|"+et+")$","i").test(c)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const a=_window().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let o=0;o<a.CP.length;o++)a.CP[o]=null}}function loadGapi(a){return new Promise((e,o)=>{var c,et,tt;function nt(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),o(_createError(a,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((et=(c=_window().gapi)===null||c===void 0?void 0:c.iframes)===null||et===void 0)&&et.Iframe)e(gapi.iframes.getContext());else if(!((tt=_window().gapi)===null||tt===void 0)&&tt.load)nt();else{const rt=_generateCallbackName("iframefcb");return _window()[rt]=()=>{gapi.load?nt():o(_createError(a,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${rt}`).catch(mt=>o(mt))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(a){return cachedGApiLoader=cachedGApiLoader||loadGapi(a),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(a){const e=a.config;_assert(e.authDomain,a,"auth-domain-config-required");const o=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${a.config.authDomain}/${IFRAME_PATH}`,c={apiKey:e.apiKey,appName:a.name,v:SDK_VERSION},et=EID_FROM_APIHOST.get(a.config.apiHost);et&&(c.eid=et);const tt=a._getFrameworks();return tt.length&&(c.fw=tt.join(",")),`${o}?${querystring(c).slice(1)}`}async function _openIframe(a){const e=await _loadGapi(a),o=_window().gapi;return _assert(o,a,"internal-error"),e.open({where:document.body,url:getIframeUrl(a),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},c=>new Promise(async(et,tt)=>{await c.restyle({setHideOnLeave:!1});const nt=_createError(a,"network-request-failed"),rt=_window().setTimeout(()=>{tt(nt)},PING_TIMEOUT.get());function mt(){_window().clearTimeout(rt),et(c)}c.ping(mt).then(mt,()=>{tt(nt)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(a,e,o,c=DEFAULT_WIDTH,et=DEFAULT_HEIGHT){const tt=Math.max((window.screen.availHeight-et)/2,0).toString(),nt=Math.max((window.screen.availWidth-c)/2,0).toString();let rt="";const mt=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:c.toString(),height:et.toString(),top:tt,left:nt}),gt=getUA().toLowerCase();o&&(rt=_isChromeIOS(gt)?TARGET_BLANK:o),_isFirefox(gt)&&(e=e||FIREFOX_EMPTY_URL,mt.scrollbars="yes");const yt=Object.entries(mt).reduce((xt,[bt,Et])=>`${xt}${bt}=${Et},`,"");if(_isIOSStandalone(gt)&&rt!=="_self")return openAsNewWindowIOS(e||"",rt),new AuthPopup(null);const vt=window.open(e||"",rt,yt);_assert(vt,a,"popup-blocked");try{vt.focus()}catch{}return new AuthPopup(vt)}function openAsNewWindowIOS(a,e){const o=document.createElement("a");o.href=a,o.target=e;const c=document.createEvent("MouseEvent");c.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(a,e,o,c,et,tt){_assert(a.config.authDomain,a,"auth-domain-config-required"),_assert(a.config.apiKey,a,"invalid-api-key");const nt={apiKey:a.config.apiKey,appName:a.name,authType:o,redirectUrl:c,v:SDK_VERSION,eventId:et};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(a.languageCode),nt.providerId=e.providerId||"",isEmpty$1(e.getCustomParameters())||(nt.customParameters=JSON.stringify(e.getCustomParameters()));for(const[yt,vt]of Object.entries({}))nt[yt]=vt}if(e instanceof BaseOAuthProvider){const yt=e.getScopes().filter(vt=>vt!=="");yt.length>0&&(nt.scopes=yt.join(","))}a.tenantId&&(nt.tid=a.tenantId);const rt=nt;for(const yt of Object.keys(rt))rt[yt]===void 0&&delete rt[yt];const mt=await a._getAppCheckToken(),gt=mt?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(mt)}`:"";return`${getHandlerBase(a)}?${querystring(rt).slice(1)}${gt}`}function getHandlerBase({config:a}){return a.emulator?_emulatorUrl(a,EMULATOR_WIDGET_PATH):`https://${a.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,o,c,et){var tt;debugAssert((tt=this.eventManagers[e._key()])===null||tt===void 0?void 0:tt.manager,"_initialize() not called before _openPopup()");const nt=await _getRedirectUrl(e,o,c,_getCurrentUrl(),et);return _open(e,nt,_generateEventId())}async _openRedirect(e,o,c,et){await this._originValidation(e);const tt=await _getRedirectUrl(e,o,c,_getCurrentUrl(),et);return _setWindowLocation(tt),new Promise(()=>{})}_initialize(e){const o=e._key();if(this.eventManagers[o]){const{manager:et,promise:tt}=this.eventManagers[o];return et?Promise.resolve(et):(debugAssert(tt,"If manager is not set, promise should be"),tt)}const c=this.initAndGetManager(e);return this.eventManagers[o]={promise:c},c.catch(()=>{delete this.eventManagers[o]}),c}async initAndGetManager(e){const o=await _openIframe(e),c=new AuthEventManager(e);return o.register("authEvent",et=>(_assert(et==null?void 0:et.authEvent,e,"invalid-auth-event"),{status:c.onEvent(et.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:c},this.iframes[e._key()]=o,c}_isIframeWebStorageSupported(e,o){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},et=>{var tt;const nt=(tt=et==null?void 0:et[0])===null||tt===void 0?void 0:tt[WEB_STORAGE_SUPPORT_KEY];nt!==void 0&&o(!!nt),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const o=e._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=_validateOrigin(e)),this.originValidationPromises[o]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$4="@firebase/auth",version$4="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const o=this.auth.onIdTokenChanged(c=>{e((c==null?void 0:c.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,o),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const o=this.internalListeners.get(e);o&&(this.internalListeners.delete(e),o(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(a){_registerComponent(new Component("auth",(e,{options:o})=>{const c=e.getProvider("app").getImmediate(),et=e.getProvider("heartbeat"),tt=e.getProvider("app-check-internal"),{apiKey:nt,authDomain:rt}=c.options;_assert(nt&&!nt.includes(":"),"invalid-api-key",{appName:c.name});const mt={apiKey:nt,authDomain:rt,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(a)},gt=new AuthImpl(c,et,tt,mt);return _initializeAuthInstance(gt,o),gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,o,c)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const o=_castAuth(e.getProvider("auth").getImmediate());return(c=>new AuthInterop(c))(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$4,version$4,getVersionForPlatform(a)),registerVersion(name$4,version$4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=a=>async e=>{const o=e&&await e.getIdTokenResult(),c=o&&(new Date().getTime()-Date.parse(o.issuedAtTime))/1e3;if(c&&c>authIdTokenMaxAge)return;const et=o==null?void 0:o.token;lastPostedIdToken!==et&&(lastPostedIdToken=et,await fetch(a,{method:et?"POST":"DELETE",headers:et?{Authorization:`Bearer ${et}`}:{}}))};function getAuth(a=getApp()){const e=_getProvider(a,"auth");if(e.isInitialized())return e.getImmediate();const o=initializeAuth(a,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),c=getExperimentalSetting("authTokenSyncURL");if(c&&typeof isSecureContext=="boolean"&&isSecureContext){const tt=new URL(c,location.origin);if(location.origin===tt.origin){const nt=mintCookieFactory(tt.toString());beforeAuthStateChanged(o,nt,()=>nt(o.currentUser)),onIdTokenChanged(o,rt=>nt(rt))}}const et=getDefaultEmulatorHost("auth");return et&&connectAuthEmulator(o,`http://${et}`),o}function getScriptParentElement(){var a,e;return(e=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&e!==void 0?e:document}_setExternalJSProvider({loadJS(a){return new Promise((e,o)=>{const c=document.createElement("script");c.setAttribute("src",a),c.onload=e,c.onerror=et=>{const tt=_createError("internal-error");tt.customData=et,o(tt)},c.type="text/javascript",c.charset="UTF-8",getScriptParentElement().appendChild(c)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Dt,Ct){function At(){}At.prototype=Ct.prototype,Dt.D=Ct.prototype,Dt.prototype=new At,Dt.prototype.constructor=Dt,Dt.C=function(Lt,jt,Bt){for(var zt=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)zt[Yt-2]=arguments[Yt];return Ct.prototype[jt].apply(Lt,zt)}}function o(){this.blockSize=-1}function c(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(c,o),c.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function et(Dt,Ct,At){At||(At=0);var Lt=Array(16);if(typeof Ct=="string")for(var jt=0;16>jt;++jt)Lt[jt]=Ct.charCodeAt(At++)|Ct.charCodeAt(At++)<<8|Ct.charCodeAt(At++)<<16|Ct.charCodeAt(At++)<<24;else for(jt=0;16>jt;++jt)Lt[jt]=Ct[At++]|Ct[At++]<<8|Ct[At++]<<16|Ct[At++]<<24;Ct=Dt.g[0],At=Dt.g[1],jt=Dt.g[2];var Bt=Dt.g[3],zt=Ct+(Bt^At&(jt^Bt))+Lt[0]+3614090360&4294967295;Ct=At+(zt<<7&4294967295|zt>>>25),zt=Bt+(jt^Ct&(At^jt))+Lt[1]+3905402710&4294967295,Bt=Ct+(zt<<12&4294967295|zt>>>20),zt=jt+(At^Bt&(Ct^At))+Lt[2]+606105819&4294967295,jt=Bt+(zt<<17&4294967295|zt>>>15),zt=At+(Ct^jt&(Bt^Ct))+Lt[3]+3250441966&4294967295,At=jt+(zt<<22&4294967295|zt>>>10),zt=Ct+(Bt^At&(jt^Bt))+Lt[4]+4118548399&4294967295,Ct=At+(zt<<7&4294967295|zt>>>25),zt=Bt+(jt^Ct&(At^jt))+Lt[5]+1200080426&4294967295,Bt=Ct+(zt<<12&4294967295|zt>>>20),zt=jt+(At^Bt&(Ct^At))+Lt[6]+2821735955&4294967295,jt=Bt+(zt<<17&4294967295|zt>>>15),zt=At+(Ct^jt&(Bt^Ct))+Lt[7]+4249261313&4294967295,At=jt+(zt<<22&4294967295|zt>>>10),zt=Ct+(Bt^At&(jt^Bt))+Lt[8]+1770035416&4294967295,Ct=At+(zt<<7&4294967295|zt>>>25),zt=Bt+(jt^Ct&(At^jt))+Lt[9]+2336552879&4294967295,Bt=Ct+(zt<<12&4294967295|zt>>>20),zt=jt+(At^Bt&(Ct^At))+Lt[10]+4294925233&4294967295,jt=Bt+(zt<<17&4294967295|zt>>>15),zt=At+(Ct^jt&(Bt^Ct))+Lt[11]+2304563134&4294967295,At=jt+(zt<<22&4294967295|zt>>>10),zt=Ct+(Bt^At&(jt^Bt))+Lt[12]+1804603682&4294967295,Ct=At+(zt<<7&4294967295|zt>>>25),zt=Bt+(jt^Ct&(At^jt))+Lt[13]+4254626195&4294967295,Bt=Ct+(zt<<12&4294967295|zt>>>20),zt=jt+(At^Bt&(Ct^At))+Lt[14]+2792965006&4294967295,jt=Bt+(zt<<17&4294967295|zt>>>15),zt=At+(Ct^jt&(Bt^Ct))+Lt[15]+1236535329&4294967295,At=jt+(zt<<22&4294967295|zt>>>10),zt=Ct+(jt^Bt&(At^jt))+Lt[1]+4129170786&4294967295,Ct=At+(zt<<5&4294967295|zt>>>27),zt=Bt+(At^jt&(Ct^At))+Lt[6]+3225465664&4294967295,Bt=Ct+(zt<<9&4294967295|zt>>>23),zt=jt+(Ct^At&(Bt^Ct))+Lt[11]+643717713&4294967295,jt=Bt+(zt<<14&4294967295|zt>>>18),zt=At+(Bt^Ct&(jt^Bt))+Lt[0]+3921069994&4294967295,At=jt+(zt<<20&4294967295|zt>>>12),zt=Ct+(jt^Bt&(At^jt))+Lt[5]+3593408605&4294967295,Ct=At+(zt<<5&4294967295|zt>>>27),zt=Bt+(At^jt&(Ct^At))+Lt[10]+38016083&4294967295,Bt=Ct+(zt<<9&4294967295|zt>>>23),zt=jt+(Ct^At&(Bt^Ct))+Lt[15]+3634488961&4294967295,jt=Bt+(zt<<14&4294967295|zt>>>18),zt=At+(Bt^Ct&(jt^Bt))+Lt[4]+3889429448&4294967295,At=jt+(zt<<20&4294967295|zt>>>12),zt=Ct+(jt^Bt&(At^jt))+Lt[9]+568446438&4294967295,Ct=At+(zt<<5&4294967295|zt>>>27),zt=Bt+(At^jt&(Ct^At))+Lt[14]+3275163606&4294967295,Bt=Ct+(zt<<9&4294967295|zt>>>23),zt=jt+(Ct^At&(Bt^Ct))+Lt[3]+4107603335&4294967295,jt=Bt+(zt<<14&4294967295|zt>>>18),zt=At+(Bt^Ct&(jt^Bt))+Lt[8]+1163531501&4294967295,At=jt+(zt<<20&4294967295|zt>>>12),zt=Ct+(jt^Bt&(At^jt))+Lt[13]+2850285829&4294967295,Ct=At+(zt<<5&4294967295|zt>>>27),zt=Bt+(At^jt&(Ct^At))+Lt[2]+4243563512&4294967295,Bt=Ct+(zt<<9&4294967295|zt>>>23),zt=jt+(Ct^At&(Bt^Ct))+Lt[7]+1735328473&4294967295,jt=Bt+(zt<<14&4294967295|zt>>>18),zt=At+(Bt^Ct&(jt^Bt))+Lt[12]+2368359562&4294967295,At=jt+(zt<<20&4294967295|zt>>>12),zt=Ct+(At^jt^Bt)+Lt[5]+4294588738&4294967295,Ct=At+(zt<<4&4294967295|zt>>>28),zt=Bt+(Ct^At^jt)+Lt[8]+2272392833&4294967295,Bt=Ct+(zt<<11&4294967295|zt>>>21),zt=jt+(Bt^Ct^At)+Lt[11]+1839030562&4294967295,jt=Bt+(zt<<16&4294967295|zt>>>16),zt=At+(jt^Bt^Ct)+Lt[14]+4259657740&4294967295,At=jt+(zt<<23&4294967295|zt>>>9),zt=Ct+(At^jt^Bt)+Lt[1]+2763975236&4294967295,Ct=At+(zt<<4&4294967295|zt>>>28),zt=Bt+(Ct^At^jt)+Lt[4]+1272893353&4294967295,Bt=Ct+(zt<<11&4294967295|zt>>>21),zt=jt+(Bt^Ct^At)+Lt[7]+4139469664&4294967295,jt=Bt+(zt<<16&4294967295|zt>>>16),zt=At+(jt^Bt^Ct)+Lt[10]+3200236656&4294967295,At=jt+(zt<<23&4294967295|zt>>>9),zt=Ct+(At^jt^Bt)+Lt[13]+681279174&4294967295,Ct=At+(zt<<4&4294967295|zt>>>28),zt=Bt+(Ct^At^jt)+Lt[0]+3936430074&4294967295,Bt=Ct+(zt<<11&4294967295|zt>>>21),zt=jt+(Bt^Ct^At)+Lt[3]+3572445317&4294967295,jt=Bt+(zt<<16&4294967295|zt>>>16),zt=At+(jt^Bt^Ct)+Lt[6]+76029189&4294967295,At=jt+(zt<<23&4294967295|zt>>>9),zt=Ct+(At^jt^Bt)+Lt[9]+3654602809&4294967295,Ct=At+(zt<<4&4294967295|zt>>>28),zt=Bt+(Ct^At^jt)+Lt[12]+3873151461&4294967295,Bt=Ct+(zt<<11&4294967295|zt>>>21),zt=jt+(Bt^Ct^At)+Lt[15]+530742520&4294967295,jt=Bt+(zt<<16&4294967295|zt>>>16),zt=At+(jt^Bt^Ct)+Lt[2]+3299628645&4294967295,At=jt+(zt<<23&4294967295|zt>>>9),zt=Ct+(jt^(At|~Bt))+Lt[0]+4096336452&4294967295,Ct=At+(zt<<6&4294967295|zt>>>26),zt=Bt+(At^(Ct|~jt))+Lt[7]+1126891415&4294967295,Bt=Ct+(zt<<10&4294967295|zt>>>22),zt=jt+(Ct^(Bt|~At))+Lt[14]+2878612391&4294967295,jt=Bt+(zt<<15&4294967295|zt>>>17),zt=At+(Bt^(jt|~Ct))+Lt[5]+4237533241&4294967295,At=jt+(zt<<21&4294967295|zt>>>11),zt=Ct+(jt^(At|~Bt))+Lt[12]+1700485571&4294967295,Ct=At+(zt<<6&4294967295|zt>>>26),zt=Bt+(At^(Ct|~jt))+Lt[3]+2399980690&4294967295,Bt=Ct+(zt<<10&4294967295|zt>>>22),zt=jt+(Ct^(Bt|~At))+Lt[10]+4293915773&4294967295,jt=Bt+(zt<<15&4294967295|zt>>>17),zt=At+(Bt^(jt|~Ct))+Lt[1]+2240044497&4294967295,At=jt+(zt<<21&4294967295|zt>>>11),zt=Ct+(jt^(At|~Bt))+Lt[8]+1873313359&4294967295,Ct=At+(zt<<6&4294967295|zt>>>26),zt=Bt+(At^(Ct|~jt))+Lt[15]+4264355552&4294967295,Bt=Ct+(zt<<10&4294967295|zt>>>22),zt=jt+(Ct^(Bt|~At))+Lt[6]+2734768916&4294967295,jt=Bt+(zt<<15&4294967295|zt>>>17),zt=At+(Bt^(jt|~Ct))+Lt[13]+1309151649&4294967295,At=jt+(zt<<21&4294967295|zt>>>11),zt=Ct+(jt^(At|~Bt))+Lt[4]+4149444226&4294967295,Ct=At+(zt<<6&4294967295|zt>>>26),zt=Bt+(At^(Ct|~jt))+Lt[11]+3174756917&4294967295,Bt=Ct+(zt<<10&4294967295|zt>>>22),zt=jt+(Ct^(Bt|~At))+Lt[2]+718787259&4294967295,jt=Bt+(zt<<15&4294967295|zt>>>17),zt=At+(Bt^(jt|~Ct))+Lt[9]+3951481745&4294967295,Dt.g[0]=Dt.g[0]+Ct&4294967295,Dt.g[1]=Dt.g[1]+(jt+(zt<<21&4294967295|zt>>>11))&4294967295,Dt.g[2]=Dt.g[2]+jt&4294967295,Dt.g[3]=Dt.g[3]+Bt&4294967295}c.prototype.u=function(Dt,Ct){Ct===void 0&&(Ct=Dt.length);for(var At=Ct-this.blockSize,Lt=this.B,jt=this.h,Bt=0;Bt<Ct;){if(jt==0)for(;Bt<=At;)et(this,Dt,Bt),Bt+=this.blockSize;if(typeof Dt=="string"){for(;Bt<Ct;)if(Lt[jt++]=Dt.charCodeAt(Bt++),jt==this.blockSize){et(this,Lt),jt=0;break}}else for(;Bt<Ct;)if(Lt[jt++]=Dt[Bt++],jt==this.blockSize){et(this,Lt),jt=0;break}}this.h=jt,this.o+=Ct},c.prototype.v=function(){var Dt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Dt[0]=128;for(var Ct=1;Ct<Dt.length-8;++Ct)Dt[Ct]=0;var At=8*this.o;for(Ct=Dt.length-8;Ct<Dt.length;++Ct)Dt[Ct]=At&255,At/=256;for(this.u(Dt),Dt=Array(16),Ct=At=0;4>Ct;++Ct)for(var Lt=0;32>Lt;Lt+=8)Dt[At++]=this.g[Ct]>>>Lt&255;return Dt};function tt(Dt,Ct){var At=rt;return Object.prototype.hasOwnProperty.call(At,Dt)?At[Dt]:At[Dt]=Ct(Dt)}function nt(Dt,Ct){this.h=Ct;for(var At=[],Lt=!0,jt=Dt.length-1;0<=jt;jt--){var Bt=Dt[jt]|0;Lt&&Bt==Ct||(At[jt]=Bt,Lt=!1)}this.g=At}var rt={};function mt(Dt){return-128<=Dt&&128>Dt?tt(Dt,function(Ct){return new nt([Ct|0],0>Ct?-1:0)}):new nt([Dt|0],0>Dt?-1:0)}function gt(Dt){if(isNaN(Dt)||!isFinite(Dt))return vt;if(0>Dt)return St(gt(-Dt));for(var Ct=[],At=1,Lt=0;Dt>=At;Lt++)Ct[Lt]=Dt/At|0,At*=4294967296;return new nt(Ct,0)}function yt(Dt,Ct){if(Dt.length==0)throw Error("number format error: empty string");if(Ct=Ct||10,2>Ct||36<Ct)throw Error("radix out of range: "+Ct);if(Dt.charAt(0)=="-")return St(yt(Dt.substring(1),Ct));if(0<=Dt.indexOf("-"))throw Error('number format error: interior "-" character');for(var At=gt(Math.pow(Ct,8)),Lt=vt,jt=0;jt<Dt.length;jt+=8){var Bt=Math.min(8,Dt.length-jt),zt=parseInt(Dt.substring(jt,jt+Bt),Ct);8>Bt?(Bt=gt(Math.pow(Ct,Bt)),Lt=Lt.j(Bt).add(gt(zt))):(Lt=Lt.j(At),Lt=Lt.add(gt(zt)))}return Lt}var vt=mt(0),xt=mt(1),bt=mt(16777216);a=nt.prototype,a.m=function(){if(wt(this))return-St(this).m();for(var Dt=0,Ct=1,At=0;At<this.g.length;At++){var Lt=this.i(At);Dt+=(0<=Lt?Lt:4294967296+Lt)*Ct,Ct*=4294967296}return Dt},a.toString=function(Dt){if(Dt=Dt||10,2>Dt||36<Dt)throw Error("radix out of range: "+Dt);if(Et(this))return"0";if(wt(this))return"-"+St(this).toString(Dt);for(var Ct=gt(Math.pow(Dt,6)),At=this,Lt="";;){var jt=Mt(At,Ct).g;At=Tt(At,jt.j(Ct));var Bt=((0<At.g.length?At.g[0]:At.h)>>>0).toString(Dt);if(At=jt,Et(At))return Bt+Lt;for(;6>Bt.length;)Bt="0"+Bt;Lt=Bt+Lt}},a.i=function(Dt){return 0>Dt?0:Dt<this.g.length?this.g[Dt]:this.h};function Et(Dt){if(Dt.h!=0)return!1;for(var Ct=0;Ct<Dt.g.length;Ct++)if(Dt.g[Ct]!=0)return!1;return!0}function wt(Dt){return Dt.h==-1}a.l=function(Dt){return Dt=Tt(this,Dt),wt(Dt)?-1:Et(Dt)?0:1};function St(Dt){for(var Ct=Dt.g.length,At=[],Lt=0;Lt<Ct;Lt++)At[Lt]=~Dt.g[Lt];return new nt(At,~Dt.h).add(xt)}a.abs=function(){return wt(this)?St(this):this},a.add=function(Dt){for(var Ct=Math.max(this.g.length,Dt.g.length),At=[],Lt=0,jt=0;jt<=Ct;jt++){var Bt=Lt+(this.i(jt)&65535)+(Dt.i(jt)&65535),zt=(Bt>>>16)+(this.i(jt)>>>16)+(Dt.i(jt)>>>16);Lt=zt>>>16,Bt&=65535,zt&=65535,At[jt]=zt<<16|Bt}return new nt(At,At[At.length-1]&-2147483648?-1:0)};function Tt(Dt,Ct){return Dt.add(St(Ct))}a.j=function(Dt){if(Et(this)||Et(Dt))return vt;if(wt(this))return wt(Dt)?St(this).j(St(Dt)):St(St(this).j(Dt));if(wt(Dt))return St(this.j(St(Dt)));if(0>this.l(bt)&&0>Dt.l(bt))return gt(this.m()*Dt.m());for(var Ct=this.g.length+Dt.g.length,At=[],Lt=0;Lt<2*Ct;Lt++)At[Lt]=0;for(Lt=0;Lt<this.g.length;Lt++)for(var jt=0;jt<Dt.g.length;jt++){var Bt=this.i(Lt)>>>16,zt=this.i(Lt)&65535,Yt=Dt.i(jt)>>>16,en=Dt.i(jt)&65535;At[2*Lt+2*jt]+=zt*en,kt(At,2*Lt+2*jt),At[2*Lt+2*jt+1]+=Bt*en,kt(At,2*Lt+2*jt+1),At[2*Lt+2*jt+1]+=zt*Yt,kt(At,2*Lt+2*jt+1),At[2*Lt+2*jt+2]+=Bt*Yt,kt(At,2*Lt+2*jt+2)}for(Lt=0;Lt<Ct;Lt++)At[Lt]=At[2*Lt+1]<<16|At[2*Lt];for(Lt=Ct;Lt<2*Ct;Lt++)At[Lt]=0;return new nt(At,0)};function kt(Dt,Ct){for(;(Dt[Ct]&65535)!=Dt[Ct];)Dt[Ct+1]+=Dt[Ct]>>>16,Dt[Ct]&=65535,Ct++}function _t(Dt,Ct){this.g=Dt,this.h=Ct}function Mt(Dt,Ct){if(Et(Ct))throw Error("division by zero");if(Et(Dt))return new _t(vt,vt);if(wt(Dt))return Ct=Mt(St(Dt),Ct),new _t(St(Ct.g),St(Ct.h));if(wt(Ct))return Ct=Mt(Dt,St(Ct)),new _t(St(Ct.g),Ct.h);if(30<Dt.g.length){if(wt(Dt)||wt(Ct))throw Error("slowDivide_ only works with positive integers.");for(var At=xt,Lt=Ct;0>=Lt.l(Dt);)At=Pt(At),Lt=Pt(Lt);var jt=It(At,1),Bt=It(Lt,1);for(Lt=It(Lt,2),At=It(At,2);!Et(Lt);){var zt=Bt.add(Lt);0>=zt.l(Dt)&&(jt=jt.add(At),Bt=zt),Lt=It(Lt,1),At=It(At,1)}return Ct=Tt(Dt,jt.j(Ct)),new _t(jt,Ct)}for(jt=vt;0<=Dt.l(Ct);){for(At=Math.max(1,Math.floor(Dt.m()/Ct.m())),Lt=Math.ceil(Math.log(At)/Math.LN2),Lt=48>=Lt?1:Math.pow(2,Lt-48),Bt=gt(At),zt=Bt.j(Ct);wt(zt)||0<zt.l(Dt);)At-=Lt,Bt=gt(At),zt=Bt.j(Ct);Et(Bt)&&(Bt=xt),jt=jt.add(Bt),Dt=Tt(Dt,zt)}return new _t(jt,Dt)}a.A=function(Dt){return Mt(this,Dt).h},a.and=function(Dt){for(var Ct=Math.max(this.g.length,Dt.g.length),At=[],Lt=0;Lt<Ct;Lt++)At[Lt]=this.i(Lt)&Dt.i(Lt);return new nt(At,this.h&Dt.h)},a.or=function(Dt){for(var Ct=Math.max(this.g.length,Dt.g.length),At=[],Lt=0;Lt<Ct;Lt++)At[Lt]=this.i(Lt)|Dt.i(Lt);return new nt(At,this.h|Dt.h)},a.xor=function(Dt){for(var Ct=Math.max(this.g.length,Dt.g.length),At=[],Lt=0;Lt<Ct;Lt++)At[Lt]=this.i(Lt)^Dt.i(Lt);return new nt(At,this.h^Dt.h)};function Pt(Dt){for(var Ct=Dt.g.length+1,At=[],Lt=0;Lt<Ct;Lt++)At[Lt]=Dt.i(Lt)<<1|Dt.i(Lt-1)>>>31;return new nt(At,Dt.h)}function It(Dt,Ct){var At=Ct>>5;Ct%=32;for(var Lt=Dt.g.length-At,jt=[],Bt=0;Bt<Lt;Bt++)jt[Bt]=0<Ct?Dt.i(Bt+At)>>>Ct|Dt.i(Bt+At+1)<<32-Ct:Dt.i(Bt+At);return new nt(jt,Dt.h)}c.prototype.digest=c.prototype.v,c.prototype.reset=c.prototype.s,c.prototype.update=c.prototype.u,Md5=c,nt.prototype.add=nt.prototype.add,nt.prototype.multiply=nt.prototype.j,nt.prototype.modulo=nt.prototype.A,nt.prototype.compare=nt.prototype.l,nt.prototype.toNumber=nt.prototype.m,nt.prototype.toString=nt.prototype.toString,nt.prototype.getBits=nt.prototype.i,nt.fromNumber=gt,nt.fromString=yt,Integer=nt}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(Rt,Ht,Qt){return Rt==Array.prototype||Rt==Object.prototype||(Rt[Ht]=Qt.value),Rt};function o(Rt){Rt=[typeof globalThis=="object"&&globalThis,Rt,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var Ht=0;Ht<Rt.length;++Ht){var Qt=Rt[Ht];if(Qt&&Qt.Math==Math)return Qt}throw Error("Cannot find global object")}var c=o(this);function et(Rt,Ht){if(Ht)e:{var Qt=c;Rt=Rt.split(".");for(var ln=0;ln<Rt.length-1;ln++){var Hn=Rt[ln];if(!(Hn in Qt))break e;Qt=Qt[Hn]}Rt=Rt[Rt.length-1],ln=Qt[Rt],Ht=Ht(ln),Ht!=ln&&Ht!=null&&e(Qt,Rt,{configurable:!0,writable:!0,value:Ht})}}function tt(Rt,Ht){Rt instanceof String&&(Rt+="");var Qt=0,ln=!1,Hn={next:function(){if(!ln&&Qt<Rt.length){var Jn=Qt++;return{value:Ht(Jn,Rt[Jn]),done:!1}}return ln=!0,{done:!0,value:void 0}}};return Hn[Symbol.iterator]=function(){return Hn},Hn}et("Array.prototype.values",function(Rt){return Rt||function(){return tt(this,function(Ht,Qt){return Qt})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var nt=nt||{},rt=this||self;function mt(Rt){var Ht=typeof Rt;return Ht=Ht!="object"?Ht:Rt?Array.isArray(Rt)?"array":Ht:"null",Ht=="array"||Ht=="object"&&typeof Rt.length=="number"}function gt(Rt){var Ht=typeof Rt;return Ht=="object"&&Rt!=null||Ht=="function"}function yt(Rt,Ht,Qt){return Rt.call.apply(Rt.bind,arguments)}function vt(Rt,Ht,Qt){if(!Rt)throw Error();if(2<arguments.length){var ln=Array.prototype.slice.call(arguments,2);return function(){var Hn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Hn,ln),Rt.apply(Ht,Hn)}}return function(){return Rt.apply(Ht,arguments)}}function xt(Rt,Ht,Qt){return xt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yt:vt,xt.apply(null,arguments)}function bt(Rt,Ht){var Qt=Array.prototype.slice.call(arguments,1);return function(){var ln=Qt.slice();return ln.push.apply(ln,arguments),Rt.apply(this,ln)}}function Et(Rt,Ht){function Qt(){}Qt.prototype=Ht.prototype,Rt.aa=Ht.prototype,Rt.prototype=new Qt,Rt.prototype.constructor=Rt,Rt.Qb=function(ln,Hn,Jn){for(var hr=Array(arguments.length-2),_r=2;_r<arguments.length;_r++)hr[_r-2]=arguments[_r];return Ht.prototype[Hn].apply(ln,hr)}}function wt(Rt){const Ht=Rt.length;if(0<Ht){const Qt=Array(Ht);for(let ln=0;ln<Ht;ln++)Qt[ln]=Rt[ln];return Qt}return[]}function St(Rt,Ht){for(let Qt=1;Qt<arguments.length;Qt++){const ln=arguments[Qt];if(mt(ln)){const Hn=Rt.length||0,Jn=ln.length||0;Rt.length=Hn+Jn;for(let hr=0;hr<Jn;hr++)Rt[Hn+hr]=ln[hr]}else Rt.push(ln)}}class Tt{constructor(Ht,Qt){this.i=Ht,this.j=Qt,this.h=0,this.g=null}get(){let Ht;return 0<this.h?(this.h--,Ht=this.g,this.g=Ht.next,Ht.next=null):Ht=this.i(),Ht}}function kt(Rt){return/^[\s\xa0]*$/.test(Rt)}function _t(){var Rt=rt.navigator;return Rt&&(Rt=Rt.userAgent)?Rt:""}function Mt(Rt){return Mt[" "](Rt),Rt}Mt[" "]=function(){};var Pt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function It(Rt,Ht,Qt){for(const ln in Rt)Ht.call(Qt,Rt[ln],ln,Rt)}function Dt(Rt,Ht){for(const Qt in Rt)Ht.call(void 0,Rt[Qt],Qt,Rt)}function Ct(Rt){const Ht={};for(const Qt in Rt)Ht[Qt]=Rt[Qt];return Ht}const At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lt(Rt,Ht){let Qt,ln;for(let Hn=1;Hn<arguments.length;Hn++){ln=arguments[Hn];for(Qt in ln)Rt[Qt]=ln[Qt];for(let Jn=0;Jn<At.length;Jn++)Qt=At[Jn],Object.prototype.hasOwnProperty.call(ln,Qt)&&(Rt[Qt]=ln[Qt])}}function jt(Rt){var Ht=1;Rt=Rt.split(":");const Qt=[];for(;0<Ht&&Rt.length;)Qt.push(Rt.shift()),Ht--;return Rt.length&&Qt.push(Rt.join(":")),Qt}function Bt(Rt){rt.setTimeout(()=>{throw Rt},0)}function zt(){var Rt=an;let Ht=null;return Rt.g&&(Ht=Rt.g,Rt.g=Rt.g.next,Rt.g||(Rt.h=null),Ht.next=null),Ht}class Yt{constructor(){this.h=this.g=null}add(Ht,Qt){const ln=en.get();ln.set(Ht,Qt),this.h?this.h.next=ln:this.g=ln,this.h=ln}}var en=new Tt(()=>new rn,Rt=>Rt.reset());class rn{constructor(){this.next=this.g=this.h=null}set(Ht,Qt){this.h=Ht,this.g=Qt,this.next=null}reset(){this.next=this.g=this.h=null}}let on,Zt=!1,an=new Yt,Xt=()=>{const Rt=rt.Promise.resolve(void 0);on=()=>{Rt.then(yn)}};var yn=()=>{for(var Rt;Rt=zt();){try{Rt.h.call(Rt.g)}catch(Qt){Bt(Qt)}var Ht=en;Ht.j(Rt),100>Ht.h&&(Ht.h++,Rt.next=Ht.g,Ht.g=Rt)}Zt=!1};function vn(){this.s=this.s,this.C=this.C}vn.prototype.s=!1,vn.prototype.ma=function(){this.s||(this.s=!0,this.N())},vn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Nt(Rt,Ht){this.type=Rt,this.g=this.target=Ht,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!rt.addEventListener||!Object.defineProperty)return!1;var Rt=!1,Ht=Object.defineProperty({},"passive",{get:function(){Rt=!0}});try{const Qt=()=>{};rt.addEventListener("test",Qt,Ht),rt.removeEventListener("test",Qt,Ht)}catch{}return Rt}();function Ot(Rt,Ht){if(Nt.call(this,Rt?Rt.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,Rt){var Qt=this.type=Rt.type,ln=Rt.changedTouches&&Rt.changedTouches.length?Rt.changedTouches[0]:null;if(this.target=Rt.target||Rt.srcElement,this.g=Ht,Ht=Rt.relatedTarget){if(Pt){e:{try{Mt(Ht.nodeName);var Hn=!0;break e}catch{}Hn=!1}Hn||(Ht=null)}}else Qt=="mouseover"?Ht=Rt.fromElement:Qt=="mouseout"&&(Ht=Rt.toElement);this.relatedTarget=Ht,ln?(this.clientX=ln.clientX!==void 0?ln.clientX:ln.pageX,this.clientY=ln.clientY!==void 0?ln.clientY:ln.pageY,this.screenX=ln.screenX||0,this.screenY=ln.screenY||0):(this.clientX=Rt.clientX!==void 0?Rt.clientX:Rt.pageX,this.clientY=Rt.clientY!==void 0?Rt.clientY:Rt.pageY,this.screenX=Rt.screenX||0,this.screenY=Rt.screenY||0),this.button=Rt.button,this.key=Rt.key||"",this.ctrlKey=Rt.ctrlKey,this.altKey=Rt.altKey,this.shiftKey=Rt.shiftKey,this.metaKey=Rt.metaKey,this.pointerId=Rt.pointerId||0,this.pointerType=typeof Rt.pointerType=="string"?Rt.pointerType:Ft[Rt.pointerType]||"",this.state=Rt.state,this.i=Rt,Rt.defaultPrevented&&Ot.aa.h.call(this)}}Et(Ot,Nt);var Ft={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var Rt=this.i;Rt.preventDefault?Rt.preventDefault():Rt.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function Vt(Rt,Ht,Qt,ln,Hn){this.listener=Rt,this.proxy=null,this.src=Ht,this.type=Qt,this.capture=!!ln,this.ha=Hn,this.key=++Gt,this.da=this.fa=!1}function Kt(Rt){Rt.da=!0,Rt.listener=null,Rt.proxy=null,Rt.src=null,Rt.ha=null}function Jt(Rt){this.src=Rt,this.g={},this.h=0}Jt.prototype.add=function(Rt,Ht,Qt,ln,Hn){var Jn=Rt.toString();Rt=this.g[Jn],Rt||(Rt=this.g[Jn]=[],this.h++);var hr=sn(Rt,Ht,ln,Hn);return-1<hr?(Ht=Rt[hr],Qt||(Ht.fa=!1)):(Ht=new Vt(Ht,this.src,Jn,!!ln,Hn),Ht.fa=Qt,Rt.push(Ht)),Ht};function nn(Rt,Ht){var Qt=Ht.type;if(Qt in Rt.g){var ln=Rt.g[Qt],Hn=Array.prototype.indexOf.call(ln,Ht,void 0),Jn;(Jn=0<=Hn)&&Array.prototype.splice.call(ln,Hn,1),Jn&&(Kt(Ht),Rt.g[Qt].length==0&&(delete Rt.g[Qt],Rt.h--))}}function sn(Rt,Ht,Qt,ln){for(var Hn=0;Hn<Rt.length;++Hn){var Jn=Rt[Hn];if(!Jn.da&&Jn.listener==Ht&&Jn.capture==!!Qt&&Jn.ha==ln)return Hn}return-1}var gn="closure_lm_"+(1e6*Math.random()|0),fn={};function In(Rt,Ht,Qt,ln,Hn){if(Array.isArray(Ht)){for(var Jn=0;Jn<Ht.length;Jn++)In(Rt,Ht[Jn],Qt,ln,Hn);return null}return Qt=jn(Qt),Rt&&Rt[Ut]?Rt.K(Ht,Qt,gt(ln)?!!ln.capture:!!ln,Hn):Dn(Rt,Ht,Qt,!1,ln,Hn)}function Dn(Rt,Ht,Qt,ln,Hn,Jn){if(!Ht)throw Error("Invalid event type");var hr=gt(Hn)?!!Hn.capture:!!Hn,_r=xn(Rt);if(_r||(Rt[gn]=_r=new Jt(Rt)),Qt=_r.add(Ht,Qt,ln,hr,Jn),Qt.proxy)return Qt;if(ln=Gn(),Qt.proxy=ln,ln.src=Rt,ln.listener=Qt,Rt.addEventListener)$t||(Hn=hr),Hn===void 0&&(Hn=!1),Rt.addEventListener(Ht.toString(),ln,Hn);else if(Rt.attachEvent)Rt.attachEvent(An(Ht.toString()),ln);else if(Rt.addListener&&Rt.removeListener)Rt.addListener(ln);else throw Error("addEventListener and attachEvent are unavailable.");return Qt}function Gn(){function Rt(Qt){return Ht.call(Rt.src,Rt.listener,Qt)}const Ht=Sn;return Rt}function rr(Rt,Ht,Qt,ln,Hn){if(Array.isArray(Ht))for(var Jn=0;Jn<Ht.length;Jn++)rr(Rt,Ht[Jn],Qt,ln,Hn);else ln=gt(ln)?!!ln.capture:!!ln,Qt=jn(Qt),Rt&&Rt[Ut]?(Rt=Rt.i,Ht=String(Ht).toString(),Ht in Rt.g&&(Jn=Rt.g[Ht],Qt=sn(Jn,Qt,ln,Hn),-1<Qt&&(Kt(Jn[Qt]),Array.prototype.splice.call(Jn,Qt,1),Jn.length==0&&(delete Rt.g[Ht],Rt.h--)))):Rt&&(Rt=xn(Rt))&&(Ht=Rt.g[Ht.toString()],Rt=-1,Ht&&(Rt=sn(Ht,Qt,ln,Hn)),(Qt=-1<Rt?Ht[Rt]:null)&&Bn(Qt))}function Bn(Rt){if(typeof Rt!="number"&&Rt&&!Rt.da){var Ht=Rt.src;if(Ht&&Ht[Ut])nn(Ht.i,Rt);else{var Qt=Rt.type,ln=Rt.proxy;Ht.removeEventListener?Ht.removeEventListener(Qt,ln,Rt.capture):Ht.detachEvent?Ht.detachEvent(An(Qt),ln):Ht.addListener&&Ht.removeListener&&Ht.removeListener(ln),(Qt=xn(Ht))?(nn(Qt,Rt),Qt.h==0&&(Qt.src=null,Ht[gn]=null)):Kt(Rt)}}}function An(Rt){return Rt in fn?fn[Rt]:fn[Rt]="on"+Rt}function Sn(Rt,Ht){if(Rt.da)Rt=!0;else{Ht=new Ot(Ht,this);var Qt=Rt.listener,ln=Rt.ha||Rt.src;Rt.fa&&Bn(Rt),Rt=Qt.call(ln,Ht)}return Rt}function xn(Rt){return Rt=Rt[gn],Rt instanceof Jt?Rt:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(Rt){return typeof Rt=="function"?Rt:(Rt[wn]||(Rt[wn]=function(Ht){return Rt.handleEvent(Ht)}),Rt[wn])}function pn(){vn.call(this),this.i=new Jt(this),this.M=this,this.F=null}Et(pn,vn),pn.prototype[Ut]=!0,pn.prototype.removeEventListener=function(Rt,Ht,Qt,ln){rr(this,Rt,Ht,Qt,ln)};function Rn(Rt,Ht){var Qt,ln=Rt.F;if(ln)for(Qt=[];ln;ln=ln.F)Qt.push(ln);if(Rt=Rt.M,ln=Ht.type||Ht,typeof Ht=="string")Ht=new Nt(Ht,Rt);else if(Ht instanceof Nt)Ht.target=Ht.target||Rt;else{var Hn=Ht;Ht=new Nt(ln,Rt),Lt(Ht,Hn)}if(Hn=!0,Qt)for(var Jn=Qt.length-1;0<=Jn;Jn--){var hr=Ht.g=Qt[Jn];Hn=Kn(hr,ln,!0,Ht)&&Hn}if(hr=Ht.g=Rt,Hn=Kn(hr,ln,!0,Ht)&&Hn,Hn=Kn(hr,ln,!1,Ht)&&Hn,Qt)for(Jn=0;Jn<Qt.length;Jn++)hr=Ht.g=Qt[Jn],Hn=Kn(hr,ln,!1,Ht)&&Hn}pn.prototype.N=function(){if(pn.aa.N.call(this),this.i){var Rt=this.i,Ht;for(Ht in Rt.g){for(var Qt=Rt.g[Ht],ln=0;ln<Qt.length;ln++)Kt(Qt[ln]);delete Rt.g[Ht],Rt.h--}}this.F=null},pn.prototype.K=function(Rt,Ht,Qt,ln){return this.i.add(String(Rt),Ht,!1,Qt,ln)},pn.prototype.L=function(Rt,Ht,Qt,ln){return this.i.add(String(Rt),Ht,!0,Qt,ln)};function Kn(Rt,Ht,Qt,ln){if(Ht=Rt.i.g[String(Ht)],!Ht)return!0;Ht=Ht.concat();for(var Hn=!0,Jn=0;Jn<Ht.length;++Jn){var hr=Ht[Jn];if(hr&&!hr.da&&hr.capture==Qt){var _r=hr.listener,Lr=hr.ha||hr.src;hr.fa&&nn(Rt.i,hr),Hn=_r.call(Lr,ln)!==!1&&Hn}}return Hn&&!ln.defaultPrevented}function tr(Rt,Ht,Qt){if(typeof Rt=="function")Qt&&(Rt=xt(Rt,Qt));else if(Rt&&typeof Rt.handleEvent=="function")Rt=xt(Rt.handleEvent,Rt);else throw Error("Invalid listener argument");return 2147483647<Number(Ht)?-1:rt.setTimeout(Rt,Ht||0)}function ir(Rt){Rt.g=tr(()=>{Rt.g=null,Rt.i&&(Rt.i=!1,ir(Rt))},Rt.l);const Ht=Rt.h;Rt.h=null,Rt.m.apply(null,Ht)}class On extends vn{constructor(Ht,Qt){super(),this.m=Ht,this.l=Qt,this.h=null,this.i=!1,this.g=null}j(Ht){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qn(Rt){vn.call(this),this.h=Rt,this.g={}}Et(Qn,vn);var Xn=[];function or(Rt){It(Rt.g,function(Ht,Qt){this.g.hasOwnProperty(Qt)&&Bn(Ht)},Rt),Rt.g={}}Qn.prototype.N=function(){Qn.aa.N.call(this),or(this)},Qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=rt.JSON.stringify,Un=rt.JSON.parse,En=class{stringify(Rt){return rt.JSON.stringify(Rt,void 0)}parse(Rt){return rt.JSON.parse(Rt,void 0)}};function mn(){}mn.prototype.h=null;function Fn(Rt){return Rt.h||(Rt.h=Rt.i())}function gr(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dn(){Nt.call(this,"d")}Et(dn,Nt);function zn(){Nt.call(this,"c")}Et(zn,Nt);var Yn={},hn=null;function Pn(){return hn=hn||new pn}Yn.La="serverreachability";function Tn(Rt){Nt.call(this,Yn.La,Rt)}Et(Tn,Nt);function Zn(Rt){const Ht=Pn();Rn(Ht,new Tn(Ht))}Yn.STAT_EVENT="statevent";function $n(Rt,Ht){Nt.call(this,Yn.STAT_EVENT,Rt),this.stat=Ht}Et($n,Nt);function qn(Rt){const Ht=Pn();Rn(Ht,new $n(Ht,Rt))}Yn.Ma="timingevent";function Wn(Rt,Ht){Nt.call(this,Yn.Ma,Rt),this.size=Ht}Et(Wn,Nt);function cn(Rt,Ht){if(typeof Rt!="function")throw Error("Fn must not be null and must be a function");return rt.setTimeout(function(){Rt()},Ht)}function qt(){this.g=!0}qt.prototype.xa=function(){this.g=!1};function tn(Rt,Ht,Qt,ln,Hn,Jn){Rt.info(function(){if(Rt.g)if(Jn)for(var hr="",_r=Jn.split("&"),Lr=0;Lr<_r.length;Lr++){var Rr=_r[Lr].split("=");if(1<Rr.length){var jr=Rr[0];Rr=Rr[1];var Or=jr.split("_");hr=2<=Or.length&&Or[1]=="type"?hr+(jr+"="+Rr+"&"):hr+(jr+"=redacted&")}}else hr=null;else hr=Jn;return"XMLHTTP REQ ("+ln+") [attempt "+Hn+"]: "+Ht+`
`+Qt+`
`+hr})}function un(Rt,Ht,Qt,ln,Hn,Jn,hr){Rt.info(function(){return"XMLHTTP RESP ("+ln+") [ attempt "+Hn+"]: "+Ht+`
`+Qt+`
`+Jn+" "+hr})}function kn(Rt,Ht,Qt,ln){Rt.info(function(){return"XMLHTTP TEXT ("+Ht+"): "+Nn(Rt,Qt)+(ln?" "+ln:"")})}function Cn(Rt,Ht){Rt.info(function(){return"TIMEOUT: "+Ht})}qt.prototype.info=function(){};function Nn(Rt,Ht){if(!Rt.g)return Ht;if(!Ht)return null;try{var Qt=JSON.parse(Ht);if(Qt){for(Rt=0;Rt<Qt.length;Rt++)if(Array.isArray(Qt[Rt])){var ln=Qt[Rt];if(!(2>ln.length)){var Hn=ln[1];if(Array.isArray(Hn)&&!(1>Hn.length)){var Jn=Hn[0];if(Jn!="noop"&&Jn!="stop"&&Jn!="close")for(var hr=1;hr<Hn.length;hr++)Hn[hr]=""}}}}return lr(Qt)}catch{return Ht}}var er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function yr(){}Et(yr,mn),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},ar=new yr;function cr(Rt,Ht,Qt,ln){this.j=Rt,this.i=Ht,this.l=Qt,this.R=ln||1,this.U=new Qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ur}function ur(){this.i=null,this.g="",this.h=!1}var vr={},mr={};function wr(Rt,Ht,Qt){Rt.L=1,Rt.v=ys(zr(Ht)),Rt.m=Qt,Rt.P=!0,Sr(Rt,null)}function Sr(Rt,Ht){Rt.F=Date.now(),nr(Rt),Rt.A=zr(Rt.v);var Qt=Rt.A,ln=Rt.R;Array.isArray(ln)||(ln=[String(ln)]),Oo(Qt.i,"t",ln),Rt.C=0,Qt=Rt.j.J,Rt.h=new ur,Rt.g=yl(Rt.j,Qt?Ht:null,!Rt.m),0<Rt.O&&(Rt.M=new On(xt(Rt.Y,Rt,Rt.g),Rt.O)),Ht=Rt.U,Qt=Rt.g,ln=Rt.ca;var Hn="readystatechange";Array.isArray(Hn)||(Hn&&(Xn[0]=Hn.toString()),Hn=Xn);for(var Jn=0;Jn<Hn.length;Jn++){var hr=In(Qt,Hn[Jn],ln||Ht.handleEvent,!1,Ht.h||Ht);if(!hr)break;Ht.g[hr.key]=hr}Ht=Rt.H?Ct(Rt.H):{},Rt.m?(Rt.u||(Rt.u="POST"),Ht["Content-Type"]="application/x-www-form-urlencoded",Rt.g.ea(Rt.A,Rt.u,Rt.m,Ht)):(Rt.u="GET",Rt.g.ea(Rt.A,Rt.u,null,Ht)),Zn(),tn(Rt.i,Rt.u,Rt.A,Rt.l,Rt.R,Rt.m)}cr.prototype.ca=function(Rt){Rt=Rt.target;const Ht=this.M;Ht&&Ur(Rt)==3?Ht.j():this.Y(Rt)},cr.prototype.Y=function(Rt){try{if(Rt==this.g)e:{const Or=Ur(this.g);var Ht=this.g.Ba();const Zr=this.g.Z();if(!(3>Or)&&(Or!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||Or!=4||Ht==7||(Ht==8||0>=Zr?Zn(3):Zn(2)),fr(this);var Qt=this.g.Z();this.X=Qt;t:if(Cr(this)){var ln=Uo(this.g);Rt="";var Hn=ln.length,Jn=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),pr(this);var hr="";break t}this.h.i=new rt.TextDecoder}for(Ht=0;Ht<Hn;Ht++)this.h.h=!0,Rt+=this.h.i.decode(ln[Ht],{stream:!(Jn&&Ht==Hn-1)});ln.length=0,this.h.g+=Rt,this.C=0,hr=this.h.g}else hr=this.g.oa();if(this.o=Qt==200,un(this.i,this.u,this.A,this.l,this.R,Or,Qt),this.o){if(this.T&&!this.K){t:{if(this.g){var _r,Lr=this.g;if((_r=Lr.g?Lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kt(_r)){var Rr=_r;break t}}Rr=null}if(Qt=Rr)kn(this.i,this.l,Qt,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kr(this,Qt);else{this.o=!1,this.s=3,qn(12),xr(this),pr(this);break e}}if(this.P){Qt=!0;let Vr;for(;!this.J&&this.C<hr.length;)if(Vr=_n(this,hr),Vr==mr){Or==4&&(this.s=4,qn(14),Qt=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Vr==vr){this.s=4,qn(15),kn(this.i,this.l,hr,"[Invalid Chunk]"),Qt=!1;break}else kn(this.i,this.l,Vr,null),kr(this,Vr);if(Cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Or!=4||hr.length!=0||this.h.h||(this.s=1,qn(16),Qt=!1),this.o=this.o&&Qt,!Qt)kn(this.i,this.l,hr,"[Invalid Chunked Response]"),xr(this),pr(this);else if(0<hr.length&&!this.W){this.W=!0;var jr=this.j;jr.g==this&&jr.ba&&!jr.M&&(jr.j.info("Great, no buffering proxy detected. Bytes received: "+hr.length),Us(jr),jr.M=!0,qn(11))}}else kn(this.i,this.l,hr,null),kr(this,hr);Or==4&&xr(this),this.o&&!this.J&&(Or==4?Xo(this.j,this):(this.o=!1,nr(this)))}else wu(this.g),Qt==400&&0<hr.indexOf("Unknown SID")?(this.s=3,qn(12)):(this.s=0,qn(13)),xr(this),pr(this)}}}catch{}finally{}};function Cr(Rt){return Rt.g?Rt.u=="GET"&&Rt.L!=2&&Rt.j.Ca:!1}function _n(Rt,Ht){var Qt=Rt.C,ln=Ht.indexOf(`
`,Qt);return ln==-1?mr:(Qt=Number(Ht.substring(Qt,ln)),isNaN(Qt)?vr:(ln+=1,ln+Qt>Ht.length?mr:(Ht=Ht.slice(ln,ln+Qt),Rt.C=ln+Qt,Ht)))}cr.prototype.cancel=function(){this.J=!0,xr(this)};function nr(Rt){Rt.S=Date.now()+Rt.I,dr(Rt,Rt.I)}function dr(Rt,Ht){if(Rt.B!=null)throw Error("WatchDog timer not null");Rt.B=cn(xt(Rt.ba,Rt),Ht)}function fr(Rt){Rt.B&&(rt.clearTimeout(Rt.B),Rt.B=null)}cr.prototype.ba=function(){this.B=null;const Rt=Date.now();0<=Rt-this.S?(Cn(this.i,this.A),this.L!=2&&(Zn(),qn(17)),xr(this),this.s=2,pr(this)):dr(this,this.S-Rt)};function pr(Rt){Rt.j.G==0||Rt.J||Xo(Rt.j,Rt)}function xr(Rt){fr(Rt);var Ht=Rt.M;Ht&&typeof Ht.ma=="function"&&Ht.ma(),Rt.M=null,or(Rt.U),Rt.g&&(Ht=Rt.g,Rt.g=null,Ht.abort(),Ht.ma())}function kr(Rt,Ht){try{var Qt=Rt.j;if(Qt.G!=0&&(Qt.g==Rt||$r(Qt.h,Rt))){if(!Rt.K&&$r(Qt.h,Rt)&&Qt.G==3){try{var ln=Qt.Da.g.parse(Ht)}catch{ln=null}if(Array.isArray(ln)&&ln.length==3){var Hn=ln;if(Hn[0]==0){e:if(!Qt.u){if(Qt.g)if(Qt.g.F+3e3<Rt.F)Ss(Qt),ws(Qt);else break e;zs(Qt),qn(18)}}else Qt.za=Hn[1],0<Qt.za-Qt.T&&37500>Hn[2]&&Qt.F&&Qt.v==0&&!Qt.C&&(Qt.C=cn(xt(Qt.Za,Qt),6e3));if(1>=Br(Qt.h)&&Qt.ca){try{Qt.ca()}catch{}Qt.ca=void 0}}else Kr(Qt,11)}else if((Rt.K||Qt.g==Rt)&&Ss(Qt),!kt(Ht))for(Hn=Qt.Da.g.parse(Ht),Ht=0;Ht<Hn.length;Ht++){let Rr=Hn[Ht];if(Qt.T=Rr[0],Rr=Rr[1],Qt.G==2)if(Rr[0]=="c"){Qt.K=Rr[1],Qt.ia=Rr[2];const jr=Rr[3];jr!=null&&(Qt.la=jr,Qt.j.info("VER="+Qt.la));const Or=Rr[4];Or!=null&&(Qt.Aa=Or,Qt.j.info("SVER="+Qt.Aa));const Zr=Rr[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(ln=1.5*Zr,Qt.L=ln,Qt.j.info("backChannelRequestTimeoutMs_="+ln)),ln=Qt;const Vr=Rt.g;if(Vr){const ks=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var Jn=ln.h;Jn.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(Jn.j=Jn.l,Jn.g=new Set,Jn.h&&(Ar(Jn,Jn.h),Jn.h=null))}if(ln.D){const Hs=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;Hs&&(ln.ya=Hs,Pr(ln.I,ln.D,Hs))}}Qt.G=3,Qt.l&&Qt.l.ua(),Qt.ba&&(Qt.R=Date.now()-Rt.F,Qt.j.info("Handshake RTT: "+Qt.R+"ms")),ln=Qt;var hr=Rt;if(ln.qa=Jo(ln,ln.J?ln.ia:null,ln.W),hr.K){$a(ln.h,hr);var _r=hr,Lr=ln.L;Lr&&(_r.I=Lr),_r.B&&(fr(_r),nr(_r)),ln.g=hr}else Ko(ln);0<Qt.i.length&&Es(Qt)}else Rr[0]!="stop"&&Rr[0]!="close"||Kr(Qt,7);else Qt.G==3&&(Rr[0]=="stop"||Rr[0]=="close"?Rr[0]=="stop"?Kr(Qt,7):Bs(Qt):Rr[0]!="noop"&&Qt.l&&Qt.l.ta(Rr),Qt.v=0)}}Zn(4)}catch{}}var Er=class{constructor(Rt,Ht){this.g=Rt,this.map=Ht}};function Mr(Rt){this.l=Rt||10,rt.PerformanceNavigationTiming?(Rt=rt.performance.getEntriesByType("navigation"),Rt=0<Rt.length&&(Rt[0].nextHopProtocol=="hq"||Rt[0].nextHopProtocol=="h2")):Rt=!!(rt.chrome&&rt.chrome.loadTimes&&rt.chrome.loadTimes()&&rt.chrome.loadTimes().wasFetchedViaSpdy),this.j=Rt?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dr(Rt){return Rt.h?!0:Rt.g?Rt.g.size>=Rt.j:!1}function Br(Rt){return Rt.h?1:Rt.g?Rt.g.size:0}function $r(Rt,Ht){return Rt.h?Rt.h==Ht:Rt.g?Rt.g.has(Ht):!1}function Ar(Rt,Ht){Rt.g?Rt.g.add(Ht):Rt.h=Ht}function $a(Rt,Ht){Rt.h&&Rt.h==Ht?Rt.h=null:Rt.g&&Rt.g.has(Ht)&&Rt.g.delete(Ht)}Mr.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const Rt of this.g.values())Rt.cancel();this.g.clear()}};function Co(Rt){if(Rt.h!=null)return Rt.i.concat(Rt.h.D);if(Rt.g!=null&&Rt.g.size!==0){let Ht=Rt.i;for(const Qt of Rt.g.values())Ht=Ht.concat(Qt.D);return Ht}return wt(Rt.i)}function su(Rt){if(Rt.V&&typeof Rt.V=="function")return Rt.V();if(typeof Map<"u"&&Rt instanceof Map||typeof Set<"u"&&Rt instanceof Set)return Array.from(Rt.values());if(typeof Rt=="string")return Rt.split("");if(mt(Rt)){for(var Ht=[],Qt=Rt.length,ln=0;ln<Qt;ln++)Ht.push(Rt[ln]);return Ht}Ht=[],Qt=0;for(ln in Rt)Ht[Qt++]=Rt[ln];return Ht}function ou(Rt){if(Rt.na&&typeof Rt.na=="function")return Rt.na();if(!Rt.V||typeof Rt.V!="function"){if(typeof Map<"u"&&Rt instanceof Map)return Array.from(Rt.keys());if(!(typeof Set<"u"&&Rt instanceof Set)){if(mt(Rt)||typeof Rt=="string"){var Ht=[];Rt=Rt.length;for(var Qt=0;Qt<Rt;Qt++)Ht.push(Qt);return Ht}Ht=[],Qt=0;for(const ln in Rt)Ht[Qt++]=ln;return Ht}}}function Po(Rt,Ht){if(Rt.forEach&&typeof Rt.forEach=="function")Rt.forEach(Ht,void 0);else if(mt(Rt)||typeof Rt=="string")Array.prototype.forEach.call(Rt,Ht,void 0);else for(var Qt=ou(Rt),ln=su(Rt),Hn=ln.length,Jn=0;Jn<Hn;Jn++)Ht.call(void 0,ln[Jn],Qt&&Qt[Jn],Rt)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lu(Rt,Ht){if(Rt){Rt=Rt.split("&");for(var Qt=0;Qt<Rt.length;Qt++){var ln=Rt[Qt].indexOf("="),Hn=null;if(0<=ln){var Jn=Rt[Qt].substring(0,ln);Hn=Rt[Qt].substring(ln+1)}else Jn=Rt[Qt];Ht(Jn,Hn?decodeURIComponent(Hn.replace(/\+/g," ")):"")}}}function qr(Rt){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,Rt instanceof qr){this.h=Rt.h,fs(this,Rt.j),this.o=Rt.o,this.g=Rt.g,gs(this,Rt.s),this.l=Rt.l;var Ht=Rt.i,Qt=new ns;Qt.i=Ht.i,Ht.g&&(Qt.g=new Map(Ht.g),Qt.h=Ht.h),Mo(this,Qt),this.m=Rt.m}else Rt&&(Ht=String(Rt).match(Io))?(this.h=!1,fs(this,Ht[1]||"",!0),this.o=es(Ht[2]||""),this.g=es(Ht[3]||"",!0),gs(this,Ht[4]),this.l=es(Ht[5]||"",!0),Mo(this,Ht[6]||"",!0),this.m=es(Ht[7]||"")):(this.h=!1,this.i=new ns(null,this.h))}qr.prototype.toString=function(){var Rt=[],Ht=this.j;Ht&&Rt.push(ts(Ht,Do,!0),":");var Qt=this.g;return(Qt||Ht=="file")&&(Rt.push("//"),(Ht=this.o)&&Rt.push(ts(Ht,Do,!0),"@"),Rt.push(encodeURIComponent(String(Qt)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Qt=this.s,Qt!=null&&Rt.push(":",String(Qt))),(Qt=this.l)&&(this.g&&Qt.charAt(0)!="/"&&Rt.push("/"),Rt.push(ts(Qt,Qt.charAt(0)=="/"?du:uu,!0))),(Qt=this.i.toString())&&Rt.push("?",Qt),(Qt=this.m)&&Rt.push("#",ts(Qt,pu)),Rt.join("")};function zr(Rt){return new qr(Rt)}function fs(Rt,Ht,Qt){Rt.j=Qt?es(Ht,!0):Ht,Rt.j&&(Rt.j=Rt.j.replace(/:$/,""))}function gs(Rt,Ht){if(Ht){if(Ht=Number(Ht),isNaN(Ht)||0>Ht)throw Error("Bad port number "+Ht);Rt.s=Ht}else Rt.s=null}function Mo(Rt,Ht,Qt){Ht instanceof ns?(Rt.i=Ht,mu(Rt.i,Rt.h)):(Qt||(Ht=ts(Ht,hu)),Rt.i=new ns(Ht,Rt.h))}function Pr(Rt,Ht,Qt){Rt.i.set(Ht,Qt)}function ys(Rt){return Pr(Rt,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),Rt}function es(Rt,Ht){return Rt?Ht?decodeURI(Rt.replace(/%25/g,"%2525")):decodeURIComponent(Rt):""}function ts(Rt,Ht,Qt){return typeof Rt=="string"?(Rt=encodeURI(Rt).replace(Ht,cu),Qt&&(Rt=Rt.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Rt):null}function cu(Rt){return Rt=Rt.charCodeAt(0),"%"+(Rt>>4&15).toString(16)+(Rt&15).toString(16)}var Do=/[#\/\?@]/g,uu=/[#\?:]/g,du=/[#\?]/g,hu=/[#\?@]/g,pu=/#/g;function ns(Rt,Ht){this.h=this.g=null,this.i=Rt||null,this.j=!!Ht}function Wr(Rt){Rt.g||(Rt.g=new Map,Rt.h=0,Rt.i&&lu(Rt.i,function(Ht,Qt){Rt.add(decodeURIComponent(Ht.replace(/\+/g," ")),Qt)}))}a=ns.prototype,a.add=function(Rt,Ht){Wr(this),this.i=null,Rt=Xr(this,Rt);var Qt=this.g.get(Rt);return Qt||this.g.set(Rt,Qt=[]),Qt.push(Ht),this.h+=1,this};function Lo(Rt,Ht){Wr(Rt),Ht=Xr(Rt,Ht),Rt.g.has(Ht)&&(Rt.i=null,Rt.h-=Rt.g.get(Ht).length,Rt.g.delete(Ht))}function jo(Rt,Ht){return Wr(Rt),Ht=Xr(Rt,Ht),Rt.g.has(Ht)}a.forEach=function(Rt,Ht){Wr(this),this.g.forEach(function(Qt,ln){Qt.forEach(function(Hn){Rt.call(Ht,Hn,ln,this)},this)},this)},a.na=function(){Wr(this);const Rt=Array.from(this.g.values()),Ht=Array.from(this.g.keys()),Qt=[];for(let ln=0;ln<Ht.length;ln++){const Hn=Rt[ln];for(let Jn=0;Jn<Hn.length;Jn++)Qt.push(Ht[ln])}return Qt},a.V=function(Rt){Wr(this);let Ht=[];if(typeof Rt=="string")jo(this,Rt)&&(Ht=Ht.concat(this.g.get(Xr(this,Rt))));else{Rt=Array.from(this.g.values());for(let Qt=0;Qt<Rt.length;Qt++)Ht=Ht.concat(Rt[Qt])}return Ht},a.set=function(Rt,Ht){return Wr(this),this.i=null,Rt=Xr(this,Rt),jo(this,Rt)&&(this.h-=this.g.get(Rt).length),this.g.set(Rt,[Ht]),this.h+=1,this},a.get=function(Rt,Ht){return Rt?(Rt=this.V(Rt),0<Rt.length?String(Rt[0]):Ht):Ht};function Oo(Rt,Ht,Qt){Lo(Rt,Ht),0<Qt.length&&(Rt.i=null,Rt.g.set(Xr(Rt,Ht),wt(Qt)),Rt.h+=Qt.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const Rt=[],Ht=Array.from(this.g.keys());for(var Qt=0;Qt<Ht.length;Qt++){var ln=Ht[Qt];const Jn=encodeURIComponent(String(ln)),hr=this.V(ln);for(ln=0;ln<hr.length;ln++){var Hn=Jn;hr[ln]!==""&&(Hn+="="+encodeURIComponent(String(hr[ln]))),Rt.push(Hn)}}return this.i=Rt.join("&")};function Xr(Rt,Ht){return Ht=String(Ht),Rt.j&&(Ht=Ht.toLowerCase()),Ht}function mu(Rt,Ht){Ht&&!Rt.j&&(Wr(Rt),Rt.i=null,Rt.g.forEach(function(Qt,ln){var Hn=ln.toLowerCase();ln!=Hn&&(Lo(this,ln),Oo(this,Hn,Qt))},Rt)),Rt.j=Ht}function fu(Rt,Ht){const Qt=new qt;if(rt.Image){const ln=new Image;ln.onload=bt(Gr,Qt,"TestLoadImage: loaded",!0,Ht,ln),ln.onerror=bt(Gr,Qt,"TestLoadImage: error",!1,Ht,ln),ln.onabort=bt(Gr,Qt,"TestLoadImage: abort",!1,Ht,ln),ln.ontimeout=bt(Gr,Qt,"TestLoadImage: timeout",!1,Ht,ln),rt.setTimeout(function(){ln.ontimeout&&ln.ontimeout()},1e4),ln.src=Rt}else Ht(!1)}function gu(Rt,Ht){const Qt=new qt,ln=new AbortController,Hn=setTimeout(()=>{ln.abort(),Gr(Qt,"TestPingServer: timeout",!1,Ht)},1e4);fetch(Rt,{signal:ln.signal}).then(Jn=>{clearTimeout(Hn),Jn.ok?Gr(Qt,"TestPingServer: ok",!0,Ht):Gr(Qt,"TestPingServer: server error",!1,Ht)}).catch(()=>{clearTimeout(Hn),Gr(Qt,"TestPingServer: error",!1,Ht)})}function Gr(Rt,Ht,Qt,ln,Hn){try{Hn&&(Hn.onload=null,Hn.onerror=null,Hn.onabort=null,Hn.ontimeout=null),ln(Qt)}catch{}}function yu(){this.g=new En}function vu(Rt,Ht,Qt){const ln=Qt||"";try{Po(Rt,function(Hn,Jn){let hr=Hn;gt(Hn)&&(hr=lr(Hn)),Ht.push(ln+Jn+"="+encodeURIComponent(hr))})}catch(Hn){throw Ht.push(ln+"type="+encodeURIComponent("_badmap")),Hn}}function vs(Rt){this.l=Rt.Ub||null,this.j=Rt.eb||!1}Et(vs,mn),vs.prototype.g=function(){return new xs(this.l,this.j)},vs.prototype.i=function(Rt){return function(){return Rt}}({});function xs(Rt,Ht){pn.call(this),this.D=Rt,this.o=Ht,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Et(xs,pn),a=xs.prototype,a.open=function(Rt,Ht){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=Rt,this.A=Ht,this.readyState=1,is(this)},a.send=function(Rt){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Ht={headers:this.u,method:this.B,credentials:this.m,cache:void 0};Rt&&(Ht.body=Rt),(this.D||rt).fetch(new Request(this.A,Ht)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},a.Sa=function(Rt){if(this.g&&(this.l=Rt,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=Rt.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")Rt.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof rt.ReadableStream<"u"&&"body"in Rt){if(this.j=Rt.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else Rt.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(Rt){Rt.j.read().then(Rt.Pa.bind(Rt)).catch(Rt.ga.bind(Rt))}a.Pa=function(Rt){if(this.g){if(this.o&&Rt.value)this.response.push(Rt.value);else if(!this.o){var Ht=Rt.value?Rt.value:new Uint8Array(0);(Ht=this.v.decode(Ht,{stream:!Rt.done}))&&(this.response=this.responseText+=Ht)}Rt.done?rs(this):is(this),this.readyState==3&&Fo(this)}},a.Ra=function(Rt){this.g&&(this.response=this.responseText=Rt,rs(this))},a.Qa=function(Rt){this.g&&(this.response=Rt,rs(this))},a.ga=function(){this.g&&rs(this)};function rs(Rt){Rt.readyState=4,Rt.l=null,Rt.j=null,Rt.v=null,is(Rt)}a.setRequestHeader=function(Rt,Ht){this.u.append(Rt,Ht)},a.getResponseHeader=function(Rt){return this.h&&this.h.get(Rt.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const Rt=[],Ht=this.h.entries();for(var Qt=Ht.next();!Qt.done;)Qt=Qt.value,Rt.push(Qt[0]+": "+Qt[1]),Qt=Ht.next();return Rt.join(`\r
`)};function is(Rt){Rt.onreadystatechange&&Rt.onreadystatechange.call(Rt)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(Rt){this.m=Rt?"include":"same-origin"}});function $o(Rt){let Ht="";return It(Rt,function(Qt,ln){Ht+=ln,Ht+=":",Ht+=Qt,Ht+=`\r
`}),Ht}function Vs(Rt,Ht,Qt){e:{for(ln in Qt){var ln=!1;break e}ln=!0}ln||(Qt=$o(Qt),typeof Rt=="string"?Qt!=null&&encodeURIComponent(String(Qt)):Pr(Rt,Ht,Qt))}function Ir(Rt){pn.call(this),this.headers=new Map,this.o=Rt||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Et(Ir,pn);var xu=/^https?$/i,bu=["POST","PUT"];a=Ir.prototype,a.Ha=function(Rt){this.J=Rt},a.ea=function(Rt,Ht,Qt,ln){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+Rt);Ht=Ht?Ht.toUpperCase():"GET",this.D=Rt,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?Fn(this.o):Fn(ar),this.g.onreadystatechange=xt(this.Ea,this);try{this.B=!0,this.g.open(Ht,String(Rt),!0),this.B=!1}catch(Jn){No(this,Jn);return}if(Rt=Qt||"",Qt=new Map(this.headers),ln)if(Object.getPrototypeOf(ln)===Object.prototype)for(var Hn in ln)Qt.set(Hn,ln[Hn]);else if(typeof ln.keys=="function"&&typeof ln.get=="function")for(const Jn of ln.keys())Qt.set(Jn,ln.get(Jn));else throw Error("Unknown input type for opt_headers: "+String(ln));ln=Array.from(Qt.keys()).find(Jn=>Jn.toLowerCase()=="content-type"),Hn=rt.FormData&&Rt instanceof rt.FormData,!(0<=Array.prototype.indexOf.call(bu,Ht,void 0))||ln||Hn||Qt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Jn,hr]of Qt)this.g.setRequestHeader(Jn,hr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zo(this),this.u=!0,this.g.send(Rt),this.u=!1}catch(Jn){No(this,Jn)}};function No(Rt,Ht){Rt.h=!1,Rt.g&&(Rt.j=!0,Rt.g.abort(),Rt.j=!1),Rt.l=Ht,Rt.m=5,Vo(Rt),bs(Rt)}function Vo(Rt){Rt.A||(Rt.A=!0,Rn(Rt,"complete"),Rn(Rt,"error"))}a.abort=function(Rt){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=Rt||7,Rn(this,"complete"),Rn(this,"abort"),bs(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),Ir.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Bo(this):this.bb())},a.bb=function(){Bo(this)};function Bo(Rt){if(Rt.h&&typeof nt<"u"&&(!Rt.v[1]||Ur(Rt)!=4||Rt.Z()!=2)){if(Rt.u&&Ur(Rt)==4)tr(Rt.Ea,0,Rt);else if(Rn(Rt,"readystatechange"),Ur(Rt)==4){Rt.h=!1;try{const hr=Rt.Z();e:switch(hr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Ht=!0;break e;default:Ht=!1}var Qt;if(!(Qt=Ht)){var ln;if(ln=hr===0){var Hn=String(Rt.D).match(Io)[1]||null;!Hn&&rt.self&&rt.self.location&&(Hn=rt.self.location.protocol.slice(0,-1)),ln=!xu.test(Hn?Hn.toLowerCase():"")}Qt=ln}if(Qt)Rn(Rt,"complete"),Rn(Rt,"success");else{Rt.m=6;try{var Jn=2<Ur(Rt)?Rt.g.statusText:""}catch{Jn=""}Rt.l=Jn+" ["+Rt.Z()+"]",Vo(Rt)}}finally{bs(Rt)}}}}function bs(Rt,Ht){if(Rt.g){zo(Rt);const Qt=Rt.g,ln=Rt.v[0]?()=>{}:null;Rt.g=null,Rt.v=null,Ht||Rn(Rt,"ready");try{Qt.onreadystatechange=ln}catch{}}}function zo(Rt){Rt.I&&(rt.clearTimeout(Rt.I),Rt.I=null)}a.isActive=function(){return!!this.g};function Ur(Rt){return Rt.g?Rt.g.readyState:0}a.Z=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(Rt){if(this.g){var Ht=this.g.responseText;return Rt&&Ht.indexOf(Rt)==0&&(Ht=Ht.substring(Rt.length)),Un(Ht)}};function Uo(Rt){try{if(!Rt.g)return null;if("response"in Rt.g)return Rt.g.response;switch(Rt.H){case"":case"text":return Rt.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in Rt.g)return Rt.g.mozResponseArrayBuffer}return null}catch{return null}}function wu(Rt){const Ht={};Rt=(Rt.g&&2<=Ur(Rt)&&Rt.g.getAllResponseHeaders()||"").split(`\r
`);for(let ln=0;ln<Rt.length;ln++){if(kt(Rt[ln]))continue;var Qt=jt(Rt[ln]);const Hn=Qt[0];if(Qt=Qt[1],typeof Qt!="string")continue;Qt=Qt.trim();const Jn=Ht[Hn]||[];Ht[Hn]=Jn,Jn.push(Qt)}Dt(Ht,function(ln){return ln.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(Rt,Ht,Qt){return Qt&&Qt.internalChannelParams&&Qt.internalChannelParams[Rt]||Ht}function Ho(Rt){this.Aa=0,this.i=[],this.j=new qt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,Rt),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,Rt),this.cb=as("retryDelaySeedMs",1e4,Rt),this.Wa=as("forwardChannelMaxRetries",2,Rt),this.wa=as("forwardChannelRequestTimeoutMs",2e4,Rt),this.pa=Rt&&Rt.xmlHttpFactory||void 0,this.Xa=Rt&&Rt.Tb||void 0,this.Ca=Rt&&Rt.useFetchStreams||!1,this.L=void 0,this.J=Rt&&Rt.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(Rt&&Rt.concurrentRequestLimit),this.Da=new yu,this.P=Rt&&Rt.fastHandshake||!1,this.O=Rt&&Rt.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=Rt&&Rt.Rb||!1,Rt&&Rt.xa&&this.j.xa(),Rt&&Rt.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&Rt&&Rt.detectBufferingProxy||!1,this.ja=void 0,Rt&&Rt.longPollingTimeout&&0<Rt.longPollingTimeout&&(this.ja=Rt.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ho.prototype,a.la=8,a.G=1,a.connect=function(Rt,Ht,Qt,ln){qn(0),this.W=Rt,this.H=Ht||{},Qt&&ln!==void 0&&(this.H.OSID=Qt,this.H.OAID=ln),this.F=this.X,this.I=Jo(this,null,this.W),Es(this)};function Bs(Rt){if(Wo(Rt),Rt.G==3){var Ht=Rt.U++,Qt=zr(Rt.I);if(Pr(Qt,"SID",Rt.K),Pr(Qt,"RID",Ht),Pr(Qt,"TYPE","terminate"),ss(Rt,Qt),Ht=new cr(Rt,Rt.j,Ht),Ht.L=2,Ht.v=ys(zr(Qt)),Qt=!1,rt.navigator&&rt.navigator.sendBeacon)try{Qt=rt.navigator.sendBeacon(Ht.v.toString(),"")}catch{}!Qt&&rt.Image&&(new Image().src=Ht.v,Qt=!0),Qt||(Ht.g=yl(Ht.j,null),Ht.g.ea(Ht.v)),Ht.F=Date.now(),nr(Ht)}Zo(Rt)}function ws(Rt){Rt.g&&(Us(Rt),Rt.g.cancel(),Rt.g=null)}function Wo(Rt){ws(Rt),Rt.u&&(rt.clearTimeout(Rt.u),Rt.u=null),Ss(Rt),Rt.h.cancel(),Rt.s&&(typeof Rt.s=="number"&&rt.clearTimeout(Rt.s),Rt.s=null)}function Es(Rt){if(!Dr(Rt.h)&&!Rt.s){Rt.s=!0;var Ht=Rt.Ga;on||Xt(),Zt||(on(),Zt=!0),an.add(Ht,Rt),Rt.B=0}}function Eu(Rt,Ht){return Br(Rt.h)>=Rt.h.j-(Rt.s?1:0)?!1:Rt.s?(Rt.i=Ht.D.concat(Rt.i),!0):Rt.G==1||Rt.G==2||Rt.B>=(Rt.Va?0:Rt.Wa)?!1:(Rt.s=cn(xt(Rt.Ga,Rt,Ht),Qo(Rt,Rt.B)),Rt.B++,!0)}a.Ga=function(Rt){if(this.s)if(this.s=null,this.G==1){if(!Rt){this.U=Math.floor(1e5*Math.random()),Rt=this.U++;const Hn=new cr(this,this.j,Rt);let Jn=this.o;if(this.S&&(Jn?(Jn=Ct(Jn),Lt(Jn,this.S)):Jn=this.S),this.m!==null||this.O||(Hn.H=Jn,Jn=null),this.P)e:{for(var Ht=0,Qt=0;Qt<this.i.length;Qt++){t:{var ln=this.i[Qt];if("__data__"in ln.map&&(ln=ln.map.__data__,typeof ln=="string")){ln=ln.length;break t}ln=void 0}if(ln===void 0)break;if(Ht+=ln,4096<Ht){Ht=Qt;break e}if(Ht===4096||Qt===this.i.length-1){Ht=Qt+1;break e}}Ht=1e3}else Ht=1e3;Ht=qo(this,Hn,Ht),Qt=zr(this.I),Pr(Qt,"RID",Rt),Pr(Qt,"CVER",22),this.D&&Pr(Qt,"X-HTTP-Session-Id",this.D),ss(this,Qt),Jn&&(this.O?Ht="headers="+encodeURIComponent(String($o(Jn)))+"&"+Ht:this.m&&Vs(Qt,this.m,Jn)),Ar(this.h,Hn),this.Ua&&Pr(Qt,"TYPE","init"),this.P?(Pr(Qt,"$req",Ht),Pr(Qt,"SID","null"),Hn.T=!0,wr(Hn,Qt,null)):wr(Hn,Qt,Ht),this.G=2}}else this.G==3&&(Rt?Go(this,Rt):this.i.length==0||Dr(this.h)||Go(this))};function Go(Rt,Ht){var Qt;Ht?Qt=Ht.l:Qt=Rt.U++;const ln=zr(Rt.I);Pr(ln,"SID",Rt.K),Pr(ln,"RID",Qt),Pr(ln,"AID",Rt.T),ss(Rt,ln),Rt.m&&Rt.o&&Vs(ln,Rt.m,Rt.o),Qt=new cr(Rt,Rt.j,Qt,Rt.B+1),Rt.m===null&&(Qt.H=Rt.o),Ht&&(Rt.i=Ht.D.concat(Rt.i)),Ht=qo(Rt,Qt,1e3),Qt.I=Math.round(.5*Rt.wa)+Math.round(.5*Rt.wa*Math.random()),Ar(Rt.h,Qt),wr(Qt,ln,Ht)}function ss(Rt,Ht){Rt.H&&It(Rt.H,function(Qt,ln){Pr(Ht,ln,Qt)}),Rt.l&&Po({},function(Qt,ln){Pr(Ht,ln,Qt)})}function qo(Rt,Ht,Qt){Qt=Math.min(Rt.i.length,Qt);var ln=Rt.l?xt(Rt.l.Na,Rt.l,Rt):null;e:{var Hn=Rt.i;let Jn=-1;for(;;){const hr=["count="+Qt];Jn==-1?0<Qt?(Jn=Hn[0].g,hr.push("ofs="+Jn)):Jn=0:hr.push("ofs="+Jn);let _r=!0;for(let Lr=0;Lr<Qt;Lr++){let Rr=Hn[Lr].g;const jr=Hn[Lr].map;if(Rr-=Jn,0>Rr)Jn=Math.max(0,Hn[Lr].g-100),_r=!1;else try{vu(jr,hr,"req"+Rr+"_")}catch{ln&&ln(jr)}}if(_r){ln=hr.join("&");break e}}}return Rt=Rt.i.splice(0,Qt),Ht.D=Rt,ln}function Ko(Rt){if(!Rt.g&&!Rt.u){Rt.Y=1;var Ht=Rt.Fa;on||Xt(),Zt||(on(),Zt=!0),an.add(Ht,Rt),Rt.v=0}}function zs(Rt){return Rt.g||Rt.u||3<=Rt.v?!1:(Rt.Y++,Rt.u=cn(xt(Rt.Fa,Rt),Qo(Rt,Rt.v)),Rt.v++,!0)}a.Fa=function(){if(this.u=null,Yo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var Rt=2*this.R;this.j.info("BP detection timer enabled: "+Rt),this.A=cn(xt(this.ab,this),Rt)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qn(10),ws(this),Yo(this))};function Us(Rt){Rt.A!=null&&(rt.clearTimeout(Rt.A),Rt.A=null)}function Yo(Rt){Rt.g=new cr(Rt,Rt.j,"rpc",Rt.Y),Rt.m===null&&(Rt.g.H=Rt.o),Rt.g.O=0;var Ht=zr(Rt.qa);Pr(Ht,"RID","rpc"),Pr(Ht,"SID",Rt.K),Pr(Ht,"AID",Rt.T),Pr(Ht,"CI",Rt.F?"0":"1"),!Rt.F&&Rt.ja&&Pr(Ht,"TO",Rt.ja),Pr(Ht,"TYPE","xmlhttp"),ss(Rt,Ht),Rt.m&&Rt.o&&Vs(Ht,Rt.m,Rt.o),Rt.L&&(Rt.g.I=Rt.L);var Qt=Rt.g;Rt=Rt.ia,Qt.L=1,Qt.v=ys(zr(Ht)),Qt.m=null,Qt.P=!0,Sr(Qt,Rt)}a.Za=function(){this.C!=null&&(this.C=null,ws(this),zs(this),qn(19))};function Ss(Rt){Rt.C!=null&&(rt.clearTimeout(Rt.C),Rt.C=null)}function Xo(Rt,Ht){var Qt=null;if(Rt.g==Ht){Ss(Rt),Us(Rt),Rt.g=null;var ln=2}else if($r(Rt.h,Ht))Qt=Ht.D,$a(Rt.h,Ht),ln=1;else return;if(Rt.G!=0){if(Ht.o)if(ln==1){Qt=Ht.m?Ht.m.length:0,Ht=Date.now()-Ht.F;var Hn=Rt.B;ln=Pn(),Rn(ln,new Wn(ln,Qt)),Es(Rt)}else Ko(Rt);else if(Hn=Ht.s,Hn==3||Hn==0&&0<Ht.X||!(ln==1&&Eu(Rt,Ht)||ln==2&&zs(Rt)))switch(Qt&&0<Qt.length&&(Ht=Rt.h,Ht.i=Ht.i.concat(Qt)),Hn){case 1:Kr(Rt,5);break;case 4:Kr(Rt,10);break;case 3:Kr(Rt,6);break;default:Kr(Rt,2)}}}function Qo(Rt,Ht){let Qt=Rt.Ta+Math.floor(Math.random()*Rt.cb);return Rt.isActive()||(Qt*=2),Qt*Ht}function Kr(Rt,Ht){if(Rt.j.info("Error code "+Ht),Ht==2){var Qt=xt(Rt.fb,Rt),ln=Rt.Xa;const Hn=!ln;ln=new qr(ln||"//www.google.com/images/cleardot.gif"),rt.location&&rt.location.protocol=="http"||fs(ln,"https"),ys(ln),Hn?fu(ln.toString(),Qt):gu(ln.toString(),Qt)}else qn(2);Rt.G=0,Rt.l&&Rt.l.sa(Ht),Zo(Rt),Wo(Rt)}a.fb=function(Rt){Rt?(this.j.info("Successfully pinged google.com"),qn(2)):(this.j.info("Failed to ping google.com"),qn(1))};function Zo(Rt){if(Rt.G=0,Rt.ka=[],Rt.l){const Ht=Co(Rt.h);(Ht.length!=0||Rt.i.length!=0)&&(St(Rt.ka,Ht),St(Rt.ka,Rt.i),Rt.h.i.length=0,wt(Rt.i),Rt.i.length=0),Rt.l.ra()}}function Jo(Rt,Ht,Qt){var ln=Qt instanceof qr?zr(Qt):new qr(Qt);if(ln.g!="")Ht&&(ln.g=Ht+"."+ln.g),gs(ln,ln.s);else{var Hn=rt.location;ln=Hn.protocol,Ht=Ht?Ht+"."+Hn.hostname:Hn.hostname,Hn=+Hn.port;var Jn=new qr(null);ln&&fs(Jn,ln),Ht&&(Jn.g=Ht),Hn&&gs(Jn,Hn),Qt&&(Jn.l=Qt),ln=Jn}return Qt=Rt.D,Ht=Rt.ya,Qt&&Ht&&Pr(ln,Qt,Ht),Pr(ln,"VER",Rt.la),ss(Rt,ln),ln}function yl(Rt,Ht,Qt){if(Ht&&!Rt.J)throw Error("Can't create secondary domain capable XhrIo object.");return Ht=Rt.Ca&&!Rt.pa?new Ir(new vs({eb:Qt})):new Ir(Rt.pa),Ht.Ha(Rt.J),Ht}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function xl(){}a=xl.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ts(){}Ts.prototype.g=function(Rt,Ht){return new Fr(Rt,Ht)};function Fr(Rt,Ht){pn.call(this),this.g=new Ho(Ht),this.l=Rt,this.h=Ht&&Ht.messageUrlParams||null,Rt=Ht&&Ht.messageHeaders||null,Ht&&Ht.clientProtocolHeaderRequired&&(Rt?Rt["X-Client-Protocol"]="webchannel":Rt={"X-Client-Protocol":"webchannel"}),this.g.o=Rt,Rt=Ht&&Ht.initMessageHeaders||null,Ht&&Ht.messageContentType&&(Rt?Rt["X-WebChannel-Content-Type"]=Ht.messageContentType:Rt={"X-WebChannel-Content-Type":Ht.messageContentType}),Ht&&Ht.va&&(Rt?Rt["X-WebChannel-Client-Profile"]=Ht.va:Rt={"X-WebChannel-Client-Profile":Ht.va}),this.g.S=Rt,(Rt=Ht&&Ht.Sb)&&!kt(Rt)&&(this.g.m=Rt),this.v=Ht&&Ht.supportsCrossDomainXhr||!1,this.u=Ht&&Ht.sendRawJson||!1,(Ht=Ht&&Ht.httpSessionIdParam)&&!kt(Ht)&&(this.g.D=Ht,Rt=this.h,Rt!==null&&Ht in Rt&&(Rt=this.h,Ht in Rt&&delete Rt[Ht])),this.j=new Qr(this)}Et(Fr,pn),Fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fr.prototype.close=function(){Bs(this.g)},Fr.prototype.o=function(Rt){var Ht=this.g;if(typeof Rt=="string"){var Qt={};Qt.__data__=Rt,Rt=Qt}else this.u&&(Qt={},Qt.__data__=lr(Rt),Rt=Qt);Ht.i.push(new Er(Ht.Ya++,Rt)),Ht.G==3&&Es(Ht)},Fr.prototype.N=function(){this.g.l=null,delete this.j,Bs(this.g),delete this.g,Fr.aa.N.call(this)};function wl(Rt){dn.call(this),Rt.__headers__&&(this.headers=Rt.__headers__,this.statusCode=Rt.__status__,delete Rt.__headers__,delete Rt.__status__);var Ht=Rt.__sm__;if(Ht){e:{for(const Qt in Ht){Rt=Qt;break e}Rt=void 0}(this.i=Rt)&&(Rt=this.i,Ht=Ht!==null&&Rt in Ht?Ht[Rt]:void 0),this.data=Ht}else this.data=Rt}Et(wl,dn);function El(){zn.call(this),this.status=1}Et(El,zn);function Qr(Rt){this.g=Rt}Et(Qr,xl),Qr.prototype.ua=function(){Rn(this.g,"a")},Qr.prototype.ta=function(Rt){Rn(this.g,new wl(Rt))},Qr.prototype.sa=function(Rt){Rn(this.g,new El)},Qr.prototype.ra=function(){Rn(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,Fr.prototype.send=Fr.prototype.o,Fr.prototype.open=Fr.prototype.m,Fr.prototype.close=Fr.prototype.close,createWebChannelTransport=function(){return new Ts},getStatEventTarget=function(){return Pn()},Event$1=Yn,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,ErrorCode$1=er,sr.COMPLETE="complete",EventType=sr,gr.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pn.prototype.listen=pn.prototype.K,WebChannel=gr,Ir.prototype.listenOnce=Ir.prototype.L,Ir.prototype.getLastError=Ir.prototype.Ka,Ir.prototype.getLastErrorCode=Ir.prototype.Ba,Ir.prototype.getStatus=Ir.prototype.Z,Ir.prototype.getResponseJson=Ir.prototype.Oa,Ir.prototype.getResponseText=Ir.prototype.oa,Ir.prototype.send=Ir.prototype.ea,Ir.prototype.setWithCredentials=Ir.prototype.Ha,XhrIo=Ir}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const w="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S$1="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b.logLevel}function __PRIVATE_logDebug(a,...e){if(b.logLevel<=LogLevel.DEBUG){const o=e.map(__PRIVATE_argToString);b.debug(`Firestore (${S$1}): ${a}`,...o)}}function __PRIVATE_logError(a,...e){if(b.logLevel<=LogLevel.ERROR){const o=e.map(__PRIVATE_argToString);b.error(`Firestore (${S$1}): ${a}`,...o)}}function __PRIVATE_logWarn(a,...e){if(b.logLevel<=LogLevel.WARN){const o=e.map(__PRIVATE_argToString);b.warn(`Firestore (${S$1}): ${a}`,...o)}}function __PRIVATE_argToString(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(o){return JSON.stringify(o)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(a="Unexpected state"){const e=`FIRESTORE (${S$1}) INTERNAL ASSERTION FAILED: `+a;throw __PRIVATE_logError(e),new Error(e)}function __PRIVATE_hardAssert(a,e){a||fail()}function __PRIVATE_debugCast(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,o){super(e,o),this.code=e,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,o){e.enqueueRetryable(()=>o(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,o){this.changeListener=o,e.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,o){__PRIVATE_hardAssert(this.o===void 0);let c=this.i;const et=mt=>this.i!==c?(c=this.i,o(mt)):Promise.resolve();let tt=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),tt.resolve(),tt=new __PRIVATE_Deferred,e.enqueueRetryable(()=>et(this.currentUser))};const nt=()=>{const mt=tt;e.enqueueRetryable(async()=>{await mt.promise,await et(this.currentUser)})},rt=mt=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=mt,this.o&&(this.auth.addAuthTokenListener(this.o),nt())};this.t.onInit(mt=>rt(mt)),setTimeout(()=>{if(!this.auth){const mt=this.t.getImmediate({optional:!0});mt?rt(mt):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),tt.resolve(),tt=new __PRIVATE_Deferred)}},0),nt()}getToken(){const e=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(c=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(__PRIVATE_hardAssert(typeof c.accessToken=="string"),new __PRIVATE_OAuthToken(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string"),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,o,c){this.l=e,this.h=o,this.P=c,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,o,c){this.l=e,this.h=o,this.P=c}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(e,o){e.enqueueRetryable(()=>o(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,o){__PRIVATE_hardAssert(this.o===void 0);const c=tt=>{tt.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${tt.error.message}`);const nt=tt.token!==this.R;return this.R=tt.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${nt?"new":"existing"} token.`),nt?o(tt.token):Promise.resolve()};this.o=tt=>{e.enqueueRetryable(()=>c(tt))};const et=tt=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=tt,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(tt=>et(tt)),setTimeout(()=>{if(!this.appCheck){const tt=this.A.getImmediate({optional:!0});tt?et(tt):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(o=>o?(__PRIVATE_hardAssert(typeof o.token=="string"),this.R=o.token,new AppCheckToken(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(o);else for(let c=0;c<a;c++)o[c]=Math.floor(256*Math.random());return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/e.length)*e.length;let c="";for(;c.length<20;){const et=__PRIVATE_randomBytes(40);for(let tt=0;tt<et.length;++tt)c.length<20&&et[tt]<o&&(c+=e.charAt(et[tt]%e.length))}return c}}function __PRIVATE_primitiveComparator(a,e){return a<e?-1:a>e?1:0}function __PRIVATE_arrayEquals(a,e,o){return a.length===e.length&&a.every((c,et)=>o(c,e[et]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(e,o){if(this.seconds=e,this.nanoseconds=o,o<0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(e<-62135596800)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const o=Math.floor(e/1e3),c=Math.floor(1e6*(e-1e3*o));return new Timestamp(o,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(e,o,c){o===void 0?o=0:o>e.length&&fail(),c===void 0?c=e.length-o:c>e.length-o&&fail(),this.segments=e,this.offset=o,this.len=c}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const o=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(c=>{o.push(c)}):o.push(e),this.construct(o)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==e.get(o))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==e.get(o))return!1;return!0}forEach(e){for(let o=this.offset,c=this.limit();o<c;o++)e(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,o){const c=Math.min(e.length,o.length);for(let et=0;et<c;et++){const tt=e.get(et),nt=o.get(et);if(tt<nt)return-1;if(tt>nt)return 1}return e.length<o.length?-1:e.length>o.length?1:0}}class ResourcePath extends BasePath{construct(e,o,c){return new ResourcePath(e,o,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const o=[];for(const c of e){if(c.indexOf("//")>=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);o.push(...c.split("/").filter(et=>et.length>0))}return new ResourcePath(o)}static emptyPath(){return new ResourcePath([])}}const v=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,o,c){return new FieldPath$1(e,o,c)}static isValidIdentifier(e){return v.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(e){const o=[];let c="",et=0;const tt=()=>{if(c.length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(c),c=""};let nt=!1;for(;et<e.length;){const rt=e[et];if(rt==="\\"){if(et+1===e.length)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const mt=e[et+1];if(mt!=="\\"&&mt!=="."&&mt!=="`")throw new FirestoreError(D$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=mt,et+=2}else rt==="`"?(nt=!nt,et++):rt!=="."||nt?(c+=rt,et++):(tt(),et++)}if(tt(),nt)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(o)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,o){return ResourcePath.comparator(e.path,o.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(a,e){const o=a.toTimestamp().seconds,c=a.toTimestamp().nanoseconds+1,et=SnapshotVersion.fromTimestamp(c===1e9?new Timestamp(o+1,0):new Timestamp(o,c));return new IndexOffset(et,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(a){return new IndexOffset(a.readTime,a.key,-1)}class IndexOffset{constructor(e,o,c){this.readTime=e,this.documentKey=o,this.largestBatchId=c}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(a,e){let o=a.readTime.compareTo(e.readTime);return o!==0?o:(o=DocumentKey.comparator(a.documentKey,e.documentKey),o!==0?o:__PRIVATE_primitiveComparator(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(a){if(a.code!==D$1.FAILED_PRECONDITION||a.message!==C)throw a;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(e){return this.next(void 0,e)}next(e,o){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((c,et)=>{this.nextCallback=tt=>{this.wrapSuccess(e,tt).next(c,et)},this.catchCallback=tt=>{this.wrapFailure(o,tt).next(c,et)}})}toPromise(){return new Promise((e,o)=>{this.next(e,o)})}wrapUserFunction(e){try{const o=e();return o instanceof PersistencePromise?o:PersistencePromise.resolve(o)}catch(o){return PersistencePromise.reject(o)}}wrapSuccess(e,o){return e?this.wrapUserFunction(()=>e(o)):PersistencePromise.resolve(o)}wrapFailure(e,o){return e?this.wrapUserFunction(()=>e(o)):PersistencePromise.reject(o)}static resolve(e){return new PersistencePromise((o,c)=>{o(e)})}static reject(e){return new PersistencePromise((o,c)=>{c(e)})}static waitFor(e){return new PersistencePromise((o,c)=>{let et=0,tt=0,nt=!1;e.forEach(rt=>{++et,rt.next(()=>{++tt,nt&&tt===et&&o()},mt=>c(mt))}),nt=!0,tt===et&&o()})}static or(e){let o=PersistencePromise.resolve(!1);for(const c of e)o=o.next(et=>et?PersistencePromise.resolve(et):c());return o}static forEach(e,o){const c=[];return e.forEach((et,tt)=>{c.push(o.call(this,et,tt))}),this.waitFor(c)}static mapArray(e,o){return new PersistencePromise((c,et)=>{const tt=e.length,nt=new Array(tt);let rt=0;for(let mt=0;mt<tt;mt++){const gt=mt;o(e[gt]).next(yt=>{nt[gt]=yt,++rt,rt===tt&&c(nt)},yt=>et(yt))}})}static doWhile(e,o){return new PersistencePromise((c,et)=>{const tt=()=>{e()===!0?o().next(()=>{tt()},et):c()};tt()})}}function __PRIVATE_getAndroidVersion(a){const e=a.match(/Android ([\d.]+)/i),o=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(o)}function __PRIVATE_isIndexedDbTransactionError(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,o){this.previousValue=e,o&&(o.sequenceNumberHandler=c=>this.ie(c),this.se=c=>o.writeSequenceNumber(c))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(a){return a==null}function __PRIVATE_isNegativeZero(a){return a===0&&1/a==-1/0}function isSafeInteger(a){return typeof a=="number"&&Number.isInteger(a)&&!__PRIVATE_isNegativeZero(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(a){let e=0;for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&e++;return e}function forEach(a,e){for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&e(o,a[o])}function isEmpty(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(e,o){this.comparator=e,this.root=o||LLRBNode.EMPTY}insert(e,o){return new SortedMap(this.comparator,this.root.insert(e,o,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(c===0)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null}indexOf(e){let o=0,c=this.root;for(;!c.isEmpty();){const et=this.comparator(e,c.key);if(et===0)return o+c.left.size;et<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((o,c)=>(e(o,c),!1))}toString(){const e=[];return this.inorderTraversal((o,c)=>(e.push(`${o}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,o,c,et){this.isReverse=et,this.nodeStack=[];let tt=1;for(;!e.isEmpty();)if(tt=o?c(e.key,o):1,o&&et&&(tt*=-1),tt<0)e=this.isReverse?e.left:e.right;else{if(tt===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const o={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,o,c,et,tt){this.key=e,this.value=o,this.color=c??LLRBNode.RED,this.left=et??LLRBNode.EMPTY,this.right=tt??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,o,c,et,tt){return new LLRBNode(e??this.key,o??this.value,c??this.color,et??this.left,tt??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,c){let et=this;const tt=c(e,et.key);return et=tt<0?et.copy(null,null,null,et.left.insert(e,o,c),null):tt===0?et.copy(null,o,null,null,null):et.copy(null,null,null,null,et.right.insert(e,o,c)),et.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,o){let c,et=this;if(o(e,et.key)<0)et.left.isEmpty()||et.left.isRed()||et.left.left.isRed()||(et=et.moveRedLeft()),et=et.copy(null,null,null,et.left.remove(e,o),null);else{if(et.left.isRed()&&(et=et.rotateRight()),et.right.isEmpty()||et.right.isRed()||et.right.left.isRed()||(et=et.moveRedRight()),o(e,et.key)===0){if(et.right.isEmpty())return LLRBNode.EMPTY;c=et.right.min(),et=et.copy(c.key,c.value,null,null,et.right.removeMin())}et=et.copy(null,null,null,null,et.right.remove(e,o))}return et.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const e=this.left.check();if(e!==this.right.check())throw fail();return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(e,o,c,et,tt){return this}insert(e,o,c){return new LLRBNode(e,o)}remove(e,o){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((o,c)=>(e(o),!1))}forEachInRange(e,o){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const et=c.getNext();if(this.comparator(et.key,e[1])>=0)return;o(et.key)}}forEachWhile(e,o){let c;for(c=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const o=this.data.getIteratorFrom(e);return o.hasNext()?o.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let o=this;return o.size<e.size&&(o=e,e=this),e.forEach(c=>{o=o.add(c)}),o}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const o=this.data.getIterator(),c=e.data.getIterator();for(;o.hasNext();){const et=o.getNext().key,tt=c.getNext().key;if(this.comparator(et,tt)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(o=>{e.push(o)}),e}toString(){const e=[];return this.forEach(o=>e.push(o)),"SortedSet("+e.toString()+")"}copy(e){const o=new SortedSet(this.comparator);return o.data=e,o}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let o=new SortedSet(FieldPath$1.comparator);for(const c of this.fields)o=o.add(c);for(const c of e)o=o.add(c);return new FieldMask(o.toArray())}covers(e){for(const o of this.fields)if(o.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(o,c)=>o.isEqual(c))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const o=function(et){try{return atob(et)}catch(tt){throw typeof DOMException<"u"&&tt instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+tt):tt}}(e);return new ByteString(o)}static fromUint8Array(e){const o=function(et){let tt="";for(let nt=0;nt<et.length;++nt)tt+=String.fromCharCode(et[nt]);return tt}(e);return new ByteString(o)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(o){return btoa(o)}(this.binaryString)}toUint8Array(){return function(o){const c=new Uint8Array(o.length);for(let et=0;et<o.length;et++)c[et]=o.charCodeAt(et);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(a){if(__PRIVATE_hardAssert(!!a),typeof a=="string"){let e=0;const o=ne.exec(a);if(__PRIVATE_hardAssert(!!o),o[1]){let et=o[1];et=(et+"000000000").substr(0,9),e=Number(et)}const c=new Date(a);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(a.seconds),nanos:__PRIVATE_normalizeNumber(a.nanos)}}function __PRIVATE_normalizeNumber(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function __PRIVATE_normalizeByteString(a){return typeof a=="string"?ByteString.fromBase64String(a):ByteString.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(a){var e,o;return((o=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||o===void 0?void 0:o.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(a){const e=a.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(a){const e=__PRIVATE_normalizeTimestamp(a.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,o,c,et,tt,nt,rt,mt,gt){this.databaseId=e,this.appId=o,this.persistenceKey=c,this.host=et,this.ssl=tt,this.forceLongPolling=nt,this.autoDetectLongPolling=rt,this.longPollingOptions=mt,this.useFetchStreams=gt}}class DatabaseId{constructor(e,o){this.projectId=e,this.database=o||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re$1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?__PRIVATE_isServerTimestamp(a)?4:__PRIVATE_isMaxValue(a)?9007199254740991:__PRIVATE_isVectorValue(a)?10:11:fail()}function __PRIVATE_valueEquals(a,e){if(a===e)return!0;const o=__PRIVATE_typeOrder(a);if(o!==__PRIVATE_typeOrder(e))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(a).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return function(et,tt){if(typeof et.timestampValue=="string"&&typeof tt.timestampValue=="string"&&et.timestampValue.length===tt.timestampValue.length)return et.timestampValue===tt.timestampValue;const nt=__PRIVATE_normalizeTimestamp(et.timestampValue),rt=__PRIVATE_normalizeTimestamp(tt.timestampValue);return nt.seconds===rt.seconds&&nt.nanos===rt.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(et,tt){return __PRIVATE_normalizeByteString(et.bytesValue).isEqual(__PRIVATE_normalizeByteString(tt.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(et,tt){return __PRIVATE_normalizeNumber(et.geoPointValue.latitude)===__PRIVATE_normalizeNumber(tt.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(et.geoPointValue.longitude)===__PRIVATE_normalizeNumber(tt.geoPointValue.longitude)}(a,e);case 2:return function(et,tt){if("integerValue"in et&&"integerValue"in tt)return __PRIVATE_normalizeNumber(et.integerValue)===__PRIVATE_normalizeNumber(tt.integerValue);if("doubleValue"in et&&"doubleValue"in tt){const nt=__PRIVATE_normalizeNumber(et.doubleValue),rt=__PRIVATE_normalizeNumber(tt.doubleValue);return nt===rt?__PRIVATE_isNegativeZero(nt)===__PRIVATE_isNegativeZero(rt):isNaN(nt)&&isNaN(rt)}return!1}(a,e);case 9:return __PRIVATE_arrayEquals(a.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(et,tt){const nt=et.mapValue.fields||{},rt=tt.mapValue.fields||{};if(__PRIVATE_objectSize(nt)!==__PRIVATE_objectSize(rt))return!1;for(const mt in nt)if(nt.hasOwnProperty(mt)&&(rt[mt]===void 0||!__PRIVATE_valueEquals(nt[mt],rt[mt])))return!1;return!0}(a,e);default:return fail()}}function __PRIVATE_arrayValueContains(a,e){return(a.values||[]).find(o=>__PRIVATE_valueEquals(o,e))!==void 0}function __PRIVATE_valueCompare(a,e){if(a===e)return 0;const o=__PRIVATE_typeOrder(a),c=__PRIVATE_typeOrder(e);if(o!==c)return __PRIVATE_primitiveComparator(o,c);switch(o){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(a.booleanValue,e.booleanValue);case 2:return function(tt,nt){const rt=__PRIVATE_normalizeNumber(tt.integerValue||tt.doubleValue),mt=__PRIVATE_normalizeNumber(nt.integerValue||nt.doubleValue);return rt<mt?-1:rt>mt?1:rt===mt?0:isNaN(rt)?isNaN(mt)?0:-1:1}(a,e);case 3:return __PRIVATE_compareTimestamps(a.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(a),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_primitiveComparator(a.stringValue,e.stringValue);case 6:return function(tt,nt){const rt=__PRIVATE_normalizeByteString(tt),mt=__PRIVATE_normalizeByteString(nt);return rt.compareTo(mt)}(a.bytesValue,e.bytesValue);case 7:return function(tt,nt){const rt=tt.split("/"),mt=nt.split("/");for(let gt=0;gt<rt.length&&gt<mt.length;gt++){const yt=__PRIVATE_primitiveComparator(rt[gt],mt[gt]);if(yt!==0)return yt}return __PRIVATE_primitiveComparator(rt.length,mt.length)}(a.referenceValue,e.referenceValue);case 8:return function(tt,nt){const rt=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(tt.latitude),__PRIVATE_normalizeNumber(nt.latitude));return rt!==0?rt:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(tt.longitude),__PRIVATE_normalizeNumber(nt.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return __PRIVATE_compareArrays(a.arrayValue,e.arrayValue);case 10:return function(tt,nt){var rt,mt,gt,yt;const vt=tt.fields||{},xt=nt.fields||{},bt=(rt=vt.value)===null||rt===void 0?void 0:rt.arrayValue,Et=(mt=xt.value)===null||mt===void 0?void 0:mt.arrayValue,wt=__PRIVATE_primitiveComparator(((gt=bt==null?void 0:bt.values)===null||gt===void 0?void 0:gt.length)||0,((yt=Et==null?void 0:Et.values)===null||yt===void 0?void 0:yt.length)||0);return wt!==0?wt:__PRIVATE_compareArrays(bt,Et)}(a.mapValue,e.mapValue);case 11:return function(tt,nt){if(tt===re$1.mapValue&&nt===re$1.mapValue)return 0;if(tt===re$1.mapValue)return 1;if(nt===re$1.mapValue)return-1;const rt=tt.fields||{},mt=Object.keys(rt),gt=nt.fields||{},yt=Object.keys(gt);mt.sort(),yt.sort();for(let vt=0;vt<mt.length&&vt<yt.length;++vt){const xt=__PRIVATE_primitiveComparator(mt[vt],yt[vt]);if(xt!==0)return xt;const bt=__PRIVATE_valueCompare(rt[mt[vt]],gt[yt[vt]]);if(bt!==0)return bt}return __PRIVATE_primitiveComparator(mt.length,yt.length)}(a.mapValue,e.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return __PRIVATE_primitiveComparator(a,e);const o=__PRIVATE_normalizeTimestamp(a),c=__PRIVATE_normalizeTimestamp(e),et=__PRIVATE_primitiveComparator(o.seconds,c.seconds);return et!==0?et:__PRIVATE_primitiveComparator(o.nanos,c.nanos)}function __PRIVATE_compareArrays(a,e){const o=a.values||[],c=e.values||[];for(let et=0;et<o.length&&et<c.length;++et){const tt=__PRIVATE_valueCompare(o[et],c[et]);if(tt)return tt}return __PRIVATE_primitiveComparator(o.length,c.length)}function canonicalId(a){return __PRIVATE_canonifyValue(a)}function __PRIVATE_canonifyValue(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(o){const c=__PRIVATE_normalizeTimestamp(o);return`time(${c.seconds},${c.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(o){return __PRIVATE_normalizeByteString(o).toBase64()}(a.bytesValue):"referenceValue"in a?function(o){return DocumentKey.fromName(o).toString()}(a.referenceValue):"geoPointValue"in a?function(o){return`geo(${o.latitude},${o.longitude})`}(a.geoPointValue):"arrayValue"in a?function(o){let c="[",et=!0;for(const tt of o.values||[])et?et=!1:c+=",",c+=__PRIVATE_canonifyValue(tt);return c+"]"}(a.arrayValue):"mapValue"in a?function(o){const c=Object.keys(o.fields||{}).sort();let et="{",tt=!0;for(const nt of c)tt?tt=!1:et+=",",et+=`${nt}:${__PRIVATE_canonifyValue(o.fields[nt])}`;return et+"}"}(a.mapValue):fail()}function __PRIVATE_refValue(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function isInteger$1(a){return!!a&&"integerValue"in a}function isArray$1(a){return!!a&&"arrayValue"in a}function __PRIVATE_isNullValue(a){return!!a&&"nullValue"in a}function __PRIVATE_isNanValue(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function __PRIVATE_isMapValue(a){return!!a&&"mapValue"in a}function __PRIVATE_isVectorValue(a){var e,o;return((o=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||o===void 0?void 0:o.stringValue)==="__vector__"}function __PRIVATE_deepClone(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return forEach(a.mapValue.fields,(o,c)=>e.mapValue.fields[o]=__PRIVATE_deepClone(c)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let o=0;o<(a.arrayValue.values||[]).length;++o)e.arrayValue.values[o]=__PRIVATE_deepClone(a.arrayValue.values[o]);return e}return Object.assign({},a)}function __PRIVATE_isMaxValue(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let o=this.value;for(let c=0;c<e.length-1;++c)if(o=(o.mapValue.fields||{})[e.get(c)],!__PRIVATE_isMapValue(o))return null;return o=(o.mapValue.fields||{})[e.lastSegment()],o||null}}set(e,o){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(o)}setAll(e){let o=FieldPath$1.emptyPath(),c={},et=[];e.forEach((nt,rt)=>{if(!o.isImmediateParentOf(rt)){const mt=this.getFieldsMap(o);this.applyChanges(mt,c,et),c={},et=[],o=rt.popLast()}nt?c[rt.lastSegment()]=__PRIVATE_deepClone(nt):et.push(rt.lastSegment())});const tt=this.getFieldsMap(o);this.applyChanges(tt,c,et)}delete(e){const o=this.field(e.popLast());__PRIVATE_isMapValue(o)&&o.mapValue.fields&&delete o.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let c=0;c<e.length;++c){let et=o.mapValue.fields[e.get(c)];__PRIVATE_isMapValue(et)&&et.mapValue.fields||(et={mapValue:{fields:{}}},o.mapValue.fields[e.get(c)]=et),o=et}return o.mapValue.fields}applyChanges(e,o,c){forEach(o,(et,tt)=>e[et]=tt);for(const et of c)delete e[et]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(a){const e=[];return forEach(a.fields,(o,c)=>{const et=new FieldPath$1([o]);if(__PRIVATE_isMapValue(c)){const tt=__PRIVATE_extractFieldMask(c.mapValue).fields;if(tt.length===0)e.push(et);else for(const nt of tt)e.push(et.child(nt))}else e.push(et)}),new FieldMask(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,o,c,et,tt,nt,rt){this.key=e,this.documentType=o,this.version=c,this.readTime=et,this.createTime=tt,this.data=nt,this.documentState=rt}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,o,c,et){return new MutableDocument(e,1,o,SnapshotVersion.min(),c,et,0)}static newNoDocument(e,o){return new MutableDocument(e,2,o,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,o){return new MutableDocument(e,3,o,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,o){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,o){this.position=e,this.inclusive=o}}function __PRIVATE_boundCompareToDocument(a,e,o){let c=0;for(let et=0;et<a.position.length;et++){const tt=e[et],nt=a.position[et];if(tt.field.isKeyField()?c=DocumentKey.comparator(DocumentKey.fromName(nt.referenceValue),o.key):c=__PRIVATE_valueCompare(nt,o.data.field(tt.field)),tt.dir==="desc"&&(c*=-1),c!==0)break}return c}function __PRIVATE_boundEquals(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let o=0;o<a.position.length;o++)if(!__PRIVATE_valueEquals(a.position[o],e.position[o]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,o="asc"){this.field=e,this.dir=o}}function __PRIVATE_orderByEquals(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(e,o,c){super(),this.field=e,this.op=o,this.value=c}static create(e,o,c){return e.isKeyField()?o==="in"||o==="not-in"?this.createKeyFieldInFilter(e,o,c):new __PRIVATE_KeyFieldFilter(e,o,c):o==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,c):o==="in"?new __PRIVATE_InFilter(e,c):o==="not-in"?new __PRIVATE_NotInFilter(e,c):o==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,c):new FieldFilter(e,o,c)}static createKeyFieldInFilter(e,o,c){return o==="in"?new __PRIVATE_KeyFieldInFilter(e,c):new __PRIVATE_KeyFieldNotInFilter(e,c)}matches(e){const o=e.data.field(this.field);return this.op==="!="?o!==null&&this.matchesComparison(__PRIVATE_valueCompare(o,this.value)):o!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(o)&&this.matchesComparison(__PRIVATE_valueCompare(o,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(e,o){super(),this.filters=e,this.op=o,this.ae=null}static create(e,o){return new CompositeFilter(e,o)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(o=>!o.matches(e))===void 0:this.filters.find(o=>o.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,o)=>e.concat(o.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(a){return a.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(a){return __PRIVATE_compositeFilterIsFlat(a)&&__PRIVATE_compositeFilterIsConjunction(a)}function __PRIVATE_compositeFilterIsFlat(a){for(const e of a.filters)if(e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(a){if(a instanceof FieldFilter)return a.field.canonicalString()+a.op.toString()+canonicalId(a.value);if(__PRIVATE_compositeFilterIsFlatConjunction(a))return a.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const e=a.filters.map(o=>__PRIVATE_canonifyFilter(o)).join(",");return`${a.op}(${e})`}}function __PRIVATE_filterEquals(a,e){return a instanceof FieldFilter?function(c,et){return et instanceof FieldFilter&&c.op===et.op&&c.field.isEqual(et.field)&&__PRIVATE_valueEquals(c.value,et.value)}(a,e):a instanceof CompositeFilter?function(c,et){return et instanceof CompositeFilter&&c.op===et.op&&c.filters.length===et.filters.length?c.filters.reduce((tt,nt,rt)=>tt&&__PRIVATE_filterEquals(nt,et.filters[rt]),!0):!1}(a,e):void fail()}function __PRIVATE_stringifyFilter(a){return a instanceof FieldFilter?function(o){return`${o.field.canonicalString()} ${o.op} ${canonicalId(o.value)}`}(a):a instanceof CompositeFilter?function(o){return o.op.toString()+" {"+o.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(a):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,o,c){super(e,o,c),this.key=DocumentKey.fromName(c.referenceValue)}matches(e){const o=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(o)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,o){super(e,"in",o),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",o)}matches(e){return this.keys.some(o=>o.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,o){super(e,"not-in",o),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",o)}matches(e){return!this.keys.some(o=>o.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(a,e){var o;return(((o=e.arrayValue)===null||o===void 0?void 0:o.values)||[]).map(c=>DocumentKey.fromName(c.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,o){super(e,"array-contains",o)}matches(e){const o=e.data.field(this.field);return isArray$1(o)&&__PRIVATE_arrayValueContains(o.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,o){super(e,"in",o)}matches(e){const o=e.data.field(this.field);return o!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,o)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,o){super(e,"not-in",o)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=e.data.field(this.field);return o!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,o)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,o){super(e,"array-contains-any",o)}matches(e){const o=e.data.field(this.field);return!(!isArray$1(o)||!o.arrayValue.values)&&o.arrayValue.values.some(c=>__PRIVATE_arrayValueContains(this.value.arrayValue,c))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,o=null,c=[],et=[],tt=null,nt=null,rt=null){this.path=e,this.collectionGroup=o,this.orderBy=c,this.filters=et,this.limit=tt,this.startAt=nt,this.endAt=rt,this.ue=null}}function __PRIVATE_newTarget(a,e=null,o=[],c=[],et=null,tt=null,nt=null){return new __PRIVATE_TargetImpl(a,e,o,c,et,tt,nt)}function __PRIVATE_canonifyTarget(a){const e=__PRIVATE_debugCast(a);if(e.ue===null){let o=e.path.canonicalString();e.collectionGroup!==null&&(o+="|cg:"+e.collectionGroup),o+="|f:",o+=e.filters.map(c=>__PRIVATE_canonifyFilter(c)).join(","),o+="|ob:",o+=e.orderBy.map(c=>function(tt){return tt.field.canonicalString()+tt.dir}(c)).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(o+="|l:",o+=e.limit),e.startAt&&(o+="|lb:",o+=e.startAt.inclusive?"b:":"a:",o+=e.startAt.position.map(c=>canonicalId(c)).join(",")),e.endAt&&(o+="|ub:",o+=e.endAt.inclusive?"a:":"b:",o+=e.endAt.position.map(c=>canonicalId(c)).join(",")),e.ue=o}return e.ue}function __PRIVATE_targetEquals(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<a.orderBy.length;o++)if(!__PRIVATE_orderByEquals(a.orderBy[o],e.orderBy[o]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let o=0;o<a.filters.length;o++)if(!__PRIVATE_filterEquals(a.filters[o],e.filters[o]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(a.startAt,e.startAt)&&__PRIVATE_boundEquals(a.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(a){return DocumentKey.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,o=null,c=[],et=[],tt=null,nt="F",rt=null,mt=null){this.path=e,this.collectionGroup=o,this.explicitOrderBy=c,this.filters=et,this.limit=tt,this.limitType=nt,this.startAt=rt,this.endAt=mt,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(a,e,o,c,et,tt,nt,rt){return new __PRIVATE_QueryImpl(a,e,o,c,et,tt,nt,rt)}function __PRIVATE_newQueryForPath(a){return new __PRIVATE_QueryImpl(a)}function __PRIVATE_queryMatchesAllDocuments(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(a){return a.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(a){const e=__PRIVATE_debugCast(a);if(e.ce===null){e.ce=[];const o=new Set;for(const tt of e.explicitOrderBy)e.ce.push(tt),o.add(tt.field.canonicalString());const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(nt){let rt=new SortedSet(FieldPath$1.comparator);return nt.filters.forEach(mt=>{mt.getFlattenedFilters().forEach(gt=>{gt.isInequality()&&(rt=rt.add(gt.field))})}),rt})(e).forEach(tt=>{o.has(tt.canonicalString())||tt.isKeyField()||e.ce.push(new OrderBy(tt,c))}),o.has(FieldPath$1.keyField().canonicalString())||e.ce.push(new OrderBy(FieldPath$1.keyField(),c))}return e.ce}function __PRIVATE_queryToTarget(a){const e=__PRIVATE_debugCast(a);return e.le||(e.le=__PRIVATE__queryToTarget(e,__PRIVATE_queryNormalizedOrderBy(a))),e.le}function __PRIVATE__queryToTarget(a,e){if(a.limitType==="F")return __PRIVATE_newTarget(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(et=>{const tt=et.dir==="desc"?"asc":"desc";return new OrderBy(et.field,tt)});const o=a.endAt?new Bound(a.endAt.position,a.endAt.inclusive):null,c=a.startAt?new Bound(a.startAt.position,a.startAt.inclusive):null;return __PRIVATE_newTarget(a.path,a.collectionGroup,e,a.filters,a.limit,o,c)}}function __PRIVATE_queryWithAddedFilter(a,e){const o=a.filters.concat([e]);return new __PRIVATE_QueryImpl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),o,a.limit,a.limitType,a.startAt,a.endAt)}function __PRIVATE_queryWithLimit(a,e,o){return new __PRIVATE_QueryImpl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,o,a.startAt,a.endAt)}function __PRIVATE_queryEquals(a,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(a),__PRIVATE_queryToTarget(e))&&a.limitType===e.limitType}function __PRIVATE_canonifyQuery(a){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(a))}|lt:${a.limitType}`}function __PRIVATE_stringifyQuery(a){return`Query(target=${function(o){let c=o.path.canonicalString();return o.collectionGroup!==null&&(c+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(c+=`, filters: [${o.filters.map(et=>__PRIVATE_stringifyFilter(et)).join(", ")}]`),__PRIVATE_isNullOrUndefined(o.limit)||(c+=", limit: "+o.limit),o.orderBy.length>0&&(c+=`, orderBy: [${o.orderBy.map(et=>function(nt){return`${nt.field.canonicalString()} (${nt.dir})`}(et)).join(", ")}]`),o.startAt&&(c+=", startAt: ",c+=o.startAt.inclusive?"b:":"a:",c+=o.startAt.position.map(et=>canonicalId(et)).join(",")),o.endAt&&(c+=", endAt: ",c+=o.endAt.inclusive?"a:":"b:",c+=o.endAt.position.map(et=>canonicalId(et)).join(",")),`Target(${c})`}(__PRIVATE_queryToTarget(a))}; limitType=${a.limitType})`}function __PRIVATE_queryMatches(a,e){return e.isFoundDocument()&&function(c,et){const tt=et.key.path;return c.collectionGroup!==null?et.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(tt):DocumentKey.isDocumentKey(c.path)?c.path.isEqual(tt):c.path.isImmediateParentOf(tt)}(a,e)&&function(c,et){for(const tt of __PRIVATE_queryNormalizedOrderBy(c))if(!tt.field.isKeyField()&&et.data.field(tt.field)===null)return!1;return!0}(a,e)&&function(c,et){for(const tt of c.filters)if(!tt.matches(et))return!1;return!0}(a,e)&&function(c,et){return!(c.startAt&&!function(nt,rt,mt){const gt=__PRIVATE_boundCompareToDocument(nt,rt,mt);return nt.inclusive?gt<=0:gt<0}(c.startAt,__PRIVATE_queryNormalizedOrderBy(c),et)||c.endAt&&!function(nt,rt,mt){const gt=__PRIVATE_boundCompareToDocument(nt,rt,mt);return nt.inclusive?gt>=0:gt>0}(c.endAt,__PRIVATE_queryNormalizedOrderBy(c),et))}(a,e)}function __PRIVATE_queryCollectionGroup(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function __PRIVATE_newQueryComparator(a){return(e,o)=>{let c=!1;for(const et of __PRIVATE_queryNormalizedOrderBy(a)){const tt=__PRIVATE_compareDocs(et,e,o);if(tt!==0)return tt;c=c||et.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(a,e,o){const c=a.field.isKeyField()?DocumentKey.comparator(e.key,o.key):function(tt,nt,rt){const mt=nt.data.field(tt),gt=rt.data.field(tt);return mt!==null&&gt!==null?__PRIVATE_valueCompare(mt,gt):fail()}(a.field,e,o);switch(a.dir){case"asc":return c;case"desc":return-1*c;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,o){this.mapKeyFn=e,this.equalsFn=o,this.inner={},this.innerSize=0}get(e){const o=this.mapKeyFn(e),c=this.inner[o];if(c!==void 0){for(const[et,tt]of c)if(this.equalsFn(et,e))return tt}}has(e){return this.get(e)!==void 0}set(e,o){const c=this.mapKeyFn(e),et=this.inner[c];if(et===void 0)return this.inner[c]=[[e,o]],void this.innerSize++;for(let tt=0;tt<et.length;tt++)if(this.equalsFn(et[tt][0],e))return void(et[tt]=[e,o]);et.push([e,o]),this.innerSize++}delete(e){const o=this.mapKeyFn(e),c=this.inner[o];if(c===void 0)return!1;for(let et=0;et<c.length;et++)if(this.equalsFn(c[et][0],e))return c.length===1?delete this.inner[o]:c.splice(et,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,(o,c)=>{for(const[et,tt]of c)e(et,tt)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return oe}const _e=new SortedMap(DocumentKey.comparator);function documentMap(...a){let e=_e;for(const o of a)e=e.insert(o.key,o);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(a){let e=_e;return a.forEach((o,c)=>e=e.insert(o,c.overlayedDocument)),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(a=>a.toString(),(a,e)=>a.isEqual(e))}const ae=new SortedMap(DocumentKey.comparator),ue=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...a){let e=ue;for(const o of a)e=e.add(o);return e}const ce=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(a){return{integerValue:""+a}}function toNumber(a,e){return isSafeInteger(e)?__PRIVATE_toInteger(e):__PRIVATE_toDouble(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(a,e,o){return a instanceof __PRIVATE_ServerTimestampTransform?function(et,tt){const nt={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:et.seconds,nanos:et.nanoseconds}}}};return tt&&__PRIVATE_isServerTimestamp(tt)&&(tt=__PRIVATE_getPreviousValue(tt)),tt&&(nt.fields.__previous_value__=tt),{mapValue:nt}}(o,e):a instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(a,e):a instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(a,e):function(et,tt){const nt=__PRIVATE_computeTransformOperationBaseValue(et,tt),rt=asNumber$1(nt)+asNumber$1(et.Pe);return isInteger$1(nt)&&isInteger$1(et.Pe)?__PRIVATE_toInteger(rt):__PRIVATE_toDouble(et.serializer,rt)}(a,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(a,e,o){return a instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(a,e):a instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(a,e):o}function __PRIVATE_computeTransformOperationBaseValue(a,e){return a instanceof __PRIVATE_NumericIncrementTransformOperation?function(c){return isInteger$1(c)||function(tt){return!!tt&&"doubleValue"in tt}(c)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(a,e){const o=__PRIVATE_coercedFieldValuesArray(e);for(const c of a.elements)o.some(et=>__PRIVATE_valueEquals(et,c))||o.push(c);return{arrayValue:{values:o}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(a,e){let o=__PRIVATE_coercedFieldValuesArray(e);for(const c of a.elements)o=o.filter(et=>!__PRIVATE_valueEquals(et,c));return{arrayValue:{values:o}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,o){super(),this.serializer=e,this.Pe=o}}function asNumber$1(a){return __PRIVATE_normalizeNumber(a.integerValue||a.doubleValue)}function __PRIVATE_coercedFieldValuesArray(a){return isArray$1(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(e,o){this.field=e,this.transform=o}}function __PRIVATE_fieldTransformEquals(a,e){return a.field.isEqual(e.field)&&function(c,et){return c instanceof __PRIVATE_ArrayUnionTransformOperation&&et instanceof __PRIVATE_ArrayUnionTransformOperation||c instanceof __PRIVATE_ArrayRemoveTransformOperation&&et instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(c.elements,et.elements,__PRIVATE_valueEquals):c instanceof __PRIVATE_NumericIncrementTransformOperation&&et instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(c.Pe,et.Pe):c instanceof __PRIVATE_ServerTimestampTransform&&et instanceof __PRIVATE_ServerTimestampTransform}(a.transform,e.transform)}class MutationResult{constructor(e,o){this.version=e,this.transformResults=o}}class Precondition{constructor(e,o){this.updateTime=e,this.exists=o}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new __PRIVATE_DeleteMutation(a.key,Precondition.none()):new __PRIVATE_SetMutation(a.key,a.data,Precondition.none());{const o=a.data,c=ObjectValue.empty();let et=new SortedSet(FieldPath$1.comparator);for(let tt of e.fields)if(!et.has(tt)){let nt=o.field(tt);nt===null&&tt.length>1&&(tt=tt.popLast(),nt=o.field(tt)),nt===null?c.delete(tt):c.set(tt,nt),et=et.add(tt)}return new __PRIVATE_PatchMutation(a.key,c,new FieldMask(et.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(a,e,o){a instanceof __PRIVATE_SetMutation?function(et,tt,nt){const rt=et.value.clone(),mt=__PRIVATE_serverTransformResults(et.fieldTransforms,tt,nt.transformResults);rt.setAll(mt),tt.convertToFoundDocument(nt.version,rt).setHasCommittedMutations()}(a,e,o):a instanceof __PRIVATE_PatchMutation?function(et,tt,nt){if(!__PRIVATE_preconditionIsValidForDocument(et.precondition,tt))return void tt.convertToUnknownDocument(nt.version);const rt=__PRIVATE_serverTransformResults(et.fieldTransforms,tt,nt.transformResults),mt=tt.data;mt.setAll(__PRIVATE_getPatch(et)),mt.setAll(rt),tt.convertToFoundDocument(nt.version,mt).setHasCommittedMutations()}(a,e,o):function(et,tt,nt){tt.convertToNoDocument(nt.version).setHasCommittedMutations()}(0,e,o)}function __PRIVATE_mutationApplyToLocalView(a,e,o,c){return a instanceof __PRIVATE_SetMutation?function(tt,nt,rt,mt){if(!__PRIVATE_preconditionIsValidForDocument(tt.precondition,nt))return rt;const gt=tt.value.clone(),yt=__PRIVATE_localTransformResults(tt.fieldTransforms,mt,nt);return gt.setAll(yt),nt.convertToFoundDocument(nt.version,gt).setHasLocalMutations(),null}(a,e,o,c):a instanceof __PRIVATE_PatchMutation?function(tt,nt,rt,mt){if(!__PRIVATE_preconditionIsValidForDocument(tt.precondition,nt))return rt;const gt=__PRIVATE_localTransformResults(tt.fieldTransforms,mt,nt),yt=nt.data;return yt.setAll(__PRIVATE_getPatch(tt)),yt.setAll(gt),nt.convertToFoundDocument(nt.version,yt).setHasLocalMutations(),rt===null?null:rt.unionWith(tt.fieldMask.fields).unionWith(tt.fieldTransforms.map(vt=>vt.field))}(a,e,o,c):function(tt,nt,rt){return __PRIVATE_preconditionIsValidForDocument(tt.precondition,nt)?(nt.convertToNoDocument(nt.version).setHasLocalMutations(),null):rt}(a,e,o)}function __PRIVATE_mutationExtractBaseValue(a,e){let o=null;for(const c of a.fieldTransforms){const et=e.data.field(c.field),tt=__PRIVATE_computeTransformOperationBaseValue(c.transform,et||null);tt!=null&&(o===null&&(o=ObjectValue.empty()),o.set(c.field,tt))}return o||null}function __PRIVATE_mutationEquals(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(c,et){return c===void 0&&et===void 0||!(!c||!et)&&__PRIVATE_arrayEquals(c,et,(tt,nt)=>__PRIVATE_fieldTransformEquals(tt,nt))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,o,c,et=[]){super(),this.key=e,this.value=o,this.precondition=c,this.fieldTransforms=et,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,o,c,et,tt=[]){super(),this.key=e,this.data=o,this.fieldMask=c,this.precondition=et,this.fieldTransforms=tt,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(a){const e=new Map;return a.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const c=a.data.field(o);e.set(o,c)}}),e}function __PRIVATE_serverTransformResults(a,e,o){const c=new Map;__PRIVATE_hardAssert(a.length===o.length);for(let et=0;et<o.length;et++){const tt=a[et],nt=tt.transform,rt=e.data.field(tt.field);c.set(tt.field,__PRIVATE_applyTransformOperationToRemoteDocument(nt,rt,o[et]))}return c}function __PRIVATE_localTransformResults(a,e,o){const c=new Map;for(const et of a){const tt=et.transform,nt=o.data.field(et.field);c.set(et.field,__PRIVATE_applyTransformOperationToLocalView(tt,nt,e))}return c}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,o){super(),this.key=e,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,o){super(),this.key=e,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,o,c,et){this.batchId=e,this.localWriteTime=o,this.baseMutations=c,this.mutations=et}applyToRemoteDocument(e,o){const c=o.mutationResults;for(let et=0;et<this.mutations.length;et++){const tt=this.mutations[et];tt.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(tt,e,c[et])}}applyToLocalView(e,o){for(const c of this.baseMutations)c.key.isEqual(e.key)&&(o=__PRIVATE_mutationApplyToLocalView(c,e,o,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(e.key)&&(o=__PRIVATE_mutationApplyToLocalView(c,e,o,this.localWriteTime));return o}applyToLocalDocumentSet(e,o){const c=__PRIVATE_newMutationMap();return this.mutations.forEach(et=>{const tt=e.get(et.key),nt=tt.overlayedDocument;let rt=this.applyToLocalView(nt,tt.mutatedFields);rt=o.has(et.key)?null:rt;const mt=__PRIVATE_calculateOverlayMutation(nt,rt);mt!==null&&c.set(et.key,mt),nt.isValidDocument()||nt.convertToNoDocument(SnapshotVersion.min())}),c}keys(){return this.mutations.reduce((e,o)=>e.add(o.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(o,c)=>__PRIVATE_mutationEquals(o,c))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(o,c)=>__PRIVATE_mutationEquals(o,c))}}class MutationBatchResult{constructor(e,o,c,et){this.batch=e,this.commitVersion=o,this.mutationResults=c,this.docVersions=et}static from(e,o,c){__PRIVATE_hardAssert(e.mutations.length===c.length);let et=function(){return ae}();const tt=e.mutations;for(let nt=0;nt<tt.length;nt++)et=et.insert(tt[nt].key,c[nt].version);return new MutationBatchResult(e,o,c,et)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,o){this.largestBatchId=e,this.mutation=o}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,o){this.count=e,this.unchangedNames=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,he;function __PRIVATE_isPermanentError(a){switch(a){default:return fail();case D$1.CANCELLED:case D$1.UNKNOWN:case D$1.DEADLINE_EXCEEDED:case D$1.RESOURCE_EXHAUSTED:case D$1.INTERNAL:case D$1.UNAVAILABLE:case D$1.UNAUTHENTICATED:return!1;case D$1.INVALID_ARGUMENT:case D$1.NOT_FOUND:case D$1.ALREADY_EXISTS:case D$1.PERMISSION_DENIED:case D$1.FAILED_PRECONDITION:case D$1.ABORTED:case D$1.OUT_OF_RANGE:case D$1.UNIMPLEMENTED:case D$1.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(a){if(a===void 0)return __PRIVATE_logError("GRPC error has no .code"),D$1.UNKNOWN;switch(a){case le.OK:return D$1.OK;case le.CANCELLED:return D$1.CANCELLED;case le.UNKNOWN:return D$1.UNKNOWN;case le.DEADLINE_EXCEEDED:return D$1.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return D$1.RESOURCE_EXHAUSTED;case le.INTERNAL:return D$1.INTERNAL;case le.UNAVAILABLE:return D$1.UNAVAILABLE;case le.UNAUTHENTICATED:return D$1.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return D$1.INVALID_ARGUMENT;case le.NOT_FOUND:return D$1.NOT_FOUND;case le.ALREADY_EXISTS:return D$1.ALREADY_EXISTS;case le.PERMISSION_DENIED:return D$1.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return D$1.FAILED_PRECONDITION;case le.ABORTED:return D$1.ABORTED;case le.OUT_OF_RANGE:return D$1.OUT_OF_RANGE;case le.UNIMPLEMENTED:return D$1.UNIMPLEMENTED;case le.DATA_LOSS:return D$1.DATA_LOSS;default:return fail()}}(he=le||(le={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(a){const e=__PRIVATE_newTextEncoder().encode(a),o=new Md5;return o.update(e),new Uint8Array(o.digest())}function __PRIVATE_get64BitUints(a){const e=new DataView(a.buffer),o=e.getUint32(0,!0),c=e.getUint32(4,!0),et=e.getUint32(8,!0),tt=e.getUint32(12,!0);return[new Integer([o,c],0),new Integer([et,tt],0)]}class BloomFilter{constructor(e,o,c){if(this.bitmap=e,this.padding=o,this.hashCount=c,o<0||o>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${o}`);if(c<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${c}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${c}`);if(e.length===0&&o!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${o}`);this.Ie=8*e.length-o,this.Te=Integer.fromNumber(this.Ie)}Ee(e,o,c){let et=e.add(o.multiply(Integer.fromNumber(c)));return et.compare(Ie)===1&&(et=new Integer([et.getBits(0),et.getBits(1)],0)),et.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const o=__PRIVATE_getMd5HashValue(e),[c,et]=__PRIVATE_get64BitUints(o);for(let tt=0;tt<this.hashCount;tt++){const nt=this.Ee(c,et,tt);if(!this.de(nt))return!1}return!0}static create(e,o,c){const et=e%8==0?0:8-e%8,tt=new Uint8Array(Math.ceil(e/8)),nt=new BloomFilter(tt,et,o);return c.forEach(rt=>nt.insert(rt)),nt}insert(e){if(this.Ie===0)return;const o=__PRIVATE_getMd5HashValue(e),[c,et]=__PRIVATE_get64BitUints(o);for(let tt=0;tt<this.hashCount;tt++){const nt=this.Ee(c,et,tt);this.Ae(nt)}}Ae(e){const o=Math.floor(e/8),c=e%8;this.bitmap[o]|=1<<c}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,o,c,et,tt){this.snapshotVersion=e,this.targetChanges=o,this.targetMismatches=c,this.documentUpdates=et,this.resolvedLimboDocuments=tt}static createSynthesizedRemoteEventForCurrentChange(e,o,c){const et=new Map;return et.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,o,c)),new RemoteEvent(SnapshotVersion.min(),et,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,o,c,et,tt){this.resumeToken=e,this.current=o,this.addedDocuments=c,this.modifiedDocuments=et,this.removedDocuments=tt}static createSynthesizedTargetChangeForCurrentChange(e,o,c){return new TargetChange(c,o,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,o,c,et){this.Re=e,this.removedTargetIds=o,this.key=c,this.Ve=et}}class __PRIVATE_ExistenceFilterChange{constructor(e,o){this.targetId=e,this.me=o}}class __PRIVATE_WatchTargetChange{constructor(e,o,c=ByteString.EMPTY_BYTE_STRING,et=null){this.state=e,this.targetIds=o,this.resumeToken=c,this.cause=et}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=__PRIVATE_documentKeySet(),o=__PRIVATE_documentKeySet(),c=__PRIVATE_documentKeySet();return this.ge.forEach((et,tt)=>{switch(tt){case 0:e=e.add(et);break;case 2:o=o.add(et);break;case 1:c=c.add(et);break;default:fail()}}),new TargetChange(this.pe,this.ye,e,o,c)}Ce(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(e,o){this.we=!0,this.ge=this.ge.insert(e,o)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.Le=e,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(e){for(const o of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(o,e.Ve):this.Ue(o,e.key,e.Ve);for(const o of e.removedTargetIds)this.Ue(o,e.key,e.Ve)}We(e){this.forEachTarget(e,o=>{const c=this.Ge(o);switch(e.state){case 0:this.ze(o)&&c.De(e.resumeToken);break;case 1:c.Oe(),c.Se||c.Ce(),c.De(e.resumeToken);break;case 2:c.Oe(),c.Se||this.removeTarget(o);break;case 3:this.ze(o)&&(c.Ne(),c.De(e.resumeToken));break;case 4:this.ze(o)&&(this.je(o),c.De(e.resumeToken));break;default:fail()}})}forEachTarget(e,o){e.targetIds.length>0?e.targetIds.forEach(o):this.Be.forEach((c,et)=>{this.ze(et)&&o(et)})}He(e){const o=e.targetId,c=e.me.count,et=this.Je(o);if(et){const tt=et.target;if(__PRIVATE_targetIsDocumentTarget(tt))if(c===0){const nt=new DocumentKey(tt.path);this.Ue(o,nt,MutableDocument.newNoDocument(nt,SnapshotVersion.min()))}else __PRIVATE_hardAssert(c===1);else{const nt=this.Ye(o);if(nt!==c){const rt=this.Ze(e),mt=rt?this.Xe(rt,e,nt):1;if(mt!==0){this.je(o);const gt=mt===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(o,gt)}}}}}Ze(e){const o=e.me.unchangedNames;if(!o||!o.bits)return null;const{bits:{bitmap:c="",padding:et=0},hashCount:tt=0}=o;let nt,rt;try{nt=__PRIVATE_normalizeByteString(c).toUint8Array()}catch(mt){if(mt instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+mt.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw mt}try{rt=new BloomFilter(nt,et,tt)}catch(mt){return __PRIVATE_logWarn(mt instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",mt),null}return rt.Ie===0?null:rt}Xe(e,o,c){return o.me.count===c-this.nt(e,o.targetId)?0:2}nt(e,o){const c=this.Le.getRemoteKeysForTarget(o);let et=0;return c.forEach(tt=>{const nt=this.Le.tt(),rt=`projects/${nt.projectId}/databases/${nt.database}/documents/${tt.path.canonicalString()}`;e.mightContain(rt)||(this.Ue(o,tt,null),et++)}),et}rt(e){const o=new Map;this.Be.forEach((tt,nt)=>{const rt=this.Je(nt);if(rt){if(tt.current&&__PRIVATE_targetIsDocumentTarget(rt.target)){const mt=new DocumentKey(rt.target.path);this.ke.get(mt)!==null||this.it(nt,mt)||this.Ue(nt,mt,MutableDocument.newNoDocument(mt,e))}tt.be&&(o.set(nt,tt.ve()),tt.Ce())}});let c=__PRIVATE_documentKeySet();this.qe.forEach((tt,nt)=>{let rt=!0;nt.forEachWhile(mt=>{const gt=this.Je(mt);return!gt||gt.purpose==="TargetPurposeLimboResolution"||(rt=!1,!1)}),rt&&(c=c.add(tt))}),this.ke.forEach((tt,nt)=>nt.setReadTime(e));const et=new RemoteEvent(e,o,this.Qe,this.ke,c);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),et}$e(e,o){if(!this.ze(e))return;const c=this.it(e,o.key)?2:0;this.Ge(e).Fe(o.key,c),this.ke=this.ke.insert(o.key,o),this.qe=this.qe.insert(o.key,this.st(o.key).add(e))}Ue(e,o,c){if(!this.ze(e))return;const et=this.Ge(e);this.it(e,o)?et.Fe(o,1):et.Me(o),this.qe=this.qe.insert(o,this.st(o).delete(e)),c&&(this.ke=this.ke.insert(o,c))}removeTarget(e){this.Be.delete(e)}Ye(e){const o=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+o.addedDocuments.size-o.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let o=this.Be.get(e);return o||(o=new __PRIVATE_TargetState,this.Be.set(e,o)),o}st(e){let o=this.qe.get(e);return o||(o=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(e,o)),o}ze(e){const o=this.Je(e)!==null;return o||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),o}Je(e){const o=this.Be.get(e);return o&&o.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(e).forEach(o=>{this.Ue(e,o,null)})}it(e,o){return this.Le.getRemoteKeysForTarget(e).has(o)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Te={asc:"ASCENDING",desc:"DESCENDING"},Ee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},de={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,o){this.databaseId=e,this.useProto3Json=o}}function __PRIVATE_toInt32Proto(a,e){return a.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_toVersion(a,e){return toTimestamp(a,e.toTimestamp())}function __PRIVATE_fromVersion(a){return __PRIVATE_hardAssert(!!a),SnapshotVersion.fromTimestamp(function(o){const c=__PRIVATE_normalizeTimestamp(o);return new Timestamp(c.seconds,c.nanos)}(a))}function __PRIVATE_toResourceName(a,e){return __PRIVATE_toResourcePath(a,e).canonicalString()}function __PRIVATE_toResourcePath(a,e){const o=function(et){return new ResourcePath(["projects",et.projectId,"databases",et.database])}(a).child("documents");return e===void 0?o:o.child(e)}function __PRIVATE_fromResourceName(a){const e=ResourcePath.fromString(a);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e)),e}function __PRIVATE_toName(a,e){return __PRIVATE_toResourceName(a.databaseId,e.path)}function fromName(a,e){const o=__PRIVATE_fromResourceName(e);if(o.get(1)!==a.databaseId.projectId)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+a.databaseId.projectId);if(o.get(3)!==a.databaseId.database)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+a.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(o))}function __PRIVATE_toQueryPath(a,e){return __PRIVATE_toResourceName(a.databaseId,e)}function __PRIVATE_fromQueryPath(a){const e=__PRIVATE_fromResourceName(a);return e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(a){return new ResourcePath(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(a){return __PRIVATE_hardAssert(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function __PRIVATE_toMutationDocument(a,e,o){return{name:__PRIVATE_toName(a,e),fields:o.value.mapValue.fields}}function __PRIVATE_fromWatchChange(a,e){let o;if("targetChange"in e){e.targetChange;const c=function(gt){return gt==="NO_CHANGE"?0:gt==="ADD"?1:gt==="REMOVE"?2:gt==="CURRENT"?3:gt==="RESET"?4:fail()}(e.targetChange.targetChangeType||"NO_CHANGE"),et=e.targetChange.targetIds||[],tt=function(gt,yt){return gt.useProto3Json?(__PRIVATE_hardAssert(yt===void 0||typeof yt=="string"),ByteString.fromBase64String(yt||"")):(__PRIVATE_hardAssert(yt===void 0||yt instanceof Buffer||yt instanceof Uint8Array),ByteString.fromUint8Array(yt||new Uint8Array))}(a,e.targetChange.resumeToken),nt=e.targetChange.cause,rt=nt&&function(gt){const yt=gt.code===void 0?D$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(gt.code);return new FirestoreError(yt,gt.message||"")}(nt);o=new __PRIVATE_WatchTargetChange(c,et,tt,rt||null)}else if("documentChange"in e){e.documentChange;const c=e.documentChange;c.document,c.document.name,c.document.updateTime;const et=fromName(a,c.document.name),tt=__PRIVATE_fromVersion(c.document.updateTime),nt=c.document.createTime?__PRIVATE_fromVersion(c.document.createTime):SnapshotVersion.min(),rt=new ObjectValue({mapValue:{fields:c.document.fields}}),mt=MutableDocument.newFoundDocument(et,tt,nt,rt),gt=c.targetIds||[],yt=c.removedTargetIds||[];o=new __PRIVATE_DocumentWatchChange(gt,yt,mt.key,mt)}else if("documentDelete"in e){e.documentDelete;const c=e.documentDelete;c.document;const et=fromName(a,c.document),tt=c.readTime?__PRIVATE_fromVersion(c.readTime):SnapshotVersion.min(),nt=MutableDocument.newNoDocument(et,tt),rt=c.removedTargetIds||[];o=new __PRIVATE_DocumentWatchChange([],rt,nt.key,nt)}else if("documentRemove"in e){e.documentRemove;const c=e.documentRemove;c.document;const et=fromName(a,c.document),tt=c.removedTargetIds||[];o=new __PRIVATE_DocumentWatchChange([],tt,et,null)}else{if(!("filter"in e))return fail();{e.filter;const c=e.filter;c.targetId;const{count:et=0,unchangedNames:tt}=c,nt=new ExistenceFilter(et,tt),rt=c.targetId;o=new __PRIVATE_ExistenceFilterChange(rt,nt)}}return o}function toMutation(a,e){let o;if(e instanceof __PRIVATE_SetMutation)o={update:__PRIVATE_toMutationDocument(a,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)o={delete:__PRIVATE_toName(a,e.key)};else if(e instanceof __PRIVATE_PatchMutation)o={update:__PRIVATE_toMutationDocument(a,e.key,e.data),updateMask:__PRIVATE_toDocumentMask(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return fail();o={verify:__PRIVATE_toName(a,e.key)}}return e.fieldTransforms.length>0&&(o.updateTransforms=e.fieldTransforms.map(c=>function(tt,nt){const rt=nt.transform;if(rt instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:nt.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(rt instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:nt.field.canonicalString(),appendMissingElements:{values:rt.elements}};if(rt instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:nt.field.canonicalString(),removeAllFromArray:{values:rt.elements}};if(rt instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:nt.field.canonicalString(),increment:rt.Pe};throw fail()}(0,c))),e.precondition.isNone||(o.currentDocument=function(et,tt){return tt.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(et,tt.updateTime)}:tt.exists!==void 0?{exists:tt.exists}:fail()}(a,e.precondition)),o}function __PRIVATE_fromWriteResults(a,e){return a&&a.length>0?(__PRIVATE_hardAssert(e!==void 0),a.map(o=>function(et,tt){let nt=et.updateTime?__PRIVATE_fromVersion(et.updateTime):__PRIVATE_fromVersion(tt);return nt.isEqual(SnapshotVersion.min())&&(nt=__PRIVATE_fromVersion(tt)),new MutationResult(nt,et.transformResults||[])}(o,e))):[]}function __PRIVATE_toDocumentsTarget(a,e){return{documents:[__PRIVATE_toQueryPath(a,e.path)]}}function __PRIVATE_toQueryTarget(a,e){const o={structuredQuery:{}},c=e.path;let et;e.collectionGroup!==null?(et=c,o.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(et=c.popLast(),o.structuredQuery.from=[{collectionId:c.lastSegment()}]),o.parent=__PRIVATE_toQueryPath(a,et);const tt=function(gt){if(gt.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(gt,"and"))}(e.filters);tt&&(o.structuredQuery.where=tt);const nt=function(gt){if(gt.length!==0)return gt.map(yt=>function(xt){return{field:__PRIVATE_toFieldPathReference(xt.field),direction:__PRIVATE_toDirection(xt.dir)}}(yt))}(e.orderBy);nt&&(o.structuredQuery.orderBy=nt);const rt=__PRIVATE_toInt32Proto(a,e.limit);return rt!==null&&(o.structuredQuery.limit=rt),e.startAt&&(o.structuredQuery.startAt=function(gt){return{before:gt.inclusive,values:gt.position}}(e.startAt)),e.endAt&&(o.structuredQuery.endAt=function(gt){return{before:!gt.inclusive,values:gt.position}}(e.endAt)),{_t:o,parent:et}}function __PRIVATE_convertQueryTargetToQuery(a){let e=__PRIVATE_fromQueryPath(a.parent);const o=a.structuredQuery,c=o.from?o.from.length:0;let et=null;if(c>0){__PRIVATE_hardAssert(c===1);const yt=o.from[0];yt.allDescendants?et=yt.collectionId:e=e.child(yt.collectionId)}let tt=[];o.where&&(tt=function(vt){const xt=__PRIVATE_fromFilter(vt);return xt instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(xt)?xt.getFilters():[xt]}(o.where));let nt=[];o.orderBy&&(nt=function(vt){return vt.map(xt=>function(Et){return new OrderBy(__PRIVATE_fromFieldPathReference(Et.field),function(St){switch(St){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Et.direction))}(xt))}(o.orderBy));let rt=null;o.limit&&(rt=function(vt){let xt;return xt=typeof vt=="object"?vt.value:vt,__PRIVATE_isNullOrUndefined(xt)?null:xt}(o.limit));let mt=null;o.startAt&&(mt=function(vt){const xt=!!vt.before,bt=vt.values||[];return new Bound(bt,xt)}(o.startAt));let gt=null;return o.endAt&&(gt=function(vt){const xt=!vt.before,bt=vt.values||[];return new Bound(bt,xt)}(o.endAt)),__PRIVATE_newQuery(e,et,nt,tt,rt,"F",mt,gt)}function __PRIVATE_toListenRequestLabels(a,e){const o=function(et){switch(et){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(e.purpose);return o==null?null:{"goog-listen-tags":o}}function __PRIVATE_fromFilter(a){return a.unaryFilter!==void 0?function(o){switch(o.unaryFilter.op){case"IS_NAN":const c=__PRIVATE_fromFieldPathReference(o.unaryFilter.field);return FieldFilter.create(c,"==",{doubleValue:NaN});case"IS_NULL":const et=__PRIVATE_fromFieldPathReference(o.unaryFilter.field);return FieldFilter.create(et,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const tt=__PRIVATE_fromFieldPathReference(o.unaryFilter.field);return FieldFilter.create(tt,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const nt=__PRIVATE_fromFieldPathReference(o.unaryFilter.field);return FieldFilter.create(nt,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(a):a.fieldFilter!==void 0?function(o){return FieldFilter.create(__PRIVATE_fromFieldPathReference(o.fieldFilter.field),function(et){switch(et){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(o.fieldFilter.op),o.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(o){return CompositeFilter.create(o.compositeFilter.filters.map(c=>__PRIVATE_fromFilter(c)),function(et){switch(et){case"AND":return"and";case"OR":return"or";default:return fail()}}(o.compositeFilter.op))}(a):fail()}function __PRIVATE_toDirection(a){return Te[a]}function __PRIVATE_toOperatorName(a){return Ee[a]}function __PRIVATE_toCompositeOperatorName(a){return de[a]}function __PRIVATE_toFieldPathReference(a){return{fieldPath:a.canonicalString()}}function __PRIVATE_fromFieldPathReference(a){return FieldPath$1.fromServerFormat(a.fieldPath)}function __PRIVATE_toFilter(a){return a instanceof FieldFilter?function(o){if(o.op==="=="){if(__PRIVATE_isNanValue(o.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(o.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(o.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(o.field),op:"IS_NULL"}}}else if(o.op==="!="){if(__PRIVATE_isNanValue(o.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(o.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(o.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(o.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(o.field),op:__PRIVATE_toOperatorName(o.op),value:o.value}}}(a):a instanceof CompositeFilter?function(o){const c=o.getFilters().map(et=>__PRIVATE_toFilter(et));return c.length===1?c[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(o.op),filters:c}}}(a):fail()}function __PRIVATE_toDocumentMask(a){const e=[];return a.fields.forEach(o=>e.push(o.canonicalString())),{fieldPaths:e}}function __PRIVATE_isValidResourceName(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,o,c,et,tt=SnapshotVersion.min(),nt=SnapshotVersion.min(),rt=ByteString.EMPTY_BYTE_STRING,mt=null){this.target=e,this.targetId=o,this.purpose=c,this.sequenceNumber=et,this.snapshotVersion=tt,this.lastLimboFreeSnapshotVersion=nt,this.resumeToken=rt,this.expectedCount=mt}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,o){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.ct=e}}function __PRIVATE_fromBundledQuery(a){const e=__PRIVATE_convertQueryTargetToQuery({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,o){return this.un.add(o),PersistencePromise.resolve()}getCollectionParents(e,o){return PersistencePromise.resolve(this.un.getEntries(o))}addFieldIndex(e,o){return PersistencePromise.resolve()}deleteFieldIndex(e,o){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,o){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,o){return PersistencePromise.resolve(null)}getIndexType(e,o){return PersistencePromise.resolve(0)}getFieldIndexes(e,o){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,o){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,o){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,o,c){return PersistencePromise.resolve()}updateIndexEntries(e,o){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const o=e.lastSegment(),c=e.popLast(),et=this.index[o]||new SortedSet(ResourcePath.comparator),tt=!et.has(c);return this.index[o]=et.add(c),tt}has(e){const o=e.lastSegment(),c=e.popLast(),et=this.index[o];return et&&et.has(c)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,o)=>e.isEqual(o)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,o){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(o))}getEntry(e,o){this.assertNotApplied();const c=this.changes.get(o);return c!==void 0?PersistencePromise.resolve(c):this.getFromCache(e,o)}getEntries(e,o){return this.getAllFromCache(e,o)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,o){this.overlayedDocument=e,this.mutatedFields=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,o,c,et){this.remoteDocumentCache=e,this.mutationQueue=o,this.documentOverlayCache=c,this.indexManager=et}getDocument(e,o){let c=null;return this.documentOverlayCache.getOverlay(e,o).next(et=>(c=et,this.remoteDocumentCache.getEntry(e,o))).next(et=>(c!==null&&__PRIVATE_mutationApplyToLocalView(c.mutation,et,FieldMask.empty(),Timestamp.now()),et))}getDocuments(e,o){return this.remoteDocumentCache.getEntries(e,o).next(c=>this.getLocalViewOfDocuments(e,c,__PRIVATE_documentKeySet()).next(()=>c))}getLocalViewOfDocuments(e,o,c=__PRIVATE_documentKeySet()){const et=__PRIVATE_newOverlayMap();return this.populateOverlays(e,et,o).next(()=>this.computeViews(e,o,et,c).next(tt=>{let nt=documentMap();return tt.forEach((rt,mt)=>{nt=nt.insert(rt,mt.overlayedDocument)}),nt}))}getOverlayedDocuments(e,o){const c=__PRIVATE_newOverlayMap();return this.populateOverlays(e,c,o).next(()=>this.computeViews(e,o,c,__PRIVATE_documentKeySet()))}populateOverlays(e,o,c){const et=[];return c.forEach(tt=>{o.has(tt)||et.push(tt)}),this.documentOverlayCache.getOverlays(e,et).next(tt=>{tt.forEach((nt,rt)=>{o.set(nt,rt)})})}computeViews(e,o,c,et){let tt=__PRIVATE_mutableDocumentMap();const nt=__PRIVATE_newDocumentKeyMap(),rt=function(){return __PRIVATE_newDocumentKeyMap()}();return o.forEach((mt,gt)=>{const yt=c.get(gt.key);et.has(gt.key)&&(yt===void 0||yt.mutation instanceof __PRIVATE_PatchMutation)?tt=tt.insert(gt.key,gt):yt!==void 0?(nt.set(gt.key,yt.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(yt.mutation,gt,yt.mutation.getFieldMask(),Timestamp.now())):nt.set(gt.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,tt).next(mt=>(mt.forEach((gt,yt)=>nt.set(gt,yt)),o.forEach((gt,yt)=>{var vt;return rt.set(gt,new OverlayedDocument(yt,(vt=nt.get(gt))!==null&&vt!==void 0?vt:null))}),rt))}recalculateAndSaveOverlays(e,o){const c=__PRIVATE_newDocumentKeyMap();let et=new SortedMap((nt,rt)=>nt-rt),tt=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,o).next(nt=>{for(const rt of nt)rt.keys().forEach(mt=>{const gt=o.get(mt);if(gt===null)return;let yt=c.get(mt)||FieldMask.empty();yt=rt.applyToLocalView(gt,yt),c.set(mt,yt);const vt=(et.get(rt.batchId)||__PRIVATE_documentKeySet()).add(mt);et=et.insert(rt.batchId,vt)})}).next(()=>{const nt=[],rt=et.getReverseIterator();for(;rt.hasNext();){const mt=rt.getNext(),gt=mt.key,yt=mt.value,vt=__PRIVATE_newMutationMap();yt.forEach(xt=>{if(!tt.has(xt)){const bt=__PRIVATE_calculateOverlayMutation(o.get(xt),c.get(xt));bt!==null&&vt.set(xt,bt),tt=tt.add(xt)}}),nt.push(this.documentOverlayCache.saveOverlays(e,gt,vt))}return PersistencePromise.waitFor(nt)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(e,o){return this.remoteDocumentCache.getEntries(e,o).next(c=>this.recalculateAndSaveOverlays(e,c))}getDocumentsMatchingQuery(e,o,c,et){return function(nt){return DocumentKey.isDocumentKey(nt.path)&&nt.collectionGroup===null&&nt.filters.length===0}(o)?this.getDocumentsMatchingDocumentQuery(e,o.path):__PRIVATE_isCollectionGroupQuery(o)?this.getDocumentsMatchingCollectionGroupQuery(e,o,c,et):this.getDocumentsMatchingCollectionQuery(e,o,c,et)}getNextDocuments(e,o,c,et){return this.remoteDocumentCache.getAllFromCollectionGroup(e,o,c,et).next(tt=>{const nt=et-tt.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,o,c.largestBatchId,et-tt.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let rt=-1,mt=tt;return nt.next(gt=>PersistencePromise.forEach(gt,(yt,vt)=>(rt<vt.largestBatchId&&(rt=vt.largestBatchId),tt.get(yt)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,yt).next(xt=>{mt=mt.insert(yt,xt)}))).next(()=>this.populateOverlays(e,gt,tt)).next(()=>this.computeViews(e,mt,gt,__PRIVATE_documentKeySet())).next(yt=>({batchId:rt,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(yt)})))})}getDocumentsMatchingDocumentQuery(e,o){return this.getDocument(e,new DocumentKey(o)).next(c=>{let et=documentMap();return c.isFoundDocument()&&(et=et.insert(c.key,c)),et})}getDocumentsMatchingCollectionGroupQuery(e,o,c,et){const tt=o.collectionGroup;let nt=documentMap();return this.indexManager.getCollectionParents(e,tt).next(rt=>PersistencePromise.forEach(rt,mt=>{const gt=function(vt,xt){return new __PRIVATE_QueryImpl(xt,null,vt.explicitOrderBy.slice(),vt.filters.slice(),vt.limit,vt.limitType,vt.startAt,vt.endAt)}(o,mt.child(tt));return this.getDocumentsMatchingCollectionQuery(e,gt,c,et).next(yt=>{yt.forEach((vt,xt)=>{nt=nt.insert(vt,xt)})})}).next(()=>nt))}getDocumentsMatchingCollectionQuery(e,o,c,et){let tt;return this.documentOverlayCache.getOverlaysForCollection(e,o.path,c.largestBatchId).next(nt=>(tt=nt,this.remoteDocumentCache.getDocumentsMatchingQuery(e,o,c,tt,et))).next(nt=>{tt.forEach((mt,gt)=>{const yt=gt.getKey();nt.get(yt)===null&&(nt=nt.insert(yt,MutableDocument.newInvalidDocument(yt)))});let rt=documentMap();return nt.forEach((mt,gt)=>{const yt=tt.get(mt);yt!==void 0&&__PRIVATE_mutationApplyToLocalView(yt.mutation,gt,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(o,gt)&&(rt=rt.insert(mt,gt))}),rt})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,o){return PersistencePromise.resolve(this.hr.get(o))}saveBundleMetadata(e,o){return this.hr.set(o.id,function(et){return{id:et.id,version:et.version,createTime:__PRIVATE_fromVersion(et.createTime)}}(o)),PersistencePromise.resolve()}getNamedQuery(e,o){return PersistencePromise.resolve(this.Pr.get(o))}saveNamedQuery(e,o){return this.Pr.set(o.name,function(et){return{name:et.name,query:__PRIVATE_fromBundledQuery(et.bundledQuery),readTime:__PRIVATE_fromVersion(et.readTime)}}(o)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay(e,o){return PersistencePromise.resolve(this.overlays.get(o))}getOverlays(e,o){const c=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(o,et=>this.getOverlay(e,et).next(tt=>{tt!==null&&c.set(et,tt)})).next(()=>c)}saveOverlays(e,o,c){return c.forEach((et,tt)=>{this.ht(e,o,tt)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,o,c){const et=this.Ir.get(c);return et!==void 0&&(et.forEach(tt=>this.overlays=this.overlays.remove(tt)),this.Ir.delete(c)),PersistencePromise.resolve()}getOverlaysForCollection(e,o,c){const et=__PRIVATE_newOverlayMap(),tt=o.length+1,nt=new DocumentKey(o.child("")),rt=this.overlays.getIteratorFrom(nt);for(;rt.hasNext();){const mt=rt.getNext().value,gt=mt.getKey();if(!o.isPrefixOf(gt.path))break;gt.path.length===tt&&mt.largestBatchId>c&&et.set(mt.getKey(),mt)}return PersistencePromise.resolve(et)}getOverlaysForCollectionGroup(e,o,c,et){let tt=new SortedMap((gt,yt)=>gt-yt);const nt=this.overlays.getIterator();for(;nt.hasNext();){const gt=nt.getNext().value;if(gt.getKey().getCollectionGroup()===o&&gt.largestBatchId>c){let yt=tt.get(gt.largestBatchId);yt===null&&(yt=__PRIVATE_newOverlayMap(),tt=tt.insert(gt.largestBatchId,yt)),yt.set(gt.getKey(),gt)}}const rt=__PRIVATE_newOverlayMap(),mt=tt.getIterator();for(;mt.hasNext()&&(mt.getNext().value.forEach((gt,yt)=>rt.set(gt,yt)),!(rt.size()>=et)););return PersistencePromise.resolve(rt)}ht(e,o,c){const et=this.overlays.get(c.key);if(et!==null){const nt=this.Ir.get(et.largestBatchId).delete(c.key);this.Ir.set(et.largestBatchId,nt)}this.overlays=this.overlays.insert(c.key,new Overlay(o,c));let tt=this.Ir.get(o);tt===void 0&&(tt=__PRIVATE_documentKeySet(),this.Ir.set(o,tt)),this.Ir.set(o,tt.add(c.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,o){return this.sessionToken=o,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,o){const c=new __PRIVATE_DocReference(e,o);this.Tr=this.Tr.add(c),this.dr=this.dr.add(c)}Rr(e,o){e.forEach(c=>this.addReference(c,o))}removeReference(e,o){this.Vr(new __PRIVATE_DocReference(e,o))}mr(e,o){e.forEach(c=>this.removeReference(c,o))}gr(e){const o=new DocumentKey(new ResourcePath([])),c=new __PRIVATE_DocReference(o,e),et=new __PRIVATE_DocReference(o,e+1),tt=[];return this.dr.forEachInRange([c,et],nt=>{this.Vr(nt),tt.push(nt.key)}),tt}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const o=new DocumentKey(new ResourcePath([])),c=new __PRIVATE_DocReference(o,e),et=new __PRIVATE_DocReference(o,e+1);let tt=__PRIVATE_documentKeySet();return this.dr.forEachInRange([c,et],nt=>{tt=tt.add(nt.key)}),tt}containsKey(e){const o=new __PRIVATE_DocReference(e,0),c=this.Tr.firstAfterOrEqual(o);return c!==null&&e.isEqual(c.key)}}class __PRIVATE_DocReference{constructor(e,o){this.key=e,this.wr=o}static Er(e,o){return DocumentKey.comparator(e.key,o.key)||__PRIVATE_primitiveComparator(e.wr,o.wr)}static Ar(e,o){return __PRIVATE_primitiveComparator(e.wr,o.wr)||DocumentKey.comparator(e.key,o.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,o){this.indexManager=e,this.referenceDelegate=o,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,o,c,et){const tt=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const nt=new MutationBatch(tt,o,c,et);this.mutationQueue.push(nt);for(const rt of et)this.br=this.br.add(new __PRIVATE_DocReference(rt.key,tt)),this.indexManager.addToCollectionParentIndex(e,rt.key.path.popLast());return PersistencePromise.resolve(nt)}lookupMutationBatch(e,o){return PersistencePromise.resolve(this.Dr(o))}getNextMutationBatchAfterBatchId(e,o){const c=o+1,et=this.vr(c),tt=et<0?0:et;return PersistencePromise.resolve(this.mutationQueue.length>tt?this.mutationQueue[tt]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,o){const c=new __PRIVATE_DocReference(o,0),et=new __PRIVATE_DocReference(o,Number.POSITIVE_INFINITY),tt=[];return this.br.forEachInRange([c,et],nt=>{const rt=this.Dr(nt.wr);tt.push(rt)}),PersistencePromise.resolve(tt)}getAllMutationBatchesAffectingDocumentKeys(e,o){let c=new SortedSet(__PRIVATE_primitiveComparator);return o.forEach(et=>{const tt=new __PRIVATE_DocReference(et,0),nt=new __PRIVATE_DocReference(et,Number.POSITIVE_INFINITY);this.br.forEachInRange([tt,nt],rt=>{c=c.add(rt.wr)})}),PersistencePromise.resolve(this.Cr(c))}getAllMutationBatchesAffectingQuery(e,o){const c=o.path,et=c.length+1;let tt=c;DocumentKey.isDocumentKey(tt)||(tt=tt.child(""));const nt=new __PRIVATE_DocReference(new DocumentKey(tt),0);let rt=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile(mt=>{const gt=mt.key.path;return!!c.isPrefixOf(gt)&&(gt.length===et&&(rt=rt.add(mt.wr)),!0)},nt),PersistencePromise.resolve(this.Cr(rt))}Cr(e){const o=[];return e.forEach(c=>{const et=this.Dr(c);et!==null&&o.push(et)}),o}removeMutationBatch(e,o){__PRIVATE_hardAssert(this.Fr(o.batchId,"removed")===0),this.mutationQueue.shift();let c=this.br;return PersistencePromise.forEach(o.mutations,et=>{const tt=new __PRIVATE_DocReference(et.key,o.batchId);return c=c.delete(tt),this.referenceDelegate.markPotentiallyOrphaned(e,et.key)}).next(()=>{this.br=c})}On(e){}containsKey(e,o){const c=new __PRIVATE_DocReference(o,0),et=this.br.firstAfterOrEqual(c);return PersistencePromise.resolve(o.isEqual(et&&et.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}Fr(e,o){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const o=this.vr(e);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.Mr=e,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,o){const c=o.key,et=this.docs.get(c),tt=et?et.size:0,nt=this.Mr(o);return this.docs=this.docs.insert(c,{document:o.mutableCopy(),size:nt}),this.size+=nt-tt,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const o=this.docs.get(e);o&&(this.docs=this.docs.remove(e),this.size-=o.size)}getEntry(e,o){const c=this.docs.get(o);return PersistencePromise.resolve(c?c.document.mutableCopy():MutableDocument.newInvalidDocument(o))}getEntries(e,o){let c=__PRIVATE_mutableDocumentMap();return o.forEach(et=>{const tt=this.docs.get(et);c=c.insert(et,tt?tt.document.mutableCopy():MutableDocument.newInvalidDocument(et))}),PersistencePromise.resolve(c)}getDocumentsMatchingQuery(e,o,c,et){let tt=__PRIVATE_mutableDocumentMap();const nt=o.path,rt=new DocumentKey(nt.child("")),mt=this.docs.getIteratorFrom(rt);for(;mt.hasNext();){const{key:gt,value:{document:yt}}=mt.getNext();if(!nt.isPrefixOf(gt.path))break;gt.path.length>nt.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(yt),c)<=0||(et.has(yt.key)||__PRIVATE_queryMatches(o,yt))&&(tt=tt.insert(yt.key,yt.mutableCopy()))}return PersistencePromise.resolve(tt)}getAllFromCollectionGroup(e,o,c,et){fail()}Or(e,o){return PersistencePromise.forEach(this.docs,c=>o(c))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.cr=e}applyChanges(e){const o=[];return this.changes.forEach((c,et)=>{et.isValidDocument()?o.push(this.cr.addEntry(e,et)):this.cr.removeEntry(c)}),PersistencePromise.waitFor(o)}getFromCache(e,o){return this.cr.getEntry(e,o)}getAllFromCache(e,o){return this.cr.getEntries(e,o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.Nr=new ObjectMap(o=>__PRIVATE_canonifyTarget(o),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget(e,o){return this.Nr.forEach((c,et)=>o(et)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.Lr&&(this.Lr=o),PersistencePromise.resolve()}Kn(e){this.Nr.set(e.target,e);const o=e.targetId;o>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(o),this.highestTargetId=o),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,o){return this.Kn(o),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,o){return this.Kn(o),PersistencePromise.resolve()}removeTargetData(e,o){return this.Nr.delete(o.target),this.Br.gr(o.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,o,c){let et=0;const tt=[];return this.Nr.forEach((nt,rt)=>{rt.sequenceNumber<=o&&c.get(rt.targetId)===null&&(this.Nr.delete(nt),tt.push(this.removeMatchingKeysForTargetId(e,rt.targetId)),et++)}),PersistencePromise.waitFor(tt).next(()=>et)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,o){const c=this.Nr.get(o)||null;return PersistencePromise.resolve(c)}addMatchingKeys(e,o,c){return this.Br.Rr(o,c),PersistencePromise.resolve()}removeMatchingKeys(e,o,c){this.Br.mr(o,c);const et=this.persistence.referenceDelegate,tt=[];return et&&o.forEach(nt=>{tt.push(et.markPotentiallyOrphaned(e,nt))}),PersistencePromise.waitFor(tt)}removeMatchingKeysForTargetId(e,o){return this.Br.gr(o),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,o){const c=this.Br.yr(o);return PersistencePromise.resolve(c)}containsKey(e,o){return PersistencePromise.resolve(this.Br.containsKey(o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,o){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(et){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(et)}(c=>this.referenceDelegate.Wr(c)),this.serializer=new __PRIVATE_LocalSerializer(o),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let o=this.overlays[e.toKey()];return o||(o=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=o),o}getMutationQueue(e,o){let c=this.qr[e.toKey()];return c||(c=new __PRIVATE_MemoryMutationQueue(o,this.referenceDelegate),this.qr[e.toKey()]=c),c}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,o,c){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const et=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),c(et).next(tt=>this.referenceDelegate.jr(et).next(()=>tt)).toPromise().then(tt=>(et.raiseOnCommittedEvent(),tt))}Hr(e,o){return PersistencePromise.or(Object.values(this.qr).map(c=>()=>c.containsKey(e,o)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr(e){return new __PRIVATE_MemoryEagerDelegate(e)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference(e,o,c){return this.Jr.addReference(c,o),this.Xr.delete(c.toString()),PersistencePromise.resolve()}removeReference(e,o,c){return this.Jr.removeReference(c,o),this.Xr.add(c.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,o){return this.Xr.add(o.toString()),PersistencePromise.resolve()}removeTarget(e,o){this.Jr.gr(o.targetId).forEach(et=>this.Xr.add(et.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,o.targetId).next(et=>{et.forEach(tt=>this.Xr.add(tt.toString()))}).next(()=>c.removeTargetData(e,o))}zr(){this.Yr=new Set}jr(e){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,c=>{const et=DocumentKey.fromPath(c);return this.ei(e,et).next(tt=>{tt||o.removeEntry(et,SnapshotVersion.min())})}).next(()=>(this.Yr=null,o.apply(e)))}updateLimboDocument(e,o){return this.ei(e,o).next(c=>{c?this.Xr.delete(o.toString()):this.Xr.add(o.toString())})}Wr(e){return 0}ei(e,o){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(e,o),()=>this.persistence.Hr(e,o)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,o,c,et){this.targetId=e,this.fromCache=o,this.$i=c,this.Ui=et}static Wi(e,o){let c=__PRIVATE_documentKeySet(),et=__PRIVATE_documentKeySet();for(const tt of o.docChanges)switch(tt.type){case 0:c=c.add(tt.doc.key);break;case 1:et=et.add(tt.doc.key)}return new __PRIVATE_LocalViewChanges(e,o.fromCache,c,et)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(e,o){this.Ji=e,this.indexManager=o,this.Gi=!0}getDocumentsMatchingQuery(e,o,c,et){const tt={result:null};return this.Yi(e,o).next(nt=>{tt.result=nt}).next(()=>{if(!tt.result)return this.Zi(e,o,et,c).next(nt=>{tt.result=nt})}).next(()=>{if(tt.result)return;const nt=new QueryContext;return this.Xi(e,o,nt).next(rt=>{if(tt.result=rt,this.zi)return this.es(e,o,nt,rt.size)})}).next(()=>tt.result)}es(e,o,c,et){return c.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(o),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(o),"scans",c.documentReadCount,"local documents and returns",et,"documents as results."),c.documentReadCount>this.Hi*et?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(o),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(o))):PersistencePromise.resolve())}Yi(e,o){if(__PRIVATE_queryMatchesAllDocuments(o))return PersistencePromise.resolve(null);let c=__PRIVATE_queryToTarget(o);return this.indexManager.getIndexType(e,c).next(et=>et===0?null:(o.limit!==null&&et===1&&(o=__PRIVATE_queryWithLimit(o,null,"F"),c=__PRIVATE_queryToTarget(o)),this.indexManager.getDocumentsMatchingTarget(e,c).next(tt=>{const nt=__PRIVATE_documentKeySet(...tt);return this.Ji.getDocuments(e,nt).next(rt=>this.indexManager.getMinOffset(e,c).next(mt=>{const gt=this.ts(o,rt);return this.ns(o,gt,nt,mt.readTime)?this.Yi(e,__PRIVATE_queryWithLimit(o,null,"F")):this.rs(e,gt,o,mt)}))})))}Zi(e,o,c,et){return __PRIVATE_queryMatchesAllDocuments(o)||et.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments(e,c).next(tt=>{const nt=this.ts(o,tt);return this.ns(o,nt,c,et)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",et.toString(),__PRIVATE_stringifyQuery(o)),this.rs(e,nt,o,__PRIVATE_newIndexOffsetSuccessorFromReadTime(et,-1)).next(rt=>rt))})}ts(e,o){let c=new SortedSet(__PRIVATE_newQueryComparator(e));return o.forEach((et,tt)=>{__PRIVATE_queryMatches(e,tt)&&(c=c.add(tt))}),c}ns(e,o,c,et){if(e.limit===null)return!1;if(c.size!==o.size)return!0;const tt=e.limitType==="F"?o.last():o.first();return!!tt&&(tt.hasPendingWrites||tt.version.compareTo(et)>0)}Xi(e,o,c){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(o)),this.Ji.getDocumentsMatchingQuery(e,o,IndexOffset.min(),c)}rs(e,o,c,et){return this.Ji.getDocumentsMatchingQuery(e,c,et).next(tt=>(o.forEach(nt=>{tt=tt.insert(nt.key,nt)}),tt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(e,o,c,et){this.persistence=e,this.ss=o,this.serializer=et,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap(tt=>__PRIVATE_canonifyTarget(tt),__PRIVATE_targetEquals),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(c)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>e.collect(o,this.os))}}function __PRIVATE_newLocalStore(a,e,o,c){return new __PRIVATE_LocalStoreImpl(a,e,o,c)}async function __PRIVATE_localStoreHandleUserChange(a,e){const o=__PRIVATE_debugCast(a);return await o.persistence.runTransaction("Handle user change","readonly",c=>{let et;return o.mutationQueue.getAllMutationBatches(c).next(tt=>(et=tt,o.ls(e),o.mutationQueue.getAllMutationBatches(c))).next(tt=>{const nt=[],rt=[];let mt=__PRIVATE_documentKeySet();for(const gt of et){nt.push(gt.batchId);for(const yt of gt.mutations)mt=mt.add(yt.key)}for(const gt of tt){rt.push(gt.batchId);for(const yt of gt.mutations)mt=mt.add(yt.key)}return o.localDocuments.getDocuments(c,mt).next(gt=>({hs:gt,removedBatchIds:nt,addedBatchIds:rt}))})})}function __PRIVATE_localStoreAcknowledgeBatch(a,e){const o=__PRIVATE_debugCast(a);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const et=e.batch.keys(),tt=o.cs.newChangeBuffer({trackRemovals:!0});return function(rt,mt,gt,yt){const vt=gt.batch,xt=vt.keys();let bt=PersistencePromise.resolve();return xt.forEach(Et=>{bt=bt.next(()=>yt.getEntry(mt,Et)).next(wt=>{const St=gt.docVersions.get(Et);__PRIVATE_hardAssert(St!==null),wt.version.compareTo(St)<0&&(vt.applyToRemoteDocument(wt,gt),wt.isValidDocument()&&(wt.setReadTime(gt.commitVersion),yt.addEntry(wt)))})}),bt.next(()=>rt.mutationQueue.removeMutationBatch(mt,vt))}(o,c,e,tt).next(()=>tt.apply(c)).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,et,e.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(rt){let mt=__PRIVATE_documentKeySet();for(let gt=0;gt<rt.mutationResults.length;++gt)rt.mutationResults[gt].transformResults.length>0&&(mt=mt.add(rt.batch.mutations[gt].key));return mt}(e))).next(()=>o.localDocuments.getDocuments(c,et))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(a){const e=__PRIVATE_debugCast(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",o=>e.Ur.getLastRemoteSnapshotVersion(o))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(a,e){const o=__PRIVATE_debugCast(a),c=e.snapshotVersion;let et=o.os;return o.persistence.runTransaction("Apply remote event","readwrite-primary",tt=>{const nt=o.cs.newChangeBuffer({trackRemovals:!0});et=o.os;const rt=[];e.targetChanges.forEach((yt,vt)=>{const xt=et.get(vt);if(!xt)return;rt.push(o.Ur.removeMatchingKeys(tt,yt.removedDocuments,vt).next(()=>o.Ur.addMatchingKeys(tt,yt.addedDocuments,vt)));let bt=xt.withSequenceNumber(tt.currentSequenceNumber);e.targetMismatches.get(vt)!==null?bt=bt.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):yt.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(yt.resumeToken,c)),et=et.insert(vt,bt),function(wt,St,Tt){return wt.resumeToken.approximateByteSize()===0||St.snapshotVersion.toMicroseconds()-wt.snapshotVersion.toMicroseconds()>=3e8?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(xt,bt,yt)&&rt.push(o.Ur.updateTargetData(tt,bt))});let mt=__PRIVATE_mutableDocumentMap(),gt=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach(yt=>{e.resolvedLimboDocuments.has(yt)&&rt.push(o.persistence.referenceDelegate.updateLimboDocument(tt,yt))}),rt.push(__PRIVATE_populateDocumentChangeBuffer(tt,nt,e.documentUpdates).next(yt=>{mt=yt.Ps,gt=yt.Is})),!c.isEqual(SnapshotVersion.min())){const yt=o.Ur.getLastRemoteSnapshotVersion(tt).next(vt=>o.Ur.setTargetsMetadata(tt,tt.currentSequenceNumber,c));rt.push(yt)}return PersistencePromise.waitFor(rt).next(()=>nt.apply(tt)).next(()=>o.localDocuments.getLocalViewOfDocuments(tt,mt,gt)).next(()=>mt)}).then(tt=>(o.os=et,tt))}function __PRIVATE_populateDocumentChangeBuffer(a,e,o){let c=__PRIVATE_documentKeySet(),et=__PRIVATE_documentKeySet();return o.forEach(tt=>c=c.add(tt)),e.getEntries(a,c).next(tt=>{let nt=__PRIVATE_mutableDocumentMap();return o.forEach((rt,mt)=>{const gt=tt.get(rt);mt.isFoundDocument()!==gt.isFoundDocument()&&(et=et.add(rt)),mt.isNoDocument()&&mt.version.isEqual(SnapshotVersion.min())?(e.removeEntry(rt,mt.readTime),nt=nt.insert(rt,mt)):!gt.isValidDocument()||mt.version.compareTo(gt.version)>0||mt.version.compareTo(gt.version)===0&&gt.hasPendingWrites?(e.addEntry(mt),nt=nt.insert(rt,mt)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",rt,". Current version:",gt.version," Watch version:",mt.version)}),{Ps:nt,Is:et}})}function __PRIVATE_localStoreGetNextMutationBatch(a,e){const o=__PRIVATE_debugCast(a);return o.persistence.runTransaction("Get next mutation batch","readonly",c=>(e===void 0&&(e=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(c,e)))}function __PRIVATE_localStoreAllocateTarget(a,e){const o=__PRIVATE_debugCast(a);return o.persistence.runTransaction("Allocate target","readwrite",c=>{let et;return o.Ur.getTargetData(c,e).next(tt=>tt?(et=tt,PersistencePromise.resolve(et)):o.Ur.allocateTargetId(c).next(nt=>(et=new TargetData(e,nt,"TargetPurposeListen",c.currentSequenceNumber),o.Ur.addTargetData(c,et).next(()=>et))))}).then(c=>{const et=o.os.get(c.targetId);return(et===null||c.snapshotVersion.compareTo(et.snapshotVersion)>0)&&(o.os=o.os.insert(c.targetId,c),o._s.set(e,c.targetId)),c})}async function __PRIVATE_localStoreReleaseTarget(a,e,o){const c=__PRIVATE_debugCast(a),et=c.os.get(e),tt=o?"readwrite":"readwrite-primary";try{o||await c.persistence.runTransaction("Release target",tt,nt=>c.persistence.referenceDelegate.removeTarget(nt,et))}catch(nt){if(!__PRIVATE_isIndexedDbTransactionError(nt))throw nt;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${e}: ${nt}`)}c.os=c.os.remove(e),c._s.delete(et.target)}function __PRIVATE_localStoreExecuteQuery(a,e,o){const c=__PRIVATE_debugCast(a);let et=SnapshotVersion.min(),tt=__PRIVATE_documentKeySet();return c.persistence.runTransaction("Execute query","readwrite",nt=>function(mt,gt,yt){const vt=__PRIVATE_debugCast(mt),xt=vt._s.get(yt);return xt!==void 0?PersistencePromise.resolve(vt.os.get(xt)):vt.Ur.getTargetData(gt,yt)}(c,nt,__PRIVATE_queryToTarget(e)).next(rt=>{if(rt)return et=rt.lastLimboFreeSnapshotVersion,c.Ur.getMatchingKeysForTargetId(nt,rt.targetId).next(mt=>{tt=mt})}).next(()=>c.ss.getDocumentsMatchingQuery(nt,e,o?et:SnapshotVersion.min(),o?tt:__PRIVATE_documentKeySet())).next(rt=>(__PRIVATE_setMaxReadTime(c,__PRIVATE_queryCollectionGroup(e),rt),{documents:rt,Ts:tt})))}function __PRIVATE_setMaxReadTime(a,e,o){let c=a.us.get(e)||SnapshotVersion.min();o.forEach((et,tt)=>{tt.readTime.compareTo(c)>0&&(c=tt.readTime)}),a.us.set(e,c)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,o,c){}addLocalQueryTarget(e,o=!0){return o&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,o,c){this.oo[e]=o}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,o,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let me=null;function __PRIVATE_generateUniqueDebugId(){return me===null?me=function(){return 268435456+Math.round(2147483648*Math.random())}():me++,"0x"+me.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(o){this.databaseInfo=o,this.databaseId=o.databaseId;const c=o.ssl?"https":"http",et=encodeURIComponent(this.databaseId.projectId),tt=encodeURIComponent(this.databaseId.database);this.Do=c+"://"+o.host,this.vo=`projects/${et}/databases/${tt}`,this.Co=this.databaseId.database==="(default)"?`project_id=${et}`:`project_id=${et}&database_id=${tt}`}get Fo(){return!1}Mo(o,c,et,tt,nt){const rt=__PRIVATE_generateUniqueDebugId(),mt=this.xo(o,c.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${o}' ${rt}:`,mt,et);const gt={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(gt,tt,nt),this.No(o,mt,gt,et).then(yt=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${o}' ${rt}: `,yt),yt),yt=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${o}' ${rt} failed with error: `,yt,"url: ",mt,"request:",et),yt})}Lo(o,c,et,tt,nt,rt){return this.Mo(o,c,et,tt,nt)}Oo(o,c,et){o["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S$1}(),o["Content-Type"]="text/plain",this.databaseInfo.appId&&(o["X-Firebase-GMPID"]=this.databaseInfo.appId),c&&c.headers.forEach((tt,nt)=>o[nt]=tt),et&&et.headers.forEach((tt,nt)=>o[nt]=tt)}xo(o,c){const et=fe[o];return`${this.Do}/v1/${c}:${et}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,o,c,et){const tt=__PRIVATE_generateUniqueDebugId();return new Promise((nt,rt)=>{const mt=new XhrIo;mt.setWithCredentials(!0),mt.listenOnce(EventType.COMPLETE,()=>{try{switch(mt.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const yt=mt.getResponseJson();__PRIVATE_logDebug(ge,`XHR for RPC '${e}' ${tt} received:`,JSON.stringify(yt)),nt(yt);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(ge,`RPC '${e}' ${tt} timed out`),rt(new FirestoreError(D$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const vt=mt.getStatus();if(__PRIVATE_logDebug(ge,`RPC '${e}' ${tt} failed with status:`,vt,"response text:",mt.getResponseText()),vt>0){let xt=mt.getResponseJson();Array.isArray(xt)&&(xt=xt[0]);const bt=xt==null?void 0:xt.error;if(bt&&bt.status&&bt.message){const Et=function(St){const Tt=St.toLowerCase().replace(/_/g,"-");return Object.values(D$1).indexOf(Tt)>=0?Tt:D$1.UNKNOWN}(bt.status);rt(new FirestoreError(Et,bt.message))}else rt(new FirestoreError(D$1.UNKNOWN,"Server responded with status "+mt.getStatus()))}else rt(new FirestoreError(D$1.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(ge,`RPC '${e}' ${tt} completed.`)}});const gt=JSON.stringify(et);__PRIVATE_logDebug(ge,`RPC '${e}' ${tt} sending request:`,et),mt.send(o,"POST",gt,c,15)})}Bo(e,o,c){const et=__PRIVATE_generateUniqueDebugId(),tt=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],nt=createWebChannelTransport(),rt=getStatEventTarget(),mt={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},gt=this.longPollingOptions.timeoutSeconds;gt!==void 0&&(mt.longPollingTimeout=Math.round(1e3*gt)),this.useFetchStreams&&(mt.useFetchStreams=!0),this.Oo(mt.initMessageHeaders,o,c),mt.encodeInitMessageHeaders=!0;const yt=tt.join("");__PRIVATE_logDebug(ge,`Creating RPC '${e}' stream ${et}: ${yt}`,mt);const vt=nt.createWebChannel(yt,mt);let xt=!1,bt=!1;const Et=new __PRIVATE_StreamBridge({Io:St=>{bt?__PRIVATE_logDebug(ge,`Not sending because RPC '${e}' stream ${et} is closed:`,St):(xt||(__PRIVATE_logDebug(ge,`Opening RPC '${e}' stream ${et} transport.`),vt.open(),xt=!0),__PRIVATE_logDebug(ge,`RPC '${e}' stream ${et} sending:`,St),vt.send(St))},To:()=>vt.close()}),wt=(St,Tt,kt)=>{St.listen(Tt,_t=>{try{kt(_t)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return wt(vt,WebChannel.EventType.OPEN,()=>{bt||(__PRIVATE_logDebug(ge,`RPC '${e}' stream ${et} transport opened.`),Et.yo())}),wt(vt,WebChannel.EventType.CLOSE,()=>{bt||(bt=!0,__PRIVATE_logDebug(ge,`RPC '${e}' stream ${et} transport closed`),Et.So())}),wt(vt,WebChannel.EventType.ERROR,St=>{bt||(bt=!0,__PRIVATE_logWarn(ge,`RPC '${e}' stream ${et} transport errored:`,St),Et.So(new FirestoreError(D$1.UNAVAILABLE,"The operation could not be completed")))}),wt(vt,WebChannel.EventType.MESSAGE,St=>{var Tt;if(!bt){const kt=St.data[0];__PRIVATE_hardAssert(!!kt);const _t=kt,Mt=_t.error||((Tt=_t[0])===null||Tt===void 0?void 0:Tt.error);if(Mt){__PRIVATE_logDebug(ge,`RPC '${e}' stream ${et} received error:`,Mt);const Pt=Mt.status;let It=function(At){const Lt=le[At];if(Lt!==void 0)return __PRIVATE_mapCodeFromRpcCode(Lt)}(Pt),Dt=Mt.message;It===void 0&&(It=D$1.INTERNAL,Dt="Unknown error status: "+Pt+" with message "+Mt.message),bt=!0,Et.So(new FirestoreError(It,Dt)),vt.close()}else __PRIVATE_logDebug(ge,`RPC '${e}' stream ${et} received:`,kt),Et.bo(kt)}}),wt(rt,Event$1.STAT_EVENT,St=>{St.stat===Stat.PROXY?__PRIVATE_logDebug(ge,`RPC '${e}' stream ${et} detected buffering proxy`):St.stat===Stat.NOPROXY&&__PRIVATE_logDebug(ge,`RPC '${e}' stream ${et} detected no buffering proxy`)}),setTimeout(()=>{Et.wo()},0),Et}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(a){return new JsonProtoSerializer(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,o,c=1e3,et=1.5,tt=6e4){this.ui=e,this.timerId=o,this.ko=c,this.qo=et,this.Qo=tt,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const o=Math.floor(this.Ko+this.zo()),c=Math.max(0,Date.now()-this.Uo),et=Math.max(0,o-c);et>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${et} ms (base delay: ${this.Ko} ms, delay with jitter: ${o} ms, last attempt: ${c} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,et,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(e,o,c,et,tt,nt,rt,mt){this.ui=e,this.Ho=c,this.Jo=et,this.connection=tt,this.authCredentialsProvider=nt,this.appCheckCredentialsProvider=rt,this.listener=mt,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff(e,o)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,o){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():o&&o.code===D$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(o.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):o&&o.code===D$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(o)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),o=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,et])=>{this.Yo===o&&this.P_(c,et)},c=>{e(()=>{const et=new FirestoreError(D$1.UNKNOWN,"Fetching auth token failed: "+c.message);return this.I_(et)})})}P_(e,o){const c=this.h_(this.Yo);this.stream=this.T_(e,o),this.stream.Eo(()=>{c(()=>this.listener.Eo())}),this.stream.Ro(()=>{c(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(et=>{c(()=>this.I_(et))}),this.stream.onMessage(et=>{c(()=>++this.e_==1?this.E_(et):this.onNext(et))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return __PRIVATE_logDebug("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return o=>{this.ui.enqueueAndForget(()=>this.Yo===e?o():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,o,c,et,tt,nt){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,c,et,nt),this.serializer=tt}T_(e,o){return this.connection.Bo("Listen",e,o)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const o=__PRIVATE_fromWatchChange(this.serializer,e),c=function(tt){if(!("targetChange"in tt))return SnapshotVersion.min();const nt=tt.targetChange;return nt.targetIds&&nt.targetIds.length?SnapshotVersion.min():nt.readTime?__PRIVATE_fromVersion(nt.readTime):SnapshotVersion.min()}(e);return this.listener.d_(o,c)}A_(e){const o={};o.database=__PRIVATE_getEncodedDatabaseId(this.serializer),o.addTarget=function(tt,nt){let rt;const mt=nt.target;if(rt=__PRIVATE_targetIsDocumentTarget(mt)?{documents:__PRIVATE_toDocumentsTarget(tt,mt)}:{query:__PRIVATE_toQueryTarget(tt,mt)._t},rt.targetId=nt.targetId,nt.resumeToken.approximateByteSize()>0){rt.resumeToken=__PRIVATE_toBytes(tt,nt.resumeToken);const gt=__PRIVATE_toInt32Proto(tt,nt.expectedCount);gt!==null&&(rt.expectedCount=gt)}else if(nt.snapshotVersion.compareTo(SnapshotVersion.min())>0){rt.readTime=toTimestamp(tt,nt.snapshotVersion.toTimestamp());const gt=__PRIVATE_toInt32Proto(tt,nt.expectedCount);gt!==null&&(rt.expectedCount=gt)}return rt}(this.serializer,e);const c=__PRIVATE_toListenRequestLabels(this.serializer,e);c&&(o.labels=c),this.a_(o)}R_(e){const o={};o.database=__PRIVATE_getEncodedDatabaseId(this.serializer),o.removeTarget=e,this.a_(o)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,o,c,et,tt,nt){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,c,et,nt),this.serializer=tt}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,o){return this.connection.Bo("Write",e,o)}E_(e){return __PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,__PRIVATE_hardAssert(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){__PRIVATE_hardAssert(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const o=__PRIVATE_fromWriteResults(e.writeResults,e.commitTime),c=__PRIVATE_fromVersion(e.commitTime);return this.listener.g_(c,o)}p_(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.a_(e)}m_(e){const o={streamToken:this.lastStreamToken,writes:e.map(c=>toMutation(this.serializer,c))};this.a_(o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(e,o,c,et){super(),this.authCredentials=e,this.appCheckCredentials=o,this.connection=c,this.serializer=et,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(D$1.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,o,c,et){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([tt,nt])=>this.connection.Mo(e,__PRIVATE_toResourcePath(o,c),et,tt,nt)).catch(tt=>{throw tt.name==="FirebaseError"?(tt.code===D$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),tt):new FirestoreError(D$1.UNKNOWN,tt.toString())})}Lo(e,o,c,et,tt){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([nt,rt])=>this.connection.Lo(e,__PRIVATE_toResourcePath(o,c),et,nt,rt,tt)).catch(nt=>{throw nt.name==="FirebaseError"?(nt.code===D$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),nt):new FirestoreError(D$1.UNKNOWN,nt.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,o){this.asyncQueue=e,this.onlineStateHandler=o,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const o=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(o),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",o)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(e,o,c,et,tt){this.localStore=e,this.datastore=o,this.asyncQueue=c,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=tt,this.k_._o(nt=>{c.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(mt){const gt=__PRIVATE_debugCast(mt);gt.L_.add(4),await __PRIVATE_disableNetworkInternal(gt),gt.q_.set("Unknown"),gt.L_.delete(4),await __PRIVATE_enableNetworkInternal(gt)}(this))})}),this.q_=new __PRIVATE_OnlineStateTracker(c,et)}}async function __PRIVATE_enableNetworkInternal(a){if(__PRIVATE_canUseNetwork(a))for(const e of a.B_)await e(!0)}async function __PRIVATE_disableNetworkInternal(a){for(const e of a.B_)await e(!1)}function __PRIVATE_remoteStoreListen(a,e){const o=__PRIVATE_debugCast(a);o.N_.has(e.targetId)||(o.N_.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(o)?__PRIVATE_startWatchStream(o):__PRIVATE_ensureWatchStream(o).r_()&&__PRIVATE_sendWatchRequest(o,e))}function __PRIVATE_remoteStoreUnlisten(a,e){const o=__PRIVATE_debugCast(a),c=__PRIVATE_ensureWatchStream(o);o.N_.delete(e),c.r_()&&__PRIVATE_sendUnwatchRequest(o,e),o.N_.size===0&&(c.r_()?c.o_():__PRIVATE_canUseNetwork(o)&&o.q_.set("Unknown"))}function __PRIVATE_sendWatchRequest(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const o=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(o)}__PRIVATE_ensureWatchStream(a).A_(e)}function __PRIVATE_sendUnwatchRequest(a,e){a.Q_.xe(e),__PRIVATE_ensureWatchStream(a).R_(e)}function __PRIVATE_startWatchStream(a){a.Q_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(a).start(),a.q_.v_()}function __PRIVATE_shouldStartWatchStream(a){return __PRIVATE_canUseNetwork(a)&&!__PRIVATE_ensureWatchStream(a).n_()&&a.N_.size>0}function __PRIVATE_canUseNetwork(a){return __PRIVATE_debugCast(a).L_.size===0}function __PRIVATE_cleanUpWatchStreamState(a){a.Q_=void 0}async function __PRIVATE_onWatchStreamConnected(a){a.q_.set("Online")}async function __PRIVATE_onWatchStreamOpen(a){a.N_.forEach((e,o)=>{__PRIVATE_sendWatchRequest(a,e)})}async function __PRIVATE_onWatchStreamClose(a,e){__PRIVATE_cleanUpWatchStreamState(a),__PRIVATE_shouldStartWatchStream(a)?(a.q_.M_(e),__PRIVATE_startWatchStream(a)):a.q_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(a,e,o){if(a.q_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await async function(et,tt){const nt=tt.cause;for(const rt of tt.targetIds)et.N_.has(rt)&&(await et.remoteSyncer.rejectListen(rt,nt),et.N_.delete(rt),et.Q_.removeTarget(rt))}(a,e)}catch(c){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),c),await __PRIVATE_disableNetworkUntilRecovery(a,c)}else if(e instanceof __PRIVATE_DocumentWatchChange?a.Q_.Ke(e):e instanceof __PRIVATE_ExistenceFilterChange?a.Q_.He(e):a.Q_.We(e),!o.isEqual(SnapshotVersion.min()))try{const c=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(a.localStore);o.compareTo(c)>=0&&await function(tt,nt){const rt=tt.Q_.rt(nt);return rt.targetChanges.forEach((mt,gt)=>{if(mt.resumeToken.approximateByteSize()>0){const yt=tt.N_.get(gt);yt&&tt.N_.set(gt,yt.withResumeToken(mt.resumeToken,nt))}}),rt.targetMismatches.forEach((mt,gt)=>{const yt=tt.N_.get(mt);if(!yt)return;tt.N_.set(mt,yt.withResumeToken(ByteString.EMPTY_BYTE_STRING,yt.snapshotVersion)),__PRIVATE_sendUnwatchRequest(tt,mt);const vt=new TargetData(yt.target,mt,gt,yt.sequenceNumber);__PRIVATE_sendWatchRequest(tt,vt)}),tt.remoteSyncer.applyRemoteEvent(rt)}(a,o)}catch(c){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",c),await __PRIVATE_disableNetworkUntilRecovery(a,c)}}async function __PRIVATE_disableNetworkUntilRecovery(a,e,o){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;a.L_.add(1),await __PRIVATE_disableNetworkInternal(a),a.q_.set("Offline"),o||(o=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await o(),a.L_.delete(1),await __PRIVATE_enableNetworkInternal(a)})}function __PRIVATE_executeWithRecovery(a,e){return e().catch(o=>__PRIVATE_disableNetworkUntilRecovery(a,o,e))}async function __PRIVATE_fillWritePipeline(a){const e=__PRIVATE_debugCast(a),o=__PRIVATE_ensureWriteStream(e);let c=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(e);)try{const et=await __PRIVATE_localStoreGetNextMutationBatch(e.localStore,c);if(et===null){e.O_.length===0&&o.o_();break}c=et.batchId,__PRIVATE_addToWritePipeline(e,et)}catch(et){await __PRIVATE_disableNetworkUntilRecovery(e,et)}__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}function __PRIVATE_canAddToWritePipeline(a){return __PRIVATE_canUseNetwork(a)&&a.O_.length<10}function __PRIVATE_addToWritePipeline(a,e){a.O_.push(e);const o=__PRIVATE_ensureWriteStream(a);o.r_()&&o.V_&&o.m_(e.mutations)}function __PRIVATE_shouldStartWriteStream(a){return __PRIVATE_canUseNetwork(a)&&!__PRIVATE_ensureWriteStream(a).n_()&&a.O_.length>0}function __PRIVATE_startWriteStream(a){__PRIVATE_ensureWriteStream(a).start()}async function __PRIVATE_onWriteStreamOpen(a){__PRIVATE_ensureWriteStream(a).p_()}async function __PRIVATE_onWriteHandshakeComplete(a){const e=__PRIVATE_ensureWriteStream(a);for(const o of a.O_)e.m_(o.mutations)}async function __PRIVATE_onMutationResult(a,e,o){const c=a.O_.shift(),et=MutationBatchResult.from(c,e,o);await __PRIVATE_executeWithRecovery(a,()=>a.remoteSyncer.applySuccessfulWrite(et)),await __PRIVATE_fillWritePipeline(a)}async function __PRIVATE_onWriteStreamClose(a,e){e&&__PRIVATE_ensureWriteStream(a).V_&&await async function(c,et){if(function(nt){return __PRIVATE_isPermanentError(nt)&&nt!==D$1.ABORTED}(et.code)){const tt=c.O_.shift();__PRIVATE_ensureWriteStream(c).s_(),await __PRIVATE_executeWithRecovery(c,()=>c.remoteSyncer.rejectFailedWrite(tt.batchId,et)),await __PRIVATE_fillWritePipeline(c)}}(a,e),__PRIVATE_shouldStartWriteStream(a)&&__PRIVATE_startWriteStream(a)}async function __PRIVATE_remoteStoreHandleCredentialChange(a,e){const o=__PRIVATE_debugCast(a);o.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const c=__PRIVATE_canUseNetwork(o);o.L_.add(3),await __PRIVATE_disableNetworkInternal(o),c&&o.q_.set("Unknown"),await o.remoteSyncer.handleCredentialChange(e),o.L_.delete(3),await __PRIVATE_enableNetworkInternal(o)}async function __PRIVATE_remoteStoreApplyPrimaryState(a,e){const o=__PRIVATE_debugCast(a);e?(o.L_.delete(2),await __PRIVATE_enableNetworkInternal(o)):e||(o.L_.add(2),await __PRIVATE_disableNetworkInternal(o),o.q_.set("Unknown"))}function __PRIVATE_ensureWatchStream(a){return a.K_||(a.K_=function(o,c,et){const tt=__PRIVATE_debugCast(o);return tt.w_(),new __PRIVATE_PersistentListenStream(c,tt.connection,tt.authCredentials,tt.appCheckCredentials,tt.serializer,et)}(a.datastore,a.asyncQueue,{Eo:__PRIVATE_onWatchStreamConnected.bind(null,a),Ro:__PRIVATE_onWatchStreamOpen.bind(null,a),mo:__PRIVATE_onWatchStreamClose.bind(null,a),d_:__PRIVATE_onWatchStreamChange.bind(null,a)}),a.B_.push(async e=>{e?(a.K_.s_(),__PRIVATE_shouldStartWatchStream(a)?__PRIVATE_startWatchStream(a):a.q_.set("Unknown")):(await a.K_.stop(),__PRIVATE_cleanUpWatchStreamState(a))})),a.K_}function __PRIVATE_ensureWriteStream(a){return a.U_||(a.U_=function(o,c,et){const tt=__PRIVATE_debugCast(o);return tt.w_(),new __PRIVATE_PersistentWriteStream(c,tt.connection,tt.authCredentials,tt.appCheckCredentials,tt.serializer,et)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:__PRIVATE_onWriteStreamOpen.bind(null,a),mo:__PRIVATE_onWriteStreamClose.bind(null,a),f_:__PRIVATE_onWriteHandshakeComplete.bind(null,a),g_:__PRIVATE_onMutationResult.bind(null,a)}),a.B_.push(async e=>{e?(a.U_.s_(),await __PRIVATE_fillWritePipeline(a)):(await a.U_.stop(),a.O_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))})),a.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,o,c,et,tt){this.asyncQueue=e,this.timerId=o,this.targetTimeMs=c,this.op=et,this.removalCallback=tt,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(nt=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,o,c,et,tt){const nt=Date.now()+c,rt=new DelayedOperation(e,o,nt,et,tt);return rt.start(c),rt}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D$1.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(a,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${a}`),__PRIVATE_isIndexedDbTransactionError(a))return new FirestoreError(D$1.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(e){this.comparator=e?(o,c)=>e(o,c)||DocumentKey.comparator(o.key,c.key):(o,c)=>DocumentKey.comparator(o.key,c.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(e){return new DocumentSet(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const o=this.keyedMap.get(e);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((o,c)=>(e(o),!1))}add(e){const o=this.delete(e.key);return o.copy(o.keyedMap.insert(e.key,e),o.sortedSet.insert(e,null))}delete(e){const o=this.get(e);return o?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(o)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const o=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;o.hasNext();){const et=o.getNext().key,tt=c.getNext().key;if(!et.isEqual(tt))return!1}return!0}toString(){const e=[];return this.forEach(o=>{e.push(o.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,o){const c=new DocumentSet;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=o,c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.W_=new SortedMap(DocumentKey.comparator)}track(e){const o=e.doc.key,c=this.W_.get(o);c?e.type!==0&&c.type===3?this.W_=this.W_.insert(o,e):e.type===3&&c.type!==1?this.W_=this.W_.insert(o,{type:c.type,doc:e.doc}):e.type===2&&c.type===2?this.W_=this.W_.insert(o,{type:2,doc:e.doc}):e.type===2&&c.type===0?this.W_=this.W_.insert(o,{type:0,doc:e.doc}):e.type===1&&c.type===0?this.W_=this.W_.remove(o):e.type===1&&c.type===2?this.W_=this.W_.insert(o,{type:1,doc:c.doc}):e.type===0&&c.type===1?this.W_=this.W_.insert(o,{type:2,doc:e.doc}):fail():this.W_=this.W_.insert(o,e)}G_(){const e=[];return this.W_.inorderTraversal((o,c)=>{e.push(c)}),e}}class ViewSnapshot{constructor(e,o,c,et,tt,nt,rt,mt,gt){this.query=e,this.docs=o,this.oldDocs=c,this.docChanges=et,this.mutatedKeys=tt,this.fromCache=nt,this.syncStateChanged=rt,this.excludesMetadataChanges=mt,this.hasCachedResults=gt}static fromInitialDocuments(e,o,c,et,tt){const nt=[];return o.forEach(rt=>{nt.push({type:0,doc:rt})}),new ViewSnapshot(e,o,DocumentSet.emptySet(o),nt,c,et,!0,!1,tt)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const o=this.docChanges,c=e.docChanges;if(o.length!==c.length)return!1;for(let et=0;et<o.length;et++)if(o[et].type!==c[et].type||!o[et].doc.isEqual(c[et].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(o,c){const et=__PRIVATE_debugCast(o),tt=et.queries;et.queries=__PRIVATE_newQueriesObjectMap(),tt.forEach((nt,rt)=>{for(const mt of rt.j_)mt.onError(c)})})(this,new FirestoreError(D$1.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(a=>__PRIVATE_canonifyQuery(a),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(a,e){const o=__PRIVATE_debugCast(a);let c=3;const et=e.query;let tt=o.queries.get(et);tt?!tt.H_()&&e.J_()&&(c=2):(tt=new __PRIVATE_QueryListenersInfo,c=e.J_()?0:1);try{switch(c){case 0:tt.z_=await o.onListen(et,!0);break;case 1:tt.z_=await o.onListen(et,!1);break;case 2:await o.onFirstRemoteStoreListen(et)}}catch(nt){const rt=__PRIVATE_wrapInUserErrorIfRecoverable(nt,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError(rt)}o.queries.set(et,tt),tt.j_.push(e),e.Z_(o.onlineState),tt.z_&&e.X_(tt.z_)&&__PRIVATE_raiseSnapshotsInSyncEvent(o)}async function __PRIVATE_eventManagerUnlisten(a,e){const o=__PRIVATE_debugCast(a),c=e.query;let et=3;const tt=o.queries.get(c);if(tt){const nt=tt.j_.indexOf(e);nt>=0&&(tt.j_.splice(nt,1),tt.j_.length===0?et=e.J_()?0:1:!tt.H_()&&e.J_()&&(et=2))}switch(et){case 0:return o.queries.delete(c),o.onUnlisten(c,!0);case 1:return o.queries.delete(c),o.onUnlisten(c,!1);case 2:return o.onLastRemoteStoreUnlisten(c);default:return}}function __PRIVATE_eventManagerOnWatchChange(a,e){const o=__PRIVATE_debugCast(a);let c=!1;for(const et of e){const tt=et.query,nt=o.queries.get(tt);if(nt){for(const rt of nt.j_)rt.X_(et)&&(c=!0);nt.z_=et}}c&&__PRIVATE_raiseSnapshotsInSyncEvent(o)}function __PRIVATE_eventManagerOnWatchError(a,e,o){const c=__PRIVATE_debugCast(a),et=c.queries.get(e);if(et)for(const tt of et.j_)tt.onError(o);c.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(a){a.Y_.forEach(e=>{e.next()})}var pe,ye;(ye=pe||(pe={})).ea="default",ye.Cache="cache";class __PRIVATE_QueryListener{constructor(e,o,c){this.query=e,this.ta=o,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=c||{}}X_(e){if(!this.options.includeMetadataChanges){const c=[];for(const et of e.docChanges)et.type!==3&&c.push(et);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let o=!1;return this.na?this.ia(e)&&(this.ta.next(e),o=!0):this.sa(e,this.onlineState)&&(this.oa(e),o=!0),this.ra=e,o}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let o=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),o=!0),o}sa(e,o){if(!e.fromCache||!this.J_())return!0;const c=o!=="Offline";return(!this.options._a||!c)&&(!e.docs.isEmpty()||e.hasCachedResults||o==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const o=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!o)&&this.options.includeMetadataChanges===!0}oa(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pe.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,o){this.query=e,this.Ta=o,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Aa=__PRIVATE_newQueryComparator(e),this.Ra=new DocumentSet(this.Aa)}get Va(){return this.Ta}ma(e,o){const c=o?o.fa:new __PRIVATE_DocumentChangeSet,et=o?o.Ra:this.Ra;let tt=o?o.mutatedKeys:this.mutatedKeys,nt=et,rt=!1;const mt=this.query.limitType==="F"&&et.size===this.query.limit?et.last():null,gt=this.query.limitType==="L"&&et.size===this.query.limit?et.first():null;if(e.inorderTraversal((yt,vt)=>{const xt=et.get(yt),bt=__PRIVATE_queryMatches(this.query,vt)?vt:null,Et=!!xt&&this.mutatedKeys.has(xt.key),wt=!!bt&&(bt.hasLocalMutations||this.mutatedKeys.has(bt.key)&&bt.hasCommittedMutations);let St=!1;xt&&bt?xt.data.isEqual(bt.data)?Et!==wt&&(c.track({type:3,doc:bt}),St=!0):this.ga(xt,bt)||(c.track({type:2,doc:bt}),St=!0,(mt&&this.Aa(bt,mt)>0||gt&&this.Aa(bt,gt)<0)&&(rt=!0)):!xt&&bt?(c.track({type:0,doc:bt}),St=!0):xt&&!bt&&(c.track({type:1,doc:xt}),St=!0,(mt||gt)&&(rt=!0)),St&&(bt?(nt=nt.add(bt),tt=wt?tt.add(yt):tt.delete(yt)):(nt=nt.delete(yt),tt=tt.delete(yt)))}),this.query.limit!==null)for(;nt.size>this.query.limit;){const yt=this.query.limitType==="F"?nt.last():nt.first();nt=nt.delete(yt.key),tt=tt.delete(yt.key),c.track({type:1,doc:yt})}return{Ra:nt,fa:c,ns:rt,mutatedKeys:tt}}ga(e,o){return e.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(e,o,c,et){const tt=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const nt=e.fa.G_();nt.sort((yt,vt)=>function(bt,Et){const wt=St=>{switch(St){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return wt(bt)-wt(Et)}(yt.type,vt.type)||this.Aa(yt.doc,vt.doc)),this.pa(c),et=et!=null&&et;const rt=o&&!et?this.ya():[],mt=this.da.size===0&&this.current&&!et?1:0,gt=mt!==this.Ea;return this.Ea=mt,nt.length!==0||gt?{snapshot:new ViewSnapshot(this.query,e.Ra,tt,nt,e.mutatedKeys,mt===0,gt,!1,!!c&&c.resumeToken.approximateByteSize()>0),wa:rt}:{wa:rt}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(o=>this.Ta=this.Ta.add(o)),e.modifiedDocuments.forEach(o=>{}),e.removedDocuments.forEach(o=>this.Ta=this.Ta.delete(o)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=__PRIVATE_documentKeySet(),this.Ra.forEach(c=>{this.Sa(c.key)&&(this.da=this.da.add(c.key))});const o=[];return e.forEach(c=>{this.da.has(c)||o.push(new __PRIVATE_RemovedLimboDocument(c))}),this.da.forEach(c=>{e.has(c)||o.push(new __PRIVATE_AddedLimboDocument(c))}),o}ba(e){this.Ta=e.Ts,this.da=__PRIVATE_documentKeySet();const o=this.ma(e.documents);return this.applyChanges(o,!0)}Da(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(e,o,c){this.query=e,this.targetId=o,this.view=c}}class LimboResolution{constructor(e){this.key=e,this.va=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,o,c,et,tt,nt){this.localStore=e,this.remoteStore=o,this.eventManager=c,this.sharedClientState=et,this.currentUser=tt,this.maxConcurrentLimboResolutions=nt,this.Ca={},this.Fa=new ObjectMap(rt=>__PRIVATE_canonifyQuery(rt),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineListen(a,e,o=!0){const c=__PRIVATE_ensureWatchCallbacks(a);let et;const tt=c.Fa.get(e);return tt?(c.sharedClientState.addLocalQueryTarget(tt.targetId),et=tt.view.Da()):et=await __PRIVATE_allocateTargetAndMaybeListen(c,e,o,!0),et}async function __PRIVATE_triggerRemoteStoreListen(a,e){const o=__PRIVATE_ensureWatchCallbacks(a);await __PRIVATE_allocateTargetAndMaybeListen(o,e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(a,e,o,c){const et=await __PRIVATE_localStoreAllocateTarget(a.localStore,__PRIVATE_queryToTarget(e)),tt=et.targetId,nt=a.sharedClientState.addLocalQueryTarget(tt,o);let rt;return c&&(rt=await __PRIVATE_initializeViewAndComputeSnapshot(a,e,tt,nt==="current",et.resumeToken)),a.isPrimaryClient&&o&&__PRIVATE_remoteStoreListen(a.remoteStore,et),rt}async function __PRIVATE_initializeViewAndComputeSnapshot(a,e,o,c,et){a.Ka=(vt,xt,bt)=>async function(wt,St,Tt,kt){let _t=St.view.ma(Tt);_t.ns&&(_t=await __PRIVATE_localStoreExecuteQuery(wt.localStore,St.query,!1).then(({documents:Dt})=>St.view.ma(Dt,_t)));const Mt=kt&&kt.targetChanges.get(St.targetId),Pt=kt&&kt.targetMismatches.get(St.targetId)!=null,It=St.view.applyChanges(_t,wt.isPrimaryClient,Mt,Pt);return __PRIVATE_updateTrackedLimbos(wt,St.targetId,It.wa),It.snapshot}(a,vt,xt,bt);const tt=await __PRIVATE_localStoreExecuteQuery(a.localStore,e,!0),nt=new __PRIVATE_View(e,tt.Ts),rt=nt.ma(tt.documents),mt=TargetChange.createSynthesizedTargetChangeForCurrentChange(o,c&&a.onlineState!=="Offline",et),gt=nt.applyChanges(rt,a.isPrimaryClient,mt);__PRIVATE_updateTrackedLimbos(a,o,gt.wa);const yt=new __PRIVATE_QueryView(e,o,nt);return a.Fa.set(e,yt),a.Ma.has(o)?a.Ma.get(o).push(e):a.Ma.set(o,[e]),gt.snapshot}async function __PRIVATE_syncEngineUnlisten(a,e,o){const c=__PRIVATE_debugCast(a),et=c.Fa.get(e),tt=c.Ma.get(et.targetId);if(tt.length>1)return c.Ma.set(et.targetId,tt.filter(nt=>!__PRIVATE_queryEquals(nt,e))),void c.Fa.delete(e);c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(et.targetId),c.sharedClientState.isActiveQueryTarget(et.targetId)||await __PRIVATE_localStoreReleaseTarget(c.localStore,et.targetId,!1).then(()=>{c.sharedClientState.clearQueryState(et.targetId),o&&__PRIVATE_remoteStoreUnlisten(c.remoteStore,et.targetId),__PRIVATE_removeAndCleanupTarget(c,et.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(c,et.targetId),await __PRIVATE_localStoreReleaseTarget(c.localStore,et.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(a,e){const o=__PRIVATE_debugCast(a),c=o.Fa.get(e),et=o.Ma.get(c.targetId);o.isPrimaryClient&&et.length===1&&(o.sharedClientState.removeLocalQueryTarget(c.targetId),__PRIVATE_remoteStoreUnlisten(o.remoteStore,c.targetId))}async function __PRIVATE_syncEngineWrite(a,e,o){const c=__PRIVATE_syncEngineEnsureWriteCallbacks(a);try{const et=await function(nt,rt){const mt=__PRIVATE_debugCast(nt),gt=Timestamp.now(),yt=rt.reduce((bt,Et)=>bt.add(Et.key),__PRIVATE_documentKeySet());let vt,xt;return mt.persistence.runTransaction("Locally write mutations","readwrite",bt=>{let Et=__PRIVATE_mutableDocumentMap(),wt=__PRIVATE_documentKeySet();return mt.cs.getEntries(bt,yt).next(St=>{Et=St,Et.forEach((Tt,kt)=>{kt.isValidDocument()||(wt=wt.add(Tt))})}).next(()=>mt.localDocuments.getOverlayedDocuments(bt,Et)).next(St=>{vt=St;const Tt=[];for(const kt of rt){const _t=__PRIVATE_mutationExtractBaseValue(kt,vt.get(kt.key).overlayedDocument);_t!=null&&Tt.push(new __PRIVATE_PatchMutation(kt.key,_t,__PRIVATE_extractFieldMask(_t.value.mapValue),Precondition.exists(!0)))}return mt.mutationQueue.addMutationBatch(bt,gt,Tt,rt)}).next(St=>{xt=St;const Tt=St.applyToLocalDocumentSet(vt,wt);return mt.documentOverlayCache.saveOverlays(bt,St.batchId,Tt)})}).then(()=>({batchId:xt.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(vt)}))}(c.localStore,e);c.sharedClientState.addPendingMutation(et.batchId),function(nt,rt,mt){let gt=nt.Ba[nt.currentUser.toKey()];gt||(gt=new SortedMap(__PRIVATE_primitiveComparator)),gt=gt.insert(rt,mt),nt.Ba[nt.currentUser.toKey()]=gt}(c,et.batchId,o),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(c,et.changes),await __PRIVATE_fillWritePipeline(c.remoteStore)}catch(et){const tt=__PRIVATE_wrapInUserErrorIfRecoverable(et,"Failed to persist write");o.reject(tt)}}async function __PRIVATE_syncEngineApplyRemoteEvent(a,e){const o=__PRIVATE_debugCast(a);try{const c=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(o.localStore,e);e.targetChanges.forEach((et,tt)=>{const nt=o.Na.get(tt);nt&&(__PRIVATE_hardAssert(et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size<=1),et.addedDocuments.size>0?nt.va=!0:et.modifiedDocuments.size>0?__PRIVATE_hardAssert(nt.va):et.removedDocuments.size>0&&(__PRIVATE_hardAssert(nt.va),nt.va=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(o,c,e)}catch(c){await __PRIVATE_ignoreIfPrimaryLeaseLoss(c)}}function __PRIVATE_syncEngineApplyOnlineStateChange(a,e,o){const c=__PRIVATE_debugCast(a);if(c.isPrimaryClient&&o===0||!c.isPrimaryClient&&o===1){const et=[];c.Fa.forEach((tt,nt)=>{const rt=nt.view.Z_(e);rt.snapshot&&et.push(rt.snapshot)}),function(nt,rt){const mt=__PRIVATE_debugCast(nt);mt.onlineState=rt;let gt=!1;mt.queries.forEach((yt,vt)=>{for(const xt of vt.j_)xt.Z_(rt)&&(gt=!0)}),gt&&__PRIVATE_raiseSnapshotsInSyncEvent(mt)}(c.eventManager,e),et.length&&c.Ca.d_(et),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(a,e,o){const c=__PRIVATE_debugCast(a);c.sharedClientState.updateQueryState(e,"rejected",o);const et=c.Na.get(e),tt=et&&et.key;if(tt){let nt=new SortedMap(DocumentKey.comparator);nt=nt.insert(tt,MutableDocument.newNoDocument(tt,SnapshotVersion.min()));const rt=__PRIVATE_documentKeySet().add(tt),mt=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),nt,rt);await __PRIVATE_syncEngineApplyRemoteEvent(c,mt),c.Oa=c.Oa.remove(tt),c.Na.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(c)}else await __PRIVATE_localStoreReleaseTarget(c.localStore,e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(c,e,o)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(a,e){const o=__PRIVATE_debugCast(a),c=e.batch.batchId;try{const et=await __PRIVATE_localStoreAcknowledgeBatch(o.localStore,e);__PRIVATE_processUserCallback(o,c,null),__PRIVATE_triggerPendingWritesCallbacks(o,c),o.sharedClientState.updateMutationState(c,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(o,et)}catch(et){await __PRIVATE_ignoreIfPrimaryLeaseLoss(et)}}async function __PRIVATE_syncEngineRejectFailedWrite(a,e,o){const c=__PRIVATE_debugCast(a);try{const et=await function(nt,rt){const mt=__PRIVATE_debugCast(nt);return mt.persistence.runTransaction("Reject batch","readwrite-primary",gt=>{let yt;return mt.mutationQueue.lookupMutationBatch(gt,rt).next(vt=>(__PRIVATE_hardAssert(vt!==null),yt=vt.keys(),mt.mutationQueue.removeMutationBatch(gt,vt))).next(()=>mt.mutationQueue.performConsistencyCheck(gt)).next(()=>mt.documentOverlayCache.removeOverlaysForBatchId(gt,yt,rt)).next(()=>mt.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(gt,yt)).next(()=>mt.localDocuments.getDocuments(gt,yt))})}(c.localStore,e);__PRIVATE_processUserCallback(c,e,o),__PRIVATE_triggerPendingWritesCallbacks(c,e),c.sharedClientState.updateMutationState(e,"rejected",o),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(c,et)}catch(et){await __PRIVATE_ignoreIfPrimaryLeaseLoss(et)}}function __PRIVATE_triggerPendingWritesCallbacks(a,e){(a.ka.get(e)||[]).forEach(o=>{o.resolve()}),a.ka.delete(e)}function __PRIVATE_processUserCallback(a,e,o){const c=__PRIVATE_debugCast(a);let et=c.Ba[c.currentUser.toKey()];if(et){const tt=et.get(e);tt&&(o?tt.reject(o):tt.resolve(),et=et.remove(e)),c.Ba[c.currentUser.toKey()]=et}}function __PRIVATE_removeAndCleanupTarget(a,e,o=null){a.sharedClientState.removeLocalQueryTarget(e);for(const c of a.Ma.get(e))a.Fa.delete(c),o&&a.Ca.$a(c,o);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach(c=>{a.La.containsKey(c)||__PRIVATE_removeLimboTarget(a,c)})}function __PRIVATE_removeLimboTarget(a,e){a.xa.delete(e.path.canonicalString());const o=a.Oa.get(e);o!==null&&(__PRIVATE_remoteStoreUnlisten(a.remoteStore,o),a.Oa=a.Oa.remove(e),a.Na.delete(o),__PRIVATE_pumpEnqueuedLimboResolutions(a))}function __PRIVATE_updateTrackedLimbos(a,e,o){for(const c of o)c instanceof __PRIVATE_AddedLimboDocument?(a.La.addReference(c.key,e),__PRIVATE_trackLimboChange(a,c)):c instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+c.key),a.La.removeReference(c.key,e),a.La.containsKey(c.key)||__PRIVATE_removeLimboTarget(a,c.key)):fail()}function __PRIVATE_trackLimboChange(a,e){const o=e.key,c=o.path.canonicalString();a.Oa.get(o)||a.xa.has(c)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+o),a.xa.add(c),__PRIVATE_pumpEnqueuedLimboResolutions(a))}function __PRIVATE_pumpEnqueuedLimboResolutions(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const o=new DocumentKey(ResourcePath.fromString(e)),c=a.qa.next();a.Na.set(c,new LimboResolution(o)),a.Oa=a.Oa.insert(o,c),__PRIVATE_remoteStoreListen(a.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(o.path)),c,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,e,o){const c=__PRIVATE_debugCast(a),et=[],tt=[],nt=[];c.Fa.isEmpty()||(c.Fa.forEach((rt,mt)=>{nt.push(c.Ka(mt,e,o).then(gt=>{var yt;if((gt||o)&&c.isPrimaryClient){const vt=gt?!gt.fromCache:(yt=o==null?void 0:o.targetChanges.get(mt.targetId))===null||yt===void 0?void 0:yt.current;c.sharedClientState.updateQueryState(mt.targetId,vt?"current":"not-current")}if(gt){et.push(gt);const vt=__PRIVATE_LocalViewChanges.Wi(mt.targetId,gt);tt.push(vt)}}))}),await Promise.all(nt),c.Ca.d_(et),await async function(mt,gt){const yt=__PRIVATE_debugCast(mt);try{await yt.persistence.runTransaction("notifyLocalViewChanges","readwrite",vt=>PersistencePromise.forEach(gt,xt=>PersistencePromise.forEach(xt.$i,bt=>yt.persistence.referenceDelegate.addReference(vt,xt.targetId,bt)).next(()=>PersistencePromise.forEach(xt.Ui,bt=>yt.persistence.referenceDelegate.removeReference(vt,xt.targetId,bt)))))}catch(vt){if(!__PRIVATE_isIndexedDbTransactionError(vt))throw vt;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+vt)}for(const vt of gt){const xt=vt.targetId;if(!vt.fromCache){const bt=yt.os.get(xt),Et=bt.snapshotVersion,wt=bt.withLastLimboFreeSnapshotVersion(Et);yt.os=yt.os.insert(xt,wt)}}}(c.localStore,tt))}async function __PRIVATE_syncEngineHandleCredentialChange(a,e){const o=__PRIVATE_debugCast(a);if(!o.currentUser.isEqual(e)){__PRIVATE_logDebug("SyncEngine","User change. New user:",e.toKey());const c=await __PRIVATE_localStoreHandleUserChange(o.localStore,e);o.currentUser=e,function(tt,nt){tt.ka.forEach(rt=>{rt.forEach(mt=>{mt.reject(new FirestoreError(D$1.CANCELLED,nt))})}),tt.ka.clear()}(o,"'waitForPendingWrites' promise is rejected due to a user change."),o.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(o,c.hs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(a,e){const o=__PRIVATE_debugCast(a),c=o.Na.get(e);if(c&&c.va)return __PRIVATE_documentKeySet().add(c.key);{let et=__PRIVATE_documentKeySet();const tt=o.Ma.get(e);if(!tt)return et;for(const nt of tt){const rt=o.Fa.get(nt);et=et.unionWith(rt.view.Va)}return et}}function __PRIVATE_ensureWatchCallbacks(a){const e=__PRIVATE_debugCast(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.Ca.d_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.Ca.$a=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}function __PRIVATE_syncEngineEnsureWriteCallbacks(a){const e=__PRIVATE_debugCast(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,e),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,o){return null}Ha(e,o){return null}za(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}Ga(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}Wa(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,o;(e=this.gcScheduler)===null||e===void 0||e.stop(),(o=this.indexBackfillerScheduler)===null||o===void 0||o.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class OnlineComponentProvider{async initialize(e,o){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(o),this.remoteStore=this.createRemoteStore(o),this.eventManager=this.createEventManager(o),this.syncEngine=this.createSyncEngine(o,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=c=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,c,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const o=__PRIVATE_newSerializer(e.databaseInfo.databaseId),c=function(tt){return new __PRIVATE_WebChannelConnection(tt)}(e.databaseInfo);return function(tt,nt,rt,mt){return new __PRIVATE_DatastoreImpl(tt,nt,rt,mt)}(e.authCredentials,e.appCheckCredentials,c,o)}createRemoteStore(e){return function(c,et,tt,nt,rt){return new __PRIVATE_RemoteStoreImpl(c,et,tt,nt,rt)}(this.localStore,this.datastore,e.asyncQueue,o=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,o,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,o){return function(et,tt,nt,rt,mt,gt,yt){const vt=new __PRIVATE_SyncEngineImpl(et,tt,nt,rt,mt,gt);return yt&&(vt.Qa=!0),vt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,o)}async terminate(){var e,o;await async function(et){const tt=__PRIVATE_debugCast(et);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),tt.L_.add(5),await __PRIVATE_disableNetworkInternal(tt),tt.k_.shutdown(),tt.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(o=this.eventManager)===null||o===void 0||o.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,o){setTimeout(()=>{this.muted||e(o)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(e,o,c,et,tt){this.authCredentials=e,this.appCheckCredentials=o,this.asyncQueue=c,this.databaseInfo=et,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=tt,this.authCredentials.start(c,async nt=>{__PRIVATE_logDebug("FirestoreClient","Received user=",nt.uid),await this.authCredentialListener(nt),this.user=nt}),this.appCheckCredentials.start(c,nt=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",nt),this.appCheckCredentialListener(nt,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(o){const c=__PRIVATE_wrapInUserErrorIfRecoverable(o,"Failed to shutdown persistence");e.reject(c)}}),e.promise}}async function __PRIVATE_setOfflineComponentProvider(a,e){a.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const o=a.configuration;await e.initialize(o);let c=o.initialUser;a.setCredentialChangeListener(async et=>{c.isEqual(et)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,et),c=et)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(a,e){a.asyncQueue.verifyOperationInProgress();const o=await __PRIVATE_ensureOfflineComponents(a);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(o,a.configuration),a.setCredentialChangeListener(c=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,c)),a.setAppCheckTokenChangeListener((c,et)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,et)),a._onlineComponents=e}async function __PRIVATE_ensureOfflineComponents(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(a,a._uninitializedComponentsProvider._offline)}catch(e){const o=e;if(!function(et){return et.name==="FirebaseError"?et.code===D$1.FAILED_PRECONDITION||et.code===D$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&et instanceof DOMException)||et.code===22||et.code===20||et.code===11}(o))throw o;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+o),await __PRIVATE_setOfflineComponentProvider(a,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(a,new __PRIVATE_MemoryOfflineComponentProvider);return a._offlineComponents}async function __PRIVATE_ensureOnlineComponents(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(a,a._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(a,new OnlineComponentProvider))),a._onlineComponents}function __PRIVATE_getSyncEngine(a){return __PRIVATE_ensureOnlineComponents(a).then(e=>e.syncEngine)}async function __PRIVATE_getEventManager(a){const e=await __PRIVATE_ensureOnlineComponents(a),o=e.eventManager;return o.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),o.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),o.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,e.syncEngine),o.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,e.syncEngine),o}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(a,e,o={}){const c=new __PRIVATE_Deferred;return a.asyncQueue.enqueueAndForget(async()=>function(tt,nt,rt,mt,gt){const yt=new __PRIVATE_AsyncObserver({next:xt=>{yt.Za(),nt.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(tt,vt));const bt=xt.docs.has(rt);!bt&&xt.fromCache?gt.reject(new FirestoreError(D$1.UNAVAILABLE,"Failed to get document because the client is offline.")):bt&&xt.fromCache&&mt&&mt.source==="server"?gt.reject(new FirestoreError(D$1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):gt.resolve(xt)},error:xt=>gt.reject(xt)}),vt=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(rt.path),yt,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(tt,vt)}(await __PRIVATE_getEventManager(a),a.asyncQueue,e,o,c)),c.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(a,e,o={}){const c=new __PRIVATE_Deferred;return a.asyncQueue.enqueueAndForget(async()=>function(tt,nt,rt,mt,gt){const yt=new __PRIVATE_AsyncObserver({next:xt=>{yt.Za(),nt.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(tt,vt)),xt.fromCache&&mt.source==="server"?gt.reject(new FirestoreError(D$1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):gt.resolve(xt)},error:xt=>gt.reject(xt)}),vt=new __PRIVATE_QueryListener(rt,yt,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(tt,vt)}(await __PRIVATE_getEventManager(a),a.asyncQueue,e,o,c)),c.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(a,e,o){if(!o)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(a,e,o,c){if(e===!0&&c===!0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`${a} and ${o} cannot be used together.`)}function __PRIVATE_validateDocumentPath(a){if(!DocumentKey.isDocumentKey(a))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function __PRIVATE_validateCollectionPath(a){if(DocumentKey.isDocumentKey(a))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function __PRIVATE_valueDescription(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(c){return c.constructor?c.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":fail()}function __PRIVATE_cast(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=__PRIVATE_valueDescription(a);throw new FirestoreError(D$1.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${o}`)}}return a}function __PRIVATE_validatePositiveNumber(a,e){if(e<=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(e){var o,c;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(o=e.ssl)===null||o===void 0||o;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new FirestoreError(D$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((c=e.experimentalLongPollingOptions)!==null&&c!==void 0?c:{}),function(tt){if(tt.timeoutSeconds!==void 0){if(isNaN(tt.timeoutSeconds))throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${tt.timeoutSeconds} (must not be NaN)`);if(tt.timeoutSeconds<5)throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${tt.timeoutSeconds} (minimum allowed value is 5)`);if(tt.timeoutSeconds>30)throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${tt.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(c,et){return c.timeoutSeconds===et.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,o,c,et){this._authCredentials=e,this._appCheckCredentials=o,this._databaseId=c,this._app=et,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(D$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(D$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),e.credentials!==void 0&&(this._authCredentials=function(c){if(!c)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(c.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(c.sessionIndex||"0",c.iamToken||null,c.authTokenFactory||null);case"provider":return c.client;default:throw new FirestoreError(D$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){const c=we.get(o);c&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),we.delete(o),c.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(a,e,o,c={}){var et;const tt=(a=__PRIVATE_cast(a,Firestore$1))._getSettings(),nt=`${e}:${o}`;if(tt.host!=="firestore.googleapis.com"&&tt.host!==nt&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},tt),{host:nt,ssl:!1})),c.mockUserToken){let rt,mt;if(typeof c.mockUserToken=="string")rt=c.mockUserToken,mt=User.MOCK_USER;else{rt=createMockUserToken(c.mockUserToken,(et=a._app)===null||et===void 0?void 0:et.options.projectId);const gt=c.mockUserToken.sub||c.mockUserToken.user_id;if(!gt)throw new FirestoreError(D$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");mt=new User(gt)}a._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(rt,mt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,o,c){this.converter=o,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,o,c){this.converter=o,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,o,c){super(e,o,__PRIVATE_newQueryForPath(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function collection(a,e,...o){if(a=getModularInstance(a),__PRIVATE_validateNonEmptyArgument("collection","path",e),a instanceof Firestore$1){const c=ResourcePath.fromString(e,...o);return __PRIVATE_validateCollectionPath(c),new CollectionReference(a,null,c)}{if(!(a instanceof DocumentReference||a instanceof CollectionReference))throw new FirestoreError(D$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=a._path.child(ResourcePath.fromString(e,...o));return __PRIVATE_validateCollectionPath(c),new CollectionReference(a.firestore,null,c)}}function doc(a,e,...o){if(a=getModularInstance(a),arguments.length===1&&(e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",e),a instanceof Firestore$1){const c=ResourcePath.fromString(e,...o);return __PRIVATE_validateDocumentPath(c),new DocumentReference(a,null,new DocumentKey(c))}{if(!(a instanceof DocumentReference||a instanceof CollectionReference))throw new FirestoreError(D$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=a._path.child(ResourcePath.fromString(e,...o));return __PRIVATE_validateDocumentPath(c),new DocumentReference(a.firestore,a instanceof CollectionReference?a.converter:null,new DocumentKey(c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Vu=()=>{const c=getDocument();c&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+c.visibilityState),this.t_.jo()},this.mu=e;const o=getDocument();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const o=getDocument();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const o=new __PRIVATE_Deferred;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const o=this.mu.then(()=>(this.du=!0,e().catch(c=>{this.Eu=c,this.du=!1;const et=function(nt){let rt=nt.message||"";return nt.stack&&(rt=nt.stack.includes(nt.message)?nt.stack:nt.message+`
`+nt.stack),rt}(c);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",et),c}).then(c=>(this.du=!1,c))));return this.mu=o,o}enqueueAfterDelay(e,o,c){this.fu(),this.Ru.indexOf(e)>-1&&(o=0);const et=DelayedOperation.createAndSchedule(this,e,o,c,tt=>this.yu(tt));return this.Tu.push(et),et}fu(){this.Eu&&fail()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const o of this.Tu)if(o.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((o,c)=>o.targetTimeMs-c.targetTimeMs);for(const o of this.Tu)if(o.skipDelay(),e!=="all"&&o.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const o=this.Tu.indexOf(e);this.Tu.splice(o,1)}}function __PRIVATE_isPartialObserver(a){return function(o,c){if(typeof o!="object"||o===null)return!1;const et=o;for(const tt of c)if(tt in et&&typeof et[tt]=="function")return!0;return!1}(a,["next","error","complete"])}class Firestore extends Firestore$1{constructor(e,o,c,et){super(e,o,c,et),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(et==null?void 0:et.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function getFirestore(a,e){const o=typeof a=="object"?a:getApp(),c=typeof a=="string"?a:"(default)",et=_getProvider(o,"firestore").getImmediate({identifier:c});if(!et._initialized){const tt=getDefaultEmulatorHostnameAndPort("firestore");tt&&connectFirestoreEmulator(et,...tt)}return et}function ensureFirestoreConfigured(a){if(a._terminated)throw new FirestoreError(D$1.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||__PRIVATE_configureFirestore(a),a._firestoreClient}function __PRIVATE_configureFirestore(a){var e,o,c;const et=a._freezeSettings(),tt=function(rt,mt,gt,yt){return new DatabaseInfo(rt,mt,gt,yt.host,yt.ssl,yt.experimentalForceLongPolling,yt.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(yt.experimentalLongPollingOptions),yt.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,et);a._componentsProvider||!((o=et.localCache)===null||o===void 0)&&o._offlineComponentProvider&&(!((c=et.localCache)===null||c===void 0)&&c._onlineComponentProvider)&&(a._componentsProvider={_offline:et.localCache._offlineComponentProvider,_online:et.localCache._onlineComponentProvider}),a._firestoreClient=new FirestoreClient(a._authCredentials,a._appCheckCredentials,a._queue,tt,a._componentsProvider&&function(rt){const mt=rt==null?void 0:rt._online.build();return{_offline:rt==null?void 0:rt._offline.build(mt),_online:mt}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(o){throw new FirestoreError(D$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){for(let o=0;o<e.length;++o)if(e[o].length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,o){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(o)||o<-180||o>180)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=e,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map(o=>o)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(c,et){if(c.length!==et.length)return!1;for(let tt=0;tt<c.length;++tt)if(c[tt]!==et[tt])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=/^__.*__$/;class ParsedSetData{constructor(e,o,c){this.data=e,this.fieldMask=o,this.fieldTransforms=c}toMutation(e,o){return this.fieldMask!==null?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,o,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,o,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,o,c){this.data=e,this.fieldMask=o,this.fieldTransforms=c}toMutation(e,o){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,o,this.fieldTransforms)}}function __PRIVATE_isWrite(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(e,o,c,et,tt,nt){this.settings=e,this.databaseId=o,this.serializer=c,this.ignoreUndefinedProperties=et,tt===void 0&&this.vu(),this.fieldTransforms=tt||[],this.fieldMask=nt||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var o;const c=(o=this.path)===null||o===void 0?void 0:o.child(e),et=this.Fu({path:c,xu:!1});return et.Ou(e),et}Nu(e){var o;const c=(o=this.path)===null||o===void 0?void 0:o.child(e),et=this.Fu({path:c,xu:!1});return et.vu(),et}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(o=>e.isPrefixOf(o))!==void 0||this.fieldTransforms.find(o=>e.isPrefixOf(o.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(__PRIVATE_isWrite(this.Cu)&&be.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,o,c){this.databaseId=e,this.ignoreUndefinedProperties=o,this.serializer=c||__PRIVATE_newSerializer(e)}Qu(e,o,c,et=!1){return new __PRIVATE_ParseContextImpl({Cu:e,methodName:o,qu:c,path:FieldPath$1.emptyPath(),xu:!1,ku:et},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(a){const e=a._freezeSettings(),o=__PRIVATE_newSerializer(a._databaseId);return new __PRIVATE_UserDataReader(a._databaseId,!!e.ignoreUndefinedProperties,o)}function __PRIVATE_parseSetData(a,e,o,c,et,tt={}){const nt=a.Qu(tt.merge||tt.mergeFields?2:0,e,o,et);__PRIVATE_validatePlainObject("Data must be an object, but it was:",nt,c);const rt=__PRIVATE_parseObject(c,nt);let mt,gt;if(tt.merge)mt=new FieldMask(nt.fieldMask),gt=nt.fieldTransforms;else if(tt.mergeFields){const yt=[];for(const vt of tt.mergeFields){const xt=__PRIVATE_fieldPathFromArgument$1(e,vt,o);if(!nt.contains(xt))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Field '${xt}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(yt,xt)||yt.push(xt)}mt=new FieldMask(yt),gt=nt.fieldTransforms.filter(vt=>mt.covers(vt.field))}else mt=null,gt=nt.fieldTransforms;return new ParsedSetData(new ObjectValue(rt),mt,gt)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(e){return new FieldTransform(e.path,new __PRIVATE_ServerTimestampTransform)}isEqual(e){return e instanceof __PRIVATE_ServerTimestampFieldValueImpl}}function __PRIVATE_parseUpdateData(a,e,o,c){const et=a.Qu(1,e,o);__PRIVATE_validatePlainObject("Data must be an object, but it was:",et,c);const tt=[],nt=ObjectValue.empty();forEach(c,(mt,gt)=>{const yt=__PRIVATE_fieldPathFromDotSeparatedString(e,mt,o);gt=getModularInstance(gt);const vt=et.Nu(yt);if(gt instanceof __PRIVATE_DeleteFieldValueImpl)tt.push(yt);else{const xt=__PRIVATE_parseData(gt,vt);xt!=null&&(tt.push(yt),nt.set(yt,xt))}});const rt=new FieldMask(tt);return new ParsedUpdateData(nt,rt,et.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(a,e,o,c,et,tt){const nt=a.Qu(1,e,o),rt=[__PRIVATE_fieldPathFromArgument$1(e,c,o)],mt=[et];if(tt.length%2!=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xt=0;xt<tt.length;xt+=2)rt.push(__PRIVATE_fieldPathFromArgument$1(e,tt[xt])),mt.push(tt[xt+1]);const gt=[],yt=ObjectValue.empty();for(let xt=rt.length-1;xt>=0;--xt)if(!__PRIVATE_fieldMaskContains(gt,rt[xt])){const bt=rt[xt];let Et=mt[xt];Et=getModularInstance(Et);const wt=nt.Nu(bt);if(Et instanceof __PRIVATE_DeleteFieldValueImpl)gt.push(bt);else{const St=__PRIVATE_parseData(Et,wt);St!=null&&(gt.push(bt),yt.set(bt,St))}}const vt=new FieldMask(gt);return new ParsedUpdateData(yt,vt,nt.fieldTransforms)}function __PRIVATE_parseQueryValue(a,e,o,c=!1){return __PRIVATE_parseData(o,a.Qu(c?4:3,e))}function __PRIVATE_parseData(a,e){if(__PRIVATE_looksLikeJsonObject(a=getModularInstance(a)))return __PRIVATE_validatePlainObject("Unsupported field value:",e,a),__PRIVATE_parseObject(a,e);if(a instanceof FieldValue)return function(c,et){if(!__PRIVATE_isWrite(et.Cu))throw et.Bu(`${c._methodName}() can only be used with update() and set()`);if(!et.path)throw et.Bu(`${c._methodName}() is not currently supported inside arrays`);const tt=c._toFieldTransform(et);tt&&et.fieldTransforms.push(tt)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(c,et){const tt=[];let nt=0;for(const rt of c){let mt=__PRIVATE_parseData(rt,et.Lu(nt));mt==null&&(mt={nullValue:"NULL_VALUE"}),tt.push(mt),nt++}return{arrayValue:{values:tt}}}(a,e)}return function(c,et){if((c=getModularInstance(c))===null)return{nullValue:"NULL_VALUE"};if(typeof c=="number")return toNumber(et.serializer,c);if(typeof c=="boolean")return{booleanValue:c};if(typeof c=="string")return{stringValue:c};if(c instanceof Date){const tt=Timestamp.fromDate(c);return{timestampValue:toTimestamp(et.serializer,tt)}}if(c instanceof Timestamp){const tt=new Timestamp(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:toTimestamp(et.serializer,tt)}}if(c instanceof GeoPoint)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(et.serializer,c._byteString)};if(c instanceof DocumentReference){const tt=et.databaseId,nt=c.firestore._databaseId;if(!nt.isEqual(tt))throw et.Bu(`Document reference is for database ${nt.projectId}/${nt.database} but should be for database ${tt.projectId}/${tt.database}`);return{referenceValue:__PRIVATE_toResourceName(c.firestore._databaseId||et.databaseId,c._key.path)}}if(c instanceof VectorValue)return function(nt,rt){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:nt.toArray().map(mt=>{if(typeof mt!="number")throw rt.Bu("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(rt.serializer,mt)})}}}}}}(c,et);throw et.Bu(`Unsupported field value: ${__PRIVATE_valueDescription(c)}`)}(a,e)}function __PRIVATE_parseObject(a,e){const o={};return isEmpty(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):forEach(a,(c,et)=>{const tt=__PRIVATE_parseData(et,e.Mu(c));tt!=null&&(o[c]=tt)}),{mapValue:{fields:o}}}function __PRIVATE_looksLikeJsonObject(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Timestamp||a instanceof GeoPoint||a instanceof Bytes||a instanceof DocumentReference||a instanceof FieldValue||a instanceof VectorValue)}function __PRIVATE_validatePlainObject(a,e,o){if(!__PRIVATE_looksLikeJsonObject(o)||!function(et){return typeof et=="object"&&et!==null&&(Object.getPrototypeOf(et)===Object.prototype||Object.getPrototypeOf(et)===null)}(o)){const c=__PRIVATE_valueDescription(o);throw c==="an object"?e.Bu(a+" a custom object"):e.Bu(a+" "+c)}}function __PRIVATE_fieldPathFromArgument$1(a,e,o){if((e=getModularInstance(e))instanceof FieldPath)return e._internalPath;if(typeof e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(a,e);throw __PRIVATE_createError("Field path arguments must be of type string or ",a,!1,void 0,o)}const De=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(a,e,o){if(e.search(De)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,o);try{return new FieldPath(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,o)}}function __PRIVATE_createError(a,e,o,c,et){const tt=c&&!c.isEmpty(),nt=et!==void 0;let rt=`Function ${e}() called with invalid data`;o&&(rt+=" (via `toFirestore()`)"),rt+=". ";let mt="";return(tt||nt)&&(mt+=" (found",tt&&(mt+=` in field ${c}`),nt&&(mt+=` in document ${et}`),mt+=")"),new FirestoreError(D$1.INVALID_ARGUMENT,rt+a+mt)}function __PRIVATE_fieldMaskContains(a,e){return a.some(o=>o.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,o,c,et,tt){this._firestore=e,this._userDataWriter=o,this._key=c,this._document=et,this._converter=tt}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const o=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(a,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(a,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new FirestoreError(D$1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(a,e,...o){let c=[];e instanceof AppliableConstraint&&c.push(e),c=c.concat(o),function(tt){const nt=tt.filter(mt=>mt instanceof QueryCompositeFilterConstraint).length,rt=tt.filter(mt=>mt instanceof QueryFieldFilterConstraint).length;if(nt>1||nt>0&&rt>0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const et of c)a=et._apply(a);return a}class QueryFieldFilterConstraint extends QueryConstraint{constructor(e,o,c){super(),this._field=e,this._op=o,this._value=c,this.type="where"}static _create(e,o,c){return new QueryFieldFilterConstraint(e,o,c)}_apply(e){const o=this._parse(e);return __PRIVATE_validateNewFieldFilter(e._query,o),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,o))}_parse(e){const o=__PRIVATE_newUserDataReader(e.firestore);return function(tt,nt,rt,mt,gt,yt,vt){let xt;if(gt.isKeyField()){if(yt==="array-contains"||yt==="array-contains-any")throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${yt}' queries on documentId().`);if(yt==="in"||yt==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(vt,yt);const bt=[];for(const Et of vt)bt.push(__PRIVATE_parseDocumentIdValue(mt,tt,Et));xt={arrayValue:{values:bt}}}else xt=__PRIVATE_parseDocumentIdValue(mt,tt,vt)}else yt!=="in"&&yt!=="not-in"&&yt!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(vt,yt),xt=__PRIVATE_parseQueryValue(rt,nt,vt,yt==="in"||yt==="not-in");return FieldFilter.create(gt,yt,xt)}(e._query,"where",o,e.firestore._databaseId,this._field,this._op,this._value)}}function where(a,e,o){const c=e,et=__PRIVATE_fieldPathFromArgument("where",a);return QueryFieldFilterConstraint._create(et,c,o)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(e,o){super(),this.type=e,this._queryConstraints=o}static _create(e,o){return new QueryCompositeFilterConstraint(e,o)}_parse(e){const o=this._queryConstraints.map(c=>c._parse(e)).filter(c=>c.getFilters().length>0);return o.length===1?o[0]:CompositeFilter.create(o,this._getOperator())}_apply(e){const o=this._parse(e);return o.getFilters().length===0?e:(function(et,tt){let nt=et;const rt=tt.getFlattenedFilters();for(const mt of rt)__PRIVATE_validateNewFieldFilter(nt,mt),nt=__PRIVATE_queryWithAddedFilter(nt,mt)}(e._query,o),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,o)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(e,o){super(),this._field=e,this._direction=o,this.type="orderBy"}static _create(e,o){return new QueryOrderByConstraint(e,o)}_apply(e){const o=function(et,tt,nt){if(et.startAt!==null)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(et.endAt!==null)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(tt,nt)}(e._query,this._field,this._direction);return new Query(e.firestore,e.converter,function(et,tt){const nt=et.explicitOrderBy.concat([tt]);return new __PRIVATE_QueryImpl(et.path,et.collectionGroup,nt,et.filters.slice(),et.limit,et.limitType,et.startAt,et.endAt)}(e._query,o))}}function orderBy(a,e="asc"){const o=e,c=__PRIVATE_fieldPathFromArgument("orderBy",a);return QueryOrderByConstraint._create(c,o)}class QueryLimitConstraint extends QueryConstraint{constructor(e,o,c){super(),this.type=e,this._limit=o,this._limitType=c}static _create(e,o,c){return new QueryLimitConstraint(e,o,c)}_apply(e){return new Query(e.firestore,e.converter,__PRIVATE_queryWithLimit(e._query,this._limit,this._limitType))}}function limit(a){return __PRIVATE_validatePositiveNumber("limit",a),QueryLimitConstraint._create("limit",a,"F")}class QueryStartAtConstraint extends QueryConstraint{constructor(e,o,c){super(),this.type=e,this._docOrFields=o,this._inclusive=c}static _create(e,o,c){return new QueryStartAtConstraint(e,o,c)}_apply(e){const o=__PRIVATE_newQueryBoundFromDocOrFields(e,this.type,this._docOrFields,this._inclusive);return new Query(e.firestore,e.converter,function(et,tt){return new __PRIVATE_QueryImpl(et.path,et.collectionGroup,et.explicitOrderBy.slice(),et.filters.slice(),et.limit,et.limitType,tt,et.endAt)}(e._query,o))}}function startAt(...a){return QueryStartAtConstraint._create("startAt",a,!0)}class QueryEndAtConstraint extends QueryConstraint{constructor(e,o,c){super(),this.type=e,this._docOrFields=o,this._inclusive=c}static _create(e,o,c){return new QueryEndAtConstraint(e,o,c)}_apply(e){const o=__PRIVATE_newQueryBoundFromDocOrFields(e,this.type,this._docOrFields,this._inclusive);return new Query(e.firestore,e.converter,function(et,tt){return new __PRIVATE_QueryImpl(et.path,et.collectionGroup,et.explicitOrderBy.slice(),et.filters.slice(),et.limit,et.limitType,et.startAt,tt)}(e._query,o))}}function endAt(...a){return QueryEndAtConstraint._create("endAt",a,!0)}function __PRIVATE_newQueryBoundFromDocOrFields(a,e,o,c){if(o[0]=getModularInstance(o[0]),o[0]instanceof DocumentSnapshot$1)return function(tt,nt,rt,mt,gt){if(!mt)throw new FirestoreError(D$1.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${rt}().`);const yt=[];for(const vt of __PRIVATE_queryNormalizedOrderBy(tt))if(vt.field.isKeyField())yt.push(__PRIVATE_refValue(nt,mt.key));else{const xt=mt.data.field(vt.field);if(__PRIVATE_isServerTimestamp(xt))throw new FirestoreError(D$1.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+vt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(xt===null){const bt=vt.field.canonicalString();throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bt}' (used as the orderBy) does not exist.`)}yt.push(xt)}return new Bound(yt,gt)}(a._query,a.firestore._databaseId,e,o[0]._document,c);{const et=__PRIVATE_newUserDataReader(a.firestore);return function(nt,rt,mt,gt,yt,vt){const xt=nt.explicitOrderBy;if(yt.length>xt.length)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Too many arguments provided to ${gt}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bt=[];for(let Et=0;Et<yt.length;Et++){const wt=yt[Et];if(xt[Et].field.isKeyField()){if(typeof wt!="string")throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${gt}(), but got a ${typeof wt}`);if(!__PRIVATE_isCollectionGroupQuery(nt)&&wt.indexOf("/")!==-1)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${gt}() must be a plain document ID, but '${wt}' contains a slash.`);const St=nt.path.child(ResourcePath.fromString(wt));if(!DocumentKey.isDocumentKey(St))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${gt}() must result in a valid document path, but '${St}' is not because it contains an odd number of segments.`);const Tt=new DocumentKey(St);bt.push(__PRIVATE_refValue(rt,Tt))}else{const St=__PRIVATE_parseQueryValue(mt,gt,wt);bt.push(St)}}return new Bound(bt,vt)}(a._query,a.firestore._databaseId,et,e,o,c)}}function __PRIVATE_parseDocumentIdValue(a,e,o){if(typeof(o=getModularInstance(o))=="string"){if(o==="")throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(e)&&o.indexOf("/")!==-1)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const c=e.path.child(ResourcePath.fromString(o));if(!DocumentKey.isDocumentKey(c))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return __PRIVATE_refValue(a,new DocumentKey(c))}if(o instanceof DocumentReference)return __PRIVATE_refValue(a,o._key);throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(o)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(a,e){if(!Array.isArray(a)||a.length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(a,e){const o=function(et,tt){for(const nt of et)for(const rt of nt.getFlattenedFilters())if(tt.indexOf(rt.op)>=0)return rt.op;return null}(a.filters,function(et){switch(et){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(o!==null)throw o===e.op?new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${o.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(e,o="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,o);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,o);case 11:return this.convertObject(e.mapValue,o);case 10:return this.convertVectorValue(e.mapValue);default:throw fail()}}convertObject(e,o){return this.convertObjectMap(e.fields,o)}convertObjectMap(e,o="none"){const c={};return forEach(e,(et,tt)=>{c[et]=this.convertValue(tt,o)}),c}convertVectorValue(e){var o,c,et;const tt=(et=(c=(o=e.fields)===null||o===void 0?void 0:o.value.arrayValue)===null||c===void 0?void 0:c.values)===null||et===void 0?void 0:et.map(nt=>__PRIVATE_normalizeNumber(nt.doubleValue));return new VectorValue(tt)}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,o){return(e.values||[]).map(c=>this.convertValue(c,o))}convertServerTimestamp(e,o){switch(o){case"previous":const c=__PRIVATE_getPreviousValue(e);return c==null?null:this.convertValue(c,o);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const o=__PRIVATE_normalizeTimestamp(e);return new Timestamp(o.seconds,o.nanos)}convertDocumentKey(e,o){const c=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(c));const et=new DatabaseId(c.get(1),c.get(3)),tt=new DocumentKey(c.popFirst(5));return et.isEqual(o)||__PRIVATE_logError(`Document ${tt} contains a document reference within a different database (${et.projectId}/${et.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),tt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(a,e,o){let c;return c=a?o&&(o.merge||o.mergeFields)?a.toFirestore(e,o):a.toFirestore(e):e,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,o){this.hasPendingWrites=e,this.fromCache=o}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,o,c,et,tt,nt){super(e,o,c,et,nt),this._firestore=e,this._firestoreImpl=e,this.metadata=tt}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const o=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,o={}){if(this._document){const c=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(c!==null)return this._userDataWriter.convertValue(c,o.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,o,c,et){this._firestore=e,this._userDataWriter=o,this._snapshot=et,this.metadata=new SnapshotMetadata(et.hasPendingWrites,et.fromCache),this.query=c}get docs(){const e=[];return this.forEach(o=>e.push(o)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,o){this._snapshot.docs.forEach(c=>{e.call(o,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,c.key,c,new SnapshotMetadata(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const o=!!e.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D$1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(et,tt){if(et._snapshot.oldDocs.isEmpty()){let nt=0;return et._snapshot.docChanges.map(rt=>{const mt=new QueryDocumentSnapshot(et._firestore,et._userDataWriter,rt.doc.key,rt.doc,new SnapshotMetadata(et._snapshot.mutatedKeys.has(rt.doc.key),et._snapshot.fromCache),et.query.converter);return rt.doc,{type:"added",doc:mt,oldIndex:-1,newIndex:nt++}})}{let nt=et._snapshot.oldDocs;return et._snapshot.docChanges.filter(rt=>tt||rt.type!==3).map(rt=>{const mt=new QueryDocumentSnapshot(et._firestore,et._userDataWriter,rt.doc.key,rt.doc,new SnapshotMetadata(et._snapshot.mutatedKeys.has(rt.doc.key),et._snapshot.fromCache),et.query.converter);let gt=-1,yt=-1;return rt.type!==0&&(gt=nt.indexOf(rt.doc.key),nt=nt.delete(rt.doc.key)),rt.type!==1&&(nt=nt.add(rt.doc),yt=nt.indexOf(rt.doc.key)),{type:__PRIVATE_resultChangeType(rt.type),doc:mt,oldIndex:gt,newIndex:yt}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function __PRIVATE_resultChangeType(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(a){a=__PRIVATE_cast(a,DocumentReference);const e=__PRIVATE_cast(a.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(e),a._key).then(o=>__PRIVATE_convertToDocSnapshot(e,a,o))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const o=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,o)}}function getDocs(a){a=__PRIVATE_cast(a,Query);const e=__PRIVATE_cast(a.firestore,Firestore),o=ensureFirestoreConfigured(e),c=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(a._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(o,a._query).then(et=>new QuerySnapshot(e,c,a,et))}function setDoc(a,e,o){a=__PRIVATE_cast(a,DocumentReference);const c=__PRIVATE_cast(a.firestore,Firestore),et=__PRIVATE_applyFirestoreDataConverter(a.converter,e,o);return executeWrite(c,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(c),"setDoc",a._key,et,a.converter!==null,o).toMutation(a._key,Precondition.none())])}function updateDoc(a,e,o,...c){a=__PRIVATE_cast(a,DocumentReference);const et=__PRIVATE_cast(a.firestore,Firestore),tt=__PRIVATE_newUserDataReader(et);let nt;return nt=typeof(e=getModularInstance(e))=="string"||e instanceof FieldPath?__PRIVATE_parseUpdateVarargs(tt,"updateDoc",a._key,e,o,c):__PRIVATE_parseUpdateData(tt,"updateDoc",a._key,e),executeWrite(et,[nt.toMutation(a._key,Precondition.exists(!0))])}function deleteDoc(a){return executeWrite(__PRIVATE_cast(a.firestore,Firestore),[new __PRIVATE_DeleteMutation(a._key,Precondition.none())])}function addDoc(a,e){const o=__PRIVATE_cast(a.firestore,Firestore),c=doc(a),et=__PRIVATE_applyFirestoreDataConverter(a.converter,e);return executeWrite(o,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(a.firestore),"addDoc",c._key,et,a.converter!==null,{}).toMutation(c._key,Precondition.exists(!1))]).then(()=>c)}function onSnapshot(a,...e){var o,c,et;a=getModularInstance(a);let tt={includeMetadataChanges:!1,source:"default"},nt=0;typeof e[nt]!="object"||__PRIVATE_isPartialObserver(e[nt])||(tt=e[nt],nt++);const rt={includeMetadataChanges:tt.includeMetadataChanges,source:tt.source};if(__PRIVATE_isPartialObserver(e[nt])){const vt=e[nt];e[nt]=(o=vt.next)===null||o===void 0?void 0:o.bind(vt),e[nt+1]=(c=vt.error)===null||c===void 0?void 0:c.bind(vt),e[nt+2]=(et=vt.complete)===null||et===void 0?void 0:et.bind(vt)}let mt,gt,yt;if(a instanceof DocumentReference)gt=__PRIVATE_cast(a.firestore,Firestore),yt=__PRIVATE_newQueryForPath(a._key.path),mt={next:vt=>{e[nt]&&e[nt](__PRIVATE_convertToDocSnapshot(gt,a,vt))},error:e[nt+1],complete:e[nt+2]};else{const vt=__PRIVATE_cast(a,Query);gt=__PRIVATE_cast(vt.firestore,Firestore),yt=vt._query;const xt=new __PRIVATE_ExpUserDataWriter(gt);mt={next:bt=>{e[nt]&&e[nt](new QuerySnapshot(gt,xt,vt,bt))},error:e[nt+1],complete:e[nt+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(a._query)}return function(xt,bt,Et,wt){const St=new __PRIVATE_AsyncObserver(wt),Tt=new __PRIVATE_QueryListener(bt,St,Et);return xt.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(xt),Tt)),()=>{St.Za(),xt.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(xt),Tt))}}(ensureFirestoreConfigured(gt),yt,rt,mt)}function executeWrite(a,e){return function(c,et){const tt=new __PRIVATE_Deferred;return c.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(c),et,tt)),tt.promise}(ensureFirestoreConfigured(a),e)}function __PRIVATE_convertToDocSnapshot(a,e,o){const c=o.docs.get(e._key),et=new __PRIVATE_ExpUserDataWriter(a);return new DocumentSnapshot(a,et,e._key,c,new SnapshotMetadata(o.hasPendingWrites,o.fromCache),e.converter)}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}(function(e,o=!0){(function(et){S$1=et})(SDK_VERSION),_registerComponent(new Component("firestore",(c,{instanceIdentifier:et,options:tt})=>{const nt=c.getProvider("app").getImmediate(),rt=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(c.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(c.getProvider("app-check-internal")),function(gt,yt){if(!Object.prototype.hasOwnProperty.apply(gt.options,["projectId"]))throw new FirestoreError(D$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(gt.options.projectId,yt)}(nt,et),nt);return tt=Object.assign({useFetchStreams:o},tt),rt._setSettings(tt),rt},"PUBLIC").setMultipleInstances(!0)),registerVersion(w,"4.7.3",e),registerVersion(w,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3,DEFAULT_MIN_SLEEP_TIME_MILLIS=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(e,o,c=0){super(prependCode(e),`Firebase Storage: ${o} (${prependCode(e)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return prependCode(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(a){return"storage/"+a}function unknown(){const a="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,a)}function objectNotFound(a){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function quotaExceeded(a){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,a)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(a){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(a){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+a+"'.")}function invalidDefaultBucket(a){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function serverFileWrongSize(){return new StorageError(StorageErrorCode.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(a){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(a){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,a)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(a){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(a,e){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function internalError(a){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(e,o){this.bucket=e,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,o){let c;try{c=Location.makeFromUrl(e,o)}catch{return new Location(e,"")}if(c.path==="")return c;throw invalidDefaultBucket(e)}static makeFromUrl(e,o){let c=null;const et="([A-Za-z0-9.\\-_]+)";function tt(Mt){Mt.path.charAt(Mt.path.length-1)==="/"&&(Mt.path_=Mt.path_.slice(0,-1))}const nt="(/(.*))?$",rt=new RegExp("^gs://"+et+nt,"i"),mt={bucket:1,path:3};function gt(Mt){Mt.path_=decodeURIComponent(Mt.path)}const yt="v[A-Za-z0-9_]+",vt=o.replace(/[.]/g,"\\."),xt="(/([^?#]*).*)?$",bt=new RegExp(`^https?://${vt}/${yt}/b/${et}/o${xt}`,"i"),Et={bucket:1,path:3},wt=o===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":o,St="([^?#]*)",Tt=new RegExp(`^https?://${wt}/${et}/${St}`,"i"),_t=[{regex:rt,indices:mt,postModify:tt},{regex:bt,indices:Et,postModify:gt},{regex:Tt,indices:{bucket:1,path:2},postModify:gt}];for(let Mt=0;Mt<_t.length;Mt++){const Pt=_t[Mt],It=Pt.regex.exec(e);if(It){const Dt=It[Pt.indices.bucket];let Ct=It[Pt.indices.path];Ct||(Ct=""),c=new Location(Dt,Ct),Pt.postModify(c);break}}if(c==null)throw invalidUrl(e);return c}}class FailRequest{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(a,e,o){let c=1,et=null,tt=null,nt=!1,rt=0;function mt(){return rt===2}let gt=!1;function yt(...St){gt||(gt=!0,e.apply(null,St))}function vt(St){et=setTimeout(()=>{et=null,a(bt,mt())},St)}function xt(){tt&&clearTimeout(tt)}function bt(St,...Tt){if(gt){xt();return}if(St){xt(),yt.call(null,St,...Tt);return}if(mt()||nt){xt(),yt.call(null,St,...Tt);return}c<64&&(c*=2);let _t;rt===1?(rt=2,_t=0):_t=(c+Math.random())*1e3,vt(_t)}let Et=!1;function wt(St){Et||(Et=!0,xt(),!gt&&(et!==null?(St||(rt=2),clearTimeout(et),vt(0)):St||(rt=1)))}return vt(0),tt=setTimeout(()=>{nt=!0,wt(!0)},o),wt}function stop(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(a){return a!==void 0}function isFunction(a){return typeof a=="function"}function isNonArrayObject(a){return typeof a=="object"&&!Array.isArray(a)}function isString$1(a){return typeof a=="string"||a instanceof String}function isNativeBlob(a){return isNativeBlobDefined()&&a instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(a,e,o,c){if(c<e)throw invalidArgument(`Invalid value for '${a}'. Expected ${e} or greater.`);if(c>o)throw invalidArgument(`Invalid value for '${a}'. Expected ${o} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(a,e,o){let c=e;return o==null&&(c=`https://${e}`),`${o}://${c}/v0${a}`}function makeQueryString(a){const e=encodeURIComponent;let o="?";for(const c in a)if(a.hasOwnProperty(c)){const et=e(c)+"="+e(a[c]);o=o+et+"&"}return o=o.slice(0,-1),o}var ErrorCode;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(a,e){const o=a>=500&&a<600,et=[408,429].indexOf(a)!==-1,tt=e.indexOf(a)!==-1;return o||et||tt}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(e,o,c,et,tt,nt,rt,mt,gt,yt,vt,xt=!0){this.url_=e,this.method_=o,this.headers_=c,this.body_=et,this.successCodes_=tt,this.additionalRetryCodes_=nt,this.callback_=rt,this.errorCallback_=mt,this.timeout_=gt,this.progressCallback_=yt,this.connectionFactory_=vt,this.retry=xt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((bt,Et)=>{this.resolve_=bt,this.reject_=Et,this.start_()})}start_(){const e=(c,et)=>{if(et){c(!1,new RequestEndStatus(!1,null,!0));return}const tt=this.connectionFactory_();this.pendingConnection_=tt;const nt=rt=>{const mt=rt.loaded,gt=rt.lengthComputable?rt.total:-1;this.progressCallback_!==null&&this.progressCallback_(mt,gt)};this.progressCallback_!==null&&tt.addUploadProgressListener(nt),tt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&tt.removeUploadProgressListener(nt),this.pendingConnection_=null;const rt=tt.getErrorCode()===ErrorCode.NO_ERROR,mt=tt.getStatus();if(!rt||isRetryStatusCode(mt,this.additionalRetryCodes_)&&this.retry){const yt=tt.getErrorCode()===ErrorCode.ABORT;c(!1,new RequestEndStatus(!1,null,yt));return}const gt=this.successCodes_.indexOf(mt)!==-1;c(!0,new RequestEndStatus(gt,tt))})},o=(c,et)=>{const tt=this.resolve_,nt=this.reject_,rt=et.connection;if(et.wasSuccessCode)try{const mt=this.callback_(rt,rt.getResponse());isJustDef(mt)?tt(mt):tt()}catch(mt){nt(mt)}else if(rt!==null){const mt=unknown();mt.serverResponse=rt.getErrorText(),this.errorCallback_?nt(this.errorCallback_(rt,mt)):nt(mt)}else if(et.canceled){const mt=this.appDelete_?appDeleted():canceled();nt(mt)}else{const mt=retryLimitExceeded();nt(mt)}};this.canceled_?o(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(e,o,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(e,o,c){this.wasSuccessCode=e,this.connection=o,this.canceled=!!c}}function addAuthHeader_(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function addVersionHeader_(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function addGmpidHeader_(a,e){e&&(a["X-Firebase-GMPID"]=e)}function addAppCheckHeader_(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function makeRequest(a,e,o,c,et,tt,nt=!0){const rt=makeQueryString(a.urlParams),mt=a.url+rt,gt=Object.assign({},a.headers);return addGmpidHeader_(gt,e),addAuthHeader_(gt,o),addVersionHeader_(gt,tt),addAppCheckHeader_(gt,c),new NetworkRequest(mt,a.method,gt,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,et,nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...a){const e=getBlobBuilder();if(e!==void 0){const o=new e;for(let c=0;c<a.length;c++)o.append(a[c]);return o.getBlob()}else{if(isNativeBlobDefined())return new Blob(a);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(a,e,o){return a.webkitSlice?a.webkitSlice(e,o):a.mozSlice?a.mozSlice(e,o):a.slice?a.slice(e,o):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(a){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(e,o){this.data=e,this.contentType=o||null}}function dataFromString(a,e){switch(a){case StringFormat.RAW:return new StringData(utf8Bytes_(e));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(a,e));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(e),dataURLContentType_(e))}throw unknown()}function utf8Bytes_(a){const e=[];for(let o=0;o<a.length;o++){let c=a.charCodeAt(o);if(c<=127)e.push(c);else if(c<=2047)e.push(192|c>>6,128|c&63);else if((c&64512)===55296)if(!(o<a.length-1&&(a.charCodeAt(o+1)&64512)===56320))e.push(239,191,189);else{const tt=c,nt=a.charCodeAt(++o);c=65536|(tt&1023)<<10|nt&1023,e.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|c&63)}else(c&64512)===56320?e.push(239,191,189):e.push(224|c>>12,128|c>>6&63,128|c&63)}return new Uint8Array(e)}function percentEncodedBytes_(a){let e;try{e=decodeURIComponent(a)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(e)}function base64Bytes_(a,e){switch(a){case StringFormat.BASE64:{const et=e.indexOf("-")!==-1,tt=e.indexOf("_")!==-1;if(et||tt)throw invalidFormat(a,"Invalid character '"+(et?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const et=e.indexOf("+")!==-1,tt=e.indexOf("/")!==-1;if(et||tt)throw invalidFormat(a,"Invalid character '"+(et?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=decodeBase64(e)}catch(et){throw et.message.includes("polyfill")?et:invalidFormat(a,"Invalid character found")}const c=new Uint8Array(o.length);for(let et=0;et<o.length;et++)c[et]=o.charCodeAt(et);return c}class DataURLParts{constructor(e){this.base64=!1,this.contentType=null;const o=e.match(/^data:([^,]+)?,/);if(o===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const c=o[1]||null;c!=null&&(this.base64=endsWith(c,";base64"),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=e.substring(e.indexOf(",")+1)}}function dataURLBytes_(a){const e=new DataURLParts(a);return e.base64?base64Bytes_(StringFormat.BASE64,e.rest):percentEncodedBytes_(e.rest)}function dataURLContentType_(a){return new DataURLParts(a).contentType}function endsWith(a,e){return a.length>=e.length?a.substring(a.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(e,o){let c=0,et="";isNativeBlob(e)?(this.data_=e,c=e.size,et=e.type):e instanceof ArrayBuffer?(o?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),c=this.data_.length):e instanceof Uint8Array&&(o?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),c=e.length),this.size_=c,this.type_=et}size(){return this.size_}type(){return this.type_}slice(e,o){if(isNativeBlob(this.data_)){const c=this.data_,et=sliceBlob(c,e,o);return et===null?null:new FbsBlob(et)}else{const c=new Uint8Array(this.data_.buffer,e,o-e);return new FbsBlob(c,!0)}}static getBlob(...e){if(isNativeBlobDefined()){const o=e.map(c=>c instanceof FbsBlob?c.data_:c);return new FbsBlob(getBlob$1.apply(null,o))}else{const o=e.map(nt=>isString$1(nt)?dataFromString(StringFormat.RAW,nt).data:nt.data_);let c=0;o.forEach(nt=>{c+=nt.byteLength});const et=new Uint8Array(c);let tt=0;return o.forEach(nt=>{for(let rt=0;rt<nt.length;rt++)et[tt++]=nt[rt]}),new FbsBlob(et,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(a){let e;try{e=JSON.parse(a)}catch{return null}return isNonArrayObject(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function child(a,e){const o=e.split("/").filter(c=>c.length>0).join("/");return a.length===0?o:a+"/"+o}function lastComponent(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(a,e){return e}class Mapping{constructor(e,o,c,et){this.server=e,this.local=o||e,this.writable=!!c,this.xform=et||noXform_}}let mappings_=null;function xformPath(a){return!isString$1(a)||a.length<2?a:lastComponent(a)}function getMappings(){if(mappings_)return mappings_;const a=[];a.push(new Mapping("bucket")),a.push(new Mapping("generation")),a.push(new Mapping("metageneration")),a.push(new Mapping("name","fullPath",!0));function e(tt,nt){return xformPath(nt)}const o=new Mapping("name");o.xform=e,a.push(o);function c(tt,nt){return nt!==void 0?Number(nt):nt}const et=new Mapping("size");return et.xform=c,a.push(et),a.push(new Mapping("timeCreated")),a.push(new Mapping("updated")),a.push(new Mapping("md5Hash",null,!0)),a.push(new Mapping("cacheControl",null,!0)),a.push(new Mapping("contentDisposition",null,!0)),a.push(new Mapping("contentEncoding",null,!0)),a.push(new Mapping("contentLanguage",null,!0)),a.push(new Mapping("contentType",null,!0)),a.push(new Mapping("metadata","customMetadata",!0)),mappings_=a,mappings_}function addRef(a,e){function o(){const c=a.bucket,et=a.fullPath,tt=new Location(c,et);return e._makeStorageReference(tt)}Object.defineProperty(a,"ref",{get:o})}function fromResource(a,e,o){const c={};c.type="file";const et=o.length;for(let tt=0;tt<et;tt++){const nt=o[tt];c[nt.local]=nt.xform(c,e[nt.server])}return addRef(c,a),c}function fromResourceString(a,e,o){const c=jsonObjectOrNull(e);return c===null?null:fromResource(a,c,o)}function downloadUrlFromResourceString(a,e,o,c){const et=jsonObjectOrNull(e);if(et===null||!isString$1(et.downloadTokens))return null;const tt=et.downloadTokens;if(tt.length===0)return null;const nt=encodeURIComponent;return tt.split(",").map(gt=>{const yt=a.bucket,vt=a.fullPath,xt="/b/"+nt(yt)+"/o/"+nt(vt),bt=makeUrl(xt,o,c),Et=makeQueryString({alt:"media",token:gt});return bt+Et})[0]}function toResourceString(a,e){const o={},c=e.length;for(let et=0;et<c;et++){const tt=e[et];tt.writable&&(o[tt.server]=a[tt.local])}return JSON.stringify(o)}class RequestInfo{constructor(e,o,c,et){this.url=e,this.method=o,this.handler=c,this.timeout=et,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(a){if(!a)throw unknown()}function metadataHandler(a,e){function o(c,et){const tt=fromResourceString(a,et,e);return handlerCheck(tt!==null),tt}return o}function downloadUrlHandler(a,e){function o(c,et){const tt=fromResourceString(a,et,e);return handlerCheck(tt!==null),downloadUrlFromResourceString(tt,et,a.host,a._protocol)}return o}function sharedErrorHandler(a){function e(o,c){let et;return o.getStatus()===401?o.getErrorText().includes("Firebase App Check token is invalid")?et=unauthorizedApp():et=unauthenticated():o.getStatus()===402?et=quotaExceeded(a.bucket):o.getStatus()===403?et=unauthorized(a.path):et=c,et.status=o.getStatus(),et.serverResponse=c.serverResponse,et}return e}function objectErrorHandler(a){const e=sharedErrorHandler(a);function o(c,et){let tt=e(c,et);return c.getStatus()===404&&(tt=objectNotFound(a.path)),tt.serverResponse=et.serverResponse,tt}return o}function getMetadata$2(a,e,o){const c=e.fullServerUrl(),et=makeUrl(c,a.host,a._protocol),tt="GET",nt=a.maxOperationRetryTime,rt=new RequestInfo(et,tt,metadataHandler(a,o),nt);return rt.errorHandler=objectErrorHandler(e),rt}function getDownloadUrl(a,e,o){const c=e.fullServerUrl(),et=makeUrl(c,a.host,a._protocol),tt="GET",nt=a.maxOperationRetryTime,rt=new RequestInfo(et,tt,downloadUrlHandler(a,o),nt);return rt.errorHandler=objectErrorHandler(e),rt}function deleteObject$2(a,e){const o=e.fullServerUrl(),c=makeUrl(o,a.host,a._protocol),et="DELETE",tt=a.maxOperationRetryTime;function nt(mt,gt){}const rt=new RequestInfo(c,et,nt,tt);return rt.successCodes=[200,204],rt.errorHandler=objectErrorHandler(e),rt}function determineContentType_(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}function metadataForUpload_(a,e,o){const c=Object.assign({},o);return c.fullPath=a.path,c.size=e.size(),c.contentType||(c.contentType=determineContentType_(null,e)),c}function multipartUpload(a,e,o,c,et){const tt=e.bucketOnlyServerUrl(),nt={"X-Goog-Upload-Protocol":"multipart"};function rt(){let _t="";for(let Mt=0;Mt<2;Mt++)_t=_t+Math.random().toString().slice(2);return _t}const mt=rt();nt["Content-Type"]="multipart/related; boundary="+mt;const gt=metadataForUpload_(e,c,et),yt=toResourceString(gt,o),vt="--"+mt+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+yt+`\r
--`+mt+`\r
Content-Type: `+gt.contentType+`\r
\r
`,xt=`\r
--`+mt+"--",bt=FbsBlob.getBlob(vt,c,xt);if(bt===null)throw cannotSliceBlob();const Et={name:gt.fullPath},wt=makeUrl(tt,a.host,a._protocol),St="POST",Tt=a.maxUploadRetryTime,kt=new RequestInfo(wt,St,metadataHandler(a,o),Tt);return kt.urlParams=Et,kt.headers=nt,kt.body=bt.uploadData(),kt.errorHandler=sharedErrorHandler(e),kt}class ResumableUploadStatus{constructor(e,o,c,et){this.current=e,this.total=o,this.finalized=!!c,this.metadata=et||null}}function checkResumeHeader_(a,e){let o=null;try{o=a.getResponseHeader("X-Goog-Upload-Status")}catch{handlerCheck(!1)}return handlerCheck(!!o&&(e||["active"]).indexOf(o)!==-1),o}function createResumableUpload(a,e,o,c,et){const tt=e.bucketOnlyServerUrl(),nt=metadataForUpload_(e,c,et),rt={name:nt.fullPath},mt=makeUrl(tt,a.host,a._protocol),gt="POST",yt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${c.size()}`,"X-Goog-Upload-Header-Content-Type":nt.contentType,"Content-Type":"application/json; charset=utf-8"},vt=toResourceString(nt,o),xt=a.maxUploadRetryTime;function bt(wt){checkResumeHeader_(wt);let St;try{St=wt.getResponseHeader("X-Goog-Upload-URL")}catch{handlerCheck(!1)}return handlerCheck(isString$1(St)),St}const Et=new RequestInfo(mt,gt,bt,xt);return Et.urlParams=rt,Et.headers=yt,Et.body=vt,Et.errorHandler=sharedErrorHandler(e),Et}function getResumableUploadStatus(a,e,o,c){const et={"X-Goog-Upload-Command":"query"};function tt(gt){const yt=checkResumeHeader_(gt,["active","final"]);let vt=null;try{vt=gt.getResponseHeader("X-Goog-Upload-Size-Received")}catch{handlerCheck(!1)}vt||handlerCheck(!1);const xt=Number(vt);return handlerCheck(!isNaN(xt)),new ResumableUploadStatus(xt,c.size(),yt==="final")}const nt="POST",rt=a.maxUploadRetryTime,mt=new RequestInfo(o,nt,tt,rt);return mt.headers=et,mt.errorHandler=sharedErrorHandler(e),mt}const RESUMABLE_UPLOAD_CHUNK_SIZE=256*1024;function continueResumableUpload(a,e,o,c,et,tt,nt,rt){const mt=new ResumableUploadStatus(0,0);if(nt?(mt.current=nt.current,mt.total=nt.total):(mt.current=0,mt.total=c.size()),c.size()!==mt.total)throw serverFileWrongSize();const gt=mt.total-mt.current;let yt=gt;et>0&&(yt=Math.min(yt,et));const vt=mt.current,xt=vt+yt;let bt="";yt===0?bt="finalize":gt===yt?bt="upload, finalize":bt="upload";const Et={"X-Goog-Upload-Command":bt,"X-Goog-Upload-Offset":`${mt.current}`},wt=c.slice(vt,xt);if(wt===null)throw cannotSliceBlob();function St(Mt,Pt){const It=checkResumeHeader_(Mt,["active","final"]),Dt=mt.current+yt,Ct=c.size();let At;return It==="final"?At=metadataHandler(e,tt)(Mt,Pt):At=null,new ResumableUploadStatus(Dt,Ct,It==="final",At)}const Tt="POST",kt=e.maxUploadRetryTime,_t=new RequestInfo(o,Tt,St,kt);return _t.headers=Et,_t.body=wt.uploadData(),_t.progressCallback=rt||null,_t.errorHandler=sharedErrorHandler(a),_t}const TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function taskStateFromInternalTaskState(a){switch(a){case"running":case"pausing":case"canceling":return TaskState.RUNNING;case"paused":return TaskState.PAUSED;case"success":return TaskState.SUCCESS;case"canceled":return TaskState.CANCELED;case"error":return TaskState.ERROR;default:return TaskState.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Observer{constructor(e,o,c){if(isFunction(e)||o!=null||c!=null)this.next=e,this.error=o??void 0,this.complete=c??void 0;else{const tt=e;this.next=tt.next,this.error=tt.error,this.complete=tt.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function async(a){return(...e)=>{Promise.resolve().then(()=>a(...e))}}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,o,c,et){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,e,!0),et!==void 0)for(const tt in et)et.hasOwnProperty(tt)&&this.xhr_.setRequestHeader(tt,et[tt].toString());return c!==void 0?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UploadTask{constructor(e,o,c=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=o,this._metadata=c,this._mappings=getMappings(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=et=>{if(this._request=void 0,this._chunkMultiplier=1,et._codeEquals(StorageErrorCode.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const tt=this.isExponentialBackoffExpired();if(isRetryStatusCode(et.status,[]))if(tt)et=retryLimitExceeded();else{this.sleepTime=Math.max(this.sleepTime*2,DEFAULT_MIN_SLEEP_TIME_MILLIS),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=et,this._transition("error")}},this._metadataErrorHandler=et=>{this._request=void 0,et._codeEquals(StorageErrorCode.CANCELED)?this.completeTransitions_():(this._error=et,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((et,tt)=>{this._resolve=et,this._reject=tt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return o=>this._updateProgress(e+o)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,c])=>{switch(this._state){case"running":e(o,c);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,o)=>{const c=createResumableUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),et=this._ref.storage._makeRequest(c,newTextConnection,e,o);this._request=et,et.getPromise().then(tt=>{this._request=void 0,this._uploadUrl=tt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((o,c)=>{const et=getResumableUploadStatus(this._ref.storage,this._ref._location,e,this._blob),tt=this._ref.storage._makeRequest(et,newTextConnection,o,c);this._request=tt,tt.getPromise().then(nt=>{nt=nt,this._request=void 0,this._updateProgress(nt.current),this._needToFetchStatus=!1,nt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier,o=new ResumableUploadStatus(this._transferred,this._blob.size()),c=this._uploadUrl;this._resolveToken((et,tt)=>{let nt;try{nt=continueResumableUpload(this._ref._location,this._ref.storage,c,this._blob,e,this._mappings,o,this._makeProgressCallback())}catch(mt){this._error=mt,this._transition("error");return}const rt=this._ref.storage._makeRequest(nt,newTextConnection,et,tt,!1);this._request=rt,rt.getPromise().then(mt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(mt.current),mt.finalized?(this._metadata=mt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,o)=>{const c=getMetadata$2(this._ref.storage,this._ref._location,this._mappings),et=this._ref.storage._makeRequest(c,newTextConnection,e,o);this._request=et,et.getPromise().then(tt=>{this._request=void 0,this._metadata=tt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,o)=>{const c=multipartUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),et=this._ref.storage._makeRequest(c,newTextConnection,e,o);this._request=et,et.getPromise().then(tt=>{this._request=void 0,this._metadata=tt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const o=this._transferred;this._transferred=e,this._transferred!==o&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o=this._state==="paused";this._state=e,o&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=canceled(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=taskStateFromInternalTaskState(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,o,c,et){const tt=new Observer(o||void 0,c||void 0,et||void 0);return this._addObserver(tt),()=>{this._removeObserver(tt)}}then(e,o){return this._promise.then(e,o)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const o=this._observers.indexOf(e);o!==-1&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(taskStateFromInternalTaskState(this._state)){case TaskState.SUCCESS:async(this._resolve.bind(null,this.snapshot))();break;case TaskState.CANCELED:case TaskState.ERROR:const o=this._reject;async(o.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(taskStateFromInternalTaskState(this._state)){case TaskState.RUNNING:case TaskState.PAUSED:e.next&&async(e.next.bind(e,this.snapshot))();break;case TaskState.SUCCESS:e.complete&&async(e.complete.bind(e))();break;case TaskState.CANCELED:case TaskState.ERROR:e.error&&async(e.error.bind(e,this._error))();break;default:e.error&&async(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(e,o){this._service=e,o instanceof Location?this._location=o:this._location=Location.makeFromUrl(o,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,o){return new Reference(e,o)}get root(){const e=new Location(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const e=parent(this._location.path);if(e===null)return null;const o=new Location(this._location.bucket,e);return new Reference(this._service,o)}_throwIfRoot(e){if(this._location.path==="")throw invalidRootOperation(e)}}function uploadBytes$1(a,e,o){a._throwIfRoot("uploadBytes");const c=multipartUpload(a.storage,a._location,getMappings(),new FbsBlob(e,!0),o);return a.storage.makeRequestWithTokens(c,newTextConnection).then(et=>({metadata:et,ref:a}))}function uploadBytesResumable$1(a,e,o){return a._throwIfRoot("uploadBytesResumable"),new UploadTask(a,new FbsBlob(e),o)}function getDownloadURL$1(a){a._throwIfRoot("getDownloadURL");const e=getDownloadUrl(a.storage,a._location,getMappings());return a.storage.makeRequestWithTokens(e,newTextConnection).then(o=>{if(o===null)throw noDownloadURL();return o})}function deleteObject$1(a){a._throwIfRoot("deleteObject");const e=deleteObject$2(a.storage,a._location);return a.storage.makeRequestWithTokens(e,newTextConnection)}function _getChild$1(a,e){const o=child(a._location.path,e),c=new Location(a._location.bucket,o);return new Reference(a.storage,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl$1(a){return/^[A-Za-z]+:\/\//.test(a)}function refFromURL(a,e){return new Reference(a,e)}function refFromPath(a,e){if(a instanceof FirebaseStorageImpl){const o=a;if(o._bucket==null)throw noDefaultBucket();const c=new Reference(o,o._bucket);return e!=null?refFromPath(c,e):c}else return e!==void 0?_getChild$1(a,e):a}function ref$1(a,e){if(e&&isUrl$1(e)){if(a instanceof FirebaseStorageImpl)return refFromURL(a,e);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(a,e)}function extractBucket(a,e){const o=e==null?void 0:e[CONFIG_STORAGE_BUCKET_KEY];return o==null?null:Location.makeFromBucketSpec(o,a)}function connectStorageEmulator$1(a,e,o,c={}){a.host=`${e}:${o}`,a._protocol="http";const{mockUserToken:et}=c;et&&(a._overrideAuthToken=typeof et=="string"?et:createMockUserToken(et,a.app.options.projectId))}class FirebaseStorageImpl{constructor(e,o,c,et,tt){this.app=e,this._authProvider=o,this._appCheckProvider=c,this._url=et,this._firebaseVersion=tt,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,et!=null?this._bucket=Location.makeFromBucketSpec(et,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,e):this._bucket=extractBucket(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){validateNumber("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const o=await e.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Reference(this,e)}_makeRequest(e,o,c,et,tt=!0){if(this._deleted)return new FailRequest(appDeleted());{const nt=makeRequest(e,this._appId,c,et,o,this._firebaseVersion,tt);return this._requests.add(nt),nt.getPromise().then(()=>this._requests.delete(nt),()=>this._requests.delete(nt)),nt}}async makeRequestWithTokens(e,o){const[c,et]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,o,c,et).getPromise()}}const name$3="@firebase/storage",version$3="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(a,e,o){return a=getModularInstance(a),uploadBytes$1(a,e,o)}function uploadBytesResumable(a,e,o){return a=getModularInstance(a),uploadBytesResumable$1(a,e,o)}function getDownloadURL(a){return a=getModularInstance(a),getDownloadURL$1(a)}function deleteObject(a){return a=getModularInstance(a),deleteObject$1(a)}function ref(a,e){return a=getModularInstance(a),ref$1(a,e)}function getStorage(a=getApp(),e){a=getModularInstance(a);const c=_getProvider(a,STORAGE_TYPE).getImmediate({identifier:e}),et=getDefaultEmulatorHostnameAndPort("storage");return et&&connectStorageEmulator(c,...et),c}function connectStorageEmulator(a,e,o,c={}){connectStorageEmulator$1(a,e,o,c)}function factory$1(a,{instanceIdentifier:e}){const o=a.getProvider("app").getImmediate(),c=a.getProvider("auth-internal"),et=a.getProvider("app-check-internal");return new FirebaseStorageImpl(o,c,et,e,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory$1,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$3,version$3,""),registerVersion(name$3,version$3,"esm2017")}registerStorage();const name$2="@firebase/installations",version$2="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$2}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=60*60*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(a){return a instanceof FirebaseError&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:a}){return`${INSTALLATIONS_API_URL}/projects/${a}/installations`}function extractAuthTokenInfoFromResponse(a){return{token:a.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(a.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(a,e){const c=(await e.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:a,serverCode:c.code,serverMessage:c.message,serverStatus:c.status})}function getHeaders$1({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function getHeadersWithAuth(a,{refreshToken:e}){const o=getHeaders$1(a);return o.append("Authorization",getAuthorizationHeader(e)),o}async function retryIfServerError(a){const e=await a();return e.status>=500&&e.status<600?a():e}function getExpiresInFromResponseExpiresIn(a){return Number(a.replace("s","000"))}function getAuthorizationHeader(a){return`${INTERNAL_AUTH_VERSION} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:a,heartbeatServiceProvider:e},{fid:o}){const c=getInstallationsEndpoint(a),et=getHeaders$1(a),tt=e.getImmediate({optional:!0});if(tt){const gt=await tt.getHeartbeatsHeader();gt&&et.append("x-firebase-client",gt)}const nt={fid:o,authVersion:INTERNAL_AUTH_VERSION,appId:a.appId,sdkVersion:PACKAGE_VERSION},rt={method:"POST",headers:et,body:JSON.stringify(nt)},mt=await retryIfServerError(()=>fetch(c,rt));if(mt.ok){const gt=await mt.json();return{fid:gt.fid||o,registrationStatus:2,refreshToken:gt.refreshToken,authToken:extractAuthTokenInfoFromResponse(gt.authToken)}}else throw await getErrorFromResponse("Create Installation",mt)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const o=encode(a);return VALID_FID_PATTERN.test(o)?o:INVALID_FID}catch{return INVALID_FID}}function encode(a){return bufferToBase64UrlSafe(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(a,e){const o=getKey(a);callFidChangeCallbacks(o,e),broadcastFidChange(o,e)}function callFidChangeCallbacks(a,e){const o=fidChangeCallbacks.get(a);if(o)for(const c of o)c(e)}function broadcastFidChange(a,e){const o=getBroadcastChannel();o&&o.postMessage({key:a,fid:e}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=a=>{callFidChangeCallbacks(a.data.key,a.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function set(a,e){const o=getKey(a),et=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),tt=et.objectStore(OBJECT_STORE_NAME),nt=await tt.get(o);return await tt.put(e,o),await et.done,(!nt||nt.fid!==e.fid)&&fidChanged(a,e.fid),e}async function remove(a){const e=getKey(a),c=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await c.objectStore(OBJECT_STORE_NAME).delete(e),await c.done}async function update(a,e){const o=getKey(a),et=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),tt=et.objectStore(OBJECT_STORE_NAME),nt=await tt.get(o),rt=e(nt);return rt===void 0?await tt.delete(o):await tt.put(rt,o),await et.done,rt&&(!nt||nt.fid!==rt.fid)&&fidChanged(a,rt.fid),rt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(a){let e;const o=await update(a.appConfig,c=>{const et=updateOrCreateInstallationEntry(c),tt=triggerRegistrationIfNecessary(a,et);return e=tt.registrationPromise,tt.installationEntry});return o.fid===INVALID_FID?{installationEntry:await e}:{installationEntry:o,registrationPromise:e}}function updateOrCreateInstallationEntry(a){const e=a||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(e)}function triggerRegistrationIfNecessary(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const et=Promise.reject(ERROR_FACTORY$1.create("app-offline"));return{installationEntry:e,registrationPromise:et}}const o={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},c=registerInstallation(a,o);return{installationEntry:o,registrationPromise:c}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:waitUntilFidRegistration(a)}:{installationEntry:e}}async function registerInstallation(a,e){try{const o=await createInstallationRequest(a,e);return set(a.appConfig,o)}catch(o){throw isServerError(o)&&o.customData.serverCode===409?await remove(a.appConfig):await set(a.appConfig,{fid:e.fid,registrationStatus:0}),o}}async function waitUntilFidRegistration(a){let e=await updateInstallationRequest(a.appConfig);for(;e.registrationStatus===1;)await sleep(100),e=await updateInstallationRequest(a.appConfig);if(e.registrationStatus===0){const{installationEntry:o,registrationPromise:c}=await getInstallationEntry(a);return c||o}return e}function updateInstallationRequest(a){return update(a,e=>{if(!e)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest(e)})}function clearTimedOutRequest(a){return hasInstallationRequestTimedOut(a)?{fid:a.fid,registrationStatus:0}:a}function hasInstallationRequestTimedOut(a){return a.registrationStatus===1&&a.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:a,heartbeatServiceProvider:e},o){const c=getGenerateAuthTokenEndpoint(a,o),et=getHeadersWithAuth(a,o),tt=e.getImmediate({optional:!0});if(tt){const gt=await tt.getHeartbeatsHeader();gt&&et.append("x-firebase-client",gt)}const nt={installation:{sdkVersion:PACKAGE_VERSION,appId:a.appId}},rt={method:"POST",headers:et,body:JSON.stringify(nt)},mt=await retryIfServerError(()=>fetch(c,rt));if(mt.ok){const gt=await mt.json();return extractAuthTokenInfoFromResponse(gt)}else throw await getErrorFromResponse("Generate Auth Token",mt)}function getGenerateAuthTokenEndpoint(a,{fid:e}){return`${getInstallationsEndpoint(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(a,e=!1){let o;const c=await update(a.appConfig,tt=>{if(!isEntryRegistered(tt))throw ERROR_FACTORY$1.create("not-registered");const nt=tt.authToken;if(!e&&isAuthTokenValid(nt))return tt;if(nt.requestStatus===1)return o=waitUntilAuthTokenRequest(a,e),tt;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const rt=makeAuthTokenRequestInProgressEntry(tt);return o=fetchAuthTokenFromServer(a,rt),rt}});return o?await o:c.authToken}async function waitUntilAuthTokenRequest(a,e){let o=await updateAuthTokenRequest(a.appConfig);for(;o.authToken.requestStatus===1;)await sleep(100),o=await updateAuthTokenRequest(a.appConfig);const c=o.authToken;return c.requestStatus===0?refreshAuthToken(a,e):c}function updateAuthTokenRequest(a){return update(a,e=>{if(!isEntryRegistered(e))throw ERROR_FACTORY$1.create("not-registered");const o=e.authToken;return hasAuthTokenRequestTimedOut(o)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fetchAuthTokenFromServer(a,e){try{const o=await generateAuthTokenRequest(a,e),c=Object.assign(Object.assign({},e),{authToken:o});return await set(a.appConfig,c),o}catch(o){if(isServerError(o)&&(o.customData.serverCode===401||o.customData.serverCode===404))await remove(a.appConfig);else{const c=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await set(a.appConfig,c)}throw o}}function isEntryRegistered(a){return a!==void 0&&a.registrationStatus===2}function isAuthTokenValid(a){return a.requestStatus===2&&!isAuthTokenExpired(a)}function isAuthTokenExpired(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(a){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:e})}function hasAuthTokenRequestTimedOut(a){return a.requestStatus===1&&a.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(a){const e=a,{installationEntry:o,registrationPromise:c}=await getInstallationEntry(e);return c?c.catch(console.error):refreshAuthToken(e).catch(console.error),o.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken(a,e=!1){const o=a;return await completeInstallationRegistration(o),(await refreshAuthToken(o,e)).token}async function completeInstallationRegistration(a){const{registrationPromise:e}=await getInstallationEntry(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(a){if(!a||!a.options)throw getMissingValueError("App Configuration");if(!a.name)throw getMissingValueError("App Name");const e=["projectId","apiKey","appId"];for(const o of e)if(!a.options[o])throw getMissingValueError(o);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function getMissingValueError(a){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=a=>{const e=a.getProvider("app").getImmediate(),o=extractAppConfig(e),c=_getProvider(e,"heartbeat");return{app:e,appConfig:o,heartbeatServiceProvider:c,_delete:()=>Promise.resolve()}},internalFactory=a=>{const e=a.getProvider("app").getImmediate(),o=_getProvider(e,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(o),getToken:et=>getToken(o,et)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$2,version$2);registerVersion(name$2,version$2,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(a){if(!a.startsWith(GTAG_URL)){const e=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:a});return logger.warn(e.message),""}return a}function promiseAllSettled(a){return Promise.all(a.map(e=>e.catch(o=>o)))}function createTrustedTypesPolicy(a,e){let o;return window.trustedTypes&&(o=window.trustedTypes.createPolicy(a,e)),o}function insertScriptTag(a,e){const o=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),c=document.createElement("script"),et=`${GTAG_URL}?l=${a}&id=${e}`;c.src=o?o==null?void 0:o.createScriptURL(et):et,c.async=!0,document.head.appendChild(c)}function getOrCreateDataLayer(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function gtagOnConfig(a,e,o,c,et,tt){const nt=c[et];try{if(nt)await e[nt];else{const mt=(await promiseAllSettled(o)).find(gt=>gt.measurementId===et);mt&&await e[mt.appId]}}catch(rt){logger.error(rt)}a("config",et,tt)}async function gtagOnEvent(a,e,o,c,et){try{let tt=[];if(et&&et.send_to){let nt=et.send_to;Array.isArray(nt)||(nt=[nt]);const rt=await promiseAllSettled(o);for(const mt of nt){const gt=rt.find(vt=>vt.measurementId===mt),yt=gt&&e[gt.appId];if(yt)tt.push(yt);else{tt=[];break}}}tt.length===0&&(tt=Object.values(e)),await Promise.all(tt),a("event",c,et||{})}catch(tt){logger.error(tt)}}function wrapGtag(a,e,o,c){async function et(tt,...nt){try{if(tt==="event"){const[rt,mt]=nt;await gtagOnEvent(a,e,o,rt,mt)}else if(tt==="config"){const[rt,mt]=nt;await gtagOnConfig(a,e,o,c,rt,mt)}else if(tt==="consent"){const[rt,mt]=nt;a("consent",rt,mt)}else if(tt==="get"){const[rt,mt,gt]=nt;a("get",rt,mt,gt)}else if(tt==="set"){const[rt]=nt;a("set",rt)}else a(tt,...nt)}catch(rt){logger.error(rt)}}return et}function wrapOrCreateGtag(a,e,o,c,et){let tt=function(...nt){window[c].push(arguments)};return window[et]&&typeof window[et]=="function"&&(tt=window[et]),window[et]=wrapGtag(tt,a,e,o),{gtagCore:tt,wrappedGtag:window[et]}}function findGtagScriptOnPage(a){const e=window.document.getElementsByTagName("script");for(const o of Object.values(e))if(o.src&&o.src.includes(GTAG_URL)&&o.src.includes(a))return o;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(e={},o=BASE_INTERVAL_MILLIS){this.throttleMetadata=e,this.intervalMillis=o}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,o){this.throttleMetadata[e]=o}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const defaultRetryData=new RetryData;function getHeaders(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function fetchDynamicConfig(a){var e;const{appId:o,apiKey:c}=a,et={method:"GET",headers:getHeaders(c)},tt=DYNAMIC_CONFIG_URL.replace("{app-id}",o),nt=await fetch(tt,et);if(nt.status!==200&&nt.status!==304){let rt="";try{const mt=await nt.json();!((e=mt.error)===null||e===void 0)&&e.message&&(rt=mt.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:nt.status,responseMessage:rt})}return nt.json()}async function fetchDynamicConfigWithRetry(a,e=defaultRetryData,o){const{appId:c,apiKey:et,measurementId:tt}=a.options;if(!c)throw ERROR_FACTORY.create("no-app-id");if(!et){if(tt)return{measurementId:tt,appId:c};throw ERROR_FACTORY.create("no-api-key")}const nt=e.getThrottleMetadata(c)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rt=new AnalyticsAbortSignal;return setTimeout(async()=>{rt.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:c,apiKey:et,measurementId:tt},nt,rt,e)}async function attemptFetchDynamicConfigWithRetry(a,{throttleEndTimeMillis:e,backoffCount:o},c,et=defaultRetryData){var tt;const{appId:nt,measurementId:rt}=a;try{await setAbortableTimeout(c,e)}catch(mt){if(rt)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${mt==null?void 0:mt.message}]`),{appId:nt,measurementId:rt};throw mt}try{const mt=await fetchDynamicConfig(a);return et.deleteThrottleMetadata(nt),mt}catch(mt){const gt=mt;if(!isRetriableError(gt)){if(et.deleteThrottleMetadata(nt),rt)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${gt==null?void 0:gt.message}]`),{appId:nt,measurementId:rt};throw mt}const yt=Number((tt=gt==null?void 0:gt.customData)===null||tt===void 0?void 0:tt.httpStatus)===503?calculateBackoffMillis(o,et.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(o,et.intervalMillis),vt={throttleEndTimeMillis:Date.now()+yt,backoffCount:o+1};return et.setThrottleMetadata(nt,vt),logger.debug(`Calling attemptFetch again in ${yt} millis`),attemptFetchDynamicConfigWithRetry(a,vt,c,et)}}function setAbortableTimeout(a,e){return new Promise((o,c)=>{const et=Math.max(e-Date.now(),0),tt=setTimeout(o,et);a.addEventListener(()=>{clearTimeout(tt),c(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function isRetriableError(a){if(!(a instanceof FirebaseError)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function logEvent$1(a,e,o,c,et){if(et&&et.global){a("event",o,c);return}else{const tt=await e,nt=Object.assign(Object.assign({},c),{send_to:tt});a("event",o,nt)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(a){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(a,e,o,c,et,tt,nt){var rt;const mt=fetchDynamicConfigWithRetry(a);mt.then(bt=>{o[bt.measurementId]=bt.appId,a.options.measurementId&&bt.measurementId!==a.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${bt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bt=>logger.error(bt)),e.push(mt);const gt=validateIndexedDB().then(bt=>{if(bt)return c.getId()}),[yt,vt]=await Promise.all([mt,gt]);findGtagScriptOnPage(tt)||insertScriptTag(tt,yt.measurementId),et("js",new Date);const xt=(rt=nt==null?void 0:nt.config)!==null&&rt!==void 0?rt:{};return xt[ORIGIN_KEY]="firebase",xt.update=!0,vt!=null&&(xt[GA_FID_KEY]=vt),et("config",yt.measurementId,xt),yt.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(e){this.app=e}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const a=[];if(isBrowserExtension()&&a.push("This is a browser extension environment."),areCookiesEnabled()||a.push("Cookies are not available."),a.length>0){const e=a.map((c,et)=>`(${et+1}) ${c}`).join(" "),o=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:e});logger.warn(o.message)}}function factory(a,e,o){warnOnBrowserContextMismatch();const c=a.options.appId;if(!c)throw ERROR_FACTORY.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[c]!=null)throw ERROR_FACTORY.create("already-exists",{id:c});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:tt,gtagCore:nt}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=tt,gtagCoreFunction=nt,globalInitDone=!0}return initializationPromisesMap[c]=_initializeAnalytics(a,dynamicConfigPromisesList,measurementIdToAppId,e,gtagCoreFunction,dataLayerName,o),new AnalyticsService(a)}function getAnalytics(a=getApp()){a=getModularInstance(a);const e=_getProvider(a,ANALYTICS_TYPE);return e.isInitialized()?e.getImmediate():initializeAnalytics(a)}function initializeAnalytics(a,e={}){const o=_getProvider(a,ANALYTICS_TYPE);if(o.isInitialized()){const et=o.getImmediate();if(deepEqual(e,o.getOptions()))return et;throw ERROR_FACTORY.create("already-initialized")}return o.initialize({options:e})}async function isSupported(){if(isBrowserExtension()||!areCookiesEnabled()||!isIndexedDBAvailable())return!1;try{return await validateIndexedDBOpenable()}catch{return!1}}function logEvent(a,e,o,c){a=getModularInstance(a),logEvent$1(wrappedGtagFunction,initializationPromisesMap[a.app.options.appId],e,o,c).catch(et=>logger.error(et))}const name$1="@firebase/analytics",version$1="0.10.8";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(e,{options:o})=>{const c=e.getProvider("app").getImmediate(),et=e.getProvider("installations-internal").getImmediate();return factory(c,et,o)},"PUBLIC")),_registerComponent(new Component("analytics-internal",a,"PRIVATE")),registerVersion(name$1,version$1),registerVersion(name$1,version$1,"esm2017");function a(e){try{const o=e.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(c,et,tt)=>logEvent(o,c,et,tt)}}catch(o){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:o})}}}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyANMkkhlfmrGeBSRXjRUTb13pRbXyqvlCE",authDomain:"vetcationapp.firebaseapp.com",projectId:"vetcationapp",storageBucket:"vetcationapp.appspot.com",messagingSenderId:"505953594291",appId:"1:505953594291:web:00bf29026f5453ce72b9c6"},app=getApps().length?getApp():initializeApp(firebaseConfig);typeof window<"u"&&isSupported().then(a=>{a&&getAnalytics(app)}).catch(()=>{});const googleProvider=new GoogleAuthProvider;googleProvider.setCustomParameters({prompt:"select_account"});const auth=getAuth(app),firestore=getFirestore(app),storage=getStorage(app);async function signIn(a,e){try{return await signInWithEmailAndPassword(auth,a,e),!0}catch(o){return o.code==="auth/wrong-password"||o.code==="auth/user-not-found"?alert("Incorrect Email address or Password"):alert("Error: "+o.message),!1}}async function signInWithGoogle(){try{return(await signInWithPopup(auth,googleProvider)).user}catch(a){if(console.error("Google sign in error:",a),a.code==="auth/popup-closed-by-user")return null;throw alert("Could not sign in with Google: "+a.message),a}}async function getSignInMethods(a){return a?fetchSignInMethodsForEmail(auth,a):[]}var GEOHASH_PRECISION=10,BASE32="0123456789bcdefghjkmnpqrstuvwxyz",EARTH_MERI_CIRCUMFERENCE=40007860,METERS_PER_DEGREE_LATITUDE=110574,BITS_PER_CHAR=5,MAXIMUM_BITS_PRECISION=22*BITS_PER_CHAR,EARTH_EQ_RADIUS=6378137,E2=.00669447819799,EPSILON=1e-12;function log2(a){return Math.log(a)/Math.log(2)}function validateLocation(a){var e;if(!Array.isArray(a))e="location must be an array";else if(a.length!==2)e="expected array of length 2, got length "+a.length;else{var o=a[0],c=a[1];typeof o!="number"||isNaN(o)?e="latitude must be a number":o<-90||o>90?e="latitude must be within the range [-90, 90]":typeof c!="number"||isNaN(c)?e="longitude must be a number":(c<-180||c>180)&&(e="longitude must be within the range [-180, 180]")}if(typeof e<"u")throw new Error("Invalid GeoFire location '"+a+"': "+e)}function validateGeohash(a){var e;if(typeof a!="string")e="geohash must be a string";else if(a.length===0)e="geohash cannot be the empty string";else for(var o=0,c=a;o<c.length;o++){var et=c[o];BASE32.indexOf(et)===-1&&(e="geohash cannot contain '"+et+"'")}if(typeof e<"u")throw new Error("Invalid GeoFire geohash '"+a+"': "+e)}function degreesToRadians(a){if(typeof a!="number"||isNaN(a))throw new Error("Error: degrees must be a number");return a*Math.PI/180}function geohashForLocation(a,e){if(e===void 0&&(e=GEOHASH_PRECISION),validateLocation(a),typeof e<"u"){if(typeof e!="number"||isNaN(e))throw new Error("precision must be a number");if(e<=0)throw new Error("precision must be greater than 0");if(e>22)throw new Error("precision cannot be greater than 22");if(Math.round(e)!==e)throw new Error("precision must be an integer")}for(var o={min:-90,max:90},c={min:-180,max:180},et="",tt=0,nt=0,rt=1;et.length<e;){var mt=rt?a[1]:a[0],gt=rt?c:o,yt=(gt.min+gt.max)/2;mt>yt?(tt=(tt<<1)+1,gt.min=yt):(tt=(tt<<1)+0,gt.max=yt),rt=!rt,nt<4?nt++:(nt=0,et+=BASE32[tt],tt=0)}return et}function metersToLongitudeDegrees(a,e){var o=degreesToRadians(e),c=Math.cos(o)*EARTH_EQ_RADIUS*Math.PI/180,et=1/Math.sqrt(1-E2*Math.sin(o)*Math.sin(o)),tt=c*et;return tt<EPSILON?a>0?360:0:Math.min(360,a/tt)}function longitudeBitsForResolution(a,e){var o=metersToLongitudeDegrees(a,e);return Math.abs(o)>1e-6?Math.max(1,log2(360/o)):1}function latitudeBitsForResolution(a){return Math.min(log2(EARTH_MERI_CIRCUMFERENCE/2/a),MAXIMUM_BITS_PRECISION)}function wrapLongitude(a){if(a<=180&&a>=-180)return a;var e=a+180;return e>0?e%360-180:180- -e%360}function boundingBoxBits(a,e){var o=e/METERS_PER_DEGREE_LATITUDE,c=Math.min(90,a[0]+o),et=Math.max(-90,a[0]-o),tt=Math.floor(latitudeBitsForResolution(e))*2,nt=Math.floor(longitudeBitsForResolution(e,c))*2-1,rt=Math.floor(longitudeBitsForResolution(e,et))*2-1;return Math.min(tt,nt,rt,MAXIMUM_BITS_PRECISION)}function boundingBoxCoordinates(a,e){var o=e/METERS_PER_DEGREE_LATITUDE,c=Math.min(90,a[0]+o),et=Math.max(-90,a[0]-o),tt=metersToLongitudeDegrees(e,c),nt=metersToLongitudeDegrees(e,et),rt=Math.max(tt,nt);return[[a[0],a[1]],[a[0],wrapLongitude(a[1]-rt)],[a[0],wrapLongitude(a[1]+rt)],[c,a[1]],[c,wrapLongitude(a[1]-rt)],[c,wrapLongitude(a[1]+rt)],[et,a[1]],[et,wrapLongitude(a[1]-rt)],[et,wrapLongitude(a[1]+rt)]]}function geohashQuery(a,e){validateGeohash(a);var o=Math.ceil(e/BITS_PER_CHAR);if(a.length<o)return[a,a+"~"];a=a.substring(0,o);var c=a.substring(0,a.length-1),et=BASE32.indexOf(a.charAt(a.length-1)),tt=e-c.length*BITS_PER_CHAR,nt=BITS_PER_CHAR-tt,rt=et>>nt<<nt,mt=rt+(1<<nt);return mt>31?[c+BASE32[rt],c+"~"]:[c+BASE32[rt],c+BASE32[mt]]}function geohashQueryBounds(a,e){validateLocation(a);var o=Math.max(1,boundingBoxBits(a,e)),c=Math.ceil(o/BITS_PER_CHAR),et=boundingBoxCoordinates(a,e),tt=et.map(function(nt){return geohashQuery(geohashForLocation(nt,c),o)});return tt.filter(function(nt,rt){return!tt.some(function(mt,gt){return rt>gt&&nt[0]===mt[0]&&nt[1]===mt[1]})})}function distanceBetween(a,e){validateLocation(a),validateLocation(e);var o=6371,c=degreesToRadians(e[0]-a[0]),et=degreesToRadians(e[1]-a[1]),tt=Math.sin(c/2)*Math.sin(c/2)+Math.cos(degreesToRadians(a[0]))*Math.cos(degreesToRadians(e[0]))*Math.sin(et/2)*Math.sin(et/2),nt=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return o*nt}var define_import_meta_env_default={VITE_GOOGLE_MAPS_KEY:"AIzaSyDihYR3KTXMrtINHTNzHP9XJRLz1z4BYv8",VITE_FB_API_KEY:"AIzaSyANMkkhlfmrGeBSRXjRUTb13pRbXyqvlCE",VITE_FB_AUTH_DOMAIN:"vetcationapp.firebaseapp.com",VITE_FB_PROJECT_ID:"vetcationapp",VITE_FB_STORAGE_BUCKET:"vetcationapp.appspot.com",VITE_FB_MESSAGING_SENDER_ID:"505953594291",VITE_FB_APP_ID:"1:505953594291:web:00bf29026f5453ce72b9c6",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const BREAKPOINT=768,MAX_RADIUS_M$1=1e4,SERVICE_RADIUS_FULL_M=1e4,Page$6=pt.div`
  position: relative;
  min-height: 100vh;
  overflow: hidden;
`,BgMapWrap=pt.div`
  position: fixed;
  inset: 0;
  pointer-events: auto;
`,DesktopCard=pt.div`
  position: fixed;
  top: 24px;
  left: 24px;
  width: clamp(320px, 26vw, 420px);
  max-width: 90vw;
  background: rgba(255, 255, 255, 0.98);
  border-radius: 16px;
  padding: 18px;
  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.2);

  @media (min-width: 1600px) {
    width: clamp(320px, 22vw, 380px);
  }
`,MobileSheet=pt.div`
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  height: ${a=>a.$height}px;
  background: #fff;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  box-shadow: 0 -12px 28px rgba(0, 0, 0, 0.25);
  display: flex;
  flex-direction: column;
  touch-action: none;
`,Grabber=pt.div`
  padding: 10px 0 6px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: grab;
  user-select: none;
  &::before {
    content: "";
    width: 44px;
    height: 5px;
    border-radius: 999px;
    background: #d6d6d6;
    display: block;
  }
`,SheetBody=pt.div`
  flex: 1;
  min-height: 0; /* critical */
  display: flex; /* NEW */
  flex-direction: column; /* NEW */
  padding: 16px;
  overflow: auto; /* keep sheet scroll when showing the survey */
  -webkit-overflow-scrolling: touch;
`,H1=pt.h1`
  font-size: 20px;
  margin: 0 0 12px;
`,P=pt.p`
  color: #555;
  margin: 0 0 16px;
`,Choice=pt.button`
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  text-align: left;
  padding: 12px 14px;
  border-radius: 10px;
  border: 1px solid #e6e6e6;
  background: ${a=>a.$active?"#e9f3ff":"white"};
  cursor: pointer;
  svg {
    flex: 0 0 20px;
    width: 20px;
    height: 20px;
  }
`,Submit=pt.button`
  margin-top: 16px;
  background: #4d9fec;
  color: #fff;
  border: none;
  border-radius: 999px;
  padding: 10px 16px;
  cursor: pointer;
  font-weight: 600;
`,Muted=pt.p`
  color: #888;
  font-size: 14px;
`,SearchButton=pt.button`
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 5;
  background: #4d9fec;
  color: white;
  border: 0;
  border-radius: 999px;
  padding: 8px 14px;
  font-size: 14px;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
  white-space: nowrap;
  &:disabled {
    opacity: 0.6;
    cursor: default;
  }
`,Helper=pt.p`
  position: absolute;
  bottom: 8px;
  width: 100%;
  text-align: center;
  color: #888;
  font-size: 12px;
  pointer-events: none;
`,LabelChip=pt.div`
  transform: translate(-50%, -30px);
  background: #fff;
  border: 1px solid #e6e6e6;
  border-radius: 999px;
  padding: 4px 8px;
  font-size: 12px;
  line-height: 1;
  color: #1a1a1a;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  white-space: nowrap;
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  user-select: none;

  &.current {
    border-color: #f3c4c4;
    background: #fff7f7;
    color: #b71c1c;
    font-weight: 700;
  }

  &.active {
    border-color: #4d9fec;
    background: #e9f3ff;
    box-shadow: 0 14px 28px rgba(77, 159, 236, 0.25),
      0 4px 12px rgba(0, 0, 0, 0.1);
    transform: translate(-50%, -34px) scale(1.03);
    font-weight: 700;
    z-index: 9999; /* defensive, pane switch below does the real work */
  }

  &:hover {
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.16);
  }
`,PanelWrap=pt.div`
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;

  display: flex; /* NEW */
  flex-direction: column; /* NEW */
  min-height: 0; /* NEW: enables inner overflow children */

  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue",
    Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  /* On wider viewports (e.g., InfoWindow desktop), gently cap width */
  @media (min-width: 640px) {
    max-width: 360px;
  }
`,PanelHeader=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 5px;
`,PanelTitle=pt.h3`
  font-size: 16px;
  line-height: 1.2;
  margin: 0;
  flex: 1;
`,PanelSubtitle=pt.div`
  font-size: 12px;
  color: #6b7280;
`,TabsRow=pt.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
  margin: 10px 0 12px;
`,TabBtn=pt.button`
  border: 1px solid ${a=>a.$active?"#4d9fec":"#e5e7eb"};
  background: ${a=>a.$active?"#e9f3ff":"#fff"};
  color: ${a=>a.$active?"#1f2937":"#374151"};
  border-radius: 10px;
  padding: 8px 10px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
`,ListWrap=pt.div`
  display: flex;
  flex-direction: column;
  gap: 8px;

  ${a=>a.$fill?`
    flex: 1;
    min-height: 0;   /* critical for overflow */
    overflow: auto;
    max-height: none;
  `:`
    max-height: 260px;  /* desktop InfoWindow stays compact */
    overflow: auto;
  `}
`,UserCard=pt.div`
  display: grid;
  grid-template-columns: 42px 1fr auto;
  align-items: start; /*  top-align avatar instead of centering */
  gap: 10px;
  padding: 8px 8px;
  border: 1px solid #f1f5f9;
  border-radius: 12px;
  background: #fff;
`,Avatar=pt.div`
  width: 42px;
  height: 42px;
  border-radius: 999px;
  background: #e5f1ff;
  display: grid;
  place-items: center;
  font-weight: 700;
  color: #1e40af;
`,Meta$1=pt.div`
  min-width: 0;
`,NameRow=pt.div`
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,Name=pt.span`
  font-size: 14px;
  font-weight: 700;
  color: #111827;
`,Username=pt.span`
  font-size: 12px;
  color: #6b7280;
`,ClinicChip=pt.span`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 2px 8px;
  font-size: 12px;
  color: #4b5563;
  background: #eef6ff;
  border: 1px solid #dbeafe;
  border-radius: 999px;
  margin-top: 4px;
`,Bio=pt.div`
  margin-top: 4px;
  font-size: 12px;
  color: #374151;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,SmallLine=pt.div`
  font-size: 11px;
  color: #6b7280;
`,SlotRow=pt.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 12px;
`,SlotChip=pt.button`
  display: grid;
  gap: 6px;
  border-radius: 12px;
  border: 1px solid #e5e7eb;
  padding: 10px 12px;
  background: #ffffff;
  text-align: left;
  cursor: pointer;
`,SlotChipLine=pt.div`
  display: flex;
  align-items: center;
  gap: 6px;
`,SlotChipText=pt.span`
  font-size: 14px;
  color: #111827;
`,Section$3=pt.div`
  margin-top: 8px;
  padding: 10px;
  border: 1px solid #eef2f7;
  border-radius: 12px;
  background: #fbfdff;
`,SecHeader=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 6px;
`,SecIcon=pt.span`
  display: inline-grid;
  place-items: center;
  width: 20px;
  height: 20px;
  border-radius: 6px;
  background: #e8f1ff;
  color: #1e40af;
  font-size: 12px;
`,SecTitle=pt.div`
  font-size: 12px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  color: #0f172a;
`,SecBody=pt.div`
  font-size: 12px;
  color: #374151;
  line-height: 1.45;
`,IdTag=pt.div`
  margin-bottom: 5px;
  /* font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace; */
  font-size: 10px;
  line-height: 1.2;
  color: #9ca3af; /* light grey */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,ExpandWrap=pt.div`
  margin-top: 4px;
`,ExpandPara=pt.p`
  margin: 0;
  font-size: 12px;
  color: #374151;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  ${a=>a.$open?"":`
  -webkit-line-clamp: ${a.$lines||5};
`}
`,ExpandToggle=pt.button`
  margin-top: 6px;
  border: 0;
  background: transparent;
  color: #2563eb;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  padding: 0;
`;pt.div`
  display: grid;
  grid-template-columns: 42px 1fr auto;
  gap: 10px;
  align-items: start;
  padding: 10px 10px;
  border: 1px solid #f1f5f9;
  border-radius: 12px;
  background: #fff;
`;pt(Avatar)`
  background: #f1f5f9;
  color: #0f172a;
`;pt.div`
  min-width: 0;
`;pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
`;pt(Name)`
  font-size: 14px;
`;pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: #6b7280;
`;const Stars=pt.span`
  display: inline-flex;
  align-items: center;
  gap: 2px;
  color: #f59e0b;
`;pt.span`
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  background: #f9fafb;
  color: #4b5563;
  font-size: 12px;
`;pt.p`
  margin: 6px 0 0;
  font-size: 13px;
  color: #374151;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
`;pt.div`
  justify-self: end;
  display: flex;
  align-items: center;
  gap: 8px;
`;pt.a`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: #2563eb;
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
`;const PendingBadge=pt.span`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid #f59e0b;
  background: #fffbeb;
  color: #92400e;
  font-size: 12px;
  font-weight: 700;
`,EmptyWrap=pt.div`
  border: 1px dashed #e5e7eb;
  background: #fafafa;
  color: #6b7280;
  border-radius: 12px;
  padding: 14px;
  font-size: 13px;
`,ToggleRow=pt.label`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 12px;
  border: 1px solid #e6e6e6;
  border-radius: 12px;
  background: #fff;
  margin: 0 0 12px;
`,ToggleText=pt.span`
  font-size: 14px;
  color: #111827;
  line-height: 1.3;
`,ToggleSwitch=pt.input.attrs({type:"checkbox"})`
  appearance: none;
  width: 44px;
  height: 26px;
  border-radius: 999px;
  background: ${a=>a.checked?"#4d9fec":"#e5e7eb"};
  position: relative;
  outline: none;
  cursor: pointer;
  transition: background 0.2s ease;
  &::after {
    content: "";
    position: absolute;
    top: 3px;
    left: ${a=>a.checked?"22px":"3px"};
    width: 20px;
    height: 20px;
    background: #fff;
    border-radius: 50%;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);
    transition: left 0.2s ease;
  }
`,Spinner$1=pt.div`
  width: 32px;
  height: 32px;
  border: 3px solid #e5e7eb;
  border-top-color: #4d9fec;
  border-radius: 50%;
  animation: spin 0.9s linear infinite;
  margin: 0 auto 12px;

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }
`;function domainFromUrl(a){try{return new URL(a).hostname.replace(/^www\./,"")}catch{return a}}const InfoGrid=pt.div`
  display: grid;
  gap: 6px;
  margin: 6px 0 10px;
`,InfoLine=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #374151;
  a {
    color: #1d4ed8;
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
`,PrimaryCTA=pt.button`
  margin-top: 12px;
  background: #4d9fec;
  color: #fff;
  border: none;
  border-radius: 999px;
  padding: 10px 16px;
  cursor: pointer;
  font-weight: 700;
  width: 100%;
`,BackLink=pt.button`
  border: 0;
  background: transparent;
  color: #2563eb;
  font-size: 13px;
  font-weight: 700;
  padding: 0;
  margin-bottom: 10px;
  cursor: pointer;
  text-align: left;
`,RatingRow=pt(InfoLine)`
  color: #111827;
  ${Stars} {
    transform: translateY(-1px);
  }
`,PanelTop=pt.div`
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: start;
  gap: 10px;
`,InlineCTAWrap=pt.div`
  display: none;
  @media (max-width: 767px) {
    display: flex;
    justify-self: end;
    align-items: flex-start;
  }
`,InlineCTAButton=pt(PrimaryCTA)`
  /* compact, centered pill */
  width: auto;
  min-height: 44px;
  max-width: 180px;
  padding: 12px 12px;
  border-radius: 12px;
  white-space: normal; /* allow wrap */
  display: inline-flex;
  align-items: center; /* center vertically */
  justify-content: center; /* center horizontally */
  text-align: center; /* center multi-line text */
  line-height: 1.2;
  gap: 0;

  font-size: 13px; /* single size */
  font-weight: 800; /* single weight */

  box-shadow: 0 8px 20px rgba(77, 159, 236, 0.25), 0 2px 8px rgba(0, 0, 0, 0.08);
  transition: transform 0.08s ease, box-shadow 0.12s ease;

  &:hover {
    transform: translateY(-1px);
  }
  &:active {
    transform: translateY(0);
    box-shadow: 0 6px 16px rgba(77, 159, 236, 0.22),
      0 1px 6px rgba(0, 0, 0, 0.08);
  }
  &:focus-visible {
    outline: 0;
    box-shadow: 0 0 0 3px rgba(77, 159, 236, 0.35),
      0 8px 20px rgba(77, 159, 236, 0.25), 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  @media (max-width: 360px) {
    max-width: 150px;
  }
`;function StarRating({value:a=0,outOf:e=5}){const o=Math.floor(a),c=a-o>=.5?1:0,et=e-o-c;return jsxRuntimeExports.jsxs(Stars,{"aria-label":`${a} out of ${e} stars`,children:[Array.from({length:o}).map((tt,nt)=>jsxRuntimeExports.jsx(FaStar,{},`f${nt}`)),c===1&&jsxRuntimeExports.jsx(FaStarHalfAlt,{},"half"),Array.from({length:et}).map((tt,nt)=>jsxRuntimeExports.jsx(FaRegStar,{},`e${nt}`))]})}const LegendWrap=pt.div`
  position: absolute;
  right: 12px;
  bottom: 40px;
  z-index: 6;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 14px 12px 12px;
  border-radius: 14px;
  border: 1px solid #f5b6b6;
  background: rgba(255, 245, 245, 0.96);
  box-shadow: 0 12px 32px rgba(211, 47, 47, 0.18),
    0 4px 12px rgba(0, 0, 0, 0.08);
  pointer-events: none;
  backdrop-filter: saturate(120%) blur(4px);
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(180deg, #ef5350, #d32f2f);
  }

  @media (max-width: 480px) {
    right: 8px;
    bottom: 56px;
  }
`,LegendSwatch=pt.span`
  display: inline-block;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: rgba(211, 47, 47, 0.15);
  box-shadow: inset 0 0 0 2px #d32f2f;
`,LegendText=pt.span`
  font-size: 13px;
  color: #111827;
  line-height: 1.25;
  strong {
    font-weight: 700;
  }
`;function initials(a){var o,c;const e=String(a||"").trim().split(/\s+/);return(((o=e[0])==null?void 0:o[0])||"")+(((c=e[1])==null?void 0:c[0])||"")}function formatDateISO(a){try{return new Date(a).toLocaleDateString(void 0,{month:"short",day:"numeric"})}catch{return a}}function onSlotClick(a,e){alert(`Demo
Doctor: ${e.name}
Date: ${formatDateISO(a.date)}
Time: ${a.time}`)}function VetRow({user:a,clinicName:e}){const o=Array.isArray(a.slots)?a.slots.slice(0,2):[];return jsxRuntimeExports.jsxs(UserCard,{children:[jsxRuntimeExports.jsx(Avatar,{title:a.name,children:initials(a.name).toUpperCase()}),jsxRuntimeExports.jsxs(Meta$1,{children:[jsxRuntimeExports.jsxs(NameRow,{children:[jsxRuntimeExports.jsx(Name,{title:a.name,children:a.name}),jsxRuntimeExports.jsxs(Username,{children:["@",a.username]})]}),e&&jsxRuntimeExports.jsxs(ClinicChip,{title:e,children:[" ",e]}),a.bio&&jsxRuntimeExports.jsx(Bio,{title:a.bio,children:a.bio}),o.length>0&&jsxRuntimeExports.jsx(SlotRow,{children:o.map(c=>jsxRuntimeExports.jsxs(SlotChip,{onClick:et=>{et.stopPropagation(),onSlotClick(c,a)},title:`${formatDateISO(c.date)}  ${c.time}`,children:[jsxRuntimeExports.jsxs(SlotChipLine,{children:[jsxRuntimeExports.jsx(IoCalendarOutline,{size:14}),jsxRuntimeExports.jsx(SlotChipText,{children:formatDateISO(c.date)})]}),jsxRuntimeExports.jsxs(SlotChipLine,{children:[jsxRuntimeExports.jsx(IoTimeOutline,{size:14}),jsxRuntimeExports.jsx(SlotChipText,{children:c.time})]})]},c.appointmentId))})]}),jsxRuntimeExports.jsx("div",{})]})}function Expandable({text:a,lines:e=5}){const[o,c]=reactExports.useState(!1);return!a||!String(a).trim()?null:jsxRuntimeExports.jsxs(ExpandWrap,{children:[jsxRuntimeExports.jsx(ExpandPara,{$open:o,$lines:e,children:a}),jsxRuntimeExports.jsx(ExpandToggle,{onClick:()=>c(et=>!et),children:o?"Show less":"Show more"})]})}function hasDrPrefix(a=""){return/^dr\.?\s/i.test(a.trim())}function InHouseRow({doc:a,clinicName:e}){const{name:o,education:c,bioSummary:et,reviewSummary:tt}=a||{},nt=o||"Doctor";return jsxRuntimeExports.jsxs(UserCard,{children:[jsxRuntimeExports.jsx(Avatar,{title:nt,children:initials(nt).toUpperCase()}),jsxRuntimeExports.jsxs(Meta$1,{children:[jsxRuntimeExports.jsx(NameRow,{children:jsxRuntimeExports.jsx(Name,{title:nt,children:hasDrPrefix(nt)?nt:`Dr. ${nt}`})}),e&&jsxRuntimeExports.jsxs(ClinicChip,{title:e,children:[" ",e]}),c&&jsxRuntimeExports.jsxs(Section$3,{children:[jsxRuntimeExports.jsxs(SecHeader,{children:[jsxRuntimeExports.jsx(SecIcon,{children:jsxRuntimeExports.jsx(FaGraduationCap,{size:12})}),jsxRuntimeExports.jsx(SecTitle,{children:"Education"})]}),jsxRuntimeExports.jsx(SecBody,{title:c,children:c})]}),et&&jsxRuntimeExports.jsxs(Section$3,{children:[jsxRuntimeExports.jsxs(SecHeader,{children:[jsxRuntimeExports.jsx(SecIcon,{children:jsxRuntimeExports.jsx(FaUserAlt,{size:12})}),jsxRuntimeExports.jsx(SecTitle,{children:"Bio"})]}),jsxRuntimeExports.jsx(SecBody,{children:jsxRuntimeExports.jsx(Expandable,{text:et,lines:5})})]}),tt&&jsxRuntimeExports.jsxs(Section$3,{children:[jsxRuntimeExports.jsxs(SecHeader,{children:[jsxRuntimeExports.jsx(SecIcon,{children:jsxRuntimeExports.jsx(FaStar,{size:12})}),jsxRuntimeExports.jsx(SecTitle,{children:"Review summary"})]}),jsxRuntimeExports.jsx(SecBody,{children:jsxRuntimeExports.jsx(Expandable,{text:tt,lines:5})})]})]}),jsxRuntimeExports.jsx("div",{})]})}function InHouseList({clinicId:a,clinicName:e}){const[o,c]=reactExports.useState(!0),[et,tt]=reactExports.useState([]);return reactExports.useEffect(()=>{let nt=!0;return(async()=>{var rt;try{if(c(!0),!a||a.startsWith("__")){nt&&tt([]);return}const mt=await getDoc(doc(firestore,"clinics",a)),gt=mt.exists()?mt.data():{},vt=(((rt=gt==null?void 0:gt.roster)==null?void 0:rt.doctors)||[]).map(xt=>({name:(xt==null?void 0:xt.name)||"",education:(xt==null?void 0:xt.education)||"",bioSummary:typeof(xt==null?void 0:xt.bioSummary)=="string"?xt.bioSummary:"",reviewSummary:typeof(xt==null?void 0:xt.reviewSummary)=="string"?xt.reviewSummary:""}));nt&&tt(vt)}catch(mt){console.warn("InHouseList roster fetch failed:",mt),nt&&tt([])}finally{nt&&c(!1)}})(),()=>{nt=!1}},[a]),o?jsxRuntimeExports.jsx(SmallLine,{children:"Loading in-house roster"}):et.length?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et.map((nt,rt)=>jsxRuntimeExports.jsx(InHouseRow,{doc:nt,clinicName:e},`${nt.name}-${rt}`))}):jsxRuntimeExports.jsx(EmptyWrap,{children:a&&!a.startsWith("__")?"No in-house veterinarians found for this clinic yet.":"Roster unavailable for this marker."})}function pad2(a){return String(a).padStart(2,"0")}function toYMD(a){return`${a.getFullYear()}-${pad2(a.getMonth()+1)}-${pad2(a.getDate())}`}function makeTomorrowSlotsAt(a=["10:30","14:00"]){const e=new Date;return e.setDate(e.getDate()+2),a.map((o,c)=>{const[et,tt]=o.split(":").map(Number),nt=new Date(e.getFullYear(),e.getMonth(),e.getDate(),et??9,tt??0,0,0);return{appointmentId:`demo_${nt.getTime()}_${c}`,date:toYMD(nt),time:nt.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit",hour12:!0})}})}function buildDemoVets(){return[{id:"v1",name:"Dr. Jamie Lee",username:"drjamie",clinic:"Maple Animal Hospital",bio:"Dermatology & GP",slots:makeTomorrowSlotsAt(["10:30","14:00"])},{id:"v2",name:"Dr. Omar Patel",username:"dromar",clinic:"Sunset Pet Clinic",bio:"Behaviorfear-free, separation anxiety",slots:makeTomorrowSlotsAt(["09:00","13:30"])},{id:"v3",name:"Dr. Chen Yu",username:"drchen",clinic:"Seaside Veterinary",bio:"Internal medicine & nutrition",slots:makeTomorrowSlotsAt(["11:15","15:45"])}]}function ClinicPanel({clinicName:a,isPrimary:e,clinicMeta:o={},clinicId:c,showDemoPartners:et,onTogglePartners:tt,showInlineCTA:nt=!1,onOpenSurvey:rt,fillScrollable:mt=!1}){const[gt,yt]=reactExports.useState("vets"),vt=reactExports.useMemo(buildDemoVets,[]),{rating:xt,reviewsCount:bt,phone:Et,address:wt,website:St}=o||{};return jsxRuntimeExports.jsxs(PanelWrap,{$fill:mt,children:[jsxRuntimeExports.jsxs(PanelTop,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(PanelHeader,{children:jsxRuntimeExports.jsx(PanelTitle,{children:a||"Clinic"})}),c&&jsxRuntimeExports.jsxs(IdTag,{title:c,children:["ID:",c.slice(0,8)]}),(xt||Et||wt||St)&&jsxRuntimeExports.jsxs(InfoGrid,{children:[typeof xt=="number"&&jsxRuntimeExports.jsxs(RatingRow,{children:[jsxRuntimeExports.jsx(StarRating,{value:xt}),jsxRuntimeExports.jsxs("span",{children:[xt.toFixed(1),typeof bt=="number"?` (${bt})`:""]})]}),Et&&jsxRuntimeExports.jsxs(InfoLine,{children:[jsxRuntimeExports.jsx(IoCallOutline,{size:16}),jsxRuntimeExports.jsx("a",{href:`tel:${Et}`,title:Et,children:Et})]}),wt&&jsxRuntimeExports.jsxs(InfoLine,{title:wt,children:[jsxRuntimeExports.jsx(IoLocationOutline,{size:16}),jsxRuntimeExports.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:wt})]}),St&&jsxRuntimeExports.jsxs(InfoLine,{children:[jsxRuntimeExports.jsx(FaExternalLinkAlt,{size:12}),jsxRuntimeExports.jsx("a",{href:St,target:"_blank",rel:"noopener noreferrer",children:domainFromUrl(St)})]})]})]}),jsxRuntimeExports.jsx(InlineCTAWrap,{children:nt&&e&&jsxRuntimeExports.jsx(InlineCTAButton,{onClick:rt,"aria-label":"Open your clinics interest form",title:"Open your clinics interest form",children:jsxRuntimeExports.jsx("span",{children:"Open your clinics interest form"})})})]}),jsxRuntimeExports.jsx(SmallLine,{children:"Partner options under your brand:"}),jsxRuntimeExports.jsxs(TabsRow,{children:[jsxRuntimeExports.jsx(TabBtn,{$active:gt==="vets",onClick:()=>yt("vets"),children:"Partnered online Vets & Professionals"}),jsxRuntimeExports.jsx(TabBtn,{$active:gt==="inhouse",onClick:()=>yt("inhouse"),title:"In-house veterinarians",children:"In-house veterinarians"})]}),jsxRuntimeExports.jsxs(ListWrap,{$fill:mt,children:[gt==="vets"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e&&jsxRuntimeExports.jsxs(ToggleRow,{title:"Preview how partnered doctors would appear under your brand",children:[jsxRuntimeExports.jsx(ToggleText,{children:"Preview partnered view (demo professionals)"}),jsxRuntimeExports.jsx(ToggleSwitch,{checked:!!et,onChange:Tt=>tt==null?void 0:tt(Tt.target.checked)})]}),!e||!et?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PendingBadge,{title:"Awaiting partnership approval",children:"Pending"}),jsxRuntimeExports.jsx(EmptyWrap,{style:{marginTop:10},children:"This hospital hasnt partnered online yet. Once approved, their partnered doctors and professionals will appear here."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PanelSubtitle,{style:{marginTop:0},children:"Demo professionals  style preview only."}),vt.map(Tt=>jsxRuntimeExports.jsx(VetRow,{user:Tt,clinicName:a},Tt.id))]})]}),gt==="inhouse"&&jsxRuntimeExports.jsx(InHouseList,{clinicId:c,clinicName:a})]})]})}const defaultCleanStyle=[{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"labels",stylers:[{visibility:"off"}]}],FN_VERIFY=define_import_meta_env_default.VITE_FN_VERIFY||"https://us-central1-vetcationapp.cloudfunctions.net/verifyClinicInvite",FN_SUBMIT=define_import_meta_env_default.VITE_FN_SUBMIT||"https://us-central1-vetcationapp.cloudfunctions.net/submitClinicInterest";function radiusFromBounds$1(a){if(!a)return null;const e=a.getNorthEast(),o=a.getSouthWest(),c=6371e3,et=xt=>xt*Math.PI/180,tt=et(e.lat()-o.lat()),nt=et(e.lng()-o.lng()),rt=et(o.lat()),mt=et(e.lat()),gt=Math.sin(tt/2)**2+Math.cos(rt)*Math.cos(mt)*Math.sin(nt/2)**2,yt=2*Math.atan2(Math.sqrt(gt),Math.sqrt(1-gt));return c*yt/2}async function fetchClinicBasics(a){try{const e=await getDoc(doc(firestore,"clinics",a));if(!e.exists())return null;const o=e.data()||{},c=o.location||{},et=c.lat??c.latitude,tt=c.lng??c.longitude;return{clinicName:o.name||"Clinic",center:typeof et=="number"&&typeof tt=="number"?{lat:et,lng:tt}:null}}catch(e){return console.error("fetchClinicBasics error:",e),null}}function InviteSurvey(){const{clinicId:a,token:e}=useParams(),[o,c]=reactExports.useState(typeof window<"u"?window.innerWidth<BREAKPOINT:!1);reactExports.useEffect(()=>{const On=()=>c(window.innerWidth<BREAKPOINT);return window.addEventListener("resize",On),()=>window.removeEventListener("resize",On)},[]);const[et,tt]=reactExports.useState(!0),[nt,rt]=reactExports.useState(!1),[mt,gt]=reactExports.useState(""),[yt,vt]=reactExports.useState("Your clinic"),[xt,bt]=reactExports.useState({lat:34.0195,lng:-118.4912}),[Et,wt]=reactExports.useState(""),[St,Tt]=reactExports.useState(new Set),[kt,_t]=reactExports.useState(!1),[Mt,Pt]=reactExports.useState(!1),[It,Dt]=reactExports.useState(!0),Ct=reactExports.useRef(null),[At,Lt]=reactExports.useState([]),[jt,Bt]=reactExports.useState(null),[zt,Yt]=reactExports.useState(!1),[en,rn]=reactExports.useState(!1),on=reactExports.useRef([.22,.45,.7,.85]),[Zt,an]=reactExports.useState(()=>{const On=typeof window<"u"?window.innerHeight:800;return on.current.map(Qn=>Math.round(On*Qn))}),Xt=reactExports.useMemo(()=>Math.min(...Zt),[Zt]),yn=reactExports.useMemo(()=>Math.max(...Zt),[Zt]);reactExports.useEffect(()=>{const On=()=>{const Qn=window.innerHeight;an(on.current.map(Xn=>Math.round(Qn*Xn)))};return window.addEventListener("resize",On),()=>window.removeEventListener("resize",On)},[]);const[vn,Nt]=reactExports.useState(()=>{const On=typeof window<"u"?window.innerHeight:800;return on.current.map(Xn=>Math.round(On*Xn))[1]}),$t=reactExports.useRef({startY:0,startH:vn,dragging:!1}),[Ot,Ft]=reactExports.useState(!1),Ut=On=>{if(!Zt.length)return On;let Qn=Zt[0],Xn=Math.abs(On-Zt[0]);for(let or=1;or<Zt.length;or++){const lr=Math.abs(On-Zt[or]);lr<Xn&&(Xn=lr,Qn=Zt[or])}return Qn},Gt=3,Vt=20,Kt=reactExports.useRef([]),Jt=reactExports.useRef(!1);function nn(On,Qn,Xn={top:48,right:48,bottom:48,left:48}){const or=Ct.current;if(!or||!On||!window.google)return;const lr=On.lat,Un=On.lng,En=Qn/111320,mn=Qn/(111320*Math.cos(lr*Math.PI/180)),Fn=new window.google.maps.LatLng(lr-En,Un-mn),gr=new window.google.maps.LatLng(lr+En,Un+mn),Ln=new window.google.maps.LatLngBounds(Fn,gr);or.fitBounds(Ln,Xn)}function sn(On){var lr;const Qn=Ct.current;if(!Qn)return;Kt.current.forEach(clearTimeout),Kt.current=[];const Xn=((lr=Qn.getZoom)==null?void 0:lr.call(Qn))??13,or=Math.max(Gt,Math.min(Vt,Xn+(On?-1:1)));Qn.setZoom(or),Kt.current.push(t)}reactExports.useEffect(()=>()=>Kt.current.forEach(clearTimeout),[]);const gn=It?SERVICE_RADIUS_FULL_M:Math.floor(SERVICE_RADIUS_FULL_M/2),fn=Math.round(gn/1e3),In=On=>{const Qn=On.touches?On.touches[0].clientY:On.clientY;$t.current={startY:Qn,startH:vn,dragging:!0}},Dn=On=>{if(!$t.current.dragging)return;const Qn=On.touches?On.touches[0].clientY:On.clientY,Xn=$t.current.startY-Qn,or=Math.max(Xt,Math.min(yn,$t.current.startH+Xn));Nt(or)},Gn=()=>{$t.current.dragging=!1,Nt(On=>Ut(On))},{isLoaded:rr}=useLoadScript({googleMapsApiKey:"AIzaSyDihYR3KTXMrtINHTNzHP9XJRLz1z4BYv8"});reactExports.useEffect(()=>{let On=!0;return(async()=>{try{tt(!0);const Qn=await fetch(FN_VERIFY,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clinicId:a,token:e})});let Xn=null;try{Xn=await Qn.json()}catch{}if(!On)return;if(Qn.ok&&(Xn!=null&&Xn.ok))rt(!0),vt(Xn.clinicName||"Your clinic"),Xn.center&&typeof Xn.center.lat=="number"&&typeof Xn.center.lng=="number"&&bt(Xn.center),wt(Xn.nonce||"");else if(rt(!1),gt((Xn==null?void 0:Xn.error)||`HTTP ${Qn.status}`),Xn!=null&&Xn.clinicName&&vt(Xn.clinicName),Xn!=null&&Xn.center&&typeof Xn.center.lat=="number"&&typeof Xn.center.lng=="number")bt(Xn.center);else{const or=await fetchClinicBasics(a);or!=null&&or.clinicName&&vt(or.clinicName),or!=null&&or.center&&bt(or.center)}}catch(Qn){if(!On)return;console.error("verifyClinicInvite failed:",Qn),rt(!1),gt(String((Qn==null?void 0:Qn.message)||Qn||"network error"));const Xn=await fetchClinicBasics(a);Xn!=null&&Xn.clinicName&&vt(Xn.clinicName),Xn!=null&&Xn.center&&bt(Xn.center)}finally{On&&tt(!1)}})(),()=>{On=!1}},[a,e]);const Bn=reactExports.useMemo(()=>[{key:"gp",label:"General Practice (GP)"},{key:"specialists",label:"Specialists (ex: dermatology, behavior, oncology, internal medicine, nutrition)"},{key:"dog_trainers",label:"Certified dog trainers"},{key:"none",label:"None of the above"}],[]),An=reactExports.useMemo(()=>{if(jt!==null&&At[jt])return At[jt];const On=At.findIndex(Qn=>Qn.id===a||Qn.id==="__current");return On!==-1?At[On]:At[0]||null},[jt,At,a]),Sn=On=>{const Qn=new Set(St);On==="none"?(Qn.clear(),Qn.add("none")):(Qn.has("none")&&Qn.delete("none"),Qn.has(On)?Qn.delete(On):Qn.add(On)),Tt(Qn)},xn=async()=>{if(!(St.size===0||!Et)){_t(!0);try{const Qn=await(await fetch(FN_SUBMIT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clinicId:a,token:e,nonce:Et,interests:Array.from(St)})})).json();if(!Qn.ok)throw new Error(Qn.error||"submit failed");Pt(!0)}catch(On){alert(On.message||"Failed to submit")}finally{_t(!1)}}},wn=On=>{Ct.current=On},jn=()=>Yt(!0),pn=()=>Yt(!0),Rn=async()=>{var En,mn;if(!Ct.current)return;const On=Ct.current.getBounds();if(!On)return;const Qn=radiusFromBounds$1(On)||MAX_RADIUS_M$1,Xn=Math.min(Qn,MAX_RADIUS_M$1),or=Ct.current.getCenter(),lr=or.lat(),Un=or.lng();rn(!0);try{const Fn=geohashQueryBounds([lr,Un],Xn),gr=collection(firestore,"clinics"),Ln=100,dn=await Promise.all(Fn.map(([hn,Pn])=>getDocs(query(gr,orderBy("geohash"),startAt(hn),endAt(Pn),limit(Ln))))),zn=new Map;for(const hn of dn)hn.forEach(Pn=>{var qt,tn,un;if(zn.has(Pn.id))return;const Tn=Pn.data(),Zn=Tn==null?void 0:Tn.location,$n=typeof(Zn==null?void 0:Zn.latitude)=="number"?Zn.latitude:typeof(Zn==null?void 0:Zn.lat)=="number"?Zn.lat:void 0,qn=typeof(Zn==null?void 0:Zn.longitude)=="number"?Zn.longitude:typeof(Zn==null?void 0:Zn.lng)=="number"?Zn.lng:void 0;if(typeof $n!="number"||typeof qn!="number")return;const cn=distanceBetween([lr,Un],[$n,qn])*1e3;cn<=Xn&&zn.set(Pn.id,{id:Pn.id,name:Tn.name||"Clinic",position:{lat:$n,lng:qn},website:Tn.website||Tn.site||void 0,email:Tn.email||void 0,phone:Tn.phone||Tn.formatted_phone_number||Tn.tel||void 0,address:Tn.address||Tn.formatted_address||Tn.addr&&[Tn.addr.line1,Tn.addr.line2,Tn.addr.city,Tn.addr.state].filter(Boolean).join(", ")||void 0,rating:typeof Tn.rating=="number"?Tn.rating:typeof Tn.avgRating=="number"?Tn.avgRating:typeof((qt=Tn==null?void 0:Tn.place)==null?void 0:qt.rating)=="number"?Tn.place.rating:void 0,reviewsCount:Tn.reviewsCount??Tn.reviewCount??((tn=Tn==null?void 0:Tn.place)==null?void 0:tn.user_ratings_total)??void 0,inviteState:Number.isFinite((un=Tn==null?void 0:Tn.invite)==null?void 0:un.state)?Tn.invite.state:0,_distM:cn})});if(typeof xt.lat=="number"&&typeof xt.lng=="number")if(zn.has(a)){const hn=zn.get(a);hn.highlight=!0,zn.set(a,hn)}else{let hn=0;try{const Pn=await getDoc(doc(firestore,"clinics",a));Pn.exists()&&(hn=Number(((mn=(En=Pn.data())==null?void 0:En.invite)==null?void 0:mn.state)||0))}catch{}zn.set("__current",{id:"__current",name:yt||"Selected clinic",position:{lat:xt.lat,lng:xt.lng},highlight:!0,_distM:0})}const Yn=Array.from(zn.values()).sort((hn,Pn)=>hn._distM-Pn._distM);Yn.forEach(hn=>delete hn._distM),Lt(Yn),Yt(!1),Bt(hn=>{if(hn!==null)return hn;const Pn=Yn.findIndex(Tn=>Tn.id===a||Tn.id==="__current");return Pn!==-1?Pn:hn})}catch(Fn){console.error("Firestore geohash fetch error:",Fn)}finally{rn(!1)}},Kn=()=>{At.length===0&&Rn()};if(et)return jsxRuntimeExports.jsx(Page$6,{children:jsxRuntimeExports.jsxs(DesktopCard,{style:{textAlign:"center"},children:[jsxRuntimeExports.jsx(Spinner$1,{}),jsxRuntimeExports.jsx(H1,{children:"Loading"}),jsxRuntimeExports.jsx(Muted,{children:"Verifying your invite link"})]})});const tr=(()=>{const On=String(mt||"").toLowerCase();return On.includes("expired")?"This survey link has expired.":On.includes("not active")||On.includes("used")?"This survey has already been submitted.":On.includes("invalid")?"This survey link is invalid.":"This survey is unavailable."})(),ir=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H1,{children:yt}),nt?Mt?jsxRuntimeExports.jsx(P,{children:"Thank you. Your preferences have been saved."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(P,{children:"If you want to expand your service under your brand to your clients, which of the following are you interested in collaborating with? Select all that apply."}),Bn.map(On=>{const Qn=St.has(On.key);return jsxRuntimeExports.jsxs(Choice,{onClick:()=>Sn(On.key),$active:Qn,children:[Qn?jsxRuntimeExports.jsx(FaCheckSquare,{size:20}):jsxRuntimeExports.jsx(FaRegSquare,{size:20})," ",jsxRuntimeExports.jsx("span",{children:On.label})]},On.key)}),jsxRuntimeExports.jsx(Submit,{onClick:xn,disabled:kt||St.size===0,children:kt?"Submitting...":"Submit"}),jsxRuntimeExports.jsx(Muted,{style:{marginTop:8},children:"Showing clinics near the visible area (max ~10 km radius). Your response will be recorded for this clinic."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(P,{children:tr}),mt&&jsxRuntimeExports.jsxs(Muted,{style:{marginTop:2},children:["Reason: ",mt]}),jsxRuntimeExports.jsx(Muted,{style:{marginTop:8},children:"You can still browse nearby clinics on the map."})]})]});return jsxRuntimeExports.jsxs(Page$6,{children:[jsxRuntimeExports.jsxs(BgMapWrap,{children:[rr&&jsxRuntimeExports.jsxs(GoogleMap,{onLoad:On=>{wn(On),Jt.current||(o?nn(xt,gn,{top:48,right:48,bottom:160,left:48}):On.setZoom(13),Jt.current=!0)},onIdle:Kn,onDragEnd:jn,onZoomChanged:pn,center:xt,zoom:13,mapContainerStyle:{width:"100%",height:"100%"},options:{styles:defaultCleanStyle,clickableIcons:!1,disableDefaultUI:!0,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1},children:[xt&&typeof xt.lat=="number"&&typeof xt.lng=="number"&&jsxRuntimeExports.jsx(CircleF,{center:xt,radius:gn,options:{clickable:!1,zIndex:0,strokeColor:"#d32f2f",strokeOpacity:1,strokeWeight:2,fillColor:"#d32f2f",fillOpacity:.15}}),zt&&jsxRuntimeExports.jsx(SearchButton,{onClick:Rn,disabled:en,children:en?"Searching":"Search this area"}),At.map((On,Qn)=>{var Un,En,mn,Fn,gr,Ln;const Xn=On.id==="__current"||On.highlight,or=jt===Qn,lr={path:(mn=(En=(Un=window.google)==null?void 0:Un.maps)==null?void 0:En.SymbolPath)==null?void 0:mn.CIRCLE,scale:or?9:Xn?8:6,fillColor:Xn?"#d32f2f":"#4D9FEC",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2};return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(MarkerF,{position:On.position,onClick:()=>Bt(Qn),icon:lr,zIndex:or||Xn?(Ln=(gr=(Fn=window.google)==null?void 0:Fn.maps)==null?void 0:gr.Marker)==null?void 0:Ln.MAX_ZINDEX:void 0}),jsxRuntimeExports.jsx(OverlayViewF,{position:On.position,mapPaneName:or?"floatPane":"overlayMouseTarget",children:jsxRuntimeExports.jsxs(LabelChip,{className:`${Xn?"current":""} ${or?"active":""}`,onClick:()=>Bt(Qn),title:`${On.name} (${Number.isFinite(On.inviteState)?On.inviteState:0})`,children:[On.name," (",Number.isFinite(On.inviteState)?On.inviteState:0,")"]})})]},`${On.id}-${Qn}`)}),!o&&jt!==null&&At[jt]&&jsxRuntimeExports.jsx(InfoWindowF,{position:At[jt].position,onCloseClick:()=>Bt(null),options:{pixelOffset:new window.google.maps.Size(0,-40),maxWidth:360,disableAutoPan:!1},children:jsxRuntimeExports.jsx("div",{onClick:On=>On.stopPropagation(),children:jsxRuntimeExports.jsx(ClinicPanel,{clinicId:At[jt].id,clinicName:At[jt].name,isPrimary:At[jt].id===a||At[jt].id==="__current",clinicMeta:At[jt],showDemoPartners:It,onTogglePartners:On=>{Dt(On),sn(On)}})})}),jsxRuntimeExports.jsx(Helper,{children:"Showing clinics near the visible area (max ~10 km radius)."})]}),jsxRuntimeExports.jsxs(LegendWrap,{children:[jsxRuntimeExports.jsx(LegendSwatch,{}),jsxRuntimeExports.jsxs(LegendText,{children:[jsxRuntimeExports.jsx("strong",{children:"Service area"}),"  customers you can serve",typeof fn=="number"?` ( ${fn} km radius)`:"",""]})]})]}),o?jsxRuntimeExports.jsxs(MobileSheet,{$height:vn,onPointerDown:In,onPointerMove:Dn,onPointerUp:Gn,onPointerCancel:Gn,onTouchStart:In,onTouchMove:Dn,onTouchEnd:Gn,children:[jsxRuntimeExports.jsx(Grabber,{}),jsxRuntimeExports.jsx(SheetBody,{onPointerDown:On=>On.stopPropagation(),onTouchStart:On=>On.stopPropagation(),children:Ot?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BackLink,{onClick:()=>Ft(!1),children:" Back to clinic info"}),ir]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:An?jsxRuntimeExports.jsx(ClinicPanel,{clinicId:An.id,clinicName:An.name,isPrimary:An.id===a||An.id==="__current",clinicMeta:An,showDemoPartners:It,onTogglePartners:On=>{Dt(On),sn(On)},showInlineCTA:o&&nt&&!Mt,onOpenSurvey:()=>Ft(!0),fillScrollable:!0}):jsxRuntimeExports.jsx(SmallLine,{children:"No clinic selected yet. Tap a marker to view details."})})})]}):jsxRuntimeExports.jsx(DesktopCard,{children:ir})]})}const SECTION_HEIGHT="100vh";pt.section`
  position: relative;
  width: 100%;
  height: ${a=>a.$height||SECTION_HEIGHT};
  overflow: hidden;
`;pt.button`
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 5;
  background: #4d9fec;
  color: white;
  border: 0;
  border-radius: 999px;
  padding: 8px 14px;
  font-size: 14px;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
  white-space: nowrap;
  &:disabled {
    opacity: 0.6;
    cursor: default;
  }
`;pt.button`
  position: absolute;
  bottom: 16px;
  right: 16px;
  z-index: 5;
  background: #ffffff;
  color: #0f172a;
  border: 1px solid #e2e8f0;
  border-radius: 999px;
  padding: 8px 12px;
  font-size: 14px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
  &:hover {
    background: #f8fafc;
  }
  &:disabled {
    opacity: 0.6;
    cursor: default;
  }
`;pt.p`
  position: absolute;
  bottom: 8px;
  width: 100%;
  text-align: center;
  color: #888;
  font-size: 12px;
  pointer-events: none;
`;pt.div`
  transform: translate(-50%, -30px);
  background: #fff;
  border: 1px solid #e6e6e6;
  border-radius: 999px;
  padding: 4px 8px;
  font-size: 12px;
  line-height: 1;
  color: #1a1a1a;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  white-space: nowrap;
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  user-select: none;

  &.current {
    border-color: #c7d2fe;
    background: #eef2ff;
    color: #1e3a8a;
    font-weight: 700;
  }
  &.active {
    border-color: #4d9fec;
    background: #e9f3ff;
    box-shadow: 0 14px 28px rgba(77, 159, 236, 0.25),
      0 4px 12px rgba(0, 0, 0, 0.1);
    transform: translate(-50%, -34px) scale(1.03);
    font-weight: 700;
  }
`;function SiGoogle(a){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(a)}const Backdrop=pt.div`
  position: fixed;
  inset: 0;
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
  background: rgba(0, 0, 0, 0.72);
`,Dialog=pt.div`
  position: relative;
  width: 100%;
  max-width: 480px;
  background: #111827;
  color: #f9fafb;
  border-radius: 18px;
  padding: 26px 26px 20px;
  box-shadow: 0 24px 80px rgba(0, 0, 0, 0.9);
`,CloseButton=pt.button`
  position: absolute;
  top: 14px;
  right: 14px;
  width: 28px;
  height: 28px;
  border-radius: 999px;
  border: none;
  background: transparent;
  color: #9ca3af;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;

  &:hover {
    background: #1f2933;
    color: #e5e7eb;
  }
`,Title$7=pt.h2`
  margin: 4px 0 4px;
  font-size: 24px;
  font-weight: 700;
  text-align: center;
`,Subtitle$1=pt.p`
  margin: 0 0 18px;
  font-size: 14px;
  color: #9ca3af;
  text-align: center;
`,Providers=pt.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 16px;
`,ProviderButton=pt.button`
  width: 100%;
  border-radius: 999px;
  border: 1px solid #374151;
  background: #020617;
  padding: 10px 14px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 10px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  color: #e5e7eb;

  &:hover {
    background: #111827;
    border-color: #4b5563;
  }

  &:disabled {
    opacity: 0.6;
    cursor: default;
  }
`,ProviderIconWrap=pt.span`
  width: 20px;
  height: 20px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
`,DividerRow=pt.div`
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 4px 0 14px;
  font-size: 11px;
  color: #6b7280;
`,DividerLine=pt.div`
  flex: 1;
  height: 1px;
  background: #27272f;
`,FieldLabel$5=pt.label`
  display: block;
  font-size: 12px;
  color: #d1d5db;
  margin-bottom: 4px;
`,EmailInput=pt.input`
  width: 100%;
  border-radius: 12px;
  border: 1px solid #374151;
  background: #020617;
  color: #f9fafb;
  padding: 10px 12px;
  font-size: 14px;
  outline: none;

  &:focus {
    border-color: #4f46e5;
    box-shadow: 0 0 0 1px #4f46e5;
  }
`,PrimaryButton$3=pt.button`
  margin-top: 12px;
  width: 100%;
  border-radius: 999px;
  border: none;
  padding: 10px 16px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  background: #f9fafb;
  color: #020617;

  &:hover {
    background: #e5e7eb;
  }
`,FinePrint=pt.p`
  margin: 10px 0 0;
  font-size: 11px;
  color: #6b7280;
  text-align: center;

  a {
    color: #e5e7eb;
    text-decoration: underline;
  }
`;function LoginModal({open:a,onClose:e}){const o=useNavigate(),[c,et]=reactExports.useState(""),[tt,nt]=reactExports.useState(!1),[rt,mt]=reactExports.useState(""),gt=async()=>{try{if(nt(!0),!await signInWithGoogle())return;e==null||e(),o("/ai/library")}catch(bt){console.error("Google sign in failed in modal:",bt)}finally{nt(!1)}};if(reactExports.useEffect(()=>{if(!a)return;const bt=wt=>{wt.key==="Escape"&&(e==null||e())},Et=document.body.style.overflow;return document.body.style.overflow="hidden",window.addEventListener("keydown",bt),()=>{window.removeEventListener("keydown",bt),document.body.style.overflow=Et}},[a,e]),!a)return null;const yt=bt=>bt.stopPropagation(),vt=async()=>{const bt=c.trim();if(mt(""),!bt){mt("Email is required");return}if(!/\S+@\S+\.\S+/.test(bt)){mt("Invalid email address");return}try{const Et=await getSignInMethods(bt),wt=Et.includes("password"),St=Et.includes("google.com");Et.length===0?(e==null||e(),o(`/register-email?email=${encodeURIComponent(bt)}`)):wt?(e==null||e(),o(`/login?email=${encodeURIComponent(bt)}`)):mt(!wt&&St?"This email is already connected to Google sign in. Please continue with Google.":"This email is already linked to a different sign in method.")}catch(Et){console.error("Error checking sign in methods:",Et),mt("Unable to check this email right now. Please try again.")}},xt=bt=>{bt.key==="Enter"&&(bt.preventDefault(),vt())};return jsxRuntimeExports.jsx(Backdrop,{onClick:e,children:jsxRuntimeExports.jsxs(Dialog,{role:"dialog","aria-modal":"true",onClick:yt,children:[jsxRuntimeExports.jsx(CloseButton,{type:"button",onClick:e,"aria-label":"Close",children:jsxRuntimeExports.jsx(FiX,{})}),jsxRuntimeExports.jsx(Title$7,{children:"Log in or sign up"}),jsxRuntimeExports.jsx(Subtitle$1,{children:"You will get smarter responses and can upload files, images, and more."}),jsxRuntimeExports.jsx(Providers,{children:jsxRuntimeExports.jsxs(ProviderButton,{type:"button",onClick:gt,disabled:tt,children:[jsxRuntimeExports.jsx(ProviderIconWrap,{children:jsxRuntimeExports.jsx(SiGoogle,{})}),jsxRuntimeExports.jsx("span",{children:tt?"Signing in...":"Continue with Google"})]})}),jsxRuntimeExports.jsxs(DividerRow,{children:[jsxRuntimeExports.jsx(DividerLine,{}),jsxRuntimeExports.jsx("span",{children:"OR"}),jsxRuntimeExports.jsx(DividerLine,{})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(FieldLabel$5,{htmlFor:"login-email",children:"Email address"}),jsxRuntimeExports.jsx(EmailInput,{id:"login-email",type:"email",placeholder:"Email address",value:c,onChange:bt=>{et(bt.target.value),mt("")},onKeyDown:xt}),rt&&jsxRuntimeExports.jsx("p",{style:{color:"#f97373",fontSize:11,marginTop:4},children:rt})]}),jsxRuntimeExports.jsx(PrimaryButton$3,{type:"button",onClick:vt,children:"Continue"}),jsxRuntimeExports.jsxs(FinePrint,{children:["By continuing, you agree to our"," ",jsxRuntimeExports.jsx("a",{href:"/SMSTerms/",target:"_blank",rel:"noreferrer",children:"Terms"})," ","and"," ",jsxRuntimeExports.jsx("a",{href:"/privacy-policy/",target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),"."]})]})})}const SectionShell=pt.section`
  background: #f3f4f6;
  padding: 5rem 0 6rem;
`,TestimonialsContainer=pt(motion.div)`
  max-width: 1140px;
  margin: 0 auto;
  padding: 0 2rem;
`,Heading=pt.h2`
  text-align: center;
  font-size: 32px;
  font-weight: 600;
  color: #0f172a;
  margin: 0 0 0.75rem;
`,Subheading=pt.p`
  text-align: center;
  font-size: 16px;
  color: #6b7280;
  margin: 0 0 2.5rem;
`,CardsRow=pt.div`
  display: flex;
  gap: 1.75rem;
  overflow-x: auto;
  padding-bottom: 0.75rem;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;

  &::-webkit-scrollbar {
    height: 6px;
  }

  &::-webkit-scrollbar-track {
    background: #e5e7eb;
  }

  &::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 999px;
  }
`,Card$5=pt(motion.figure)`
  flex: 0 0 520px;
  max-width: 520px;
  margin: 0;
  background: #ffffff;
  border-radius: 24px;
  padding: 2.25rem 2.5rem 2rem;
  box-shadow: 0 16px 30px rgba(15, 23, 42, 0.12);
  scroll-snap-align: start;
  position: relative;

  @media (max-width: 768px) {
    flex: 0 0 86vw;
    max-width: 86vw;
    padding: 1.75rem 1.5rem 1.5rem;
  }
`;pt.div`
  position: absolute;
  top: 1.5rem;
  right: 2.5rem;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  background: #f97316;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #ffffff;

  svg {
    width: 22px;
    height: 22px;
  }

  @media (max-width: 768px) {
    right: 1.5rem;
  }
`;const Quote=pt.blockquote`
  margin: 0 0 1.25rem;
  font-size: 16px;
  line-height: 1.6;
  color: #111827;
`,Author=pt.div`
  font-size: 15px;
  font-weight: 600;
  color: #111827;
`,Meta=pt.div`
  font-size: 13px;
  color: #6b7280;
  margin-top: 0.15rem;
`,testimonials=[{quote:"I like that vets can review everything in chat first, then decide if we should book a video visit for meds. It feels responsible, not rushed.",author:"Monica T.",meta:"Senior dog mom, Long Beach"},{quote:"I used to bring a folder of papers to every appointment. Now I just send my Vetcation link and my vet already knows our history before we start talking.",author:"Sarah P.",meta:"Dog parent, Pasadena"},{quote:"Having one shared record between our primary, ER, and cardiologist means fewer repeated tests and fewer things slipping through the cracks.",author:"Dr. Tsou",meta:"Small animal vet, Los Angeles"},{quote:"Vetcation helps me see the full medical history, including what other doctors have already tried. That is incredibly helpful, because medical records are usually scattered across different clinics.",author:"Dr. Chen",meta:"Small animal vet, Los Angeles"},{quote:"Being able to message a vet who can see my dogs timeline makes follow ups much easier. I do not have to repeat the story every single time.",author:"Kevin L.",meta:"Dog owner, Bay Area"},{quote:"I love that I can upload PDFs, lab reports, and even phone photos. It all ends up in one clean view instead of ten different apps and email chains.",author:"Hannah W.",meta:"Cat and dog parent"}],TestimonialsSection=()=>jsxRuntimeExports.jsx(SectionShell,{children:jsxRuntimeExports.jsxs(TestimonialsContainer,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[jsxRuntimeExports.jsx(Heading,{children:"What people are saying"}),jsxRuntimeExports.jsx(Subheading,{children:"How universal medical records and telemedicine tools change daily practice for veterinarians."}),jsxRuntimeExports.jsx(CardsRow,{children:testimonials.map((a,e)=>jsxRuntimeExports.jsxs(Card$5,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:e*.08},children:[jsxRuntimeExports.jsxs(Quote,{children:["",a.quote,""]}),jsxRuntimeExports.jsx(Author,{children:a.author}),jsxRuntimeExports.jsx(Meta,{children:a.meta})]},e))})]})}),Container=pt.div`
  max-width: 1140px;
  margin: 0 auto 4rem;
  padding: 0 2rem;
`,Callout=pt.div`
  padding: 1.5rem 0;
  border-radius: 16px;
  background: transparent;
  color: #0f172a;
  display: grid;
  grid-template-columns: minmax(0, 2fr) auto;
  align-items: center;
  gap: 1.5rem;
`,CalloutContent=pt.div`
  text-align: left;

  @media (max-width: 768px) {
    text-align: center;
  }
`,CalloutHeading=pt.h2`
  margin: 0 0 0.4rem;
  font-size: 2rem;
  font-weight: 700;
`,CalloutSubheading=pt.p`
  margin: 0;
  font-size: 1rem;
  color: #4b5563;
`,RightSide=pt.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;

  @media (max-width: 768px) {
    align-items: center;
  }
`,QRCodeImage=pt.img`
  width: 500px;
  height: auto;
  max-width: 100%;
  cursor: pointer;

  @media (max-width: 768px) {
    width: 240px;
  }
`,GetStartedCallout=({qrCodeLink:a})=>jsxRuntimeExports.jsx(Container,{children:jsxRuntimeExports.jsxs(Callout,{children:[jsxRuntimeExports.jsxs(CalloutContent,{children:[jsxRuntimeExports.jsx(CalloutHeading,{children:"Ready to get started?"}),jsxRuntimeExports.jsx(CalloutSubheading,{children:"Scan the QR code to download the Vetcation app."})]}),jsxRuntimeExports.jsx(RightSide,{children:a&&jsxRuntimeExports.jsx(QRCodeImage,{src:a,alt:"Scan to download the Vetcation app"})})]})});pt.section`
  padding: 5rem 2rem;
  background: #000;
  color: #7b858b;
  text-align: center;
`;pt.header`
  margin-bottom: 4rem;
`;pt.h2`
  color: #fff;
`;pt.p`
  color: #7b858b; // Assuming you want regular text slightly lighter/different from the container
`;pt.strong`
  color: #fff;
`;pt.div`
  padding: 4rem;
  border-radius: 5px;
  background: var(
    --color-primary,
    #0056b3
  ); // Fallback color if the variable isn't set
  color: #fff;
  margin-top: 2rem;
`;pt.a`
  color: var(
    --color-accent,
    #ff6347
  ); // Fallback color if the variable isn't set
  text-decoration: none;
  text-transform: uppercase;
  font-size: 2rem;
  font-weight: bold;

  &::after {
    content: "-->";
    margin-left: 5px;
    transition: margin 0.15s;
  }

  &:hover::after {
    margin-left: 10px;
  }
`;pt.section`
  background: #f8fafc;
  border-top: 1px solid #eef2f7;
  padding: 32px 0 48px;
`;pt.div`
  max-width: 1140px;
  margin: 0 auto;
  padding: 0 20px;
`;pt.div`
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #6b7280;
  display: inline-flex;
  align-items: center;
  gap: 6px;
`;pt.h2`
  margin: 8px 0 6px;
  /* font-size: clamp(28px, 3.6vw, 32px); */
  font-size: 40px;
  line-height: 1.25;
  font-weight: 600;
  color: #000000;
`;pt.p`
  margin: 0;
  font-size: 22px;
  line-height: 1.45;
  /* color: #475569; */
`;pt.div`
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 12px;
`;pt.span`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid #e2e8f0;
  background: #ffffff;
  color: #0f172a;
`;pt.div`
  margin-top: 12px;
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
`;pt.a`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 13px;
  text-decoration: none;
  background: #f5f9ff;
  border: 1px solid #4d9fec;
  color: #1e3a8a;

  &:hover {
    background: #eaf3ff;
  }
  &:focus-visible {
    outline: 2px solid #a9d0ff;
    outline-offset: 2px;
  }
`;pt.div`
  margin-top: 16px;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.06), 0 4px 10px rgba(0, 0, 0, 0.04);
  background: #fff;
`;pt.p`
  margin: 10px 2px 0;
  font-size: 12px;
  color: #6b7280;
`;function RegisterPage(){const[a,e]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Header$3,{onLoginClick:()=>e(!0)}),jsxRuntimeExports.jsx(HeroSection$1,{}),jsxRuntimeExports.jsx(RegisterSection,{}),jsxRuntimeExports.jsx(TestimonialsSection,{}),jsxRuntimeExports.jsx(GetStartedCallout,{qrCodeLink:qrCodeImage}),jsxRuntimeExports.jsx(Footer,{}),jsxRuntimeExports.jsx(LoginModal,{open:a,onClose:()=>e(!1)})]})}const GlobalStyle=ht`
  body {
    font-family: 'Arial', sans-serif; // You can customize this with any sans-serif font you prefer
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    background-color: #f2f4f7; // Example background color
  }

  .highlight {
    color: #fff;
    font-weight: bold;

    border-radius: 4px;
  }

  
  
`,RedirectPage=()=>(reactExports.useEffect(()=>{(()=>{const e=navigator.userAgent||window.opera;console.log("User Agent:",e);const o=/iPad|iPhone|iPod/.test(e)&&!window.MSStream,c=/android/i.test(e);console.log("Is iOS:",o),console.log("Is Android:",c),setTimeout(()=>{o?window.location.href="https://apps.apple.com/us/app/vetcation/id6470849243":c?window.location.href="https://play.google.com/store/apps/details?id=com.vetcation.vetcationapp":console.log("Non-mobile device detected or OS not recognized.")},500)})()},[]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"Redirecting..."}),jsxRuntimeExports.jsx("p",{children:"Please wait while we redirect you to the appropriate app store."})]})),Page$5=pt.main`
  --bg: #0b0b0b;
  --surface: #0b0b0b;
  --border: rgba(255, 255, 255, 0.08);
  --text: #eaeaea;
  --muted: #a1a1a1;
  --accent: #60a5fa;
  --accent-2: #22d3ee;

  background: radial-gradient(
      1200px 600px at 20% -10%,
      #0f172a 0%,
      var(--bg) 45%
    )
    fixed;
  color: var(--text);
  min-height: 100vh;
`,Header$1=pt.header`
  padding: clamp(24px, 4vw, 48px) 0;
  border-bottom: 1px solid var(--border);
  background: linear-gradient(
    180deg,
    rgba(34, 211, 238, 0.06) 0%,
    rgba(96, 165, 250, 0.04) 60%,
    transparent 100%
  );
`,Title$6=pt.h1`
  font-size: clamp(28px, 4vw, 40px);
  font-weight: 800;
  letter-spacing: 0.2px;
  margin: 0;
`,Sub$2=pt.p`
  margin: 12px 0 0 0;
  color: var(--muted);
  max-width: 62ch;
`,Badge$4=pt.span`
  display: inline-block;
  margin-top: 12px;
  padding: 6px 10px;
  border: 1px solid var(--border);
  border-radius: 999px;
  font-size: 12.5px;
  color: #cfcfcf;
`,LayoutCol$1=pt(Col)`
  @media (min-width: 992px) {
    padding-right: 28px;
  }
`,Section$2=pt.section`
  padding: 0;
`,SectionTitle$4=pt.h2`
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: clamp(18px, 2.2vw, 20px);
  font-weight: 700;
  margin: 0 0 10px 0;
  scroll-margin-top: 96px;
`,SectionBody$1=pt.div`
  color: var(--muted);
  line-height: 1.7;
  a {
    color: #d7e2ff;
    text-decoration: underline dotted;
    text-underline-offset: 2px;
  }
  strong {
    color: var(--text);
  }
`,Divider$1=pt.hr`
  height: 1px;
  border: 0;
  background: var(--border);
  margin: clamp(18px, 3.5vw, 28px) 0;
`,List=pt.ul`
  margin: 6px 0 0 0;
  padding-left: 18px;
  color: var(--muted);
  line-height: 1.7;
  li + li {
    margin-top: 6px;
  }
  strong {
    color: var(--text);
  }
`,StickyToc$1=pt.nav`
  position: sticky;
  top: 24px;
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
  background: rgba(255, 255, 255, 0.02);
  @media (max-width: 991.98px) {
    margin-top: 18px;
  }
`,TocTitle$1=pt.div`
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--muted);
  margin-bottom: 8px;
`,TocList$1=pt.ul`
  list-style: none;
  margin: 0;
  padding: 0;
`,TocItem$1=pt.li`
  a {
    display: block;
    padding: 8px 10px;
    margin: 2px 0;
    border-radius: 10px;
    color: #d7e2ff;
    text-decoration: none;
    font-size: 14px;
    transition: background 0.2s ease, color 0.2s ease, transform 0.04s ease;
    &:hover {
      background: rgba(96, 165, 250, 0.12);
      color: #fff;
      transform: translateY(-1px);
    }
    &:active {
      transform: translateY(0);
    }
  }
`,FooterMeta$1=pt.div`
  margin-top: 16px;
  color: var(--muted);
  font-size: 12.5px;
`;function PrivacyPolicyPage(){const a="September 16, 2025",e=reactExports.useMemo(()=>[{id:"no-sale",icon:jsxRuntimeExports.jsx(FaShieldAlt,{}),title:"Disclaimer: We Do Not Sell Your Data",body:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["We are committed to safeguarding your privacy and ensuring the security of your personal information."," ",jsxRuntimeExports.jsx("strong",{children:"Vetcation does not sell, trade, or rent users personal identification information."})," ","Any data we collect is used solely to provide and improve our services, and we only share information as described in this Privacy Policy."]})},{id:"info-we-collect",title:"Information We Collect",body:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"We may collect personal information when you register, place an order, subscribe to a newsletter, respond to a survey, fill out a form, or use features within the Service (e.g., name, email, mailing address, phone number). You may visit the Service anonymously. We collect personal information only if you voluntarily submit it; refusal may limit participation in some activities."})},{id:"how-we-use",title:"How We Use Collected Information",body:jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"To improve customer service:"})," Helps us respond to requests and support needs more efficiently."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"To personalize user experience:"})," We may use aggregate information to understand how users as a group use the Service."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"To send periodic emails:"})," Order updates and responses to inquiries or requests."]})]})},{id:"security",title:"How We Protect Your Information",body:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"We adopt appropriate data collection, storage, and processing practices and security measures to protect against unauthorized access, alteration, disclosure, or destruction of personal information, credentials, transaction data, and other information stored on the Service."})},{id:"changes",title:"Changes to This Privacy Policy",body:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"We may update this Privacy Policy from time to time. When we do, we will revise the effective date above. Please review this page periodically to stay informed about how we protect your information."})},{id:"acceptance",title:"Your Acceptance of These Terms",body:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"By using the Service, you agree to this Privacy Policy. If you do not agree, please do not use the Service. Continued use following posted changes signifies your acceptance of those changes."})},{id:"sms",title:"No Mobile Information Sharing",body:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"No mobile information will be shared with third parties or affiliates for marketing or promotional purposes. All the above categories exclude text messaging originator opt-in data and consent; this information will not be shared with any third parties."})},{id:"contact",icon:jsxRuntimeExports.jsx(FaEnvelope,{}),title:"Contacting Us",body:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["If you have questions about this Privacy Policy or your dealings with this Service, please email"," ",jsxRuntimeExports.jsx("a",{href:"mailto:gcfchen@vetcation.com",children:"gcfchen@vetcation.com"}),"."]})}],[]);return jsxRuntimeExports.jsxs(Page$5,{children:[jsxRuntimeExports.jsx(Header$1,{children:jsxRuntimeExports.jsx(Container$1,{children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{lg:9,xl:8,children:[jsxRuntimeExports.jsx(Title$6,{children:"Privacy Policy"}),jsxRuntimeExports.jsx(Sub$2,{children:"This Privacy Policy describes how Vetcation collects, uses, and protects information on our platform and related services (Service)."}),jsxRuntimeExports.jsxs(Badge$4,{children:["Effective Date: ",a]})]})})})}),jsxRuntimeExports.jsx(Container$1,{style:{paddingTop:24,paddingBottom:40},children:jsxRuntimeExports.jsxs(Row,{className:"g-4",children:[jsxRuntimeExports.jsxs(LayoutCol$1,{lg:8,xl:8,children:[e.map((o,c)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[c!==0&&jsxRuntimeExports.jsx(Divider$1,{"aria-hidden":"true"}),jsxRuntimeExports.jsxs(Section$2,{id:o.id,"aria-labelledby":`${o.id}-title`,children:[jsxRuntimeExports.jsxs(SectionTitle$4,{id:`${o.id}-title`,children:[o.icon??null,o.title]}),jsxRuntimeExports.jsx(SectionBody$1,{children:o.body})]})]},o.id)),jsxRuntimeExports.jsxs(FooterMeta$1,{children:["Last updated: ",new Date().toLocaleDateString()]})]}),jsxRuntimeExports.jsx(Col,{lg:4,xl:4,children:jsxRuntimeExports.jsxs(StickyToc$1,{"aria-label":"On this page",children:[jsxRuntimeExports.jsx(TocTitle$1,{children:"On this page"}),jsxRuntimeExports.jsx(TocList$1,{children:e.map(o=>jsxRuntimeExports.jsx(TocItem$1,{children:jsxRuntimeExports.jsx("a",{href:`#${o.id}`,children:o.title})},o.id))})]})})]})})]})}const Page$4=pt.main`
  --bg: #0b0b0b;
  --surface: #0b0b0b;
  --border: rgba(255, 255, 255, 0.08);
  --text: #eaeaea;
  --muted: #a1a1a1;
  --accent: #60a5fa;
  --accent-2: #22d3ee;

  background: radial-gradient(
      1200px 600px at 20% -10%,
      #0f172a 0%,
      var(--bg) 45%
    )
    fixed;
  color: var(--text);
  min-height: 100vh;
`,Header=pt.header`
  padding: clamp(24px, 4vw, 48px) 0;
  border-bottom: 1px solid var(--border);
  background: linear-gradient(
    180deg,
    rgba(34, 211, 238, 0.06) 0%,
    rgba(96, 165, 250, 0.04) 60%,
    transparent 100%
  );
`,Title$5=pt.h1`
  font-size: clamp(28px, 4vw, 40px);
  font-weight: 800;
  letter-spacing: 0.2px;
  margin: 0;
`,Sub$1=pt.p`
  margin: 12px 0 0 0;
  color: var(--muted);
  max-width: 62ch;
`,Badge$3=pt.span`
  display: inline-block;
  margin-top: 12px;
  padding: 6px 10px;
  border: 1px solid var(--border);
  border-radius: 999px;
  font-size: 12.5px;
  color: #cfcfcf;
`,LayoutCol=pt(Col)`
  @media (min-width: 992px) {
    padding-right: 28px;
  }
`,Section$1=pt.section`
  padding: 0;
`,SectionTitle$3=pt.h2`
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: clamp(18px, 2.2vw, 20px);
  font-weight: 700;
  margin: 0 0 10px 0;
  scroll-margin-top: 96px; /* anchor offset below sticky navs */
  & svg {
    opacity: 0.9;
  }
`,SectionBody=pt.div`
  color: var(--muted);
  line-height: 1.7;
  a {
    color: #d7e2ff;
    text-decoration: underline dotted;
    text-underline-offset: 2px;
  }
  strong {
    color: var(--text);
  }
`,Divider=pt.hr`
  height: 1px;
  border: 0;
  background: var(--border);
  margin: clamp(18px, 3.5vw, 28px) 0;
`;pt.ul`
  margin: 6px 0 0 0;
  padding-left: 18px;
  color: var(--muted);
  line-height: 1.7;
  li + li {
    margin-top: 6px;
  }
  strong {
    color: var(--text);
  }
`;const StickyToc=pt.nav`
  position: sticky;
  top: 24px;
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
  background: rgba(255, 255, 255, 0.02);
  @media (max-width: 991.98px) {
    margin-top: 18px;
  }
`,TocTitle=pt.div`
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--muted);
  margin-bottom: 8px;
`,TocList=pt.ul`
  list-style: none;
  margin: 0;
  padding: 0;
`,TocItem=pt.li`
  a {
    display: block;
    padding: 8px 10px;
    margin: 2px 0;
    border-radius: 10px;
    color: #d7e2ff;
    text-decoration: none;
    font-size: 14px;
    transition: background 0.2s ease, color 0.2s ease, transform 0.04s ease;
    &:hover {
      background: rgba(96, 165, 250, 0.12);
      color: #fff;
      transform: translateY(-1px);
    }
    &:active {
      transform: translateY(0);
    }
  }
`,FooterMeta=pt.div`
  margin-top: 16px;
  color: var(--muted);
  font-size: 12.5px;
`;function SMSTermsPage(){const a="+16072589781",e="+15304006227",o=reactExports.useMemo(()=>[{id:"consent",icon:jsxRuntimeExports.jsx(FaSms,{}),title:"Consent to Receive SMS",body:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"By providing your mobile phone number and opting in, you consent to receive informational and promotional text messages from Vetcation. Message frequency may vary."})},{id:"rates",icon:jsxRuntimeExports.jsx(FaInfoCircle,{}),title:"Message & Data Rates May Apply",body:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Standard message and data rates may apply to messages sent and received. These charges are imposed and billed by your mobile service provider. Vetcation is not responsible for any charges you incur."})},{id:"carrier",icon:jsxRuntimeExports.jsx(FaShieldAlt,{}),title:"Carrier Disclaimer",body:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Carriers are not liable for delayed or undelivered messages."})},{id:"opt-out",icon:jsxRuntimeExports.jsx(FaPhoneAlt,{}),title:"Opting Out",body:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["To stop receiving SMS notifications from Vetcation, text"," ",jsxRuntimeExports.jsx("strong",{children:"STOP"})," to ",jsxRuntimeExports.jsx("strong",{children:a})," at any time. You may also contact us at ",jsxRuntimeExports.jsx("strong",{children:e})," to opt out."]})},{id:"help",title:"Text HELP",body:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["For assistance or questions about our SMS notifications, text"," ",jsxRuntimeExports.jsx("strong",{children:"HELP"})," to ",jsxRuntimeExports.jsx("strong",{children:a}),"."]})},{id:"privacy",title:"Privacy Policy",body:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Our SMS notifications are subject to our"," ",jsxRuntimeExports.jsx("a",{href:"/privacy-policy",children:"Privacy Policy"}),". By opting in, you acknowledge that you have read and agree to the Privacy Policy."]})},{id:"contact",title:"Contacting Us",body:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["If you have questions about these SMS Terms & Conditions or your dealings with us, please email"," ",jsxRuntimeExports.jsx("a",{href:"mailto:gcfchen@vetcation.com",children:"gcfchen@vetcation.com"}),"."]})}],[a,e]);return jsxRuntimeExports.jsxs(Page$4,{children:[jsxRuntimeExports.jsx(Header,{children:jsxRuntimeExports.jsx(Container$1,{children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{lg:9,xl:8,children:[jsxRuntimeExports.jsx(Title$5,{children:"SMS Terms & Conditions"}),jsxRuntimeExports.jsx(Sub$1,{children:"By opting in to receive SMS notifications from Vetcation, you agree to the following terms."}),jsxRuntimeExports.jsx(Badge$3,{children:"Program: Vetcation SMS"})]})})})}),jsxRuntimeExports.jsx(Container$1,{style:{paddingTop:24,paddingBottom:40},children:jsxRuntimeExports.jsxs(Row,{className:"g-4",children:[jsxRuntimeExports.jsxs(LayoutCol,{lg:8,xl:8,children:[o.map((c,et)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[et!==0&&jsxRuntimeExports.jsx(Divider,{"aria-hidden":"true"}),jsxRuntimeExports.jsxs(Section$1,{id:c.id,"aria-labelledby":`${c.id}-title`,children:[jsxRuntimeExports.jsxs(SectionTitle$3,{id:`${c.id}-title`,children:[c.icon??null,c.title]}),jsxRuntimeExports.jsx(SectionBody,{children:c.body})]})]},c.id)),jsxRuntimeExports.jsxs(FooterMeta,{children:["Last updated: ",new Date().toLocaleDateString()]})]}),jsxRuntimeExports.jsx(Col,{lg:4,xl:4,children:jsxRuntimeExports.jsxs(StickyToc,{"aria-label":"On this page",children:[jsxRuntimeExports.jsx(TocTitle,{children:"On this page"}),jsxRuntimeExports.jsx(TocList,{children:o.map(c=>jsxRuntimeExports.jsx(TocItem,{children:jsxRuntimeExports.jsx("a",{href:`#${c.id}`,children:c.title})},c.id))})]})})]})})]})}pt.section`
  max-width: 1140px;
  margin: 0 auto;
  padding: 0rem 2rem;
`;const breakpoint=800,fadeIn=ft`
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`;pt.section`
  background: #000;
  color: #7b858b;
  padding: 5rem 2rem;
  clip-path: polygon(0% 0%, 100% 0%, 100% 95%, 0% 100%);
`;pt.h1`
  color: #fff;
  margin-bottom: 1rem;
  font-size: 60px; // Adjust as necessary for responsive behavior
  font-weight: 700;
  @media (max-width: 1022px) {
    font-size: 48px;
  }
  @media (max-width: ${breakpoint}px) {
    text-align: center;
  }
`;pt.p`
  color: #b9c3cf;
  margin: 2rem 0 5rem;
  font-size: 24px; // Adjust as necessary for responsive behavior
  @media (max-width: 1022px) {
    font-size: 20px;
  }
  @media (max-width: ${breakpoint}px) {
    text-align: center;
  }
`;pt(Button$1).attrs({variant:"danger"})`
  padding: 2rem 4vw;
  text-transform: uppercase;
  border-radius: 100px;
  background: #ff3b00;
  &:hover {
    background: #ec3000; // Darker shade for hover
  }
  width: 240px; // Set a fixed width
  height: 60px; // Set a fixed height
  display: flex;
  justify-content: center;
  align-items: center;

  @media (max-width: ${breakpoint}px) {
    display: block;
    margin: 0 auto;
    margin-bottom: 1rem;
    height: 60px;
    width: 240px; // Adjust this to set a specific width or use 'auto' for full width
    display: flex;
    /* justify-content: center; */
    /* align-items: center; */
  }
`;pt.img`
  width: 100%;
  animation: ${fadeIn} 1s ease-out; // Apply the animation here
`;pt.section`
  max-width: 1140px;
  margin: 0 auto;
  padding: 0rem 2rem;
`;const TopNavBarContainer=pt.nav`
  background-color: transparent;
  padding: 1rem;
  padding-left: 1.5rem;
  display: flex;
  gap: 2rem;
  align-items: center;
  transition: transform 0.3s ease-in-out; /* for the slide animation */

  @media (max-width: 768px) {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 999;
    background-color: #111;

    /* If hideNav is true, slide up. Otherwise, slide down to 0. */
    transform: ${({$hideNav:a})=>a?"translateY(-100%)":"translateY(0)"};
  }
`;pt(Dropdown$1.Toggle)`
  width: 120px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
  text-align: left;
`;const TopNavLink=pt.span`
  cursor: pointer;
  color: ${a=>a.$active?"#1cd0b0":"#ccc"};
  font-weight: ${a=>a.$active?"bold":"normal"};
  &:hover {
    color: #fff;
  }
`,LogoContainer=pt.div`
  display: flex;
  align-items: center;
  gap: 15px;
  cursor: pointer;
`,Logo=pt.img`
  width: 25px;
`,LogoText$1=pt.span`
  font-size: 20px;
  font-weight: bold;
  color: white;
`;function TopNavBarRounter({topNavData:a,activeTopNav:e,handleTopNavClick:o,onBurgerClick:c,hideNav:et}){const tt=useNavigate(),nt=a.find(gt=>gt.id===e),rt=nt?nt.label:"Select...",mt=gt=>{o(gt.id)};return jsxRuntimeExports.jsxs(TopNavBarContainer,{$hideNav:et,children:[jsxRuntimeExports.jsxs(LogoContainer,{onClick:()=>tt("/"),children:[jsxRuntimeExports.jsx(Logo,{src:logo,alt:"Vetcation Logo"}),jsxRuntimeExports.jsx(LogoText$1,{children:"Vetcation"})]}),jsxRuntimeExports.jsx("div",{className:"d-none d-md-flex",style:{gap:"2rem"},children:a.map(gt=>jsxRuntimeExports.jsx(TopNavLink,{$active:e===gt.id,onClick:()=>mt(gt),children:gt.label},gt.id))}),jsxRuntimeExports.jsxs("div",{className:"d-md-none ms-auto",style:{display:"flex",gap:"1rem"},children:[jsxRuntimeExports.jsxs(Dropdown$1,{children:[jsxRuntimeExports.jsx(Dropdown$1.Menu,{children:a.map(gt=>jsxRuntimeExports.jsx(Dropdown$1.Item,{active:e===gt.id,onClick:()=>mt(gt),children:gt.label},gt.id))}),jsxRuntimeExports.jsx(Dropdown$1.Toggle,{variant:"secondary",id:"topNavDataDropdown",children:rt})]}),jsxRuntimeExports.jsx(Button$1,{variant:"primary",onClick:c,children:""})]})]})}const SidebarContainer=pt.div`
  width: 100%;
  max-width: 100%;
  background-color: #0d0d0d;
  color: #fff;
  padding: 16px;
  overflow-y: auto;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif;
`,SidebarGroupTitle=pt.div`
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #999;
  margin: 24px 0 8px;
`,VerticalLineContainer=pt.div`
  position: relative;
  margin-left: 0;
  padding-left: 16px;

  /* Draw the vertical line */
  &::before {
    content: "";
    position: absolute;
    left: 4px;
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: #333;
  }

  /* If you want to hide the line on the top item or control line offset, adjust as needed */
`,SecondLevelContainer=pt.div`
  position: relative;
  margin-left: 1px;
  padding-left: 10px;

  /* First line (the parent's line) is still visible from the parent container, 
     so we draw another line for the second level: */
  &::before {
    content: "";
    position: absolute;
    left: 4px;
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: #333;
  }
`,SidebarItemRow=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  padding: 6px 0;
  font-size: 0.875rem;
  color: ${a=>a.$active?"#1cd0b0":"#ccc"};
  transition: color 0.2s ease;

  &:hover {
    color: #fff;
  }

  ${a=>a.$active&&ct`
      font-weight: 500;
      /* Optionally add a small highlight bar or a different background color, e.g.: */
      /* border-left: 2px solid #4caf50; */
      /* background-color: #222; */
    `}
`,ArrowIcon=pt.span`
  font-size: 0.95rem;
  margin-left: 8px;
  transform: rotate(${a=>a.$isExpanded?"90deg":"0deg"});
  transition: transform 0.2s ease;
`,sideNavData={home:[{groupTitle:"GET STARTED",items:[{id:"introToVetcation",label:"Introduction for Veterinarians"},{id:"VirtualClinic",label:"Setting Up Your Virtual Clinic"},{id:"ViewingYourUpcomingAppointments",label:"View Upcoming Appointments"},{id:"VideoCall",label:"Video Call"},{id:"postAppointment",label:"Post-Appointment"},{id:"earnings",label:"Earnings & Wallet"},{id:"telemedicineAnalysis",label:"Telemedicine Analysis"}]},{groupTitle:"USER MANUAL",items:[{id:"scheduling",label:"Scheduling",subItems:[{id:"scheduleOverview",label:"Scheduling Overview"},{id:"regularAvailability",label:"Regular availability"},{id:"specificAvailability",label:"Specific Availability"},{id:"setMinimumNoticeTime",label:"Set Minimum Notice Time"},{id:"pauseAvailability",label:"Pause Availability"},{id:"mySchedule",label:"Manage My Schedule"}]},{id:"videoCalls",label:"Video Calls",subItems:[{id:"joinVideoCall",label:"Join a video call"},{id:"videoCallFeatures",label:"Call Features & Settings"},{id:"recordingAndConsent",label:"Recording & Consent"}]},{id:"InquiryBasedMessager",label:"Vetssenger",subItems:[{id:"InquiryBasedMessagerOverView",label:"Vetssenger Overview"},{id:"VetssengerVCPRStatus",label:"Vetssenger VCPR Status"},{id:"StartNewCase",label:"Start a New Case"},{id:"RespondToCase",label:"Respond to a Case"},{id:"CloseCase",label:"Close/Reopen a Case"},{id:"ViewCaseHistory",label:"View Case History"},{id:"VetssengerNotes",label:"Vetssenger Notes"},{id:"MedicalRecords",label:"Medical Records"}]},{id:"Medical Records",label:"Medical Records",subItems:[{id:"MedicalHistoryOverview",label:"Medical History Overview"},{id:"DAP",label:"Data, Assessment, Plan (DAP)"},{id:"noteforclient",label:"Note for Client"},{id:"addprescription",label:"Add Prescription"},{id:"pharmacys",label:"Pharmacy / clients choice"}]},{id:"marketing",label:"Marketing",subItems:[{id:"CommunityMarketing",label:"Community Marketing"},{id:"partnerWithClinic",label:"Partner with a Clinic"}]}]},{groupTitle:"Regulatory Compliance",items:[{id:"Bill1399",label:"AB 1399 FAQ"},{id:"VCPR",label:"VCPR"},{id:"PrescriptionLimits",label:"Prescription Limits"},{id:"PrivacyConfidentiality",label:"Privacy and Confidentiality"},{id:"RacehorseCHRBRestrictions",label:"Racehorse & CHRB Restrictions"},{id:"RecordKeepingDocumentation",label:"Record-Keeping & Documentation"},{id:"MiscellaneousClarifications",label:"Miscellaneous Clarifications"}]}],contributors:[{groupTitle:"Vetcation Contributors",items:[{id:"ourContributors",label:"Our Contributors"}]}],clients:[{groupTitle:"GET STARTED",items:[{id:"clientIntroToVetcation",label:"Introduction for Pet Owners"},{id:"settingUpVetcation",label:"Setting Up & Using Vetcation"},{id:"yourClinicsTelemedicineServices",label:"Your Home Clinic's Telemedicine Services",subItems:[{id:"addingYourPets",label:"Adding Your Pets"},{id:"UpdateLegalProfile",label:"Legal & Hospital Linking"},{id:"schedulingAnAppointment",label:"Scheduling an Appointment"},{id:"duringYourAppointment",label:"During Your Appointment"},{id:"afterYourAppointment",label:"After Your Appointment"},{id:"followUpCare",label:"Follow-Up Care"}]},{id:"vetcationCommunity",label:"Vetcation Community"}]}],telemedicineCases:[{groupTitle:"Telemedicine Cases",items:[{id:"telemedicineCasesOverview",label:"Telemedicine Cases Overview"},{id:"generalPracticeTelemedicine",label:"General Practice Telemedicine"},{id:"dermatologyTelemedicine",label:"Dermatology Telemedicine"},{id:"oncologyTelemedicine",label:"Oncology Telemedicine"},{id:"behaviorTelemedicine",label:"Behavior Telemedicine"},{id:"nutritionTelemedicine",label:"Nutrition Telemedicine"},{id:"internalMedicineTelemedicine",label:"Internal Medicine (SAIM)",subItems:[{id:"endocrinologyTelemedicine",label:"Endocrinology Telemedicine"},{id:"nephrologyUrologyTelemedicine",label:"Nephrology/Urology Telemedicine"},{id:"cardiologyTelemedicine",label:"Cardiology Telemedicine"},{id:"gastroenterologyTelemedicine",label:"Gastroenterology Telemedicine"},{id:"pulmonologyRespiratoryTelemedicine",label:"Pulmonology/Respiratory Telemedicine"},{id:"neurologyTelemedicine",label:"Neurology Telemedicine"},{id:"hematologyImmunologyTelemedicine",label:"Hematology/Immunology Telemedicine"},{id:"infectiousDiseasesTelemedicine",label:"Infectious Diseases Telemedicine"}]}]}],onehealth:[{groupTitle:"Overview",items:[{id:"collaborationsOverview",label:"Our Collaboration Mission"}]},{groupTitle:"Initiatives",items:[{id:"ohvsPrupas",label:"One Health Veterinary Solutions"},{id:"alignCare",label:"AlignCare (Access to Care)"},{id:"dvSafetyNet",label:"Domestic Violence Pet Safety-Net"},{id:"oneHealthCoordinator",label:"One Health Coordinator Model"},{id:"housingRetention",label:"Housing & Pet Retention"},{id:"shelterBehavior",label:"Shelter Behavioral Support"},{id:"communityPrevention",label:"Community Prevention Clinics"},{id:"getInvolved",label:"Get Involved"}]}],clinics:[{groupTitle:"GET STARTED",items:[{id:"clinicIntroToVetcation",label:"Introduction for Hospitals"},{id:"VirtualBranch",label:"Setting Up Your Virtual Branch"},{id:"clinicEarnings",label:"Earnings & Wallet"},{id:"clinicOutcomeAnalysis",label:"Outcome Analysis"}]},{groupTitle:"Regulatory Compliance",items:[{id:"Bill1399",label:"AB 1399 FAQ"},{id:"VCPR",label:"VCPR"},{id:"PrescriptionLimits",label:"Prescription Limits"},{id:"PrivacyConfidentiality",label:"Privacy and Confidentiality"},{id:"RacehorseCHRBRestrictions",label:"Racehorse & CHRB Restrictions"},{id:"RecordKeepingDocumentation",label:"Record-Keeping & Documentation"},{id:"MiscellaneousClarifications",label:"Miscellaneous Clarifications"}]}],corporations:[{groupTitle:"GET STARTED",items:[{id:"corpIntroToVetcation",label:"Introduction for Corporate Veterinary Groups"}]},{groupTitle:"Regulatory Compliance",items:[{id:"Bill1399",label:"AB 1399 FAQ"},{id:"VCPR",label:"VCPR"},{id:"PrescriptionLimits",label:"Prescription Limits"},{id:"PrivacyConfidentiality",label:"Privacy and Confidentiality"},{id:"RacehorseCHRBRestrictions",label:"Racehorse & CHRB Restrictions"},{id:"RecordKeepingDocumentation",label:"Record-Keeping & Documentation"},{id:"MiscellaneousClarifications",label:"Miscellaneous Clarifications"}]}],compliance:[{groupTitle:"Regulatory Compliance",items:[{id:"Bill1399",label:"AB 1399 FAQ"},{id:"VCPR",label:"VCPR"},{id:"PrescriptionLimits",label:"Prescription Limits"},{id:"PrivacyConfidentiality",label:"Privacy and Confidentiality"},{id:"RacehorseCHRBRestrictions",label:"Racehorse & CHRB Restrictions"},{id:"RecordKeepingDocumentation",label:"Record-Keeping & Documentation"},{id:"MiscellaneousClarifications",label:"Miscellaneous Clarifications"}]}],rvts:[{groupTitle:"RVT",items:[{id:"introToRVT",label:"Intro to RVT"}]}]};function MySidebarRouter({activeTopNav:a="home",closeOffcanvas:e=()=>{}}){const[o,c]=reactExports.useState([]),et=useLocation(),tt=et.pathname.replace(/\/+$/,"");reactExports.useEffect(()=>{var vt;const mt=sideNavData[a]||[],gt=tt,yt=[];for(const xt of mt)for(const bt of xt.items||[])(vt=bt.subItems)!=null&&vt.some(Et=>`/telemedicine-info/${a}/${Et.id}`===gt)&&yt.push(bt.id);c(xt=>Array.from(new Set([...xt,...yt])))},[et.pathname,a]);function nt(mt){c(gt=>gt.includes(mt)?gt.filter(yt=>yt!==mt):[...gt,mt])}const rt=sideNavData[a]||[];return jsxRuntimeExports.jsx(SidebarContainer,{children:rt.map(mt=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(SidebarGroupTitle,{children:mt.groupTitle}),jsxRuntimeExports.jsx(VerticalLineContainer,{children:mt.items.map(gt=>{var bt;const yt=((bt=gt.subItems)==null?void 0:bt.length)>0,vt=o.includes(gt.id),xt=`/telemedicine-info/${a}/${gt.id}`;if(yt){const Et=gt.subItems.some(wt=>tt===`/telemedicine-info/${a}/${wt.id}`);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(SidebarItemRow,{onClick:()=>nt(gt.id),$active:Et,children:[jsxRuntimeExports.jsx("span",{children:gt.label}),jsxRuntimeExports.jsx(ArrowIcon,{$isExpanded:vt,children:""})]}),vt&&jsxRuntimeExports.jsx(SecondLevelContainer,{children:gt.subItems.map(wt=>{const St=`/telemedicine-info/${a}/${wt.id}`,Tt=tt===St;return jsxRuntimeExports.jsx(SidebarItemRow,{$active:Tt,children:jsxRuntimeExports.jsx(Link,{to:{pathname:St,state:{suppressInitialHash:!0}},state:{suppressInitialHash:!0},onClick:e,style:{textDecoration:"none",color:"inherit"},children:wt.label})},wt.id)})})]},gt.id)}else{const Et=tt===xt;return jsxRuntimeExports.jsx(SidebarItemRow,{$active:Et,children:jsxRuntimeExports.jsx(Link,{to:{pathname:xt,state:{suppressInitialHash:!0}},state:{suppressInitialHash:!0},onClick:e,style:{textDecoration:"none",color:"inherit"},children:gt.label})},gt.id)}})})]},mt.groupTitle))})}function RightSideBarRouter({docSections:a=[],activeSectionId:e,onSectionClick:o}){const c=useNavigate(),et=useLocation();return jsxRuntimeExports.jsxs("div",{style:{padding:"1rem"},children:[jsxRuntimeExports.jsx("h6",{style:{marginBottom:"1rem"},children:"On this page"}),jsxRuntimeExports.jsx(VerticalLineContainer,{children:a.map(tt=>{const nt=e===tt.id;return jsxRuntimeExports.jsx(SidebarItemRow,{$active:nt,onClick:()=>{c({pathname:et.pathname,hash:tt.id},{replace:!1}),o(tt.id)},style:{cursor:"pointer",fontWeight:nt?"bold":"normal",color:nt?"#fff":"#ccc"},children:jsxRuntimeExports.jsx("span",{children:tt.title})},tt.id)})}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"2rem"},children:[jsxRuntimeExports.jsx("h6",{children:"Is this page helpful?"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[jsxRuntimeExports.jsx("button",{style:{background:"transparent",border:"1px solid #444",color:"#ccc",padding:"0.5rem 1rem",cursor:"pointer"},onClick:()=>console.log("Yes clicked"),children:"Yes"}),jsxRuntimeExports.jsx("button",{style:{background:"transparent",border:"1px solid #444",color:"#ccc",padding:"0.5rem 1rem",cursor:"pointer"},onClick:()=>console.log("No clicked"),children:"No"})]})]})]})}const topNavData=[{id:"clients",label:"For Pet Owners",defaultDocId:"clientIntroToVetcation"},{id:"home",label:"For Vets",defaultDocId:"introToVetcation"},{id:"clinics",label:"For Hospitals",defaultDocId:"clinicIntroToVetcation"},{id:"corporations",label:"For Corporations",defaultDocId:"corpIntroToVetcation"},{id:"compliance",label:"Compliance",defaultDocId:"Bill1399"},{id:"telemedicineCases",label:"Case Map",defaultDocId:"telemedicineCasesOverview"},{id:"contributors",label:"Contributors",defaultDocId:"ourContributors"}];function ScrollToTop({containerRef:a}){const{pathname:e}=useLocation();return reactExports.useEffect(()=>{a&&a.current?a.current.scrollTo({top:0,behavior:"auto"}):window.scrollTo({top:0,behavior:"auto"})},[e,a]),null}const Banner=pt.section`
  --bg: #101315;
  --border: #1f2a35;
  --text: #e6f0f3;
  --muted: #9fb3c8;

  display: grid;
  grid-template-columns: auto 1fr;
  gap: 14px;
  align-items: center;

  background: linear-gradient(180deg, #0c0f12, #0e1317);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px 16px;
  color: var(--text);
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.02) inset,
    0 10px 24px rgba(10, 15, 20, 0.35);
`,Badge$2=pt.div`
  display: grid;
  place-items: center;
  width: 46px;
  height: 46px;
  border-radius: 12px;
  background: radial-gradient(100% 100% at 0% 0%, #123, #0a1822);
  border: 1px solid #1f2a35;

  svg {
    width: 22px;
    height: 22px;
    color: #4d9fec; /* modern blue accent */
  }
`,TitleRow$1=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 700;
  font-size: 15px;
`,CheckIcon=pt(FaCheckCircle)`
  width: 16px;
  height: 16px;
  color: #46d49f; /* subtle green for verified */
`,Sub=pt.p`
  margin: 4px 0 0;
  color: var(--muted);
  font-size: 13px;
  line-height: 1.4;
`;function ComplianceVettedBanner(){return jsxRuntimeExports.jsxs(Banner,{"aria-label":"Compliance review verification",children:[jsxRuntimeExports.jsx(Badge$2,{children:jsxRuntimeExports.jsx(FaShieldAlt,{"aria-hidden":!0})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(TitleRow$1,{children:[jsxRuntimeExports.jsx("span",{children:"Compliance vetted"}),jsxRuntimeExports.jsx(CheckIcon,{"aria-hidden":!0})]}),jsxRuntimeExports.jsxs(Sub,{children:["By ",jsxRuntimeExports.jsx("strong",{children:"Bonnie L. Lutz"}),"  defended 500+ veterinarians before the Veterinary Medical Board; general counsel to numerous humane societies across California."]})]})]})}const PageWrapper$1=pt.div`
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: #111;
  color: #fff;
`,MiddleColumn=pt.div`
  /* spacing inside the scroll container */
  padding: 16px clamp(12px, 2.5vw, 28px) 24px; /* top, horizontal, bottom */

  /* keeps content below the fixed 60px navbar on desktop */
  height: calc(100vh - 60px);
  background: #1c1c1c;
  overflow-y: auto;

  /* makes scrollIntoView() stop with a little headroom */
  scroll-padding-top: 16px;

  @media (max-width: 768px) {
    /* mobile uses window scroll; give room for fixed navbar + a little gap */
    height: auto;
    overflow-y: visible;
    padding: 76px 16px 24px; /* 60px navbar + 16px breathing space */
    scroll-padding-top: 76px;
  }
`;function DocsLayout(){const a=reactExports.useRef(!1),{topNavId:e="home",docId:o}=useParams(),c=useLocation(),et=reactExports.useRef(c.key),tt=useNavigate(),[nt,rt]=reactExports.useState(!1),[mt,gt]=reactExports.useState([]),[yt,vt]=reactExports.useState(null),[xt,bt]=reactExports.useState(!1),Et=reactExports.useRef(null),wt=reactExports.useRef(0),St=reactExports.useCallback(_t=>{gt(_t||[])},[]),Tt=reactExports.useCallback(_t=>{vt(_t)},[]);reactExports.useLayoutEffect(()=>{if(c.hash)return;const _t=Et.current;window.matchMedia("(max-width: 768px)").matches?(window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,wt.current=0,bt(!1)):_t&&(_t.scrollTop=0)},[c.pathname]);const kt=_t=>{const Mt=topNavData.find(It=>It.id===_t),Pt=(Mt==null?void 0:Mt.defaultDocId)??"introToVetcation";tt(`/telemedicine-info/${_t}/${Pt}/`,{state:{suppressInitialHash:!0}})};return reactExports.useLayoutEffect(()=>{et.current!==c.key&&(a.current=!0,et.current=c.key)},[c.key]),reactExports.useEffect(()=>{vt(null)},[c.pathname]),reactExports.useEffect(()=>{if(yt){if(a.current){a.current=!1;return}tt({pathname:c.pathname,hash:yt},{replace:!0})}},[yt,c.pathname,tt]),reactExports.useEffect(()=>{var _t;if(c.hash){const Mt=c.hash.slice(1);vt(Mt),(_t=document.getElementById(Mt))==null||_t.scrollIntoView({behavior:"auto",block:"start"})}},[]),reactExports.useEffect(()=>{const _t=window.matchMedia("(max-width: 768px)").matches,Mt=()=>{if(!_t)return;const Pt=wt.current,It=window.scrollY;It-Pt>30?bt(!0):Pt-It>20&&bt(!1),wt.current=It};if(_t)window.addEventListener("scroll",Mt,{passive:!0});else{const Pt=Et.current;return Pt&&Pt.addEventListener("scroll",Mt,{passive:!0}),()=>Pt&&Pt.removeEventListener("scroll",Mt)}return()=>window.removeEventListener("scroll",Mt)},[]),jsxRuntimeExports.jsxs(PageWrapper$1,{children:[jsxRuntimeExports.jsx(TopNavBarRounter,{topNavData,activeTopNav:e,handleTopNavClick:kt,onBurgerClick:()=>rt(!0),hideNav:xt}),jsxRuntimeExports.jsx(Container$1,{fluid:!0,style:{flex:1},children:jsxRuntimeExports.jsxs(Row,{style:{height:"100%"},children:[jsxRuntimeExports.jsx(Col,{xs:12,md:3,lg:2,className:"d-none d-md-block",style:{padding:0,height:"calc(100vh - 60px)",overflowY:"auto"},children:jsxRuntimeExports.jsx(MySidebarRouter,{activeTopNav:e})}),jsxRuntimeExports.jsxs(Col,{as:MiddleColumn,xs:12,md:6,lg:8,ref:Et,children:[(o==="Bill1399"||o==="VCPR"||o==="PrescriptionLimits"||o==="PrivacyConfidentiality"||o==="RecordKeepingDocumentation"||o==="RacehorseCHRBRestrictions"||o==="MiscellaneousClarifications")&&jsxRuntimeExports.jsx("div",{style:{marginBottom:16},children:jsxRuntimeExports.jsx(ComplianceVettedBanner,{})}),jsxRuntimeExports.jsx(ScrollToTop,{containerRef:Et}),jsxRuntimeExports.jsx(Outlet,{context:{registerSections:St,setActiveSection:Tt,scrollToSection:_t=>{const Mt=document.getElementById(_t);Mt&&Mt.scrollIntoView({behavior:"smooth",block:"start"})}}})]}),jsxRuntimeExports.jsx(Col,{xs:12,md:3,lg:2,className:"d-none d-md-block",style:{padding:0,height:"calc(100vh - 60px)",overflowY:"auto"},children:jsxRuntimeExports.jsx(RightSideBarRouter,{docSections:mt,activeSectionId:yt,onSectionClick:_t=>{const Mt=document.getElementById(_t);Mt&&Mt.scrollIntoView({behavior:"smooth",block:"start"})}})})]})}),jsxRuntimeExports.jsxs(Offcanvas$1,{show:nt,onHide:()=>rt(!1),placement:"start",style:{width:"240px",backgroundColor:"#0d0d0d"},children:[jsxRuntimeExports.jsx(Offcanvas$1.Header,{closeButton:!0,closeVariant:"white"}),jsxRuntimeExports.jsx(Offcanvas$1.Body,{children:jsxRuntimeExports.jsx(MySidebarRouter,{activeTopNav:e,closeOffcanvas:()=>rt(!1)})})]})]})}const BulletList$2=pt.ul`
  list-style: disc;
  margin: 1rem 0;
  padding-left: 1.5rem;
  color: #ccc;

  .highlight {
    font-weight: bold;
    color: #fff;
  }
`,BulletListItem=pt.li`
  margin-bottom: 1rem;
  line-height: 1.6;
`,BulletListBlock=({block:a})=>jsxRuntimeExports.jsx(BulletList$2,{children:a.items.map((e,o)=>{const{heading:c="",lines:et=[]}=e;return jsxRuntimeExports.jsxs(BulletListItem,{children:[c&&jsxRuntimeExports.jsxs("span",{style:{fontWeight:"bold",color:"#fff"},children:[c,et.length===1&&jsxRuntimeExports.jsx("span",{style:{fontWeight:"normal",color:"#ccc",marginLeft:"0.3rem"},dangerouslySetInnerHTML:{__html:et[0]}})]}),et.length>1&&jsxRuntimeExports.jsx("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.2rem"},children:et.map((tt,nt)=>jsxRuntimeExports.jsx("li",{style:{marginBottom:"0.25rem"},dangerouslySetInnerHTML:{__html:tt}},`line-${nt}`))})]},o)})}),TrendContainer=pt.div`
  margin-bottom: 1.5rem;
  color: #ccc;
  line-height: 1.6;

  .highlight {
    font-weight: bold;
    color: #fff;
  }
`,TrendHeading=pt.span`
  font-weight: bold;
  color: #fff;
`,TrendPointsBlock=({block:a})=>{const{introParagraphs:e=[],items:o=[]}=a;return jsxRuntimeExports.jsxs(TrendContainer,{children:[e.map((c,et)=>jsxRuntimeExports.jsx("p",{style:{marginBottom:"1rem"},children:c},et)),jsxRuntimeExports.jsx("ul",{style:{paddingLeft:"1.2rem"},children:o.map((c,et)=>jsxRuntimeExports.jsxs("li",{style:{marginBottom:"1rem"},children:[c.heading&&jsxRuntimeExports.jsx(TrendHeading,{children:c.heading}),c.lines&&c.lines.length>0&&jsxRuntimeExports.jsx("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.2rem"},children:c.lines.map((tt,nt)=>jsxRuntimeExports.jsx("li",{style:{marginBottom:"0.5rem"},dangerouslySetInnerHTML:{__html:tt}},nt))})]},et))})]})},QAContentBlock=({block:a})=>jsxRuntimeExports.jsxs("div",{style:{marginBottom:"1.5rem"},children:[jsxRuntimeExports.jsx("p",{style:{fontWeight:"bold",color:"#1cd0b0"},children:a.question}),jsxRuntimeExports.jsx("p",{style:{marginLeft:"1rem",color:"#ccc"},dangerouslySetInnerHTML:{__html:a.answer}}),a.example&&jsxRuntimeExports.jsx("div",{style:{marginLeft:"1rem",fontStyle:"italic",color:"#ccc"},dangerouslySetInnerHTML:{__html:`<strong>Example:</strong> ${a.example}`}}),a.helpText&&jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #b1dbe3",borderRadius:"6px",padding:"1rem",marginTop:"1rem",marginLeft:"1rem",color:"#ccc"},children:[jsxRuntimeExports.jsx("strong",{style:{color:"#1cd0b0"},children:"How Vetcation Helps:"})," ",a.helpText]})]}),ParagraphBlock=({block:a})=>jsxRuntimeExports.jsx("p",{style:{marginBottom:"1.5rem",color:"#ccc"},dangerouslySetInnerHTML:{__html:a.text}}),VideoFrameContainer=pt.div`
  position: relative;
  width: 300px; /* match your iPhoneFrame's width */
  height: 600px; /* match your iPhoneFrame's height */
  margin: 2rem auto; /* center it horizontally, with some spacing */
`,FrameImage=pt.img`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  pointer-events: none; /* so the frame doesn't block interactions */
`,FramedImage=pt(motion.img)`
  position: absolute;
  top: 1.5%;
  left: 1.5%;
  width: 97%;
  height: 97%;
  object-fit: contain;
  border-radius: 30px; /* Adjust this value to match your iPhone frames rounded corners */
`,InnerFrame=pt.div`
  width: 100%;
  height: 100%;
  overflow: hidden;
  border-radius: 20px; /* Adjust as needed */
`,FramedImageBlock=({block:a})=>{const{heading:e,imageSrcs:o=[]}=a,c={hidden:{scale:.5,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",duration:.8}}};return jsxRuntimeExports.jsxs("div",{style:{marginTop:"2rem"},children:[e&&jsxRuntimeExports.jsx("h3",{style:{marginBottom:"1rem",color:"#fff"},children:e}),jsxRuntimeExports.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0rem",justifyContent:"space-evenly"},children:o.map((et,tt)=>jsxRuntimeExports.jsxs(VideoFrameContainer,{children:[jsxRuntimeExports.jsx(InnerFrame,{children:jsxRuntimeExports.jsx(FramedImage,{loading:"lazy",variants:c,initial:"hidden",whileInView:"visible",viewport:{once:!0},src:et,alt:`framed-screenshot-${tt}`})}),jsxRuntimeExports.jsx(FrameImage,{src:iPhoneFrame,alt:"iPhone Frame"})]},tt))})]})},contentData={home:{introToVetcation:{mainTitle:"Introduction for Veterinarians",mainDescription:"Vetcation is a legally compliant platform that empowers California-licensed veterinarians to launch your own virtual clinic, retain full ownership of clients, patient records, and revenue, and collaborate with clinics to provide telemedicine services. Our mission is to end burnout, build professional and lasting relationships with pet owners, and restore professional autonomy for veterinarians.",sections:[{id:"missionforvets",title:"Our Mission",blocks:[{type:"paragraph",text:'Vetcation is designed to address one of the biggest problems in the veterinary field: <span class="highlight">burnout</span>. Solving these problems is not as simple as taking more vacation; it requires building professional, respectful, and lasting relationships with clients. Many vets face a growing backlog of callbacks, owners who call repeatedly and expect hour-long return calls, or clients who are rude or accusatory, often bringing unrealistic expectations and distrustful, argumentative behavior. It only takes one difficult interaction to derail the day. These pressures are a primary driver of burnout and contribute to higher suicide rates within the veterinary profession.'},{type:"root",helpText:"We believe the root cause is the lack of a clear method for building incentive-aligned, trust-based, long-term relationships. People are usually kinder to those with whom they have an ongoing relationship and whom they expect to need in the future. High quality follow-up communication builds trust, but it takes vets' time. The solution is a reliable system that enables efficient communication with a proper compensation mechanism, incentivizing both sides to engage productively. The Vetssenger tool and the Vetcation ecosystem are the solution we have built to solve this issue, protect vets time, and ultimately end burnout. The stronger the healthy connection, the better the patient outcomes."}]},{id:"achieveWithVetcation",title:"What Can You Achieve with Vetcation?",blocks:[{type:"paragraph",text:"Vetcation enables vets to compound your work into assets you own: a growing client book, a trusted reputation in the professional community, and data that travels with you through every stage of your career."},{type:"bulletList",items:[{heading:"Build your own virtual clinic and brand:",lines:["Start a digital practice under your name and nurture strong, lasting client relationships. Your clients, your records, and your revenue stay with you."]},{heading:"Maximize your earning potential:",lines:["Retain up to 70% of your service fees. A full-time schedule (40 hours a week) can bring in $265,000 or more per year while reducing overhead and growing your independent practice."]},{heading:"Work on your terms, from anywhere:",lines:["Practice from a clinic, your home, or across the globe. Your client book and medical records travel with you, giving you true career mobility."]},{heading:"Partner with existing clinics:",lines:["With one click, collaborate with brick-and-mortar clinics to extend your reach. Their clients see your availability, while records and relationships remain part of your professional portfolio."]},{heading:"Your personal AI assistant:",lines:["Save time with a native AI that drafts Vetssenger notes and generates personalized DAPs. Deliver consistent, high-quality care while protecting your time."]},{heading:"Ensure compliance with AB 1399:",lines:["Vetcations infrastructure aligns with Californias telehealth law, AB 1399, providing automated documentation and audit readiness so your practice stays compliant as it grows."]}]}]},{id:"telemedicineCases",title:"What Cases Are Right for Telemedicine?",blocks:[{type:"paragraph",text:"Telemedicine suitability by case type"},{type:"table",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,minWidth:"720px",columns:[{key:"case",title:"Case"},{key:"fit",title:"Fit for telemedicine?"},{key:"help",title:"How vets help"},{key:"escalate",title:"When to escalate to in-person"}],rows:[{case:"Acute medical concerns",fit:"Often (triage first)",help:"Urgency check, first-aid guidance, next steps.",escalate:"Breathing trouble, collapse, uncontrolled pain/bleeding, suspected blockage  ER/clinic"},{case:"Behavior (aggression, litter box, etc.)",fit:"Strong fit",help:"Home-context review, behavior plan, trainer coordination.",escalate:"Immediate safety risks or neurologic red flags"},{case:"Skin issues (rashes, itchiness, redness)",fit:"Strong fit",help:"Photo/video review, topicals/meds, follow-ups.",escalate:"Deep/infected wounds needing procedures"},{case:"Allergies",fit:"Strong fit",help:"Flare control, diet trials, refills/adjustments (where permitted).",escalate:"Severe systemic reactions"},{case:"Minor cuts & wounds",fit:"Often",help:"Clean-care guidance, monitoring, refer if sutures likely.",escalate:"Large/deep wounds or bleeding that wont stop"},{case:"Nutrition & weight",fit:"Strong fit",help:"Diet selection, weight-loss plans, chronic-care coaching.",escalate:"Rapid unexplained weight loss  diagnostics"},{case:"GI (vomiting/diarrhea)",fit:"Often (mild cases)",help:"Hydration/diet plan, warning signs to watch.",escalate:"Severe, persistent, bloody, painful, or lethargic"},{case:"Puppy/kitten wellness & training",fit:"Strong fit",help:"Preventive care counseling, schedules, training tips.",escalate:"Vaccines/exams themselves are in-person"},{case:"General health & wellness",fit:"Strong fit",help:"Q&A, routine follow-ups, care plans.",escalate:"Anything requiring hands-on exam/tests"}],note:"Telemedicine is subject to CA rules (live video to establish VCPR; some meds limited)."}]},{id:"whyVirtualCareTrend",title:"Why Virtual Care Is Growing  And Why It Matters",blocks:[{type:"trendPoints",introParagraphs:["Veterinary medicine is experiencing a dynamic shift, driven by the rising demand for convenient, accessible care. The latest VVCA State of Veterinary Virtual Care Report (2024) highlights why veterinarians should embrace telehealth sooner than later:"],items:[{heading:"Critical Shortages in Veterinary Services:",lines:["Over 22% of U.S. counties have no veterinary employees, leaving millions of companion animals in underserved areas (VVCA Report 2024, p. 7).","The country faces a deficit of 12,000 veterinarians and 48,000 support staff, demanding innovative solutions like telemedicine (VVCA Report 2024, p. 7)."]},{heading:"Rapid Consumer Adoption:",lines:["Telehealth has become a key access point for pet owners seeking immediate answers  50% of global virtual consults address symptomatic issues (VVCA Report 2024, p. 10).","High demand and convenience are fueling telehealths growth, with pet owners embracing virtual visits to save travel time and reduce stress on their animals."]},{heading:"Synergy with In-Person Care:",lines:["Telemedicine consultations supplement physical visits, allowing continuous follow-up for chronic or non-emergency conditions, while maximizing clinic efficiency.","Over half of treatment consultations (58.4%) effectively resolved the issue without an immediate clinic visit, reducing in-person congestion (VVCA Report 2024, p. 21)."]},{heading:"Greater Efficiency & Cost Savings:",lines:["Practices that adopt telehealth often see reduced no-shows, more organized scheduling, and operational savings, boosting both profit and patient satisfaction (VVCA Report 2024)."]},{heading:"High Client Satisfaction:",lines:["Virtual interactions garner an average 98.4% satisfaction rate  pet owners appreciate the convenience and immediate access to professional advice (VVCA Report 2024, p. 14)."]}]}]}]},VirtualClinic:{mainTitle:"Build Your Virtual Clinic with Vetcation",mainDescription:"Vetcation empowers California-licensed veterinarians to transform remote care into a complete digital practice. Our platform goes beyond basic telemedicine by enabling you to build a branded virtual clinic, complete with secure recordkeeping, automated scheduling, and client management, all while staying fully compliant with AB 1399. Learn the difference between telemedicine and a virtual clinic, the legal compliance, and follow simple steps to set up your own clinic from anywhere.",sections:[{id:"diffTelemedVirtualClinic",title:"Telemedicine vs. Virtual Clinic",blocks:[{type:"qa",question:"What is the difference between practicing telemedicine and running a virtual clinic?",answer:"Telemedicine typically refers to providing remote consultations on an individual or ad-hoc basisusing tools like video calls or phone consultations. In contrast, a virtual clinic is a fully integrated, branded digital practice. It comes with structured scheduling, automated workflows, ongoing client relationship management, and integrated billing systems. Essentially, while telemedicine is a mode of delivering care, a virtual clinic is a complete business model designed to scale and enhance your remote practice.",example:"For example, if you simply offer remote consults via Zoom, thats basic telemedicine. However, if you have your own branded platform with personalized scheduling, client records, and automated reminders, you're operating a virtual clinic.",helpText:"By building a virtual clinic with Vetcation, you not only provide remote care but also create a sustainable, scalable practice that maximizes earnings and deepens client relationships."}]},{id:"legalCompliance",title:"Legal Compliance",blocks:[{type:"qa",question:"Are telehealth-only locations exempt from premises registration in California?",answer:"Under California law, a telehealth-only location (like your home office) is exempt from premises registration if you do not conduct in-person exams, do not store or dispense medications, and securely maintain medical records. (BPC,  4853(h).) Vetcations platform is designed to help you create a virtual clinic that meets these requirements."}]},{id:"overviewSteps",title:"Overview of Steps",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0889.webp?alt=media&token=e54cfd43-85fa-4235-a06b-c81509158953","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0891.webp?alt=media&token=8d64e774-b865-4ccb-8763-a4c04195714a"]},{type:"paragraph",text:"In telemedicine setting, here's a quick overview of the steps to set up your virtual clinic with Vetcation. Each step is explained in detail below. If the status icon in each item is not red, you have completed the necessary information in that step! Once you complete all steps, you can start setting up your regular availability and begin seeing clients."}]},{id:"updateLegalProfile",title:"Update Legal Profile",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0892.webp?alt=media&token=78568895-0f32-4930-9d36-bca32b1bca4a","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0893.webp?alt=media&token=b850419d-61e7-430d-af5f-1b8636ec8317"]},{type:"bulletList",items:[{heading:"Legal first and last name:",lines:["Make sure this matches your California license records."]},{heading:"Phone number:",lines:["Used for secure pharmacy contact."]},{heading:"Address:",lines:["List your legal business address. This can be your home address if you do not conduct in-person exams on-site."]},{heading:"Licenses:",lines:["Upload a current California veterinary license. Ensure expiration dates are accurate."]},{heading:"Professional liability insurance (recommended):",lines:["Upload a current certificate of professional liability insurance."]},{heading:"Specialist certifications (if applicable):",lines:["Upload any relevant specialist certifications. If you are a general practitioner, you can skip this. Specialists will obtain different badges on your profile."]},{heading:"Your signature:",lines:["Provide a digital signature to appear on records and prescriptions, where required."]}]}]},{id:"updatePublicProfile",title:"Update Public Profile",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0895.webp?alt=media&token=cb00ae2d-8e60-4fc1-95bc-2a302b56be3c","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0896.webp?alt=media&token=60934702-08cb-4fe6-8096-189bfe664de9"]},{type:"bulletList",items:[{heading:"About me:",lines:["Write a short, friendly introduction to help pet owners get to know you."]},{heading:"Which animals can you treat:",lines:["Specify if you treat dogs, cats, exotics, horses, etc."]},{heading:"Languages:",lines:["List any languages you speak to make care accessible to diverse pet owners."]},{heading:"Specialized in:",lines:["Mention any specialties such as dermatology, behavior, nutrition, etc. You can select multiple specialties even if you are a general practitioner."]},{heading:"Interested in:",lines:["Share your clinical interests to help match with ideal cases."]}]}]},{id:"setRate",title:"Set Rate",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0897.webp?alt=media&token=f37622c3-0b7f-41bb-a7da-aaace70c6ea1","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0898.webp?alt=media&token=dc216572-b1cc-4a1f-b6f2-394783b3502e"]},{type:"paragraph",text:"Setting your consultation rate is a crucial step in establishing your virtual clinic. Your rate should reflect your expertise, the value of your time, and the quality of care you provide. Consider factors such as your years of experience, any specialties you offer, and the typical rates in your area. "},{type:"bulletList",items:[{heading:"Choose your consultation rate",lines:["Set the default price clients will pay for each virtual visit. This rate can be adjusted when setting up your availability."]},{heading:"Change anytime",lines:["You can update your rate anytime through your dashboard."]}]}]},{id:"setMinimumNotice",title:"Set Minimum Notice Time",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/IMG_8347.PNG?alt=media&token=afa7a1d0-fd76-4c70-b9ff-603396f2d151"]},{type:"paragraph",text:"Some veterinarians only need about 15 minutes notice to get ready for an appointment, while others prefer a few hours in advance. Be sure to set your minimum booking notice in a way that fits your schedule, giving you enough time to prepare your space and get ready for each appointment."},{type:"bulletList",items:[{heading:"Define how far in advance clients can book",lines:["Choose a minimum notice period to help manage your time effectively."]},{heading:"Balance flexibility and control",lines:["Shorter notice = more spontaneous bookings. Longer notice = better planning."]}]}]},{id:"setFollowUpFee",title:"Set Follow-Up Fee",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0899.webp?alt=media&token=2299fb00-7d12-40b8-a93d-2b685b4c25c4","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0900.webp?alt=media&token=3c6ab220-b311-4d0c-b636-dd8ad3d2c4ac"]},{type:"paragraph",text:"What is a follow-up fee? Its a small, per-case charge shown to the pet owner when they start a new Vetssenger case to ask post-visit questions that require your professional time. Vetssenger is available only after a valid VCPR is established (in-person or synchronous video per AB 1399). Each thread contains one veterinarian, one pet owner, and one patient. When a pet owner starts a case, they see the fee upfront and can withdraw anytime before you joinno charge is made until you join. When you start a case, its free for the client (ideal for proactive rechecks and progress check-ins), helping you build trust while keeping expectations clear and your time protected. For the full workflow, see the Vetssenger section."},{type:"bulletList",items:[{heading:"Charge for follow-up messages:",lines:["Set a fee for owner-initiated Vetssenger cases so your time is valued and protected."]},{heading:"Encourage meaningful communication:",lines:["A modest fee helps manage expectations and encourages concise, relevant questions."]},{heading:"Transparent & fair:",lines:["Owners see the fee before sending; they arent charged unless you join the case. Vet-initiated cases are free to the client."]},{heading:"Aligned with VCPR:",lines:["Follow-ups occur only within an established VCPR and focus on rechecks, clarifications, and progress updates."]}]},{type:"paragraph",text:"See details in the Vetssenger Overview section for case states, tabs, and examples of when to use follow-ups vs. in-person care."}]},{id:"setFollowUpWindow",title:"Set Follow-Up Window",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0906.webp?alt=media&token=0a4b3be9-2482-4ab4-a603-366ca782fcba"]},{type:"paragraph",text:"The follow-up window defines how long after a qualifying visit (in-person or synchronous video under a valid VCPR) a pet owner may start a Vetssenger case for free. Outside this window, owner-initiated cases show your follow-up fee upfront. Vet-initiated cases are always free to the client."},{type:"bulletList",items:[{heading:"Define your free period",lines:["Choose how many hours after the visit an owner can start a free case.","Common choices: 4872 hours for general visits."]},{heading:"How eligibility works",lines:["Free vs. paid is determined at the time the owner starts the case.","Within the window: free. After the window: your follow-up fee applies and is shown before they proceed."]},{heading:"Aligned with VCPR:",lines:["Follow-ups are available only when a valid VCPR exists (AB 1399). Each thread is one vet, one owner, one patient."]},{heading:"Transparent & fair:",lines:["Owners see the window status (e.g., Free follow-ups until Oct 12). No charge occurs unless you join a paid case."]},{heading:"Balance support and boundaries:",lines:["Pick a window that encourages timely rechecks while protecting your time from unlimited open-ended messaging."]},{heading:"When to redirect:",lines:["If a message suggests urgency or hands-on care, direct the client to an in-person visit or ER."]}]}]},{id:"agreeEULA",title:"Agree to EULA",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0905.webp?alt=media&token=1f4cc09b-2138-4437-afab-34e494642eb5"]},{type:"bulletList",items:[{heading:"Review the End User License Agreement (EULA)",lines:["Carefully read through the EULA to understand your rights and responsibilities when using Vetcations platform."]},{heading:"Accept the terms",lines:["You must agree to the EULA to activate your virtual clinic and start seeing clients."]}]}]},{id:"setAvailability",title:"Regular Availability",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0907.webp?alt=media&token=196b0693-49a2-4ff0-8caf-8711e293faec","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0908.webp?alt=media&token=fb7b992d-2db4-48b4-8f01-9b3506edeb15"]},{type:"bulletList",items:[{heading:"Create a recurring weekly schedule",lines:["Block out hours when you are available to accept virtual appointments."]},{heading:"Update anytime",lines:["Modify your schedule as often as you likedaily, weekly, or seasonally."]},{heading:"Time zone aware",lines:["Our platform auto-adjusts for time zone differences so clients always see your availability correctly."]}]}]},{id:"partnerWithClinic",title:"Partner with a Clinic",blocks:[{type:"paragraph",text:"The Vetcation platform enables you to collaborate with brick-and-mortar clinics to offer virtual care under your own name and schedule. Their clients can view your availability, and medical records are shared to support continuity of care. There are no obligations or minimum time commitmentssimply make your availability visible to their clients."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1543.webp?alt=media&token=dea8ffc8-aaee-46f0-bb7c-b11eddb5483f","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1544.webp?alt=media&token=aabc4d6e-c0c0-4d72-a8b2-aa2ab862ce68","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1545.webp?alt=media&token=cb033bff-535d-4502-bfda-e5b303c2c264"]},{type:"bulletList",items:[{heading:"Open drawer and select Telemedicine Settings"},{heading:"Select Partnership Hub"},{heading:"Browse available clinics to partner with",lines:["Review the list of hospitals that are open to telemedicine partnerships.","Send a partnership request to the desired hospitals."]}]}]},{id:"done",title:"Done!",blocks:[{type:"bulletList",items:[{heading:"Congratulations! You have completed all the steps to set up your virtual clinic.",lines:["You can now start accepting virtual appointments through your partnered hospital."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1547.webp?alt=media&token=ff683eff-1056-4f6b-ba65-ef2b26ea3288","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0910.webp?alt=media&token=39fb9306-70ea-4f74-88e4-7fe2d2c486d3"]}]}]},ViewingYourUpcomingAppointments:{mainTitle:"Viewing Your Upcoming Appointments",mainDescription:`Vetcations scheduling system is designed to make managing your appointments as easy as possible.
      You can view all your upcoming appointments in a calendar format, allowing you to see your schedule at a glance.
      You can choose to view your appointments by day, week, or month, depending on your preference. This flexibility allows you to plan your time effectively and ensure you never miss a virtual consult.`,sections:[{id:"viewingUpcomingAppointments",title:"Viewing Your Upcoming Appointments",blocks:[{type:"qa",question:"How do I view my upcoming appointments in the calendar?",answer:'You can access "My calendar" from the drawer. The calendar displays all your upcoming appointments.'},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0889.webp?alt=media&token=e54cfd43-85fa-4235-a06b-c81509158953","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0920.webp?alt=media&token=6ce4dd2d-e4a1-4225-b917-1643b6a05fcd","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8367.PNG?alt=media&token=2615e2aa-5d1b-4f61-9a6a-1a6afa0a48b1"]}]}]},VideoCall:{mainTitle:"Video Call",mainDescription:`Vetcations telemedicine system is designed to help you provide high-quality virtual consultations with ease.
      The platform allows you to conduct video calls with clients, share medical records, and manage prescriptionsall in a secure and compliant environment. You can also use the system to document your consultations, ensuring that you have a complete record of each appointment. This feature is essential for maintaining compliance with Californias telemedicine regulations and providing the best possible care to your patients.`,sections:[{id:"telemedicineOverview",title:"Telemedicine Overview",blocks:[{type:"qa",question:"How does Vetcations telemedicine system work?",answer:"Vetcations telemedicine system allows you to conduct video calls with clients, share medical records, and manage prescriptions in a secure and compliant environment. You can document your consultations, ensuring that you have a complete record of each appointment."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8367.PNG?alt=media&token=2615e2aa-5d1b-4f61-9a6a-1a6afa0a48b1","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FScreen%20Shot%202025-04-01%20at%2011.12.55%20PM.png?alt=media&token=e653f8e4-4a3b-43b2-b8b4-6c8b33b0350f"]}]}]},postAppointment:{mainTitle:"Post-Appointment",mainDescription:"After the video call, you are required to complete and submit the DAP (Data, Assessment, Plan) note and prescribe any medications if necessary, in accordance with legal and professional guidelines.",sections:[{id:"postAppointmentOverview",title:"Post-Appointment Overview",blocks:[{type:"qa",question:"What should I do after the video call with the client?",answer:"You should complete and submit the DAP (Data, Assessment, Plan) note, as required by law and professional standards."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8436-min.PNG?alt=media&token=411c4e80-0574-45db-8b51-861347869779","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8610-min.PNG?alt=media&token=d6d72496-acd5-482c-b536-5473434f2404"]},{type:"qa",question:"What if I need to prescribe medications?",answer:"If medication is needed, you can prescribe directly through the Vetcation platform. The following screens shows how you use prescriptions with Mixlab. Vetcation has partnered with Mixlab to provide a seamless experience for prescribing and managing medications. You can select medications from Mixlab's formulary, send prescriptions electronically to the client's preferred pharmacy, and track the status of each prescription within the platform. This integration ensures that you can provide comprehensive care while maintaining compliance with legal requirements. We are working on integrating more pharmacy partners."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8607-min.PNG?alt=media&token=58dfd464-ceb6-4ae6-a57d-a611b1b2f1b3","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8608-min.PNG?alt=media&token=1f921da1-4099-4007-8600-f6f7ab94ef3d"]}]}]},earnings:{mainTitle:"Earnings & Wallet",mainDescription:`Vetcations earnings and wallet system is designed to help you manage your income from virtual consultations effectively.
      You can view your earnings in real-time, track your transactions, and manage your wallet balance. The system provides a clear overview of your earnings, including completed consultations, pending payments, and any fees associated with your transactions. This transparency allows you to stay on top of your finances and make informed decisions about your virtual practice.`,sections:[{id:"earningsOverview",title:"Earnings Overview",blocks:[{type:"qa",question:"How do I view my earnings and wallet balance?",answer:"You can access your earnings overview from Wallet. This section provides a detailed breakdown of your income, including completed consultations and follow-up charges from Vetssenger  our inquiry-based messaging tool."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1031.webp?alt=media&token=7a81a522-f6cd-4428-b1d5-81ea4e609754","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1622.webp?alt=media&token=a8b69803-1d82-4256-b65a-a446725e8ca5"]}]}]},telemedicineAnalysis:{mainTitle:"Telemedicine Analysis",mainDescription:"Understand your client growth and clinical outcomes at a glance. Use the time range chips (7D / 2W / 4W / 3M / 1Y) and the aggregation control (Daily / Weekly / Monthly) to switch views. Numbers update instantly as you filter by period and provider.",sections:[{id:"clientsAnalytics",title:"Clients  Growth & Cohorts",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0901.webp?alt=media&token=44f2755d-5166-4732-8a7f-d1193377d8bf"]},{type:"bulletList",items:[{heading:"Total clients",lines:["Counts unique pet owners who have ever booked with you (lifetime within the selected scope).","Card shows the current total; the chart shows counts over time by the chosen aggregation."]},{heading:"New (period)",lines:["New, first-time clients added within the selected time window.","Helps you see acquisition spikes after campaigns or clinic partnerships."]},{heading:"Time & aggregation",lines:["Use 7D/2W/4W/3M/1Y to change the window.","Switch Daily / Weekly / Monthly to smooth out volatility."]}]}]},{id:"primaryOutcomes",title:"Telemedicine Outcomes  Primary Distribution",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0902.webp?alt=media&token=7e29f6c0-db47-411a-bd27-e048de78acd9"]},{type:"paragraph",text:"The donut shows one primary outcome per visit. Totals and percentages reflect the time range and any provider filter."},{type:"bulletList",items:[{heading:"Outcome types (examples)",lines:["Resolved  Issue managed via telemedicine.","Prescribed meds  Medication initiated.","Recheck (telemed)  Scheduled follow-up via telemedicine.","Escalate to in-person  Directed to in-clinic care.","Refer other doctors  Referred to another veterinarian/specialist.","ER  Referred to emergency care.","Monitor  Observation with safety-net advice."]},{heading:"Provider selector",lines:["Tap the avatar/badge to scope results to a single doctor (e.g., Dr. Yu) or to all providers."]},{heading:"Total visits",lines:["Link shows the count of visits represented in the donut; tap to view the underlying visit list (if enabled in your UI)."]}]}]},{id:"allSelectedOutcomes",title:"All Selected Outcomes  Secondary Tags",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0903.webp?alt=media&token=1a170d16-cff7-4176-b8c9-b925a689c014"]},{type:"paragraph",text:"This bar chart counts every outcome tag selected on a visit (not just the primary). One visit can contribute to multiple bars, so Total selections can exceed Total visits. Use this to see workflow patternsfor example, how often a visit includes both Prescribed meds and Recheck (telemed)."},{type:"bulletList",items:[{heading:"Compare with donut",lines:["Donut = one primary outcome per visit.","Bars = all outcomes checked on that visit."]},{heading:"Quality & triage signals",lines:["Rising Escalate to in-person or ER flags may indicate improved triage or case mix changes.","Stable Recheck (telemed) often reflects good continuity of care."]}]}]},{id:"definitionsNotes",title:"Definitions & Notes",blocks:[{type:"bulletList",items:[{heading:"Time range logic",lines:["Charts and cards honor the active range and aggregation.","Percentages are computed within that filtered set."]},{heading:"Primary vs. additional outcomes",lines:["Primary outcome is required and mutually exclusive per visit.","Additional outcomes are optional, many-to-one with the visit."]},{heading:"Data freshness",lines:["Analytics update in near real-time after a visit is closed and outcomes are saved."]}]}]}]},scheduleOverview:{mainTitle:"Scheduling Overview",mainDescription:"Welcome to your scheduling hub! This section provides a high-level view of all the tools available for managing your appointments  from setting your regular weekly schedule and adding specific time slots to pausing your availability and viewing your calendar. Whether youre a first-time user or looking to optimize your current setup, this overview helps you understand how all the pieces fit together.",sections:[{id:"schedulingIntro",title:"How the Scheduling System Works",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8366.PNG?alt=media&token=764e39fe-263f-4b6f-803e-946b2bd20c30","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8367.PNG?alt=media&token=2615e2aa-5d1b-4f61-9a6a-1a6afa0a48b1"]},{type:"bulletList",items:[{heading:"Regular Availability:",lines:["Set the days and times youre generally available. The system automatically creates recurring 30-minute appointment slots for up to 30 days in advance."]},{heading:"Specific Availability:",lines:["Add extra availability on specific days and times, perfect for accommodating special requests or busy periods."]},{heading:"Minimum Booking Notice Time:",lines:["Define how much advance notice you need for a client to book an appointment, balancing preparation time with optimal visibility."]},{heading:"Pause Availability:",lines:["Temporarily hide your profile and stop new bookings without affecting existing appointments."]},{heading:"Manage My Schedule:",lines:["View all your upcoming appointments in a calendar view and easily join or cancel sessions."]}]}]}]},setMinimumNoticeTime:{sections:[{id:"setMinimumNotice",title:"Minimum Notice Time",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/IMG_8347.PNG?alt=media&token=afa7a1d0-fd76-4c70-b9ff-603396f2d151"]},{type:"qa",question:"What is the minimum booking notice time, and why is it important for telemedicine appointments?",answer:"Minimum booking notice time is the shortest amount of advance notice you require from clients when scheduling telemedicine appointments. For example, you might set a minimum notice of 15 minutes, meaning clients must book at least 15 minutes ahead. Choosing a shorter minimum booking notice can significantly improve your visibility and ranking with potential clients, especially those who need acute care quickly. Many clients seek appointments within a 30-minute window, making your responsiveness and availability critical to attracting new clients. Selecting a minimum booking notice time that suits your schedule ensures you have adequate preparation time, while also optimizing your opportunity to assist clients promptly."}]}]},regularAvailability:{mainTitle:"Regular Availability",mainDescription:"Regular Availability puts you in control of your schedule. You can set the times youre available for appointments, and the system will automatically generate 30-minute appointment slots for the next 30 days based on your preferences. Once your regular availability is set, the system will continuously maintain this 30-day window by creating new slots each day. Clients can instantly book available times, and any updates you make will immediately reflect in future open slots  no manual adjustments needed.",sections:[{id:"regularAvailabilitySetup",title:"Regular Availability Setup",blocks:[{type:"qa",question:"How do I set my Regular Availability?",answer:"From your availability settings, you can customize your weekly schedule  Monday through Sunday. Choose one or more time slots per day and assign different rates as needed. It's flexible, and you're in charge."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8350.PNG?alt=media&token=2e99b72f-ac39-437d-a63e-e396b877046b","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8349.PNG?alt=media&token=6d3c449f-d68b-4dfe-b2fa-7dda67b00b63"]},{type:"qa",question:"Will modifying Regular Availability affect existing appointments?",answer:"No. Any appointments already booked will remain in place, so you dont have to worry about losing scheduled sessions."},{type:"qa",question:"What if I want to offer availability only on specific days and times?",answer:"If you prefer a more targeted approach instead of a weekly routine, you can use the Specific Availability tool to open up time slots only when you choose."},{type:"qa",question:"Will changing Regular Availability affect slots I created with the Specific Availability tool?",answer:"Not at all. The two tools work independently, so changes to your regular schedule wont interfere with any specific time slots youve manually opened."}]}]},specificAvailability:{mainTitle:"Specific Availability",mainDescription:"Specific Availability lets you open up time slots for appointments on an as-needed basis. You can create new slots for any day and time, even if its outside your regular availability. This tool is perfect for adding extra hours during busy periods, accommodating special requests, or adjusting your schedule for holidays or vacations. Specific Availability slots are visible to clients immediately, so they can book these times without delay.",sections:[{id:"specificAvailabilitySetup",title:"Specific Availability Setup",blocks:[{type:"qa",question:"How do I set my Specific Availability?",answer:"From your availability settings, you can open up time slots for appointments on any day and time. These slots will be visible to clients right away, so they can book these times without delay. The default rate you set will apply to these specific slots."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8352.PNG?alt=media&token=b511733c-6ce5-4cf9-b5e3-a34ff585c6ab","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8353.PNG?alt=media&token=0ce77fe4-5fc6-467a-8edd-8dae91b231d0"]}]}]},pauseAvailability:{mainTitle:"Pause Availability",mainDescription:"Pause Availability lets you temporarily hide your profile and stop new appointments from being booked. Whether you need an hour, a day, a week, or time off until a specific date, you can pause your availability quickly from this feature. This is perfect for handling last-minute conflicts, planned time off, or unexpected changes. Pausing only affects new bookings  any appointments already scheduled during the pause period will remain on your calendar and will not be canceled. The system will automatically reopen your schedule when the pause ends.",sections:[{id:"pauseAvailabilitySetup",title:"Pause Availability Setup",blocks:[{type:"qa",question:"How do I reactive my availability after pausing it?",answer:"Once youre ready to start accepting appointments again, you can reactivate your availability with just one click. The system will automatically update your profile and make your time slots visible to clients."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8356.PNG?alt=media&token=30ba526a-d3d5-45d3-9f93-f14a826ca625","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8357.PNG?alt=media&token=798a15a4-e683-416e-bcab-fff7b6edc45f"]}]}]},mySchedule:{mainTitle:"Manage My Schedule",mainDescription:"My Schedule is your personal calendar that displays all your upcoming appointments in one place. You can view your schedule by day, week, or month, and easily manage your availability, appointments, and breaks. This feature helps you stay organized, plan your day effectively, and ensure you never miss a virtual consult. My Schedule is synced with your availability settings, so any changes you make will automatically update your calendar.",sections:[{id:"myScheduleOverview",title:"My Schedule Overview",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8363.PNG?alt=media&token=f9ab1141-b8e7-4050-9ae0-68cc533fb4a5","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8364.PNG?alt=media&token=bda8ae8f-b822-441c-83cd-f1e81063058e"]},{type:"bulletList",items:[{heading:"View all appointments at a glance:",lines:["You can select any date to view the appointments."]},{heading:"booked appointments (grey):",lines:["the grey color indicates the appointment is already booked. It shows the patient's name, breed, and the symptoms."]},{heading:"Available slots (green):",lines:["The green color indicates the available slots for booking."]}]},{type:"qa",question:"How do I view my upcoming appointments?",answer:"You can press any of the appointment in the calendar to view the details of the appointment."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8366.PNG?alt=media&token=764e39fe-263f-4b6f-803e-946b2bd20c30","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8367.PNG?alt=media&token=2615e2aa-5d1b-4f61-9a6a-1a6afa0a48b1"]},{type:"bulletList",items:[{heading:"Medical History:",lines:["You can view the medical history of the patient."]},{heading:"Calendar:",lines:["You can add the appointment to your calendar."]},{heading:"Join Call:",lines:["You can join the synchronous call with the patient."]},{heading:"Cancel:",lines:["You can cancel the appointment. (see detail cancellation explanation in the next section)"]}]}]}]},Bill1399:{mainTitle:"Assembly Bill 1399",mainDescription:`Assembly Bill (AB) 1399 (Friedman, Chapter 475, Statutes of 2023) took effect 
    on January 1, 2024. This legislation sets out clear requirements for establishing a 
    valid veterinarian-client-patient relationship (VCPR) before prescribing, dispensing, 
    or administering any treatment for animal care. (Business and Professions Code (BPC), 
     4826.6.) AB 1399 also clarifies how veterinary telehealth may be provided under 
    California law. (BPC,  4825.1, 4826.6, 4829.5, and 4853.)
    
    Below are frequently asked questions (FAQs) the Veterinary Medical Board (Board) has 
    compiled in response to public inquiries about the new law. Weve included notes on 
    how Vetcations features help veterinary professionals comply with each requirement 
    through our built-in workflows and technology tools. In the event of any differences 
    between these FAQs and the statute itself, the statute is controlling, and the Board 
    will enforce it accordingly. Veterinary professionals should review the official 
    statutes in detail to ensure full compliance.`,sections:[{id:"telehealthStandardOfCare",title:"Telemedicine Holds the Same Standard of Care",blocks:[{type:"paragraph",text:"Telemedicine must meet the same standard of care as in-person veterinary services. Under AB 1399, before delivering veterinary medicine via telehealth, the veterinarian shall inform the client about the use and potential limitations of telehealth and obtain their consent. (Business and Professions Code (BPC),  4826.6, subd. (g).)"},{type:"bulletList",items:[{heading:"Same standards of care apply:",lines:["The same standards of care apply to veterinary medicine services via telehealth and in-person veterinary medical services."]},{heading:"In-person visit option:",lines:["The client has the option to choose an in-person visit from a veterinarian at any time."]},{heading:"Follow-up and tech-failure guidance:",lines:["The client has been advised how to receive follow-up care or assistance in the event of an adverse reaction to the treatment or in the event of an inability to communicate resulting from technological or equipment failure.","Vetcation provides Vetssenger (inquiry-based messaging tool; see vetssenger section in user manual) to facilitate timely follow-up communication and support, helping you comply with AB 1399 and deliver the same standard of care as in-person visits."]}]}]},{id:"faqOutOfState",title:"Out-of-state Telemedicine",blocks:[{type:"qa",question:"Can a California licensed veterinarian use telemedicine to establish or continue treatment within an existing VCPR if the animal patient is originally from California but is currently located outside of California?",answer:"No. Under AB 1399, for a California-licensed veterinarian to provide veterinary medical services via telehealth, the animal must be physically located in California. (BPC,  4826.6, subd. (f).) However, authorizing a refill for an existing prescription (for an out-of-state pet) is not considered telehealth.",example:"If your long-time client and their pet travel to Oregon, you cannot initiate a new telemedicine consult while the pet is out of state. However, if the pet already has an active prescription on file, you can authorize a refill without it being classified as a telehealth service.",helpText:"Our platform automatically checks the patient's reported location at the time of scheduling. If an out-of-state location is detected, Vetcation will block the client from booking a new telemedicine appointment to ensure compliance with state regulations. However, if there is an existing prescription on file, you may still authorize refills without it being classified as a telehealth service."}]},{id:"faqRefillOutOfStatePharmacy",title:"Refilling Prescriptions at Out-of-State Pharmacies",blocks:[{type:"qa",question:"Can a California-licensed veterinarian authorize a prescription refill to an out-of-state pharmacy if the animal patient is currently located outside of California?",answer:"Yes. Under AB 1399, while a California-licensed veterinarian cannot initiate a new telemedicine consult for an animal patient located outside of California, they may authorize a refill for an existing prescription. This authorization can be directed to a pharmacy in the state where the animal is currently located. (BPC,  4826.6, subd. (f).)",example:"If your client and their pet are traveling in Oregon and require a refill of an existing prescription, you can authorize the refill and direct it to a local pharmacy in Oregon. This action is permissible and does not constitute telehealth under California law.",helpText:"Vetcation facilitates the authorization of prescription refills to out-of-state pharmacies for existing prescriptions. Our platform ensures that such actions comply with AB 1399 by verifying the existence of a valid VCPR and restricting new telemedicine consults when the animal patient is out of state."}]},{id:"faqSameDiagnosisNewMed",title:"New Medications for the Same Diagnosis While Pet Is Out of State",blocks:[{type:"qa",question:"Can a California-licensed veterinarian prescribe a new medication for the same diagnosis if the animal is currently out of state?",answer:"No. Under AB 1399, prescribing any new medication while the animal is physically outside of California is considered telehealth and is not permitted  even if the diagnosis (such as gastroenteritis) was previously established. The only exception is authorizing a refill of an existing prescription. Initiating a new treatment plan, even under the same diagnosis, is not allowed if the animal is not in California.",example:"If a dog was diagnosed with gastroenteritis during an in-state visit and was prescribed anti-nausea medication for vomiting, but later develops diarrhea while in another state, the vet cannot prescribe a new anti-diarrheal unless it was already included as a PRN medication during the original consult.",helpText:"Vetcation supports responsible use of PRN medications during the original in-state consult by allowing vets to proactively prescribe treatments for anticipated symptoms under a single diagnosis. However, if the pet is out of state and needs a new medication not already covered in the original care plan, our platform restricts new prescriptions to ensure compliance with AB 1399."}]},{id:"faqConfirmLocation",title:"Confirming Location",blocks:[{type:"qa",question:"Does the client providing a California address suffice to satisfy the requirement that the animal patient is located in this state?",answer:"No. It is recommended the veterinarian confirm with the client that the animal patient is physically in California at the time telehealth services are provided. (BPC,  4826.6, subd. (f).)",example:"A client might list a California home address but could be traveling with their pet in Nevada. In this scenario, you cannot initiate a new telemedicine consult under California law because the pet is physically out of state.",helpText:"When booking, Vetcation requires clients to confirm that, at the time of the telemedicine appointment, their pet will be physically located in California. Right before the appointment, our platform uses geolocation technology to verify that the animal is in California, helping ensure compliance with AB 1399. If the pet is detected to be outside California, the system will cancel the appointment and prompt the client to rebook a new telemedicine visit."}]},{id:"faqVetOutOfState",title:"Veterinarian Location",blocks:[{type:"qa",question:"Can a California-licensed veterinarian provide telemedicine if they are physically located outside of California?",answer:"Yes. Under AB 1399, veterinary telehealth is legally considered to occur at the location of the animal patient  not the veterinarian. As long as the animal is physically in California at the time of the telemedicine consult, a California-licensed veterinarian may practice via telehealth even if they are located outside of California or outside the United States.",example:"If you are a California-licensed veterinarian traveling in New York or abroad and a pet located in California needs a telemedicine consult, you may provide care as long as a valid VCPR is established and all requirements of AB 1399 are followed.",helpText:"Vetcation allows licensed California veterinarians to log in and offer virtual care from anywhere. Our system ensures telehealth consults can only be initiated when the animal is reported to be in California, helping you stay compliant with the law while maintaining flexibility in how and where you practice."}]},{id:"faqPrescriptionNotice",title:"Posting Prescription Availability",blocks:[{type:"qa",question:"Can the veterinarian notify the client that some prescription drugs or medications may be available at a pharmacy by posting a notice in a virtual lobby?",answer:"Yes. The requirement is to provide notice to the client that some prescription drugs or medications may be available at a pharmacy, but there is no specific method prescribed for doing so. (BPC,  4826.6, subd. (i)(7).) However, the prescribing veterinarian must still comply with all statutes and regulations in the Veterinary Medicine Practice Act and Pharmacy Law. This includes, but is not limited to, prescriber dispensing requirements listed in BPC section 4170.",example:'You could display a banner in your virtual meeting room that reads: "Certain medications may be available at a pharmacy." As long as clients see this notice before or during the telehealth visit, you have met the requirement.',helpText:"Our platform will show the banner on the appointment card, automatically displaying it to all clients prior to the consultation. This ensures compliance with AB 1399 and helps track user acknowledgment of the notice in your records."}]},{id:"faqOnePosting",title:"Combining Disclosures",blocks:[{type:"qa",question:"If the prescription notice can be posted in the lobby, can it be incorporated into the existing notice requirement so that both disclosures are in one posting?",answer:"Yes. Both disclosures can be combined into a single posting, since the law does not require them to be displayed separately. Consolidating them ensures clients see all relevant information in one place, reducing confusion and improving compliance.",example:"",helpText:'Our platform has helped you create a combined notice that includes important telemedicine disclaimers, such as pharmacy availability, professional standards (telemedicine follows the same regulations as in-person care), and emergency guidance (e.g., "Emergencies cannot be treated via telehealth"). All of these appear on the appointment card so clients see them before the telemedicine session begins. Vetcation also tracks user acknowledgment, giving you a record that theyve viewed the notice.'}]},{id:"faqPharmacyChoice",title:"Pharmacy Choice Disclosure",blocks:[{type:"qa",question:"Since AB 1399 only requires veterinarians to notify the client that some prescription drugs or medications may be available at a pharmacy, does the veterinarian have to notify the client that the veterinarian can submit a prescription to the pharmacy of the clients choice?",answer:"Yes. The veterinarian must provide the client with a written disclosure that the client may obtain the prescription either from the veterinarian or from a pharmacy of the clients choice. (BPC,  4170, subd. (a)(7).) Furthermore, before prescribing, the veterinarian must offer to provide a written prescription that the client may choose to have filled by the prescriber or by any pharmacy. (BPC,  4170, subd. (a)(6).)",example:"",helpText:"Our platform allows clients to select their preferred pharmacy  whether a physical location like Costco, Walmart, or CVS, or an online pharmacy such as Mixlab or Chewy. Vets can confirm the clients choice directly in the Vetcation interface before finalizing a prescription, ensuring compliance with AB 1399 and other state regulations."}]},{id:"faqPrivacyLaws",title:"Privacy and Confidentiality",blocks:[{type:"qa",question:"What are the privacy protection laws with which a veterinarian practicing veterinary medicine via telehealth must comply?",answer:"Under California law (BPC section 4857), veterinarians must maintain the confidentiality of all client and patient information, just as they would for in-person care. If a veterinarian negligently releases this information, they could face a civil lawsuit (outside of the Veterinary Medical Boards jurisdiction). In other words, even though the Board may not prosecute you for a privacy breach, a client could sue you in civil court for mishandling confidential data. Thats why its crucial to understand and follow privacy laws that apply to veterinary practice, both in person and via telehealth.",example:"",helpText:"Our platform is designed with secure data handling and encrypted communication to protect confidential information during telehealth sessions. Vetcation also provides access controls so that only authorized users can view client records, reducing the risk of accidental disclosure. We recommend veterinarians familiarize themselves with all relevant privacy regulations and use best practices  such as password protection, secure networks, and careful record-sharing protocolsto minimize liability."}]},{id:"faqMedicalHistory",title:"Obtaining Relevant Medical History",blocks:[{type:"qa",question:"If the client does not provide the veterinarian with the animal patients relevant medical history or medical records, can the veterinarian provide veterinary telehealth for the animal patient?",answer:"Telehealth cannot be used if the veterinarian does not obtain and review the relevant medical history for the animal. However, actual medical records are not strictly required  if the client can relay the pets relevant history verbally or via written form, that may suffice. If official medical records are available, the veterinarian must obtain and review them before proceeding. (BPC,  4826.6, subd. (h)(2).)",example:"",helpText:"Our platform prompts the client to provide a thorough history of the animals condition before the telehealth appointment. If past records exist, we encourage clients to upload them. This ensures the veterinarian has enough background information to make an informed assessment, keeping the telehealth process compliant with AB 1399 and other state regulations."}]},{id:"faqLocalResources",title:"Local Medical Resources Familiarity",blocks:[{type:"qa",question:"How will the Board verify that the veterinarian providing telehealth was familiar with available medical resources, including emergency resources, near the animal patients location?",answer:"If the Board inquires whether you were familiar with the medical resources available near the patients location (including emergency care), you must be able to explain your familiarity and, if necessary, submit documentation that supports your claim. (BPC,  4826.6, subd. (h)(4).) This might involve showing references or notes about nearby emergency clinics, urgent care facilities, or specialized hospitals within the pets region.",example:"",helpText:"Our platform automatically provides veterinarians with local emergency contact information based on the clients reported location. This includes the name, address, and phone number of nearby clinics or hospitals. You can still choose to add notes or reference other resources, but the system helps ensure you are equipped with key information. If the Board requests validation, youll have easy access to records demonstrating your familiarity with local medical resources, supporting compliance with AB 1399."}]},{id:"faqMidwayInterruption",title:"Mid-Appointment Interruption",blocks:[{type:"qa",question:"If midway through an appointment the synchronous audio-visual communication is interrupted, can a VCPR be established solely by another form of electronic communication?",answer:"No. To establish a valid VCPR via telehealth, the veterinarian must gain sufficient knowledge of the animal patient by examining the patient using synchronous audio-video communication. (BPC,  4826.6, subd. (b)(2).) Once a VCPR is established, ongoing care may continue via other telehealth methods, unless the veterinarian determines that synchronous audio-video is necessary for proper treatment. (BPC,  4826.6, subd. (d).)",example:"",helpText:"Our platform prioritizes a stable audio-video connection, allowing vets to meet the synchronous requirement. If a technical interruption occurs, Vetcation enables quick reconnection or rescheduling so that you can complete the real-time exam."}]},{id:"faqAntimicrobialDefinition",title:"Definition of 'Antimicrobial'",blocks:[{type:"qa",question:"Which definition of antimicrobial will the Board use to enforce the antimicrobial prescription by telehealth provision?",answer:"The Board will follow the definition provided in Appendix A of the federal Food and Drug Administrations Guidance for Industry #152. This includes critically important, highly important, and important antimicrobial drugs, as Appendix A may be amended over time.",example:"",helpText:"Our platform flags prescriptions that fall under these categories, ensuring veterinarians recognize when an antimicrobial is being prescribed. We also offer quick reference links to the FDAs updated lists, so you can confirm a drugs classification before finalizing a telehealth prescription."}]},{id:"faqRacehorsePrescribing",title:"Prescribing for Racehorses via Telehealth",blocks:[{type:"qa",question:"If a veterinarian prescribes medication via telehealth unknowingly to a racehorse or to a trainer registered with the California Horse Racing Board (CHRB), what documentation would the Board require to show that the vet was unaware of these circumstances?",answer:"Before prescribing any drug or medication via telehealth, the veterinarian must confirm with the client that the horse is not engaged in racing or training at a facility under CHRB jurisdiction. If the horse is engaged in racing or training under the CHRB, telehealth prescribing is prohibited. (BPC,  4826.6, subd. (i)(8).) The veterinarians lack of knowledge is not considered a defense if the horse is later found to be racing or training. Therefore, you should document your inquiry and the clients response in the medical record to demonstrate due diligence in verifying the horses status.",example:"",helpText:"Our platform includes a pre-consultation form where clients must disclose whether the horse is involved in racing or training under the CHRB. Vetcation automatically stores this information in the patients record, providing written proof that the veterinarian asked  and the client answered  before issuing any telehealth prescriptions."}]},{id:"faqChangeDosage",title:"Changing Dosage for Racehorses via Telehealth",blocks:[{type:"qa",question:"Can a veterinarian via telehealth change the dosage of a previously prescribed drug or medication for a horse engaged in racing or training at a facility under the jurisdiction of the California Horse Racing Board (CHRB)?",answer:"No. Any change to a previously prescribed drug or medication is treated as a new prescription and cannot be issued via telehealth for a horse engaged in racing or training under CHRB jurisdiction. (BPC,  4826.6, subd. (i)(8).)",example:"",helpText:"Vetcation automatically prompts veterinarians to confirm the horses racing status before modifying any prescription. If the horse is under CHRB jurisdiction, the system will flag the dosage change as prohibited for telehealth, helping you avoid regulatory violations."}]},{id:"faqRemoteExamAssistant",title:"Remote Examination with a Veterinary Assistant",blocks:[{type:"qa",question:"If a veterinary assistant and client are in a room located within a registered veterinary premises, can a veterinarian remotely perform an examination and ask the veterinary assistant to perform diagnostic tests as needed?",answer:"Yes. If the veterinarian determines that a VCPR can be established via telehealth, a veterinary assistant may carry out certain diagnostic tests under the veterinarians indirect supervision. However, the assistant cannot obtain or administer anesthesia or controlled substances for these tests. (BPC,  4836.1.) Additionally, any use of radiographic equipment must be performed by an individual trained in radiation safety and techniques, under the direct supervision of a registered veterinary technician (RVT) or licensed veterinarian. (BPC,  4840.7, subd. (b).)",example:"",helpText:"Our platform supports real-time video oversight, enabling the veterinarian to guide the assistants tasks remotely. Vetcation also logs each procedure, ensuring compliance with supervision requirements. If radiographs or other specialized diagnostics are needed, the system can prompt for an RVT or licensed vet to be present, helping you maintain compliance with California law."}]},{id:"faqAssistantVaccinations",title:"Vaccinations by Veterinary Assistant via Telemedicine",blocks:[{type:"qa",question:"Can a veterinary assistant give vaccinations under the direct supervision of the remote veterinarian performing the telemedicine examination?",answer:"Under California law, a veterinary assistant may administer a prescribed vaccine at a registered veterinary premises if and only if the vaccine is not a controlled substance or otherwise restricted (BPC  4836.1(a)). In that scenario, the assistant may work either under the indirect supervision of a veterinarian who ordered the vaccineeven if that vet performed the exam via telemedicineor under the direct supervision of a Registered Veterinary Technician (RVT) physically on-site (BPC,  4836.1, subds. (a), (b); CCR, tit. 16,  2034, subs. (f), 2036.5, subs. (b).).",example:"",helpText:"Our platform timestamps and documents every step of a telemedicine visit and enforces that only non-controlled vaccines are used. At the point of administration, it prompts you to confirm Indirect Vet Supervision, so the assistant can proceed under the remote veterinarians orders, ensuring clear roles and full compliance with California law."}]},{id:"faqNonVaccineInjectables",title:"Giving Non-vaccine Injections (for example Cytopoint) after a Tele-VCPR",blocks:[{type:"qa",question:"After a video exam that recommends an injection at a partner clinic, does the pet need another in-person exam first? Can staff give the shot if the prescriber is remote?",answer:"If you established a valid VCPR by synchronous audio-video while the animal was in California, a second in-person exam is not automatically required to carry out that plan. At a registered premises, an RVT or a trained veterinary assistant may administer a prescribed, non-controlled injectable such as Cytopoint on your order under indirect supervision. Indirect means you are not on site but are quickly available and have provided instructions. If the clinic prefers to become the attending provider of record, their DVM may perform a brief exam and take over before administering.",helpText:"Legal anchors to cite in your handbook: BPC  4826.6 for tele-VCPR, BPC  4836.1 and 16 CCR  2034 for supervision and task delegation. In Vetcation, include a written administration order with dose and route, a checkbox for Indirect Vet Supervision, and a field to record the RVT or assistant who administered the dose.",example:"Dermatology video visit on Monday. Order Cytopoint 20 mg SC at Partner Clinic A. Clinic logs Indirect supervision by Dr. Smith and RVT Jones administered. Administration record syncs back to your chart and to the clients primary DVM."}]}]},VCPR:{mainTitle:"Veterinarian-Client-Patient Relationship (VCPR)",mainDescription:`A valid, <span class="highlight">condition-specific</span> VCPR is the cornerstone of providing
veterinary care, whether in person or via telehealth. Under California law
(BPC  4826.6) a separate VCPR must be formed for each new clinical
condition. A VCPR may be established by:  
(1) synchronous audio-video examination,  
(2) in-person examination of the animal, or  
(3) medically appropriate, timely visits to the <span class="highlight">premises where a herd,
flock, or other group of animals is kept</span> (not routine house-calls for
individual pets).  
The FAQs below explain each pathway and how Vetcation helps you remain
compliant.`,sections:[{id:"definingVCPR",title:"Defining VCPR",blocks:[{type:"qa",question:"What exactly is a Veterinarian-Client-Patient Relationship (VCPR)?",answer:"A VCPR exists when a veterinarian (1) assumes responsibility for medical judgments regarding a specific condition of an animal patient, and (2) the client agrees to follow the veterinarians instructions. The veterinarian must be sufficiently familiar with the animals present condition (via in-person exam, synchronous audio-video exam, or timely premises visits) and must communicate a treatment or diagnostic plan to the client. Each new condition (e.g., otitis vs. dermatitis) requires a new VCPR. (BPC  4826.6(a), (b)).",example:"You perform a live video exam for a dogs skin infection and advise a treatment plan. Two months later the same dog injures its leg; that orthopedic issue requires establishing a new VCPR before you may diagnose or prescribe for that condition.",helpText:"Vetcation logs every exam (in-person or video) with its associated condition, giving you an audit trail that demonstrates compliance if questions arise."}]},{id:"faqSynchronousAV",title:"Synchronous Audio-Video Examination",blocks:[{type:"qa",question:"How does a synchronous audio-video exam establish a VCPR?",answer:"AB 1399 allows a veterinarian to establish a condition-specific VCPR by examining the patient in real time using two-way audio-video. (BPC  4826.6(b)(2)).",example:"During a Vetcation video call, you observe a dogs pruritic skin, discuss history, and develop a treatment planthereby forming a VCPR for that dermatologic condition.",helpText:"The platform records the date, duration, and condition so you can verify that the exam met the synchronous requirement."}]},{id:"faqInPersonExam",title:"In-Person Examination",blocks:[{type:"qa",question:"How does an in-person examination factor into establishing a VCPR?",answer:"An in-person exam remains the traditional pathway. Once you have physically examined the animal for a given condition, you may deliver follow-up telehealth services for that same conditionup to the prescription time limits outlined below. (BPC  4826.6(b)(1)).",example:"A cat seen in clinic for chronic kidney disease on 1 Jan 2025 may receive telehealth management of *that* disease thereaftersubject to drug-specific renewal limits.",helpText:"Vetcation links the in-person visit to its condition so later telehealth encounters reflect a valid VCPR."}]},{id:"faqPremisesVisit",title:"Premises Visits (Herd / Stable)",blocks:[{type:"qa",question:"What is a premises visit, and how does it establish a VCPR?",answer:"A premises visit is an on-site evaluation of animals kept as a herd, flock, or stable group. Home visits for individual companion animals do *not* qualify. (BPC  4826.6(b)(3)).",example:"You inspect a goat herd at a ranchcreating a VCPR for herd health conditions you assessed. Future telemedicine consults for that herd can rely on the premises-based VCPR, within prescription limits.",helpText:"Each premises visit is time-stamped and condition-tagged in Vetcations records to demonstrate compliance."}]}]},PrescriptionLimits:{mainTitle:"Prescription Time Limits under AB 1399",mainDescription:`Once a valid, condition-specific VCPR is established, California law
(BPC  4826.6(i)) imposes <span class="highlight">drug-specific</span> renewal limits. The one-year
and six-month clocks apply only to <span class="highlight">the same drug</span> originally
prescribed for that condition; switching to a different medication
requires clinical reassessment regardless of time elapsed.`,sections:[{id:"faqGeneralOverview",title:"General Overview",blocks:[{type:"qa",question:"Why do different prescription time limits apply?",answer:"California distinguishes between VCPRs formed in person versus by synchronous video. For a drug first prescribed after an in-person exam, you may refill that *same* drug for up to one year. If the VCPR was formed solely via video, refills of that same drug are limited to six monthsor 14 days for antimicrobials.",example:"You examine a dog in clinic on 1 Mar 2025 and start carprofen. Carprofen refills are allowed until 1 Mar 2026. If the same dogs allergy flare is managed by a video VCPR on 1 Apr 2025 with apoquel, apoquel refills can continue only until 1 Oct 2025 unless you re-examine first.",helpText:"Vetcation tracks the drug name, exam type, and prescription date. If you attempt to refill beyond the one-year, six-month, or 14-day window, the system flags it and prompts a new exam."}]},{id:"faqOneYearLimit",title:"1-Year Limit (After In-Person Exam)",blocks:[{type:"qa",question:"How long can I refill a medication after an in-person exam?",answer:"For the *same medication* and condition, up to one year from the exam date. New medications or new conditions require a fresh exam. (BPC  4826.6(i)(2)).",example:"You examine a cat in person on 1 Jan 2025 and start benazepril. Benazepril may be refilled until 1 Jan 2026. Initiating amlodipine for a new hypertension diagnosis would first require a new exam.",helpText:"Vetcation automatically tracks the date and type of the last in-person exam for each condition. As the one-year mark approaches, the system alerts you and, if you attempt a refill past the deadline, blocks the prescription until a new exam is logged."}]},{id:"faqSixMonthLimit",title:"6-Month Limit (Video-Only VCPR)",blocks:[{type:"qa",question:"What if the VCPR was formed via synchronous video?",answer:"The *same drug* may be refilled for up to six months from that video exam. After six monthsor for a different drugyou must re-examine the patient. (BPC  4826.6(i)(4)).",example:"A 1 Feb 2025 video consult leads to gabapentin for chronic pain. Gabapentin refills are permissible until 1 Aug 2025 provided the condition remains stable.",helpText:"Vetcation time-stamps each video exam and tags the prescribed drug. If you try to refill that drug after the six-month window, the platform blocks the order and prompts you to schedule a new exam."}]},{id:"faqFourteenDayLimit",title:"14-Day Limit for Antimicrobials",blocks:[{type:"qa",question:"Is it true that antibiotics (and other antimicrobials) are limited to 14 days if the VCPR is established via telehealth?",answer:"Yes. If you established the VCPR using synchronous audio-video, you can only prescribe an antimicrobial drug for up to 14 days of treatment. Any refill or extension beyond 14 days requires an in-person exam. (BPC,  4826.6, subd. (i)(5).)",example:"You diagnose a dog with a skin infection via video consult and prescribe a 10-day course of antibiotics. If the dog needs more than 10 days total, you can extend up to 14 days. But if the condition isnt resolved by then, you must see the dog in person before prescribing more antibiotics.",helpText:"We tag certain medications as 'antimicrobials' in our drug database. If you attempt to prescribe beyond 14 days of treatment via telehealth-only VCPR, the system will block it and prompt you to schedule an in-person follow-up."}]},{id:"faqControlledSubstances",title:"Controlled Substances, Xylazine, and Racehorses",blocks:[{type:"qa",question:"Are there additional restrictions on controlled substances, xylazine, or prescriptions for racehorses?",answer:"Yes. If you have not performed an in-person exam, California law prohibits prescribing controlled substances or xylazine via telehealth. Also, you cannot prescribe any drug via telehealth for a horse engaged in racing or training at a CHRB-regulated facility. (BPC,  4826.6, subds. (i)(6), (i)(8).)",example:"A trainer of a racehorse calls you for a telehealth consult. Because the horse is in training at a CHRB facility, youre not allowed to prescribe any medication via telehealth. Similarly, if a cat needs a controlled pain medication, you must have performed an in-person exam first.",helpText:"We flag attempts to prescribe controlled substances or xylazine if the patients record only shows a telehealth exam. We also prompt the user to confirm if the horse is under CHRB jurisdiction, blocking telehealth prescriptions if it is."}]}]},PrivacyConfidentiality:{mainTitle:"Privacy & Confidentiality in Telemedicine",mainDescription:`Under California law, veterinarians must ensure the privacy and confidentiality 
    of all client and patient information, whether in-person or via telehealth. 
    Business & Professions Code (BPC)  4826.6(h)(1) requires secure technology for 
    telehealth services, while BPC  4857 addresses the release of confidential records 
    and potential civil liability for negligence. The FAQs below clarify these obligations 
    and explain how Vetcation helps you comply.`,sections:[{id:"faqPrivacyOverview",title:"General Privacy Requirements",blocks:[{type:"qa",question:"What are the main privacy rules for telemedicine under AB 1399?",answer:"Under BPC  4826.6(h)(1), veterinarians must use technology and methods that protect confidential client and patient information during telehealth. Additionally, you must follow the same privacy and recordkeeping standards that apply to in-person care. If medical records exist, you must maintain their confidentiality and ensure theyre only accessed by authorized personnel. (BPC  4857.)",example:"If you store telemedicine session videos or chat logs, you must keep them secure  just like paper records in a physical clinic. This means using encrypted storage, limiting who can view them, and retaining them for the legally required duration.",helpText:"Our platform uses end-to-end encryption for live video sessions and secure data storage for patient records. Only the assigned veterinarian and authorized team members can access these files, reducing the risk of accidental disclosure."}]},{id:"faqCivilLiability",title:"Civil Liability for Negligent Release",blocks:[{type:"qa",question:"What happens if a veterinarian accidentally discloses confidential information from a telemedicine session?",answer:"BPC  4857 states that a veterinarian can face civil liability for the negligent release of confidential information, in addition to any potential disciplinary action. This means a client could sue you in civil court for damages if their data was mishandled. The Veterinary Medical Board may not prosecute a privacy breach directly, but a civil suit could still be brought against you if you fail to safeguard client or patient information.",example:"If a veterinarians unsecured laptop is stolen, revealing telemedicine session notes or client addresses, the vet could face a lawsuit if its proven they did not take reasonable steps to protect that data.",helpText:"We implement role-based access controls, meaning only verified staff can view sensitive records. Vetcation also provides secure sign-in and logs all user activity. This helps you prove you took proper precautions if a dispute arises."}]},{id:"faqAIProcessing",title:"AI-Assisted Medical Records & Appointment Summaries",blocks:[{type:"qa",question:"How does using AI to process audio or video from telemedicine sessions affect privacy and confidentiality, especially if the platform also generates an appointment summary for the client?",answer:"Any AI feature that processes telemedicine audio or video must comply with the same confidentiality requirements as traditional recordkeeping. This includes creating both the official medical record (for the veterinarian) and a shareable appointment summary (for the client). You should obtain informed consent from both the client and any participating veterinary staff before capturing or processing any recordings. While California law does not prohibit AI usage, the veterinarian is still responsible for ensuring the data is stored securely, access is restricted to authorized personnel, and no unauthorized disclosures occur. (BPC  4826.6(h)(1), 4857.)",example:"If you plan to record the audio from a live consult and use AI to generate a medical record, you must notify the client that their session is being recorded and processed. If they decline, you cannot record or process their session. Consent is essential, and all data must remain encrypted and access-controlled.",helpText:"Our AI operates on secure, internal servers  no third-party cloud providers. We encrypt audio files and transcripts, then generate two separate documents: (1) a detailed medical record for the veterinarians files, and (2) a concise appointment summary for the clients portal. Before the AI feature is enabled, Vetcation prompts you to confirm that the client has agreed to have their session recorded and processed, preventing any inadvertent privacy violations."}]}]},RacehorseCHRBRestrictions:{mainTitle:"Racehorse / CHRB Restrictions",mainDescription:`California law places special restrictions on prescribing 
    drugs for horses engaged in racing or training at facilities under the jurisdiction 
    of the California Horse Racing Board (CHRB). (BPC,  4826.6, subd. (i)(8).) Veterinarians 
    providing telehealth services must confirm the horses status before prescribing 
    any medication, as ignorance of the horses racing or training activities is 
    not considered a valid defense.`,sections:[{id:"faqCHRBNoTeleRx",title:"No Telehealth Prescriptions for Racehorses",blocks:[{type:"qa",question:"Can a veterinarian prescribe medication via telehealth for a horse engaged in racing or training at a CHRB-regulated facility?",answer:"No. Under AB 1399 (BPC,  4826.6, subd. (i)(8)), a veterinarian is prohibited from prescribing any drug or medication via telehealth if the horse is actively racing or training at a CHRB facility. This restriction applies even if you have an established VCPR through synchronous audio-video. An in-person examination is required for any prescription in these cases.",example:"A trainer requests medication for a racehorse that races at Santa Anita Park. If the horse is currently in training at that CHRB-regulated track, you cannot lawfully prescribe via telemedicine. Instead, you must see the horse in person before prescribing any medication.",helpText:"Our platform prompts you to confirm the horses racing status at the start of a telehealth consult. If the client indicates the horse is under CHRB jurisdiction, Vetcation automatically blocks new telehealth prescriptions and advises an in-person exam."}]},{id:"faqCHRBUnknownStatus",title:"Verifying the Horses Status",blocks:[{type:"qa",question:"What if a veterinarian unknowingly prescribes medication via telehealth to a horse that is racing or training under the CHRB?",answer:"The law states that the veterinarians lack of knowledge is irrelevant if the horse is later found to be racing or training. You must confirm the horses status before prescribing. (BPC,  4826.6, subd. (i)(8).) If you fail to do so, you could be found in violation of AB 1399 even if you were unaware of the horses actual training or racing activities.",example:"A client might not mention the horses status, or they may provide incomplete information. If you do not document your inquiry and theyre later discovered to be at a CHRB facility, you may face penalties for unlawful telehealth prescribing.",helpText:"We require the client to disclose whether the horse is involved in CHRB-regulated racing or training. This Q&A is recorded in the patient file, providing proof that you verified the horses status. If the client answers 'yes,' Vetcation prevents you from issuing a telehealth prescription, helping you avoid regulatory violations."}]}]},RecordKeepingDocumentation:{mainTitle:"Record Keeping & Documentation",mainDescription:`California veterinarians must keep comprehensive medical records for
<span class="highlight">three years after the animals last visit or consultation</span>.
(BPC  48554856; 16 CCR  2032.3). The FAQs below reflect those
requirements and explain how Vetcation keeps you compliant.`,sections:[{id:"faqBasicRetention",title:"Retention Period",blocks:[{type:"qa",question:"How long must I retain medical records?",answer:'You must retain records for three years <span class="highlight">after the patients last visit. (BPC  4856).</span>',example:"If you treat a dog in Jan 2025 and never see it again, you may discard the record in Jan 2028.",helpText:"Vetcation automatically tracks the last-visit date and tags records for destruction reminders."}]},{id:"faqContentOfRecords",title:"Required Content (16 CCR  2032.3)",blocks:[{type:"qa",question:"What details must be included?",answer:"Per <strong>Cal. Code Regs., tit. 16,  2032.3(a)</strong>, every medical record must be legible and contain:<br>(1) Name or initials of the person responsible for entries.<br>(2) Name, address and phone number of the client.<br>(3) Name or identity of the animal, herd or flock.<br>(4) (Except for herds or flocks) age, sex, breed, species, and color of the animal.<br>(5) Dates (beginning and ending) of custody of the animal, if applicable.<br>(6) A history or pertinent information as it pertains to each animal, herd, or flocks medical status.<br>(7) Data, including that obtained by instrumentation, from the physical examination.<br>(8) Treatment and intended treatment plan, including medications, dosages, <em>route of administration</em>, and <em>frequency of use</em>.<br>(9) For surgical procedures: description of the procedure, name of the surgeon, sedative/anesthetic agents used, their route of administration, and strength if available in more than one strength.<br>(10) Diagnosis or assessment prior to performing a treatment or procedure.<br>(11) If relevant, a prognosis of the animals condition.<br>(12) All medications and treatments prescribed and dispensed, including strength, dosage, route of administration, quantity, and frequency of use.<br>(13) Daily progress, if relevant, and disposition of the case.",example:`
        <ul>
          <li><strong>Telehealth consult  5 Apr 2025</strong></li>
          <li>(1) Entry by Dr. G. Chen (GC)</li>
          <li>(2) Client: Jane Smith, 123 Maple Ave, Los Angeles CA 90001; (310) 555-1234</li>
          <li>(3) Patient: Buddy, individual dog</li>
          <li>(4) Labrador Retriever, male/neutered, 4 yrs, yellow coat</li>
          <li>(5) Custody dates: 5 Apr 2025  ongoing</li>
          <li>(6) History: 3-day left-ear discharge & scratching</li>
          <li>(7) Exam data: Otoscopic  erythematous canal, brown exudate; Temp 101.4 F</li>
          <li>(8) Plan: Ear flush today; <strong>gentamicin-betamethasone otic drops</strong> 2 gtt AU <em>BID</em>  7 d</li>
          <li>(9) N/A  no surgery performed</li>
          <li>(10) Diagnosis: Otitis externa (bacterial/yeast)</li>
          <li>(11) Prognosis: Good</li>
          <li>(12) Medication dispensed: gentamicin-betamethasone 5 mL; strength 3 mg/mL; 2 gtt AU BID  7 d</li>
          <li>(13) Daily progress (Day 1): Owner reports mild pruritus; no adverse effects</li>
        </ul>
      `,helpText:"Vetcations note template maps one-to-one with each  2032.3(a) item and prevents closure of a consult until all required fields are completed."}]},{id:"faqProvidingRecords",title:"Providing Records / Summaries",blocks:[{type:"qa",question:"Can I give a summary instead of the full record?",answer:"Yes. <strong>Cal. Code Regs., tit. 16,  2032.3(b)</strong> states:<br> Records must be kept for <em>three years after the animals last visit</em>.<br> A summary of an animals medical records shall be made available to the client <em>within five (5) days</em>or sooner if the animal is criticalupon request.<br>The summary must include:<br>(1) Name and address of client and animal.<br>(2) Age, sex, breed, species, and color of the animal.<br>(3) History or pertinent information as it pertains to the animals medical status.<br>(4) Data, including that obtained by instrumentation, from the physical examination.<br>(5) Treatment and intended treatment plan, including medications, their dosage and frequency of use.<br>(6) All medications and treatments prescribed and dispensed, including strength, dosage, <em>route of administration</em>, quantity, and frequency of use.<br>(7) Daily progress, if relevant, and disposition of the case.",example:`
        <ul>
          <li><strong>Client/Animal:</strong> Jane Smith, 123 Maple Ave, LA CA 90001 / Buddy, Labrador, M/N, 4 yrs, yellow</li>
          <li><strong>History:</strong> Three-day left-ear discharge & scratching</li>
          <li><strong>Exam data:</strong> Otoscopicerythema, brown exudate; Temp 101.4 F</li>
          <li><strong>Treatment plan:</strong> Ear flush today; <em>gentamicin-betamethasone drops</em>strength 3 mg/mL; 2 gtt AU <em>BID  7 d</em></li>
          <li><strong>Medications dispensed:</strong> Gentamicin-betamethasone 5 mL bottle; 2 gtt AU BID  7 d (route: otic; quantity: 1 bottle)</li>
          <li><strong>Progress:</strong> Day 1mild pruritus, no adverse effects</li>
          <li><strong>Disposition:</strong> Re-check video call in 1 week</li>
        </ul>
      `,helpText:"Vetcations >Export  Generate Summary tool auto-pulls every  2032.3(b) element, inserts your e-signature, and produces a PDF. The timer ensures delivery within five days (or sooner if you mark the case critical)."}]},{id:"faqTelehealthVsInPerson",title:"Telehealth vs. In-Person Records",blocks:[{type:"qa",question:"Are the recordkeeping requirements different for telehealth appointments compared to in-person visits?",answer:"No. You must maintain the same standard of documentation regardless of how the VCPR was established or how the consultation took place. The law treats telehealth records the same as in-person records in terms of confidentiality, retention, and content. (BPC  4855, 4856.)",example:"Whether you physically examine a cat at your clinic or diagnose it via synchronous audio-video, you must record your findings, treatment plan, and client communications in the same level of detail.",helpText:"Our platform seamlessly integrates telehealth records with any in-person data you upload, so your patients file remains complete and consistent."}]}]},MiscellaneousClarifications:{mainTitle:"Additional FAQs & Clarifications",mainDescription:`Below are extra questions and answers addressing corner cases and nuanced
      scenarios that may still be confusing under Californias AB 1399. While not
      specifically addressed in the earlier sections, these clarifications can help
      veterinarians navigate unique or evolving circumstances in telehealth practice.`,sections:[{id:"faqMultiStateLicense",title:"Multiple State Licenses & Traveling Patients",blocks:[{type:"qa",question:"Can a California-licensed veterinarian continue providing telehealth to a pet that travels out of California?",answer:"No. A California license only authorizes telehealth services when the animal is physically in California. If the pet leaves California, only a veterinarian licensed in the state where the pet is located may provide telehealth and only if that states laws permit it.",example:"<ul><li><strong>Scenario:</strong> Buddy travels with his owner from Los Angeles to Portland.</li><li><strong>CA Vet:</strong> Cannot continue telehealth consults while Buddy is in Oregon.</li><li><strong>OR Vet:</strong> May provide telehealth only if licensed in Oregon and if Oregon telehealth rules allow it.</li></ul>",helpText:"Vetcations scheduling and location checks block new telehealth bookings when the system detects the pet is outside California, ensuring only appropriately-licensed veterinarians can see the patient."}]},{id:"faqNoSynchronousVideo",title:"Telehealth Without Video (Phone or Text Only)",blocks:[{type:"qa",question:"If I only speak with a client on the phone (or by text/email) and never see the animal via video or in person, does that count as telehealth under AB 1399?",answer:"Yes, these communications can still be considered telehealth, but you cannot establish a valid VCPR solely through non-visual means (phone, email, or text). Under AB 1399, the veterinarian must use synchronous audio-video to perform an exam if the VCPR hasnt already been established in person. Phone calls, emails, or text messages may supplement an existing VCPR, but they cannot replace the initial real-time video or in-person exam requirements. (BPC,  4826.6, subds. (b)(2), (d).)",example:"A client calls you about their dogs cough but youve never met the animal. Messaging guidance alone cannot establish a new VCPR  youd either need to see the dog in person or conduct a live video exam before diagnosing or prescribing.",helpText:"Vetcation supports text or chat-based follow-ups for minor adjustments once the VCPR is formed (via in-person or synchronous video). Our interface keeps a clear record of these communications, ensuring continuity of care without violating AB 1399."}]},{id:"faqInconclusiveExam",title:"When Telehealth Exam Is Inconclusive",blocks:[{type:"qa",question:"What if I attempt a telehealth exam via live video but find I cannot accurately diagnose or assess the animals condition? Am I required to refer them for an in-person exam?",answer:"Yes. If, at any point, you determine that a telehealth exam (even synchronous audio-video) is insufficient to meet the standard of care, you must advise the client to schedule an in-person visit. Telehealth is only permissible when it allows you to gather enough information to make safe, informed medical decisions. If that isnt possible, continuing solely via telehealth would be inappropriate  and could subject you to disciplinary action if an error occurs. (BPC,  4826.6, subd. (c).)",example:"During a video consult for a limping horse, you realize you cannot adequately evaluate lameness without hands-on palpation or diagnostic imaging. You tell the owner they must schedule an in-person exam before you can prescribe or finalize a diagnosis.",helpText:"Vetcations platform includes documentation prompts to note 'telehealth insufficient, recommended in-person exam.' This ensures transparency in your medical record if the Board later reviews why you referred the animal for in-person care."}]},{id:"faqSecondOpinion",title:"Second Opinions Via Telehealth",blocks:[{type:"qa",question:"Can I provide a telehealth-based second opinion directly to the client when another veterinarian already has a VCPR?",answer:"Nounless you fall within the limited shared-practice exception in 16 CCR  2032.15 (e.g., you and the primary veterinarian work at the same physical location and you have full access to the chart). A veterinarian-to-veterinarian consult is always allowed, but giving advice or prescriptions directly to the owner requires you to establish your own VCPR.",example:"The primary vet emails you radiographs for input. You may discuss findings with that vet, but you may not video-chat with the owner or prescribe medication unless you first establish your own VCPR or the  2032.15 exception applies.",helpText:"Vetcation supports true peer-to-peer consults by limiting direct client access until you open a compliant VCPR encounter."}]},{id:"faqEuthanasia",title:"Euthanasia Considerations via Telehealth",blocks:[{type:"qa",question:"Is it legal to perform euthanasia or guide a client through it via telehealth?",answer:"No. Because controlled substances are involved and a VCPR formed solely by telehealth cannot support prescribing or administering those drugs, euthanasia must be performed in person under a valid in-person VCPR. (BPC  4826.6(i)(6)).",example:"A rural client requests video guidance to administer pentobarbital. You must decline and refer them to an in-person service.",helpText:"If a client raises the request inside Vetcation, the system displays a canned message explaining that euthanasia requires an on-site veterinarian."}]},{id:"faqVetLocationRegistration",title:"Telehealth From an Unregistered Home Office",blocks:[{type:"qa",question:"Do I need a registered veterinary premises if I practice only by telehealth?",answer:'Under B&P  4853(h), the location where you practice telehealth is exempt from the registration requirement <span class="highlight">only if</span> you satisfy <span class="highlight">all</span> of the following:<br>1. You do <span class="highlight">not</span> perform any in-person examinations or treatments at that location;<br>2. You keep <span class="highlight">no</span> veterinary drugs, medicines, appliances, or medical equipment there;<br>3. You create, maintain, and store all medical records (per  4855 & 4856) so theyre protected from unauthorized access, damage, or loss;<br>4. Any electronic publication (e.g. your website) where you offer services must prominently display:<br>&nbsp;&nbsp;&nbsp;a. Your name, contact information, and California license number;<br>&nbsp;&nbsp;&nbsp;b. Instructions for clients to obtain copies of their medical records;<br>&nbsp;&nbsp;&nbsp;c. A statement that clients may contact the Veterinary Medical Board with questions or complaints.<br>If <span class="highlight">any</span> of these conditions arent met, you must register the location as a veterinary premises under  4853(a)(c).',example:`<ul>
           <li><strong>Scenario:</strong> You consult exclusively via video from your home office.</li>
           <li>You never see patients in person there.</li>
           <li>You store no drugs or equipment on-site.</li>
           <li>All records are encrypted and access-controlled off-site.</li>
           <li>Your website footer shows: Dr. Jane Doe, DVM #12345; For medical records requests, email records@example.com; Call the CA Veterinary Medical Board at (916) 515-5220 for questions.</li>
         </ul>`,helpText:"Vetcations onboarding checks each  4853(h) condition. If any fail, we guide you through submitting a premises-registration application to the Boardensuring full compliance with state law."}]},{id:"faqClinicPremises",title:"Telehealth From a Registered Clinic",blocks:[{type:"qa",question:"Our clinic already has a California Premises Permit. Do our veterinarians need a separate registration to use Vetcation for telehealth?",answer:'No. When telehealth is delivered <span class="highlight">from an address that already holds a valid Veterinary Premises Permit</span>, the location is <strong>already</strong> registered under B&P  4853 (a)(c). The  4853(h) exemption is irrelevant because the clinic is not an unregistered site.',example:`<ul>
        <li><strong>Scenario:</strong> Maple Veterinary Hospital (Premises #VET-1234) adds video visits via Vetcation.</li>
        <li>All telehealth sessions originate from the clinic building.</li>
        <li>No extra premises paperwork is requiredthe existing permit covers on-site, mobile, and telehealth care.</li>
      </ul>`,helpText:"During onboarding, clinic admins simply enter the existing Premises Permit number. Vetcation records the permit and allows all associated vets to begin video consults immediately."}]},{id:"faqMixedWorkflows",title:"Mixed Workflows: Clinic & Home Office",blocks:[{type:"qa",question:"What if I sometimes consult from the clinic and sometimes from my home office?",answer:'When you consult <span class="highlight">inside the registered clinic</span>, you are covered by that premises permit. When you consult <span class="highlight">from home</span>, your home office must either meet <strong>all</strong> four conditions in B&P  4853(h) <em>or</em> be registered as a separate premises.',example:`<ul>
        <li>Clinic shift     video visit from Maple Veterinary Hospital (covered under Premises #VET-1234).</li>
        <li>Evening shift    video visit from your home office.</li>
        <li>Home office complies with  4853(h): no in-person exams, no drugs on site, cloud-based records, required footer posted.</li>
        <li>If you ever stock medications at home, the exemption is lost and a home-office premises registration is mandatory.</li>
      </ul>`,helpText:"Vetcation lets you tag each telehealth session with its originating location. If you select Home Office, the platform runs the  4853(h) checklist; if any item fails, it warns you to register the site before scheduling new sessions."}]}]},joinVideoCall:{mainTitle:"Join a Video Call",mainDescription:`
          Vetcations video consultation feature enables you to meet clients 
          face-to-face (virtually) and gather information needed 
          to diagnose and treat patients. Below, learn how to access 
          your scheduled calls, test your mic and camera, and begin 
          your real-time telehealth session.
        `,sections:[{id:"howToJoinSection",title:"How to Join",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8367.PNG?alt=media&token=2615e2aa-5d1b-4f61-9a6a-1a6afa0a48b1","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8372.PNG?alt=media&token=0e8a49c8-10f0-43ca-99da-902c91a17043","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FScreen%20Shot%202025-04-01%20at%201.31.06%20PM.png?alt=media&token=0e2adb20-f48d-4e18-bdc7-0cf3854ad7ba"]},{type:"bulletList",items:[{heading:"Access Scheduled Appointments",lines:["Go to My Schedule for the upcoming appintment. Press it to navigate to the appointment card.","Look for a Join Call button on the appointment card."]},{heading:"Stable Internet Connection",lines:["A strong connection helps keep video and audio smooth.","If using mobile data, find a reliable spot with good reception."]},{heading:"Start the Call",lines:["Once youre ready, click Join Call to enter the video call.","Remember to enable your camera so the client can see you (and vice versa).","Be mindful of background surroundings for privacy and professionalism.","Under AB 1399, you must use synchronous audio-video to form a valid VCPR unless youve already examined the patient in person."]},{heading:"Camera Access Prompt",lines:["When you enable your camera, Vetcation may show a prompt such as Vetcation Would Like to Access the Camera.","Allowing camera access enables you to share live video with the client","If you tap Dont Allow, youll be unable to share your video directly from your device and VCPR establishment cannot be completed."]}]}]}]},videoCallFeatures:{mainTitle:"Call Features & Settings",mainDescription:`
          Vetcations call interface offers more than a basic camera and microphone. 
          From reducing background noise to customizing your video background, 
          these features let you deliver professional, efficient telehealth 
          consultations wherever you are.
        `,sections:[{id:"featureOverview",title:"Features Overview",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FScreen%20Shot%202025-04-01%20at%2011.12.55%20PM.png?alt=media&token=e653f8e4-4a3b-43b2-b8b4-6c8b33b0350f"]},{type:"bulletList",items:[{heading:"Camera and Audio Requirements",lines:["To form a valid VCPR via telehealth (if you havent examined the patient in person), you must appear on video and turn on the microphone.","Vetcation prompts you if your camera is off and nudges clients to enable theirs for an in-clinic-like interaction."]},{heading:"flip Camera",lines:["If you need to show the patient something, tap the camera icon to switch between front and back views."]},{heading:"Mute/Unmute",lines:["Tap the microphone icon to mute or unmute your audio during the call."]},{heading:"End Call",lines:["When youre finished, tap the red Leave icon to leave the video call room."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FScreen%20Shot%202025-04-01%20at%2011.13.19%20PM.png?alt=media&token=086e22cd-ffcc-4028-a467-5e8b8b777788"]},{type:"bulletList",items:[{heading:"Access Telemedicine Info (top middle)",lines:["Tap the Vetcation icon during a video call to view important session details in real-time.","This includes your Appointment ID, the names of both the veterinarian and the pet owner, and the patients name.","Youll also see confirmation of enhanced encryption and the U.S.-based data center powering the call.","This feature promotes transparency and trust while also helping you keep accurate documentation during the session."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FScreen%20Shot%202025-04-01%20at%2011.14.13%20PM.png?alt=media&token=1cdeae5b-84ee-440f-b2d9-f92547699a60"]},{type:"bulletList",items:[{heading:"Access Inquiry-based Messager (bottom right corner)",lines:["During a video call, you can use the inquiry-based Messager to send text messages to the client.","This feature is useful for sharing links, files, or other details that might be hard to convey verbally.","The chat is saved in the Inquiry-Based Messager, ensuring continuity of care.","For more details, see the 'Inquiry-Based Messager' section."]}]}]},{id:"UpcomingFeatures",title:"Upcoming Features",blocks:[{type:"bulletList",items:[{heading:"Noise Cancellation",lines:["Filters out ambient noiselike clinic chatter or trafficso you and your client can focus on what matters.","Helpful if youre on the move, in a busy setting, or simply want the clearest audio.","Noise Cancellation will automatically be enabled when you join a call."]},{heading:"Virtual Backgrounds",lines:["Blur your real environment or replace it with a professional/branded image.","Use the gear icon  Video tab to choose from a solid color, custom image, or no background.","Ideal for protecting personal privacy or appearing more polished."]}]}]}]},recordingAndConsent:{mainTitle:"Audio Processing & AI Summaries",mainDescription:`
          Vetcation uses a secure, audio-only processing system to generate AI-assisted 
          medical records and summaries for each appointment. Unlike platforms that save 
          entire video recordings, Vetcation does not store any media files after 
          processing. This approach safeguards client and veterinarian privacy while 
          preserving accurate, AI-enhanced documentation.
        `,sections:[{id:"recordingBasics",title:"Recording Basics & Consent",blocks:[{type:"bulletList",items:[{heading:"No Media Storage",lines:["Vetcation does not retain video or audio once processing is complete.","Audio is temporarily captured in real time so our AI can generate summaries, then permanently deleted.","This minimizes privacy concerns and long-term data risks."]},{heading:"AI-Assisted Medical Records (No Saved Recordings)",lines:["Audio from the session is briefly processed to produce a draft medical record for review.","After processing, the raw audio is discardedonly the structured text record remains."]},{heading:"Client-Facing Summaries",lines:["We create a plain-language recap that clients can view in their portal.","This summary highlights key discussion points, recommended treatments, and next steps."]}]}]},{id:"privacySecurity",title:"Privacy & Security",blocks:[{type:"bulletList",items:[{heading:"Data Protection",lines:["All live calls are end-to-end encrypted. Only the assigned veterinarian and authorized staff can access session details.","If audio is processed by our AI, its stored only until the summary is generated, then automatically deleted."]},{heading:"Liability Under BPC  4857",lines:["A veterinarian can face civil liability for negligent release of confidential information.","Handle any patient data carefully, whether its text, images, or ephemeral audio."]},{heading:"Deleting Audio Data",lines:["Vetcations AI system automatically removes audio once processing is complete.","No manual deletion is requiredephemeral files never remain in storage."]},{heading:"Patient Requests",lines:["Clients can request copies of their medical summaries at any time.","Per BPC  4855, you must furnish these upon request, even if the client owes a balance."]}]}]}]},InquiryBasedMessagerOverView:{mainTitle:"Vetssenger Overview",mainDescription:`
        Vetssenger is Vetcations inquiry-based messaging tool designed to help you maintain continuous care and build healthy and lasting relationships with your clients.
      `,sections:[{id:"vcprAndCases",title:"VCPR and Case Handling",blocks:[{type:"bulletList",items:[{heading:"Vetssenger Threads",lines:['Each <span class="highlight">Vetssenger thread</span> is dedicated to one veterinarian, one pet owner, and one patient (pet). <span class="highlight">Messaging through Vetssenger becomes available only after a valid VCPR has been established</span> (via an in-person or synchronous video visit per AB 1399).','With a valid VCPR in place, either party can initiate a new <span class="highlight">case</span> (chat session) within the thread. Veterinarians can freely start cases, while pet owners pay a fee (set by you) to start a new inquiryprovided you are open to accepting questions.',"Click Close Case once the inquiry is fully addressed. All cases remain neatly organized in a single Vetssenger thread, ensuring easy reference and seamless continuity of care."]}]}]},{id:"vetssengerTabs",title:"Navigating the Vetssenger Tabs",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8395.PNG?alt=media&token=fe15ea39-bc48-43c8-9d77-32a1dc3972a9","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8410.PNG?alt=media&token=5f0af2fc-83b8-4bf6-900a-cce62614318e"]},{type:"bulletList",items:[{heading:"Active Tab",lines:["Shows all on-going cases that are still open.","These include any chat sessions that are awaiting your response or action.","Your goal is to review, respond to, and close all open cases in this tab to ensure timely communication and maintain your clients' satisfaction."]},{heading:"Archived Tab",lines:["Displays all closed cases from past conversations.","You can revisit any previous case here to review history or context.",'If further follow-up is needed, simply initiate a new case within the same thread from the Archived tab or use "+" to start a new case.']}]}]}]},VetssengerVCPRStatus:{mainTitle:"Vetssenger VCPR Status",mainDescription:`
        Vetssenger helps you deliver continuous care and maintain lasting relationships with your clients. To comply with California law (AB 1399), Vetssenger can only be used after establishing a valid VCPR through an in-person visit or synchronous video consultation. Pet owners will be unable to initiate new cases until this requirement is fulfilled.
      `,sections:[{id:"vcprStatus",title:"Understanding VCPR Status",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8387.PNG?alt=media&token=5a1d8b4c-6f4b-4f4e-8d3c-0a3e8e8f6c0c","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8393.PNG?alt=media&token=c717d3ad-b5f0-4a64-9248-ef3bcfb61628"]},{type:"bulletList",items:[{heading:"Check VCPR Status",lines:[`If a valid VCPR is established, you'll see "Connected" displayed on the right side of the banner.`,`If a valid VCPR has expired, you'll see "Connected?" displayed instead.`]}]}]}]},StartNewCase:{mainTitle:"Start a New Case",mainDescription:`
        Starting a new case in Vetssenger is easy and straightforward. Follow the steps below to initiate a new inquiry-based chat session with your client.
      `,sections:[{id:"startNewCase",title:"How to Start a New Case",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8386.PNG?alt=media&token=94c4eadf-538b-4d87-8322-606be6306b55","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8398.PNG?alt=media&token=2ce475e1-24e7-48ab-a35e-996944cdc2ad","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8397.PNG?alt=media&token=f0091f31-9b64-41af-8372-a022ca38f7d1"]},{type:"bulletList",items:[{heading:"Open Vetssenger",lines:["Navigate to the chat tab at the bottom.",'Click the "+" icon at the bottom right to start a new chat.']},{heading:"Initiate a New Case (Chat Session)",lines:["On the left screen, you'll see all the fields required to start a new case. The first field is for selecting the client, and the second asks which pet the case is for.","When you tap the client input field, the middle screen appearsallowing you to choose from clients who have previously built a valid VCPR with you.","After selecting the client, the right screen displays all pets owned by that client.",'Pets labeled with "Connected" indicate a valid VCPR has been established and can be selected.','"Connect?" means you have not yet established a valid VCPR with that pet, and they cannot be selected.',"(Optional) You may also select a licensed technician who partners with you to join the session.","Enter the topic, title, and your initial message to begin the case.","Press the Send button to officially start the case.",'If you click "X," your input will be saved as a draft.']}]}]}]},RespondToCase:{mainTitle:"Responding to a Vetssenger Case",mainDescription:`
        Responding to a case on Vetssenger indicates that you've agreed to handle the client's inquiry. Once you join a case, the pet owner is immediately charged the fee you set. Pet owners have the option to withdraw their inquiry before you join, in which case they won't be charged.
      `,sections:[{id:"respondToCase",title:"How to Respond to a Case",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8404-min.PNG?alt=media&token=6774e90a-ad3a-4f00-96b9-0c5e218dcfbb"]},{type:"bulletList",items:[{heading:"View Pending Cases",lines:["Youll receive a notification when a new message arrives.","Go to your Vetssager inbox to review incoming inquiries.","Any case awaiting your response will display a small dot next to the message box  just like on Facebook Messenger.",'All active unclosed cases will be listed in the Vetssenger "Active" inbox.']}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8401-min.PNG?alt=media&token=8a2a1939-8f27-49b3-afcf-1c706f11cf91"]},{type:"bulletList",items:[{heading:"Review the Inquiry",lines:["Select the inquiry to review the details provided by the pet owner.","You can see the topic, the initial message, and any related patient information."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8402-min.PNG?alt=media&token=bb4671da-9d5f-47ea-b1bf-812d2a967ffe","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8403-min.PNG?alt=media&token=d41a0732-c294-4f1c-89c4-235adc66d0f7"]},{type:"bulletList",items:[{heading:"Join the Case",lines:["To accept and respond to the inquiry, type your message and press Send.","Once you join, the pet owner will be automatically charged the inquiry fee you've set."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8411-min.PNG?alt=media&token=09b1a50e-c47d-4d01-85ae-034ab96662bb"]},{type:"bulletList",items:[{heading:"Access closed Cases",lines:["To view closed cases, go to the Vetssenger inbox and select the 'Archived' tab.","This allows you to review past inquiries and maintain continuity of care."]}]},{type:"bulletList",items:[{heading:"Pet Owner Withdrawal",lines:["Pet owners can withdraw their inquiry before you join the case.","If withdrawn before your response, they won't incur any charge."]}]}]}]},CloseCase:{mainTitle:"Closing a Vetssenger Case",mainDescription:`
        Once you've fully addressed a client's inquiry in Vetssenger, you can close the case. Vetssenger will automatically generate an AI summary of the conversation to help streamline your documentation process. You also have the flexibility to reopen a case if additional follow-up is needed.
      `,sections:[{id:"closingTheCase",title:"How to Close a Case",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8406-min.PNG?alt=media&token=f60d50fc-c3ed-4371-a691-5297eee83119","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8408-min.PNG?alt=media&token=2e2c2a99-dc04-4665-9c66-9ab39a98fb04"]},{type:"bulletList",items:[{heading:"Close the Case",lines:['Click the "Close the Case" button at the top of the conversation once the inquiry has been fully resolved.',"After closing, the conversation will remain accessible for future reference."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8408-min.PNG?alt=media&token=2e2c2a99-dc04-4665-9c66-9ab39a98fb04","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8409-min.PNG?alt=media&token=1029e7c5-cfad-40bb-9211-c5953e2c2218"]},{type:"bulletList",items:[{heading:"AI-Generated Summary",lines:["Upon closing the case, Vetssenger automatically generates a concise summary based on your conversation.",'To access this summary, click the "Medical Note" button. The AI-generated summary will appear below the note input field.',"You can copy this summary into your notes and edit as necessary to ensure accuracy."]},{heading:"Privacy of Medical Notes",lines:["Medical notes are private and only visible to you.","Clients do not have access to these notes."]}]}]},{id:"reopeningCases",title:"Reopening a Closed Case",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8412-min.PNG?alt=media&token=d5d4d4b5-0cb1-438d-838b-892667b474ae","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8415-min.PNG?alt=media&token=fea08018-3fa2-475f-952e-879ccb76b258","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8416-min.PNG?alt=media&token=3aaa8771-bd38-4a76-816e-cfefca88acd0"]},{type:"bulletList",items:[{heading:"Reopen a Closed Case",lines:["If you need to add more information or ask additional questions after closing, you can reopen the same case.","Pet owners can respond freely without incurring an additional charge when a case is reopened.",`Once you've addressed any follow-up questions, click "Close Case" again to finalize the conversation.`]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8417-min.PNG?alt=media&token=358f6f35-f270-49de-a507-cc7803e9e1f2"]},{type:"bulletList",items:[{heading:"Updated AI-Generated Summary",lines:["After reclosing, Vetssenger will generate a new AI summary based on the updated conversation.","You can review and edit this new AI summary and copy it into your notes as needed."]}]}]}]},ViewCaseHistory:{mainTitle:"Viewing Case History",mainDescription:`
        Vetssenger makes it easy to review past cases with your clients. Quickly access and revisit previous inquiries for comprehensive and continuous care.
      `,sections:[{id:"howToViewCaseHistory",title:"How to View Case History",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8425-min.PNG?alt=media&token=06c970fc-6595-45d7-82ba-a19aea03fec5","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8426-min.PNG?alt=media&token=822aa65e-26d3-4687-bb8a-3301aca443c0"]},{type:"bulletList",items:[{heading:"Open Case History",lines:["Within a Vetssenger thread, click the three-dot icon () located at the top-right corner of the chat.",'Select "View All Requests" from the dropdown menu to see a list of all previous cases related to this pet owner and patient.']},{heading:"Navigate to Specific Case",lines:["Browse through the list of previous cases.","Click on any case to navigate directly to that specific conversation.","Easily reference past interactions to support ongoing care and follow-up inquiries."]}]}]}]},VetssengerNotes:{mainTitle:"Vetssenger Notes",mainDescription:`
      Vetssenger Notes help you conveniently document key details from your telehealth consultations. 
      When you open the Medical Note screen, youll see an <span class="highlight">AI-generated summary</span> displayed just below the input field. 
      You can review, copy, and edit this draft to create your official note. 
      Once saved, your note will be stored for future reference, while the AI summary will not be saved.
    `,sections:[{id:"howToAccessNotes",title:"How to Access Vetssenger Notes",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8408-min.PNG?alt=media&token=2e2c2a99-dc04-4665-9c66-9ab39a98fb04","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8409-min.PNG?alt=media&token=1029e7c5-cfad-40bb-9211-c5953e2c2218"]},{type:"bulletList",items:[{heading:"Open the Latest Case Note",lines:['Within a Vetssenger thread, tap "Medical Note" in the top banner to view the latest note for that case.']},{heading:"Navigate to a Specific Note",lines:["Each case note appears at the end of the corresponding conversation thread.",'Alternatively, tap the three-dot menu () in the top-right corner of the chat, select the desired case, and then tap "Medical Note" to view it.']}]}]}]},MedicalRecords:{mainTitle:"Viewing Medical Records",mainDescription:`
        Vetssenger allows you to easily access medical history for each patient to support informed, ongoing care.
      `,sections:[{id:"howToViewMedicalRecords",title:"How to View Medical Records",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8408-min.PNG?alt=media&token=2e2c2a99-dc04-4665-9c66-9ab39a98fb04","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8427-min.PNG?alt=media&token=8509c639-207e-459d-af0b-2b1c478f3c15"]},{type:"bulletList",items:[{heading:"Navigate to Medical Records",lines:['Within a Vetssenger thread, click the "View Medical Records" button located on the top banner.',"Youll be taken to a detailed history of the patients past medical records."]},{heading:"Privacy and Access Control",lines:["Medical records are securely stored under your virtual clinic's account.","Only you (the assigned veterinarian) and the pet owner have access to this datano other parties can view these records."]}]}]}]},MedicalHistoryOverview:{mainTitle:"Medical History Overview",mainDescription:`
        The Medical History section gives you and the pet owner access to important health information in one place. 
        You can view patient details such as <span class="highlight">breed, color, sex, date of birth, spayed/neutered status, and weight history</span>. 
        You may also export the full medical history, which pet owners can take to their home clinic when needed.
      `,sections:[{id:"visits",title:"Visits",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8427-min.PNG?alt=media&token=8509c639-207e-459d-af0b-2b1c478f3c15"]},{type:"bulletList",items:[{heading:"All Appointments in One Place",lines:["See all past and upcoming visits with your virtual clinic.","Each entry includes the date, time, and reason for the visit, helping you track the patients care timeline."]}]}]},{id:"records",title:"Records",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8432-min.PNG?alt=media&token=b2e4620a-d057-48d1-95e5-1286039fd5ee","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8437-min.PNG?alt=media&token=fcca1ddc-be16-4cd1-8048-7783eba869e3"]},{type:"bulletList",items:[{heading:"Comprehensive Visit Records",lines:['Press "+" to add a new record including <span class="highlight">Data, Assessment, and Plan</span>, <span class="highlight">prescriptions</span>, and <span class="highlight">general notes.</span>',"This section is designed to keep all DAP, prescriptions, and notes organized and easily accessible.","Owners can upload medical records from their in-clinic visits, which will appear here for unified documentation."]}]}]},{id:"weightChart",title:"Weight Chart",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8432-min.PNG?alt=media&token=b2e4620a-d057-48d1-95e5-1286039fd5ee","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8433-min.PNG?alt=media&token=51cecb79-1400-4852-9f35-51d6e5085b1d"]},{type:"bulletList",items:[{heading:"Track Growth and Health Trends",lines:[`Press "see chart" to view the pet's weight chart.`,"See the pets weight trends over time in a visual chart.","Useful for monitoring young pets, managing chronic conditions, or evaluating treatment progress."]}]}]}]},DAP:{mainTitle:"Data, Assessment, Plan (DAP)",mainDescription:"Vetcations DAP template is designed to empower your virtual clinic by streamlining record-keeping while enhancing client communication. Tailored for California-licensed veterinarians, it captures every detail of your telehealth sessionsfrom a thorough history and live observations to clear, actionable next steps. With a format that mirrors the high standards of in-person care, you can deliver flexible, legally compliant care from anywhere while keeping your practice audit-ready.",sections:[{id:"dapTemplate",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8436-min.PNG?alt=media&token=411c4e80-0574-45db-8b51-861347869779","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8610-min.PNG?alt=media&token=d6d72496-acd5-482c-b536-5473434f2404"]}]},{id:"data",title:"Data",blocks:[{type:"bulletList",items:[{heading:"Subjective Data",lines:["Gather a comprehensive history by asking open-ended questions and truly listening to the pet owners concerns.","Document the chief complaint, noting when it started, how it has evolved, and any prior interventions.","Cover key areas such as changes in eating, drinking, bathroom habits, and overall energy levels, along with past medical history and lifestyle details."]},{heading:"Objective Data",lines:["Perform a detailed virtual assessment, guiding the pet owner to help you observe physical signs such as gum color, capillary refill time, and skin turgor.","Record both normal and abnormal findings to create a well-rounded picture of the pet's current health."]}]}]},{id:"assessment",title:"Assessment",blocks:[{type:"bulletList",items:[{heading:"Diagnosis or Differential Diagnoses",lines:["Summarize your clinical impressions or list differential diagnoses based on the data gathered.","For telemedicine consultations, provide suspected conditions in a way that aligns with legal guidelines and your professional standards."]}]}]},{id:"plan",title:"Plan",blocks:[{type:"bulletList",items:[{heading:"Actionable Next Steps",lines:["Provide clear treatment recommendations, prescriptions, or general care advice tailored to your telehealth service type.","Outline follow-up instructions, including when to monitor symptoms and when to seek in-person care.","For teletriage, specify the urgency of care needed while reminding clients they can opt for sooner in-person care if necessary."]},{heading:"Communication Pro Tips",lines:["Complete your records promptly after the appointment to ensure accuracy.","Draft your plan in a personal yet professional message to the client, then seamlessly integrate it into the record."]}]}]}]},noteforclient:{mainTitle:"Note for Client",mainDescription:"The Note function on Vetcation allows you to add extra details that don't fit into the standard medical record. Keep in mind that clients are not notified when notes are added, so if you want them to be aware, make sure to send a direct message.",sections:[{id:"noteForClient",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8435-min.PNG?alt=media&token=165ef6a5-66ff-4422-ba0f-abec6e0abadc","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8611-min.PNG?alt=media&token=ac48a8f1-033f-42e0-b0a5-7dc6909e4a2e"]}]}]},addprescription:{mainTitle:"Add Prescription",mainDescription:"At Vetcation, we believe veterinarians and pet parents should have the freedom to choose how and where prescriptions are filled  without hidden fees or restrictive pharmacy policies. In California, AB 1399 requires veterinarians to offer written prescriptions and inform clients they may fill them at a pharmacy of their choice or directly through the prescriber. Our platform fully supports this by integrating with a wide range of online and local pharmacies, helping you deliver affordable, convenient care while staying compliant.",sections:[{id:"ourApproach",title:"Our Approach",blocks:[{type:"paragraph",text:"While some platforms steer prescriptions toward specific pharmacies or tack on extra fees, Vetcation takes a different path. We focus on transparency and flexibility, giving you full control to choose the most appropriate pharmacy, whether its online or local, so your clients always get the best value and care."}]},{id:"pharmacyOptions",title:"Pharmacy Options",blocks:[{type:"paragraph",text:"Vetcation is designed to give you and your clients complete pharmacy freedom. We integrate with a growing network of online and local pharmacies, including Mixlab, Chewy, Vetsource, and neighborhood pharmacies, so you can easily choose the most convenient, affordable, or trusted option for each prescription. There are no additional platform fees, and you're always free to select what works best for your client."}]},{id:"howItWorks",title:"How It Works (we use Mixlab as an example)",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8607-min.PNG?alt=media&token=58dfd464-ceb6-4ae6-a57d-a611b1b2f1b3","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8608-min.PNG?alt=media&token=1f921da1-4099-4007-8600-f6f7ab94ef3d"]},{type:"bulletList",items:[{heading:"Step 1: Search the Mixlab Catalog",lines:["Use the ProductSearchScreen to search and select medications from Mixlab's full product catalog.","The screen filters out controlled substances for telemedicine to ensure compliance with AB 1399."]},{heading:"Step 2: Customize Your Prescription",lines:["Once selected, use the PrescriptionDetailsScreen to modify key values such as the prescribed quantity.","For compound medications, you can also edit the strength if a custom dosage is needed."]},{heading:"Step 3: Submit to Mixlab",lines:["After reviewing the details, submit your prescription directly to Mixlab.","Mixlab processes the order and handle the rest, including contacting the pet owner for payment and delivery."]}]}]},{id:"additionalTips",title:"Additional Tips for a Smooth Process",blocks:[{type:"paragraph",text:"When communicating prescription details, confirm contact and delivery information during the virtual visit. This helps reduce delays and surprises, especially for urgent medications. If your client opts for online fulfillment, remind them to set up an account and request the prescription so you can easily confirm it with the pharmacy. By keeping your workflow transparent and flexible, you can offer more affordable medication options without compromising care."}]}]},pharmacys:{mainTitle:"Pharmacy Options for California",mainDescription:"If you are licensed in California and operating under a virtual VCPR, you may wish to prescribe for your patient following the appointment. While we continue to enhance our platform, here are some effective options to help ensure smooth and efficient prescription fulfillment for both you and your client:",sections:[{id:"humanPharmacy",title:"Human Pharmacy (including Costco and Walmart)",blocks:[{type:"paragraph",text:"If the medication can be filled by a human pharmacy and the pet owner prefers to pick it up in person, this is often the fastest option for urgent care. After the appointment, you can send a digital prescription to the pet owner, who may visit a local pharmacy (such as Costco or Walmart) to check availability. If the pharmacy confirms they have the medication, the pet owner can enter the pharmacys email address into our system. The Vetcation platform will then immediately email the prescription directly to the pharmacyalong with your license, contact information, and professional detailsensuring your personal information is only shared with the pharmacy, not the pet owner."}]},{id:"mixlab",title:"Mixlab",blocks:[{type:"paragraph",text:"Mixlab is fully integrated into the Vetcation platform, allowing you to search their product catalog and prescribe directly through our systemno phone calls or emails needed. Once you submit a prescription, Mixlab will automatically contact the pet owner to confirm payment and arrange delivery. In most cases, delivery is completed within 2436 hours, and same-day delivery is available in the Los Angeles area. This streamlined workflow saves time and ensures fast, reliable access to veterinary-labeled and compounded medications."}]},{id:"chewy",title:"Chewy",blocks:[{type:"paragraph",text:"We are currently working with Chewy to integrate direct prescribing into our platform, expected to be available in the coming month. Until then, if a client prefers to use Chewy, they must first request the medication through their Chewy account. You would then be required to contact Chewy to verify the prescription. This process can be more manual and may delay fulfillment, making it less ideal for urgent needs."}]},{id:"vetsource",title:"Vetsource (Coming Soon)",blocks:[{type:"paragraph",text:"We are actively working on integrating Vetsource into the Vetcation platform to provide an additional trusted option for fulfilling prescriptions. This will further expand your ability to serve clients through the pharmacy of their choice."}]},{id:"additionalConsiderations",title:"Additional Prescribing Considerations",blocks:[{type:"paragraph",text:"After your California appointment, clearly communicate the next steps to the pet owner to ensure smooth prescription fulfillment. Do not email the prescription pad PDF directly to the client, as it includes your personal information and cannot be used by pharmacists for verification."}]}]},CommunityMarketing:{mainTitle:"Community Marketing",mainDescription:"For veterinarians looking to market their expertise, Vetcations community Q&A section provides a space to connect with pet owners who have questions about their pets and to share your professional knowledge. Through general advice or teletriage, you can offer valuable educational insights about common pet health topics or help pet owners assess the urgency of their pets' conditions by commenting on their questions. The information you share will be seen by many other pet owners who care deeply about their pets, helping you increase your visibility and ultimately drive more appointments.",sections:[{id:"generaladvice",title:"General advice & teletriage",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/IMG_7383_compressed.png?alt=media&token=4f4cc1eb-073b-4a46-acba-1dedd89943ad"]},{type:"qa",question:"What is general advice?",answer:"General advice means sharing educational guidance and insights about pet health topics publicly, without providing a specific diagnosis or treatment plan. When answering questions in the Vetcation Community Q&A, veterinarians can offer valuable information about common symptoms, diagnostic possibilities, typical treatment expectations, outcomes, and general recommendations. This approach allows you to share your veterinary knowledge freely, help pet parents become more informed and proactive caregivers, and showcase your expertise publiclyeffectively marketing your professional services without establishing a formal Veterinary-Client-Patient Relationship (VCPR)."},{type:"qa",question:"What is teletriage?",answer:"Teletriage involves remotely assessing the urgency of a pet's condition to help pet parents determine the most appropriate next steps, such as immediate emergency care, scheduling a veterinary visit, or monitoring at home. On Vetcation's Community Q&A, teletriage means providing general guidance on urgency and potential next steps without diagnosing or prescribing treatments. By offering teletriage, veterinarians can quickly assist pet parents in decision-making, build trust, and demonstrate their expertise, all without establishing a formal Veterinary-Client-Patient Relationship (VCPR)."}]}]},partnerWithClinic:{mainTitle:"Partner with a Clinic",mainDescription:"The Vetcation platform enables you to collaborate with brick-and-mortar clinics to offer virtual care under your own name and schedule. Their clients can view your availability, and medical records are shared to support continuity of care. There are no obligations or minimum time commitmentssimply make your availability visible to their clients.",sections:[{id:"partnerWithClinic",title:"How to Partner with a Clinic",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8644-min.PNG?alt=media&token=13e52f49-7c58-49b2-95f6-89a828cb0f03","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8645-min.PNG?alt=media&token=8e3a0af7-cbfc-4ed1-8d60-0157fface6f6"]},{type:"bulletList",items:[{heading:"Search for a Clinic & Request Partnership",lines:["Search the clinic you want to partner with in the Vetcation app.","Once you find the clinic, request to partner with them.","The clinic will receive a notification and can approve or deny your request."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8647-min.PNG?alt=media&token=c24c7a21-f9be-49cd-910e-474443eef671","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8648-min.PNG?alt=media&token=95228e62-767b-448a-828c-308c19f6e775"]},{type:"bulletList",items:[{heading:"Approval Process",lines:["Once the clinic approves your request, you will receive a notification.","You will see your profile listed under the clinic's profile."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8649-min.PNG?alt=media&token=07bb5e7a-bf85-440f-ab0c-da7c178b78d1"]},{type:"bulletList",items:[{heading:"Visibility to Clients:",lines:["When a clinic's client searches for a telemedicine doctor, your profile will display the name of the partnered clinic that matches the clients designated home clinic. This ensures proper visibility and medical record sharing.","The above screen shows an example from a client's view, where their home clinic (LA Veterinary Center) is partnered with a telemedicine doctor.","The Vetcation system prioritizes doctors partnered with the clients home clinic over other telemedicine doctors.","After the appointment, the medical records will be shared with the partnered clinic."]}]}]}]}},telemedicineCases:{telemedicineCasesOverview:{mainTitle:"Telemedicine Case Examples",mainDescription:"Telemedicine can be a valuable tool for a wide range of cases, allowing veterinarians to provide care remotely while maintaining high standards. Here are some common scenarios where telemedicine can be effectively utilized:",sections:[{id:"generalCases",title:"Where Telemedicine Fits",blocks:[{type:"paragraph",text:"Telemedicine suitability by case type"},{type:"table",caption:"At-a-glance suitability by case type",responsive:"auto",stackBreakpoint:640,rowHeaders:!0,minWidth:"840px",columns:[{key:"case",title:"Case",width:"22%"},{key:"fit",title:"Fit",format:"pill",align:"center",width:"12%"},{key:"help",title:"How vets help (remotely)",width:"34%"},{key:"escalate",title:"Escalate in-person if",width:"32%"}],rows:[{case:"Behavior (aggression, litter box, anxiety)",fit:"Strong",help:"Home-context review, plan, trainer coordination, follow-ups.",escalate:"Immediate safety risks; neuro red flags"},{case:"Skin/derm (rash, itch, hotspots)",fit:"Strong",help:"Photo/video review, topicals/meds, flare control.",escalate:"Deep/infected wounds; procedure likely"},{case:"Allergies",fit:"Strong",help:"Flare control, diet trials, med adjustments (where allowed).",escalate:"Systemic reactions; airway involvement"},{case:"Nutrition & weight",fit:"Strong",help:"Diet selection, weight-loss plan, coaching.",escalate:"Rapid unexplained weight loss"},{case:"Puppy/kitten wellness & training",fit:"Strong",help:"Preventive counseling, schedules, training tips.",escalate:"Vaccines/exams/procedures are in-person"},{case:"General health Q&A & follow-ups",fit:"Strong",help:"Care plans, med rechecks, monitoring.",escalate:"Hands-on exam/tests required"},{case:"GI (vomiting/diarrhea, mild)",fit:"Often",help:"Hydration/diet plan; warning signs; follow-up.",escalate:"Severe, persistent, bloody, painful, lethargy"},{case:"Minor cuts & wounds",fit:"Often",help:"Clean-care guidance; monitor; suture referral if needed.",escalate:"Large/deep wounds; uncontrolled bleeding"},{case:"Chronic disease mgmt (SAIM, arthritis, etc.)",fit:"Often",help:"Titration, lifestyle coaching, remote checks.",escalate:"Decompensation; new neuro/resp signs"},{case:"Post-op/checks (incision, meds, activity)",fit:"Often",help:"Incision review via photo/video; plan adherence.",escalate:"Dehiscence, infection, uncontrolled pain"},{case:"Medication refills/adjustments",fit:"Often",help:"Assess response/side effects; adjust within rules.",escalate:"New/worsening adverse effects"},{case:"Acute medical concerns (triage)",fit:"Often (triage)",help:"Urgency check; first-aid guidance; next steps.",escalate:"Breathing trouble, collapse, severe pain/bleeding, suspected blockage"},{case:"Emergencies (trauma, seizures, bloat, dystocia)",fit:"Limited/No",help:"Immediate ER routing; safety instructions.",escalate:"All of the above  ER now"}],note:"California (vet-facing): patient located in CA; VCPR may be established via live audio-video; after VCPR, use telehealth as appropriate. Tele-VCPR prescriptions valid up to 6 months per exam; antimicrobials typically 14 days unless in-person exam; controlled substances/xylazine require in-person exam; honor pharmacy-of-choice on request."}]}]},generalPracticeTelemedicine:{mainTitle:"Telemedicine: General Practice (California AB 1399)",mainDescription:"Telemedicine can be a valuable tool for a wide range of cases, allowing veterinarians to provide care remotely while maintaining high standards. Here are some common scenarios where telemedicine can be effectively utilized:",sections:[{id:"gpTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"These are primary-care problems that a California-licensed GP can typically diagnose and manage by live video under AB 1399, then e-prescribe to the clients chosen pharmacy."},{type:"table",caption:"GP cases commonly completed via telemedicine (with e-pharmacy options)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (GP)"},{key:"rx",title:"Example eRx / at-home care"},{key:"red",title:"Red flags  in-person"}],rows:[{case:`Allergic itch / atopic flare (no infection signs)
<a href="https://bmcvetres.biomedcentral.com/articles/10.1186/s12917-015-0514-6" target="_blank" rel="noopener noreferrer">ICADA guideline (2015 update)</a>`,plan:"Photo review, itch scoring, environment control, pruritus plan.",rx:"Oclacitinib; short steroid taper when appropriate; topical antipruritics.",red:"Pustules/crusts, fever, otitis with discharge, spreading lesions."},{case:`Flea allergy or gaps in parasite control
                 <a href="https://capcvet.org/guidelines/general-guidelines/" target="_blank" rel="noopener">CAPC prevention</a>`,plan:"Exposure history, home vector-control coaching.",rx:"Isoxazolines (flea/tick prevention).",red:"Pale gums/anemia, heavy infestation in neonates or debilitated pets."},{case:`Mild acute GI upset (bright/alert; no blood)
  <a href="https://todaysveterinarypractice.com/gastroenterology/gi-intervention-approach-to-diagnosis-and-therapy-of-the-patient-with-acute-diarrhea/"
     target="_blank" rel="noopener">
    Evidence-based acute diarrhea guidance
  </a>`,plan:"Hydration + bland diet; anti-nausea/anti-diarrheal; clear return precautions.",rx:"Maropitant; GI protectants/probiotics; electrolytes.",red:"Repeated vomiting, blood, pain, lethargy, dehydration."},{case:`Motion sickness / travel anxiety
                 <a href="https://dailymed.nlm.nih.gov/dailymed/drugInfo.cfm?setid=3bc065ce-09d6-4131-a5a0-dca3909e0bc8" target="_blank" rel="noopener">Cerenia label</a>
                 <a href="https://www.merckvetmanual.com/multimedia/table/common-drugs-used-to-treat-behavior-problems-in-dogs" target="_blank" rel="noopener">Trazodone (Merck Vet Manual)</a>`,plan:"Trip plan, test-dose guidance, safety counseling.",rx:"Maropitant for motion sickness; trazodone (non-controlled) for situational anxiety as appropriate.",red:"Severe sedation, vomiting that persists despite therapy."},{case:`Mild upper-airway signs (no distress)
    <a href="https://www.msdvetmanual.com/respiratory-system/respiratory-diseases-of-small-animals/overview-of-respiratory-diseases-of-dogs-and-cats?query=respiratory%20diseases%20in%20dogs"
       target="_blank" rel="noopener noreferrer">
      MSD Veterinary Manual  Respiratory Diseases (dogs & cats)
    </a>`,plan:"History, home monitoring, humidification, supportive care.",rx:"Antihistamines; lubricating drops/nasal saline when appropriate.",red:"Dyspnea, cyanosis, progressive cough with distress."},{case:`Osteoarthritis flare (stable patient)
                 <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/2022-pain-management/resources/2022-aaha-pain-management-guidelines-for-dog-and-cats_updated_060622.pdf" target="_blank" rel="noopener">AAHA pain guidelines</a>`,plan:"Pain scoring, activity plan, joint-support counseling.",rx:"NSAID refill/adjustment if recent labs available; joint nutraceuticals.",red:"Severe pain, non-weight-bearing, neuro deficits  imaging/exam."},{case:`Behavior: separation-related distress / noise sensitivity
                 <a href="https://www.merckvetmanual.com/multimedia/table/common-drugs-used-to-treat-behavior-problems-in-dogs" target="_blank" rel="noopener">Merck behavior meds</a>`,plan:"History-heavy consult, home video review, behavior plan; trainer referral.",rx:"Fluoxetine (SSRI) or trazodone as appropriate (non-controlled).",red:"Bite risk/aggression escalation; neuro red flags."},{case:`Superficial hot spots (no deep infection)
                 <a href="https://www.merckvetmanual.com/integumentary-system/pyoderma/pyoderma-in-dogs-and-cats" target="_blank" rel="noopener">MSD: pyoderma/hot spots</a>`,plan:"Clip/clean at-home instructions; close photo follow-up.",rx:"Topical antiseptic/steroid mousse/gel; short anti-pruritic course.",red:"Spreading cellulitis, purulent discharge, pain/fever."},{case:`Nutrition & weight management
    <a href="https://wsava.org/wp-content/uploads/2021/04/Selecting-a-pet-food-for-your-pet-updated-2021_WSAVA-Global-Nutrition-Toolkit.pdf" target="_blank" rel="noopener">
      WSAVA nutrition toolkit
    </a>`,plan:"Dietary assessment, caloric plan, recheck schedule.",rx:"Therapeutic diet enrollment; omega-3 supplements.",red:"Rapid unexplained weight loss  diagnostics."},{case:`Post-op or chronic condition check-ins (stable)
                 <a href="https://www.aaha.org/resources/2022-aaha-pain-management-guidelines-for-dogs-and-cats/" target="_blank" rel="noopener">AAHA follow-up & monitoring</a>`,plan:"Photo/video wound checks; medication refills when appropriate; return precautions.",rx:"Non-controlled maintenance meds per plan; topical care supplies.",red:"Dehiscence, fever, uncontrolled pain, draining tracts."}],note:"AB 1399 permits establishing a VCPR by real-time audio-video; prescriptions via telehealth are allowed in accordance with federal regulations and are limited to 6 months before re-examination. Clients must be told they may choose any pharmacy, and on request you must submit to their chosen pharmacy. See the California VMB FAQ and statute links below."}]},{id:"gpTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"These are GP problems where a video exam can start the workup/plan, then a partner clinic completes a procedure or test. Vetcation routes orders and summaries so the clinic team documents supervision correctly and results sync back to the GP and the clients primary DVM."},{type:"table",caption:"Start via telemedicine; complete at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (GP)"},{key:"clinic",title:"Clinic tasks & supervision"},{key:"notes",title:"Example outcome"}],rows:[{case:`Allergic dermatitis needing Cytopoint injection
    <a href="https://bmcvetres.biomedcentral.com/articles/10.1186/s12917-015-0514-6"
       target="_blank" rel="noopener noreferrer">
       ICADA guideline  atopic dermatitis (2015)
    </a>`,tele:"Video exam, rule-in pruritus, document VCPR, place clinic order.",clinic:"RVT administers Cytopoint SC under indirect DVM supervision (on-premises).",notes:"Relief within 2448h; record sync to GP and primary DVM."},{case:`Suspected otitis externa (discharge/pain)
                 <a href="https://www.merckvetmanual.com/ear-disorders/otitis-externa/otitis-externa-in-animals" target="_blank" rel="noopener">MSD: otitis externa</a>`,tele:"History; photo/video of pinna/ear canal; analgesia plan; schedule clinic cytology.",clinic:"Ear cytology + flush; RVT tasks as permitted; DVM finalizes Dx/Rx.",notes:"Targeted topical therapy after cytology; recheck by photo/video."},{case:`Suspected UTI
   <a href="https://doi.org/10.1016/j.tvjl.2019.02.008" target="_blank" rel="noopener">
     ISCAID UTI guideline (Vet J 2019)
   </a>`,tele:"History, risk screen, analgesia/hydration plan, order urinalysis  culture.",clinic:"Cystocentesis sample collection and lab submission; DVM reviews results.",notes:"If antibiotics indicated, Rx per culture/susceptibility; antimicrobial stewardship applies."},{case:`Endocrine monitoring (hypothyroid, stable diabetes)
   <a href="https://www.avma.org/news/aaha-publishes-endocrinology-diagnosis-treatment-guidelines-dogs-cats" target="_blank" rel="noopener">AAHA endocrinopathies</a>`,tele:"Dose/clinical review, lab order set, monitoring plan; schedule clinic bloodwork.",clinic:"Blood draw (RVT/assistant as permitted) and lab processing; DVM interprets.",notes:"Adjust dose based on labs; follow-up by video. See also AAHA diabetes guidelines for detailed protocols."},{case:`Lameness needing radiographs
   <a href="https://www.aaha.org/resources/2022-aaha-pain-management-guidelines-for-dogs-and-cats/home-3/" target="_blank" rel="noopener">AAHA pain/lameness</a>`,tele:"Gait video review, pain plan, imaging order, sedation risk screen if needed.",clinic:"Radiographs performed per supervision requirements; DVM reads/plan.",notes:"Tele follow-up for medical management; in-person for procedures if indicated."}],note:"Example workflow: Monday video visit  GP orders Cytopoint 20 mg SC at Partner Clinic A. Clinic logs indirect supervision by Dr. Smith; RVT Jones administers. Administration record syncs back to the tele-GP chart and the clients primary DVM."}]}]},dermatologyTelemedicine:{mainTitle:"Telemedicine: Dermatology  Clinical Considerations (DACVD)",mainDescription:"Example dermatologist-managed problems that are well-suited to live audio-video care, with examples of red flags that should prompt in-person evaluation. Links in each case point to an authoritative reference.",sections:[{id:"dermTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"These are conditions a board-certified dermatologist (or dermatology-savvy DVM) can commonly manage by video with photo review, then e-prescribe to the clients chosen pharmacy under AB 1399."},{type:"table",caption:"Dermatology cases commonly completed via telemedicine (with e-pharmacy options)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (Derm DVM)"},{key:"rx",title:"Example eRx / at-home care"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Atopic dermatitis (pruritic flare without infection signs) <a href="https://bmcvetres.biomedcentral.com/articles/10.1186/s12917-015-0514-6" target="_blank" rel="noopener">ICADA guideline</a>',plan:"Structured pruritus history (seasonality, distribution), flare-control plan, recheck cadence; discuss allergy testing only when planning immunotherapy.",rx:"Oclacitinib; short topical or oral glucocorticoid taper when appropriate; moisturizing/anti-itch topical adjuncts.",red:"Pustules/crusts/epidermal collarettes, erosions/ulcers, fever, otitis with discharge."},{case:'Flea allergy dermatitis & ectoparasite gap counseling <a href="https://www.msdvetmanual.com/integumentary-system/fleas-and-flea-allergy-dermatitis/flea-allergy-dermatitis-in-dogs-and-cats" target="_blank" rel="noopener">MSD Vet Manual</a>',plan:"Exposure review, home vector control, year-round prevention education.",rx:"Isoxazolines (flea/tick prevention); environmental control guidance.",red:"Pale mucous membranes/anemia, heavy infestations in neonates/debilitated pets; secondary infection."},{case:'Allergy education & maintenance (environmental/food) <a href="https://bmcvetres.biomedcentral.com/articles/10.1186/s12917-015-0513-7" target="_blank" rel="noopener">ICADA (diet trial)</a>',plan:"Diet trial roadmap (if indicated), trigger avoidance, bathing regimen coaching; set expectations for timelines.",rx:"Therapeutic diet enrollment (if doing elimination trial); antiseborrheic/conditioning shampoos; barrier sprays/wipes.",red:"Weight loss, GI blood, non-resolving lesions despite strict trial."},{case:'Contact/irritant dermatitis (mild, localized, known trigger) <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/2023-aaha-management-of-allergic-skin-diseases-in-dogs-and-cats-guidelines/resources/2023-aaha-management-of-allergic-skin-diseases-guidelines.pdf" target="_blank" rel="noopener">AAHA 2023</a>',plan:"Trigger identification, avoidance plan, adjunctive skin barrier support.",rx:"Short course topical corticosteroid; bland emollients; barrier creams.",red:"Rapid spread, ulceration, severe pain, systemic signs."},{case:'Maintenance rechecks after prior in-person workup (e.g., Malassezia dermatitis, pyoderma resolved) <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5603939/" target="_blank" rel="noopener">Malassezia review</a>',plan:"Photo review to confirm remission/maintenance; reinforce bathing intervals and recheck triggers.",rx:"Topical antifungal/antiseptic shampoos/wipes per prior plan; omega-3; moisturizers.",red:"Recurrent lesions suggesting active infection  in-clinic cytology/culture."},{case:'Paw-care regimen for environmental exposure (interdigital irritation without infection signs) <a href="https://www.msdvetmanual.com/integumentary-system/interdigital-furunculosis/interdigital-furunculosis-in-dogs" target="_blank" rel="noopener">Interdigital furunculosis (MSD)</a>',plan:"Footbath protocol, after-walk rinse, drying routine; monitor with photos.",rx:"Antiseptic/soothing foot soaks; barrier sprays; booties during flares.",red:"Swelling, draining tracts, lameness  in-person exam (rule out furunculosis)."},{case:'Seborrheic disorders (mild scaling/greasy coat without infection signs) <a href="https://www.msdvetmanual.com/integumentary-system/seborrhea/seborrhea-in-animals" target="_blank" rel="noopener">MSD Vet Manual</a>',plan:"Shampoo plan (antiseborrheic/keratolytic), rinse/condition routine; evaluate nutrition & environment.",rx:"Keratolytic/keratoplastic shampoos; humectants/emollients.",red:"Odor, pustules, erythema suggesting infection  cytology."},{case:'Otic maintenance recheck (post-cytology case now clinically quiet) <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/2023-aaha-management-of-allergic-skin-diseases-in-dogs-and-cats-guidelines/resources/2023-aaha-management-of-allergic-skin-diseases-guidelines.pdf" target="_blank" rel="noopener">AAHA 2023</a>',plan:"Owner-captured video/lighting tips; cleaner technique reinforcement; define relapse triggers.",rx:"Ear cleaners/drying agents; short anti-inflammatory otic steroid only if no discharge/pain.",red:"Discharge, pain, head tilt, neuro signs  in-clinic otoscopy/cytology."},{case:'Seasonal pre-emptive flare planning <a href="https://bmcvetres.biomedcentral.com/articles/10.1186/s12917-015-0514-6" target="_blank" rel="noopener">ICADA guideline</a>',plan:"Adjust meds before peak season; increase bathing, wipe-downs after outdoor exposure.",rx:"Short antipruritic courses per plan; focal topical steroids; antipruritic wipes.",red:"Failure of control or new lesion types  exam/cytology."},{case:'Client training: bathing & topical application technique <a href="https://www.msdvetmanual.com/integumentary-system/integumentary-system-introduction/principles-of-topical-treatment-in-animals" target="_blank" rel="noopener">MSD (topical therapy)</a>',plan:"Demonstrate lather/contact times, rinsing, drying; product rotation strategy.",rx:"Shampoo/conditioner refills; measured dosing plans; follow-up photos.",red:"Irritation/worsening after topical use  review ingredients & examine."}],note:"Allergy testing is not used to diagnose atopic dermatitis; it is performed after clinical diagnosis to select allergens for immunotherapy (ICADA consensus)."}]},{id:"dermTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"Telemedicine establishes history, triage, photos, and an initial plan; then partner clinics complete procedures/diagnostics. Results sync back to the tele-dermatologist and the clients primary DVM."},{type:"table",caption:"Start via telemedicine; complete at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (Derm DVM)"},{key:"clinic",title:"Clinic tasks & supervision"},{key:"notes",title:"Example outcome"}],rows:[{case:'Otitis externa with discharge/pain (needs cytology) <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/2023-aaha-management-of-allergic-skin-diseases-in-dogs-and-cats-guidelines/resources/2023-aaha-management-of-allergic-skin-diseases-guidelines.pdf" target="_blank" rel="noopener">AAHA 2023</a>',tele:"History, photo/video of pinna/ear canal, analgesia plan; schedule clinic cytology.",clinic:"Ear cytology + flush; RVT may perform tasks per supervising DVM; DVM finalizes Dx/Rx.",notes:"Targeted topical therapy after cytology; recheck by photo/video."},{case:'Superficial pyoderma (suspicious recurrence)  confirm & culture as needed <a href="https://www.msdvetmanual.com/integumentary-system/pyoderma/pyoderma-in-dogs-and-cats" target="_blank" rel="noopener">MSD Vet Manual</a>',tele:"Lesion history & photos; antimicrobial stewardship counseling; schedule cytology  culture.",clinic:"Skin cytology (impression/tape); culture when indicated; DVM selects therapy.",notes:"Topical + targeted systemic therapy; follow-up by video/photo."},{case:'Dermatophytosis suspected (ringworm) <a href="https://pubmed.ncbi.nlm.nih.gov/28494152/" target="_blank" rel="noopener">WAVD consensus</a>',tele:"Screen housemates; discuss decontamination; order Woods lamp & culture/PCR.",clinic:"Woods lamp, sample collection for culture/PCR; DVM initiates therapy.",notes:"Topical + (cats: often) systemic therapy; environmental control; tele-rechecks."},{case:'Demodicosis vs. sarcoptic mange (mite rule-out) <a href="https://www.msdvetmanual.com/integumentary-system/mange/mange-in-dogs-and-cats" target="_blank" rel="noopener">MSD Vet Manual</a>',tele:"History/photos, contagion counseling; order scrapings/trichograms.",clinic:"Deep/superficial skin scrapings, trichogram; DVM interprets & treats.",notes:"Targeted acaricidal therapy; tele-follow-up for skin recovery/secondary infection."},{case:'Discussing allergy testing (for ASIT selection, not diagnosis) <a href="https://bmcvetres.biomedcentral.com/articles/10.1186/s12917-015-0515-5" target="_blank" rel="noopener">ICADA (ASIT)</a>',tele:"Confirm clinical Dx of AD; set expectations; discuss intradermal vs serum testing for ASIT planning.",clinic:"Perform IDT or serum IgE; formulate immunotherapy prescription.",notes:"Proceed with ASIT where appropriate; tele-rechecks for flare control and adherence."}],note:"Example workflow: Monday video visit  Derm DVM orders ear cytology at Partner Clinic A. Clinic logs indirect supervision; RVT performs collection/flush. Results sync to the tele-Derm chart and the clients primary DVM."}]}]},oncologyTelemedicine:{mainTitle:"Telemedicine: Oncology  Clinical Considerations (DACVIM-Oncology)",mainDescription:"Tele-oncology excels at diagnosis reviews, treatment planning, toxicity monitoring, and hospice/QOL counseling. Procedures, chemotherapy infusions, imaging, and biopsies are performed in-clinic; telemedicine extends continuity of care and client education.",sections:[{id:"oncologyTelemedComplete",title:"Oncology: Consults Commonly Completed via Telemedicine",blocks:[{type:"paragraph",text:"These consults are routinely handled by a veterinary oncologist or oncology-focused GP over live audio-video with photo/PDF review, then e-prescribed to the clients chosen pharmacy when appropriate."},{type:"table",caption:"Oncology consults commonly completed via telemedicine (with e-pharmacy options for supportive care)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (Oncology DVM)"},{key:"rx",title:"Example eRx / at-home care"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Confirmed multicentric lymphoma: staging & CHOP counseling <a href="https://www.merckvetmanual.com/circulatory-system/lymphoma-in-dogs/lymphoma-in-dogs" target="_blank" rel="noopener">ref</a> ',plan:"Review histopath/cytology, outline staging (minimum database, thoracic imaging  abdominal US), discuss CHOP vs palliative steroid; VCOG toxicity expectations and recheck cadence.",rx:"Prednisone if palliative; antiemetics (maropitant/ondansetron), gastroprotectants if indicated.",red:"Inappetence >2448h, repeated vomiting/diarrhea, fever, dyspnea, rapidly enlarging nodes."},{case:'Post-op mast cell tumor: margin/grade review & next steps <a href="https://pubmed.ncbi.nlm.nih.gov/22882486/" target="_blank" rel="noopener">ref</a> <a href="https://www.merckvetmanual.com/integumentary-system/tumors-of-the-skin-and-soft-tissues/lymphocytic-histiocytic-and-related-cutaneous-tumors-in-animals" target="_blank" rel="noopener">overview</a>',plan:"Explain grade/mitotic index/Ki-67 if reported; discuss re-excision vs radiation vs medical therapy; taper plan for pre-op steroids if used.",rx:"H1/H2 blockers (diphenhydramine, famotidine); short pred course if indicated; topical care guidance.",red:"Dehiscence, progressive swelling, signs of GI ulceration, new masses, systemic illness."},{case:'Urothelial (transitional cell) carcinoma: medical management counseling <a href="https://www.merckvetmanual.com/pharmacology/inflammation/nonsteroidal-anti-inflammatory-drugs-in-animals" target="_blank" rel="noopener">NSAIDs</a> <a href="https://pubmed.ncbi.nlm.nih.gov/7983623/" target="_blank" rel="noopener">piroxicam study</a> <a href="https://www.merckvetmanual.com/urinary-system/noninfectious-diseases-of-the-urinary-system-in-small-animals/neoplasia-of-the-urinary-system-in-dogs-and-cats" target="_blank" rel="noopener">overview</a>',plan:"Discuss role of COX-inhibiting NSAIDs  chemo; home signs to monitor; schedule UA/urine culture & imaging locally; catheterization/obstruction risks explained.",rx:"Piroxicam or COX-2selective NSAID when appropriate; antiemetics; urinary comfort measures.",red:"Straining without urine, gross hematuria with clots, obstruction signs, crashing patient."},{case:'Osteosarcoma: options review (amputation vs limb-sparing vs palliation) <a href="https://www.merckvetmanual.com/musculoskeletal-system/osteopathies-in-small-animals/bone-tumors-in-dogs-and-cats" target="_blank" rel="noopener">overview</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC4330401/" target="_blank" rel="noopener">review</a>',plan:"Explain goals, expected survival with surgerychemo, palliative radiation; home safety and fracture risk; analgesic ladder without controlleds via telehealth.",rx:"NSAID; adjuncts such as gabapentin; antiemetics PRN during therapy; GI protectants if indicated.",red:"Pathologic fracture, severe uncontrolled pain, respiratory distress, acute decline."},{case:'Soft-tissue sarcoma: post-op histopath margin consult  radiation referral <a href="https://www.merckvetmanual.com/integumentary-system/tumors-of-the-skin-and-soft-tissues/connective-tissue-tumors-in-animals" target="_blank" rel="noopener">ref</a>',plan:"Clarify margins/grade; counsel on re-excision vs adjuvant radiation; wound/photo checks; schedule surveillance imaging plan.",rx:"NSAID for discomfort if appropriate; topical wound care supplies; activity modification guidance.",red:"Rapid local regrowth, wound failure/infection, limb dysfunction or neuro deficits."},{case:'Oral melanoma: pathology & local-control/adjuvant plan <a href="https://www.merckvetmanual.com/integumentary-system/tumors-of-the-skin-and-soft-tissues/tumors-of-melanocytic-origin-in-animals" target="_blank" rel="noopener">overview</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC11026649/" target="_blank" rel="noopener">consensus</a>',plan:"Discuss surgery margins, role of radiation when incomplete, and immunotherapy options; outline staging and recheck cadence.",rx:"Analgesic adjuncts (non-controlled), antiseptic oral rinses, antiemetics if needed during therapy.",red:"Oral bleeding, dysphagia, airway compromise, rapidly enlarging mass, weight loss."},{case:'Hemangiosarcoma: prognosis setting & palliative/supportive roadmap <a href="https://www.vet.cornell.edu/departments-centers-and-institutes/riney-canine-health-center/canine-health-information/hemangiosarcoma-dogs" target="_blank" rel="noopener">ref</a> <a href="https://www.merckvetmanual.com/special-pet-topics/cancer-and-tumors/caring-for-a-pet-with-cancer" target="_blank" rel="noopener">supportive care</a>',plan:"Explain typical course and staging; discuss doxorubicin-based plans to be performed in-clinic; set QOL monitoring and emergency signs.",rx:"Antiemetics, gastroprotectants, omega-3s; non-controlled analgesic adjuncts; iron support only if indicated.",red:"Collapse/weakness, abdominal distension, pale gums, respiratory distress  emergency care."},{case:'Chemotherapy toxicity check-in: AE grading & rescue meds <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC8248125/" target="_blank" rel="noopener">VCOG-CTCAE v2</a>',plan:"Tele-review of appetite, GI signs, mucositis, lethargy; grade AEs using VCOG-CTCAE; adjust next-cycle plan with local CBCs.",rx:"Maropitant/ondansetron; metronidazole only if indicated and within stewardship rules; bland-diet plan; topical care for mild dermatitis.",red:"Profuse vomiting/diarrhea, hemorrhage, febrile neutropenia signs, inability to keep meds/fluids down."},{case:'Response assessment review (RECIST measurements) <a href="https://www.semanticscholar.org/paper/Response-evaluation-criteria-for-solid-tumours-in-a-Nguyen-Thamm/96f3ca171e7e9ac931e6321d5fac79565151e042" target="_blank" rel="noopener">VCOG-RECIST</a>',plan:"Compare serial imaging reports from partner clinic using v1.0 RECIST rules; document PR/SD/PD and adjust plan.",rx:"Supportive meds per case; schedule next imaging or switch therapy discussion.",red:"Rapid clinical decline, new painful lesions, suspected metastasis with clinical impact."},{case:'Hospice & quality-of-life planning (HHHHHMM scale) <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/end-of-life-care/2016_aaha_iaahpc_eolc_guidelines.pdf" target="_blank" rel="noopener">AAHA/IAAHPC</a> <a href="https://caringpathways.com/wp-content/uploads/2018/02/QualityofLifeScale.pdf" target="_blank" rel="noopener">HHHHHMM</a>',plan:"Teach QOL scoring, comfort-first goals, anticipatory guidance; discuss home safety, nutrition, hydration, and caregiver support.",rx:"Mirtazapine/mirataz, maropitant/ondansetron, GI protectants, stool softeners; non-controlled analgesic adjuncts.",red:"Uncontrolled pain/dyspnea, refractory nausea, persistent anorexia/dehydration, more bad days than good."}],note:"AB 1399 permits establishing VCPR by live audio-video. California prohibits prescribing controlled substances via telehealth without an in-person exam; arrange in-clinic care as needed. Use VCOG-CTCAE for AE grading, and RECIST conventions for response documentation when reviewing partner-clinic imaging."}]}]},behaviorTelemedicine:{mainTitle:"Telemedicine: Behavior  Clinical Considerations (DACVB)",mainDescription:"Board-certified behaviorists (DACVB) use video + owner-supplied footage and structured histories to diagnose and treat many behavior disorders remotely. Telemedicine excels at assessment, coaching, and pharmacologic plans with close follow-ups; in-person care is reserved for safety issues and medical rule-outs.",sections:[{id:"behaviorTelemedComplete",title:"Behavior: Consults Commonly Completed via Telemedicine",blocks:[{type:"paragraph",text:"Live video + home videos often yield superior context for behavior cases versus clinic visits. Below are common tele-behavior cases with example plans, typical non-controlled eRx options, and red flags requiring in-person evaluation."},{type:"table",caption:"Behavior consults commonly completed via telemedicine (with e-pharmacy options for non-controlled meds)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (DACVB/behavior DVM)"},{key:"rx",title:"Example eRx / at-home care"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Canine separation-related disorder (SRD)  confirm with home alone video <a href="https://avsab.org/separation-anxiety-the-great-imitator-part-1-2/" target="_blank" rel="noopener">AVSAB</a> <a href="https://www.merckvetmanual.com/behavior/behavior-of-dogs/behavior-problems-of-dogs" target="_blank" rel="noopener">Merck</a>',plan:"Structured history; obtain brief home-alone video; build DS/CC plan; environmental management; staged absences; caregiver coaching; recheck cadence.",rx:"Fluoxetine or clomipramine; trazodone/gabapentin PRN for practice sessions; enrichment plan.",red:"Self-injury, destructive escape that risks injury, severe anorexia/vomiting from distress, comorbid medical signs."},{case:'Noise aversion (storm/fireworks) <a href="https://www.msdvetmanual.com/pharmacology/systemic-pharmacotherapeutics-of-the-nervous-system/psychotropic-agents-for-treatment-of-animals" target="_blank" rel="noopener">Merckimepitoin/Sileo</a> <a href="https://todaysveterinarypractice.com/behavior/noise-storm-phobias-anxiety-in-dogs/" target="_blank" rel="noopener">TVP review</a>',plan:"Trigger audit; safe-space setup; DS/CC with sound files; predict-and-prevent strategy; practice days before events.",rx:"Dexmedetomidine oromucosal gel (Sileo); imepitoin (where labeled); SSRI/TCA maintenance when indicated; short-acting adjuncts PRN (non-controlled).",red:"Panic causing flight/escape risk, destructive chewing/eating foreign bodies, syncope-like episodes."},{case:'Puppy prevention & socialization plan (716 wks) <a href="https://avsab.org/wp-content/uploads/2018/03/Puppy_Socialization_Position_Statement_Download_-_10-3-14.pdf" target="_blank" rel="noopener">AVSAB</a>',plan:"Vaccination-aware socialization calendar; normalized handling; noise/husbandry plan; early problem prevention; owner training on reward-based methods.",rx:"Pheromone diffuser (DAP); treat-based training kit; printed/socialization checklists; follow-up coaching.",red:"Extreme fear or shutdown responses; puppy injuring others; medical concerns interfering with socialization."},{case:'Generalized fear/anxiety & reactivity (foundation plan) <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/behavior-management/2015_aaha_canine_and_feline_behavior_management_guidelines_final.pdf" target="_blank" rel="noopener">AAHA</a> <a href="https://avsab.org/wp-content/uploads/2021/08/AVSAB-Humane-Dog-Training-Position-Statement-2021.pdf" target="_blank" rel="noopener">AVSAB</a>',plan:"Dx clarification; trigger hierarchy; DS/CC plan; relaxation protocol; trainer referral standards; safety/muzzle conditioning if needed.",rx:"Fluoxetine/sertraline or clomipramine; trazodone/gabapentin PRN for setups; nutraceuticals as adjuncts.",red:"Escalating bite history, unpredictable aggression, suspected pain/neurologic signs  physical exam, lab work, imaging as indicated."},{case:'Leash reactivity / stranger-directed fear (canine) <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/behavior-management/2015_aaha_canine_and_feline_behavior_management_guidelines_final.pdf" target="_blank" rel="noopener">AAHA</a>',plan:"Event analysis; threshold management; parallel walks; DS/CC with controlled exposures; equipment fit; trainer collaboration.",rx:"SSRI/TCA baseline when generalized; trazodone or gabapentin PRN for training sessions.",red:"Bites or near-bites to people/dogs, handler not able to safely conduct setups  in-person team support."},{case:'Resource guarding / possessive aggression plan <a href="https://avsab.org/wp-content/uploads/2018/03/Dominance_Position_Statement_download-10-3-14.pdf" target="_blank" rel="noopener">AVSAB (Dominance)</a> <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/behavior-management/2015_aaha_canine_and_feline_behavior_management_guidelines_final.pdf" target="_blank" rel="noopener">AAHA</a>',plan:"Risk assessment; trade-up and conditioning protocols; management to prevent rehearsals; structured handling rules.",rx:"As indicated for fear/anxiety (SSRI/TCA); short-acting adjuncts for practice sessions.",red:"History of puncture/laceration, guarding of people/doorways, escalating threats  in-person behaviorist + safety gear fitting."},{case:'Feline house-soiling (toileting)  litter box optimization <a href="https://catvets.com/wp-content/uploads/2024/08/house-soiling-guidelines.pdf" target="_blank" rel="noopener">AAFP/ISFM</a>',plan:"History & mapping; box number/size/substrate/location; cleaning frequency; stress reduction (5 pillars).",rx:"Pheromones (F3), stool softeners if indicated, diet/fluids as appropriate; owner handouts.",red:"Stranguria/hematuria, obstruction risk (male cats), weight loss, systemic signs  same-day in-person care."},{case:'Feline urine marking vs toileting  differentiate first <a href="https://www.merckvetmanual.com/multimedia/table/distinguishing-urine-marking-from-undesirable-toileting-in-cats" target="_blank" rel="noopener">Merck table</a>',plan:"History + photo mapping; vertical vs horizontal, volume/posture; social stressors; environmental modifications.",rx:"Pheromones; SSRI/TCA when indicated; neutering if intact; multi-cat resource distribution.",red:"Pain on urination, obstruction signs, new aggression causing injury  in-person exam and labs."},{case:'Canine cognitive dysfunction (CDS)  senior care plan <a href="https://www.vet.cornell.edu/departments-centers-and-institutes/riney-canine-health-center/canine-health-topics/cognitive-dysfunction-syndrome" target="_blank" rel="noopener">Cornell</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6582309/" target="_blank" rel="noopener">Review</a>',plan:"DISHA-A history; sleep-wake and enrichment plan; caregiver support; fall-risk/sundowning strategies; periodic labs via PCP.",rx:"Selegiline; omega-3s/MCT diets; melatonin PRN; anxiolytic adjuncts when appropriate.",red:"Acute neuro changes, severe disorientation/wandering risk, rapid weight loss  in-person workup."},{case:'Compulsive/ritualistic behaviors (rule-out pain/derm first) <a href="https://www.msdvetmanual.com/behavior/behavior-of-dogs/behavior-problems-of-dogs" target="_blank" rel="noopener">Merck</a>',plan:"Differentials (derm, neuropathic pain, GI); enrich/interrupt routines; DS/CC; trainer selection; video tracking.",rx:"SSRI/TCA baseline; adjuncts for arousal control; treat medical comorbidities first.",red:"Self-mutilation, suspected neuropathy/orthopedic pain, failure of environmental control  in-person diagnostics."}],note:"Compliance notes (CA AB 1399): VCPR can be established via synchronous audio-video; you must know local emergency resources and document standard-of-care decision-making. **Controlled substances cannot be prescribed via telehealth without an in-person exam**prefer non-controlled options and coordinate labs/physicals with a partner clinic when needed. (See CA VMB FAQs & AAHA/AVMA Telehealth Guidelines.)"}]}]},nutritionTelemedicine:{mainTitle:"Telemedicine: Nutrition  Clinical Considerations (DACVN)",mainDescription:"Tele-nutrition excels for stable patients, longitudinal coaching, and individualized diet formulation. Labs, imaging, and procedures are routed to partner clinics as needed; results sync back to keep the primary DVM in the loop.",sections:[{id:"nutritionTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"These cases are typically managed via live video by a board-certified veterinary nutritionist (or nutrition-focused DVM). Plans emphasize evidence-based diets, measured feeding, and monitoring. When diagnostics or hands-on care are needed, orders go to a partner clinic; follow-ups return to tele-nutrition."},{type:"table",caption:"Nutrition cases commonly completed via telemedicine (with e-pharmacy / therapeutic diet options)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (DACVN/DVM)"},{key:"rx",title:"Example eRx / diet"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Obesity / weight-management program <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/2021-nutrition-and-weight-management/resourcepdfs/new-2021-aaha-nutrition-and-weight-management-guidelines-with-ref.pdf" target="_blank" rel="noopener">guideline</a>',plan:"Diet history, BCS/MCS scoring, target-weight math, kcal/day, meal plan, exercise plan, recheck cadence; owner coaching and barriers troubleshooting.",rx:"Therapeutic weight-management diet; measuring tools; omega-3 as indicated; goal: 0.52% BW loss/week.",red:"Rapid unintended weight loss, polyuria/polydipsia, weakness, suspected endocrine disease  labs and in-clinic exam."},{case:'Chronic kidney disease (stable) diet therapy <a href="https://www.idexx.com/files/iris-pocket-guide-2.pdf" target="_blank" rel="noopener">IRIS</a>',plan:"Stage-based nutrition (phosphorus restriction, appropriate protein), hydration strategies, appetite support, monitor weight/BCS/MCS; coordinate labs with partner clinic.",rx:"Renal therapeutic diet; omega-3 where appropriate; phosphate binders per labs; anti-nausea if indicated.",red:"Uremic signs, dehydration, inappetence >2448h, progressive azotemia  in-clinic assessment; consider fluids/feeding tube."},{case:'Diabetes mellitus nutrition (dogs & cats) <a href="https://www.aaha.org/resources/2018-aaha-diabetes-management-guideline-for-dogs-and-cats/" target="_blank" rel="noopener">AAHA</a>',plan:"Carb/fiber strategy (species-specific), timed meals with insulin plan (co-managed with GP/IM), weight goals, home logs.",rx:"Therapeutic diabetic diet; low-carb high-protein for most cats; high-fiber options for many dogs; appetite support if needed.",red:"Ketoacidosis signs, inappetence, vomiting, lethargy, hypoglycemia  urgent in-person care."},{case:'Food allergy / adverse food reaction: elimination diet trial <a href="https://www.merckvetmanual.com/integumentary-system/food-allergy/cutaneous-food-allergy-in-animals" target="_blank" rel="noopener">reference</a>',plan:"Strict 812-week elimination diet (hydrolyzed or truly novel), challenge/re-challenge plan, compliance coaching, treat/substance avoidance list.",rx:"Veterinary hydrolyzed or novel-protein diet; limited treats matching the trial; written rules for meds/flavored products.",red:"Secondary infection, otitis with discharge, weight loss, GI bleeding, non-response  in-clinic cytology/workup."},{case:'Chronic enteropathy: diet-responsive protocols <a href="https://todaysveterinarypractice.com/nutrition/diet-trials-for-chronic-enteropathy/" target="_blank" rel="noopener">overview</a>',plan:"Structured step-up diet trials (highly digestible  hydrolyzed/novel protein), fiber strategy, recheck timelines; coordinate fecal/labs with clinic.",rx:"Therapeutic GI diet; hydrolyzed/novel protein diet; adjunct probiotics where indicated; cobalamin if deficient.",red:"Hypoproteinemia, hematochezia/melena, dehydration, weight loss, abdominal pain  in-person diagnostics."},{case:'Pancreatitis (post-acute nutrition & relapse prevention) <a href="https://www.merckvetmanual.com/digestive-system/the-exocrine-pancreas/pancreatitis-in-dogs-and-cats" target="_blank" rel="noopener">Merck Vet Manual</a>',plan:"After stabilization, transition to appropriate diet and meal pattern; fat restriction for dogs when indicated; anti-nausea/pain plan with GP; relapse triggers review.",rx:"Low-fat canine GI diet when appropriate; highly digestible feline diet; antiemetics as GP prescribes; appetite support plan.",red:"Acute abdominal pain, persistent vomiting, anorexia, lethargy/dehydration  immediate in-clinic care."},{case:'Exocrine pancreatic insufficiency (EPI): diet & cobalamin plan <a href="https://www.merckvetmanual.com/digestive-system/the-exocrine-pancreas/exocrine-pancreatic-insufficiency-in-dogs-and-cats" target="_blank" rel="noopener">Merck Vet Manual</a>',plan:"Confirm dx via GP; design enzyme-with-meals protocol, diet selection, feeding schedule; monitor weight and stool quality; cobalamin strategy.",rx:"Pancreatic enzyme powder with every meal; highly digestible diet; cobalamin supplementation if deficient.",red:"Failure to gain weight despite therapy, persistent diarrhea, suspected comorbidities  in-clinic reassessment."},{case:'Urolithiasis nutrition: struvite dissolution & prevention <a href="https://urolithcenter.org/recommendations/34?locale=en" target="_blank" rel="noopener">Minnesota Urolith Center</a>',plan:"Diet selection and monitoring schedule; partner clinic imaging/urinalysis cadence; culture-guided antibiotic use for infection-induced struvite.",rx:"Therapeutic dissolution diet for struvite; increased water intake; prevention diet thereafter per stone type.",red:"Obstruction signs, dysuria/stranguria with distress, recurrent infections  urgent in-person evaluation."},{case:'Growth nutrition (esp. large-breed puppies) <a href="https://www.aaha.org/resources/2021-aaha-nutrition-and-weight-management-guidelines/home/" target="_blank" rel="noopener">AAHA</a>',plan:"Life-stage diet selection, calcium/phosphorus appropriateness for large breeds, measured feeding for steady growth, BCS tracking, transition timing.",rx:"Complete & balanced growth diet appropriate for large breeds; feeding plan with measured meals; owner education.",red:"Lameness, orthopedic pain, stunted or excessive growth, persistent GI issues  in-person exam and radiographs as indicated."},{case:'Home-prepared diet formulation (owner preference or multi-morbid cases) <a href="https://www.aaha.org/resources/2021-aaha-nutrition-and-weight-management-guidelines/home-prepared-diets/" target="_blank" rel="noopener">AAHA/ACVN</a>',plan:"Full medical and diet history, goals, recipe design or evaluation by a board-certified veterinary nutritionist, periodic re-checks and recipe updates.",rx:"Custom complete-and-balanced recipe; supplement plan; written prep instructions; follow-up schedule.",red:"Growing puppies/kittens without expert-formulated recipe, weight loss, nutrient deficiency signs  in-person workup and recipe revision."}],note:"Tele-nutrition consults are ideal for stable patients. Diagnostics (labs, UA, imaging) and any procedures occur at partner clinics; results sync back. Always align diet choices with the pets diagnoses, meds, and life stage; use BCS/MCS and objective weight trends at each recheck."}]}]},endocrinologyTelemedicine:{mainTitle:"Telemedicine: Endocrinology  Clinical Considerations(SAIM/DACVIM Perspective)",mainDescription:"Tele-endocrinology is ideal for longitudinal management, dose titration, client coaching, and shared decision-making. Diagnostics (CBC/chem/UA, thyroid panels, ACTH stimulation, LDDST, fructosamine, blood pressure) are routed to partner clinics as needed; results sync back so the primary DVM stays in the loop.",sections:[{id:"endoTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"These conditions are typically managed by live video once diagnosis and essential baselines are established. Plans emphasize guideline-based monitoring with pharmacy or therapeutic-diet coordination and clear return precautions."},{type:"table",caption:"Endocrine cases commonly completed via telemedicine (with e-pharmacy / shared monitoring)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (SAIM/DACVIM)"},{key:"rx",title:"Example eRx / monitoring"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Canine diabetes mellitus: dose titration & home monitoring <a href="https://www.aaha.org/resources/2018-aaha-diabetes-management-guideline-for-dogs-and-cats/" target="_blank" rel="noopener">AAHA Diabetes</a>',plan:"Review logs (app/glucose curves), adjust insulin per signs & curves; reinforce feeding/timing; set recheck cadence and fructosamine schedule.",rx:"Insulin & supplies; antiemetic PRN; written hypoglycemia plan; consider CGM/home curves per owner capability.",red:"Inappetence, vomiting, weakness, suspected DKA/HHS  urgent in-person care."},{case:'Feline diabetes: remission-oriented management <a href="https://www.aaha.org/resources/2018-aaha-diabetes-management-guideline-for-dogs-and-cats/" target="_blank" rel="noopener">AAHA Diabetes</a>',plan:"Low-carb diet coaching, tight clinical monitoring, stepwise insulin adjustments, remission watch; owner video/photos of behavior and appetite.",rx:"Insulin & syringes/pen; diet plan; fructosamine at clinic per schedule.",red:"Anorexia, recurrent hypoglycemia, ketonuria/ketosis  in-person."},{case:'Feline hyperthyroidism under medical management (methimazole) <a href="https://catvets.com/resource/management-of-feline-hyperthyroidism-guidelines/" target="_blank" rel="noopener">AAFP 2016</a> <a href="https://www.aaha.org/resources/2023-aaha-selected-endocrinopathies-of-dogs-and-cats-guidelines/feline-hyperthyroidism/" target="_blank" rel="noopener">AAHA 2023</a>',plan:"Dose adjustment counseling, adverse-effect screening, diet/iodine discussion, BP/renal monitoring schedule coordinated with clinic.",rx:"Methimazole (oral/transdermal); monitor T4, CBC/chem, BP at set intervals.",red:"Lethargy, GI upset not resolving, azotemia progression, uncontrolled tachycardia/HTN  clinic diagnostics."},{case:'Canine hypothyroidism on L-T4: routine monitoring <a href="https://www.aaha.org/resources/2023-aaha-selected-endocrinopathies-of-dogs-and-cats-guidelines/canine-hypothyroidism/" target="_blank" rel="noopener">AAHA 2023</a> <a href="https://www.aaha.org/resources/2023-aaha-selected-endocrinopathies-of-dogs-and-cats-guidelines/therapy/" target="_blank" rel="noopener">AAHA Therapy</a>',plan:"Check clinical response; set post-pill TT4 timing; adjust dose per signs and labs; address adherence and drug interactions.",rx:"Levothyroxine; lab rechecks via partner clinic (post-pill TT4 46h).",red:"Signs of iatrogenic hyperthyroidism (PU/PD, panting, weight loss, restlessness)  exam and labs."},{case:'Canine hypoadrenocorticism (Addisons): maintenance check-ins <a href="https://www.aaha.org/resources/2023-aaha-selected-endocrinopathies-of-dogs-and-cats-guidelines/canine-hypoadrenocorticism-addisons-disease/" target="_blank" rel="noopener">AAHA 2023</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6055912/" target="_blank" rel="noopener">Review</a>',plan:"Assess clinical control, stress-dose plan, interval electrolytes via clinic; reinforce owner crisis plan.",rx:"DOCP or fludrocortisone; low-dose prednisone; scheduled Na/K checks.",red:"Vomiting/diarrhea, collapse, weakness, hyperkalemic signs  emergency."},{case:'Canine hyperadrenocorticism (Cushings): between-test clinical monitoring <a href="https://www.aaha.org/resources/2023-aaha-selected-endocrinopathies-of-dogs-and-cats-guidelines/" target="_blank" rel="noopener">AAHA 2023</a> <a href="https://www.aaha.org/newstat/publications/monitoring-strategies-for-trilostane-therapy-in-dogs-with-cushings-syndrome/" target="_blank" rel="noopener">Monitoring</a>',plan:"Owner-reported signs/QOL, med timing, adverse-effect screen; coordinate ACTH stim rechecks with clinic.",rx:"Trilostane; targeted labs per protocol; adjust dose after clinic testing.",red:"Anorexia, vomiting, lethargy, suspected adrenal oversuppression  in-person."},{case:'Hypertension counseling in endocrine patients (esp. hyperthyroid cats) <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6271319/" target="_blank" rel="noopener">ACVIM HTN 2018</a>',plan:"Explain risk, home monitoring feasibility, target ranges; schedule clinic BP and fundic exam cadence; adjust plan with DVM.",rx:"Antihypertensives per DVM where indicated; coordinate BP checks.",red:"Ocular/neuro signs, refractory BP elevation  immediate clinic care."},{case:'Owner training: home glucose curves / data capture <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/diabetes/2018-aaha-diabetes-management-guidelines-2022-update.pdf" target="_blank" rel="noopener">AAHA Diabetes PDF</a>',plan:"Coach technique, frequency, and data interpretation; build feedback loop; set triggers for contacting clinic.",rx:"Meters/CGM where appropriate; fructosamine via clinic at intervals.",red:"Symptomatic hypo/hyperglycemia, persistent vomiting, anorexia  clinic."},{case:'Post-I-131 discharge counseling & nutrition (cats) <a href="https://www.aaha.org/resources/2023-aaha-selected-endocrinopathies-of-dogs-and-cats-guidelines/feline-hyperthyroidism/" target="_blank" rel="noopener">AAHA 2023</a>',plan:"Discuss expected timeline, monitoring labs, renal watch, diet; set recheck plan with clinic.",rx:"No anti-thyroid meds if cured; anti-hypertensives PRN; renal diet if needed per labs.",red:"Progressive azotemia, uncontrolled hypertension, weight loss  clinic."},{case:'Client education for endocrine comorbidity (weight, diet, meds timing) <a href="https://www.aaha.org/resources/2018-aaha-diabetes-management-guideline-for-dogs-and-cats/" target="_blank" rel="noopener">AAHA Diabetes</a>',plan:"Reinforce dosing windows, meal pairing, travel/boarding plans; document shared plan and return precautions.",rx:"Refills and supplies; written sick-day and dose-adjustment rules.",red:"Any acute decompensation or new systemic signs  in-person."}],note:"Tele-endocrinology focuses on signs-based adjustments, owner training, and shared monitoring. Most dose changes are confirmed against scheduled clinic labs (fructosamine, TT4, electrolytes, ACTH stim, LDDST, blood pressure)."}]},{id:"endoTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"Typical pathways where a video consult initiates workup and plan, then a partner clinic performs tests/procedures; results flow back for tele follow-up."},{type:"table",caption:"Start via telemedicine; complete key diagnostics at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (SAIM/DACVIM)"},{key:"clinic",title:"Clinic tasks & diagnostics"},{key:"notes",title:"Example outcome"}],rows:[{case:'New diabetes workup & initiation <a href="https://www.aaha.org/resources/2018-aaha-diabetes-management-guideline-for-dogs-and-cats/" target="_blank" rel="noopener">AAHA Diabetes</a>',tele:"History, differentials, owner training overview, initial diet/insulin counseling, order baseline labs.",clinic:"CBC/chem/UA  urine culture; fructosamine; nurse/RVT insulin demo; first recheck scheduling.",notes:"Tele follow-up for dose titration using curves; periodic clinic labs."},{case:'Suspected hyperadrenocorticism (Cushings) <a href="https://pubmed.ncbi.nlm.nih.gov/24112317/" target="_blank" rel="noopener">ACVIM HAC 2012</a>',tele:"Screen for compatible signs; discuss testing algorithms; place orders.",clinic:"LDDST or ACTH stimulation  imaging; baseline electrolytes/chemistry.",notes:"If confirmed, start trilostane; clinical monitoring by tele + scheduled ACTH stim at clinic."},{case:'Suspected hypoadrenocorticism (Addisons) <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6055912/" target="_blank" rel="noopener">Review</a> <a href="https://www.aaha.org/resources/2023-aaha-selected-endocrinopathies-of-dogs-and-cats-guidelines/canine-hypoadrenocorticism-addisons-disease/" target="_blank" rel="noopener">AAHA 2023</a>',tele:"Triage, crisis plan, order screening labs; educate on emergency signs.",clinic:"Baseline cortisol  ACTH stimulation; electrolytes; stabilization if needed.",notes:"Begin DOCP/fludrocortisone + prednisone; tele follow-ups; electrolytes at clinic per schedule."},{case:'Suspected feline hyperthyroidism (new) <a href="https://catvets.com/resource/management-of-feline-hyperthyroidism-guidelines/" target="_blank" rel="noopener">AAFP 2016</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6271319/" target="_blank" rel="noopener">ACVIM HTN 2018</a>',tele:"History, signs, therapy options (I-131, methimazole, diet); place lab/BP orders.",clinic:"Total T4  free T4, CBC/chem/UA; blood pressure & fundic exam; renal staging.",notes:"Choose therapy; subsequent dose adjustments & owner coaching via tele."},{case:'Refractory diabetic cat: rule-out acromegaly <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0127794" target="_blank" rel="noopener">Niessen 2015</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC7995378/" target="_blank" rel="noopener">Fenn 2021</a>',tele:"Identify insulin resistance pattern; discuss advanced testing and options; refer if needed.",clinic:"Serum IGF-1; advanced imaging/referral (CT/MRI) for pituitary disease; consider radiation/surgery centers.",notes:"If HST confirmed, discuss definitive vs medical options; tele follow-ups coordinate with specialty center."}],note:"Example workflow: video consult  place LDDST/ACTH stim orders  clinic completes testing  results sync back  tele follow-up to set dose/monitoring cadence."}]}]},nephrologyUrologyTelemedicine:{mainTitle:"Telemedicine: Nephrology & Urology  Clinical Considerations (DACVIM-SAIM perspective)",mainDescription:"Stable medical management and owner coaching are highly telemedicine-friendly in nephrology/urology. Diagnostics requiring samples or imaging happen in-clinic, with follow-ups and care plans completed by video.",sections:[{id:"nephroUroTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"These are kidney/urinary problems that a board-certified internist (or GP with internal-medicine interest) can usually manage by live video, then e-prescribe to the clients chosen pharmacy when appropriate. In-person care is needed if red-flags appear."},{type:"table",caption:"Nephrology/Urology cases commonly completed via telemedicine (with e-pharmacy options)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (Nephro/Uro)"},{key:"rx",title:"Example eRx / at-home care"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Chronic kidney disease (CKD)  staged maintenance <a href="https://www.idexx.com/files/iris-pocket-guide-2.pdf" target="_blank" rel="noopener">IRIS CKD guide</a>',plan:"Review recent labs/UA/BP, confirm IRIS stage, adjust diet/hydration plan, phosphate control, nausea/appetite support, recheck cadence.",rx:"Therapeutic renal diet; phosphate binders when indicated; anti-nausea; gastric protectants; omega-3; SQ fluids if already taught.",red:"Anorexia >2448h, vomiting, dehydration, melena/hematemesis, rapid weight loss, severe lethargy."},{case:'Proteinuria / PLN on maintenance therapy <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.12230" target="_blank" rel="noopener">ACVIM proteinuria</a> &nbsp;|&nbsp; <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC4895689/" target="_blank" rel="noopener">Telmisartan (cats)</a>',plan:"Confirm recent UPC & BP trends, optimize RAAS blockade, diet sodium review, plan monitoring (UPC/BP/chemistry).",rx:"ACE-i or ARB per species/response; renal diet; omega-3; consider dual therapy if guideline-supported and monitored.",red:"UPC rising, hypertension uncontrolled, hypoalbuminemia/edema, azotemia worsening, suspected UTI."},{case:'Systemic hypertension in CKD cats/dogs (maintenance) <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6271319/" target="_blank" rel="noopener">ACVIM HTN 2018</a>',plan:"Home BP log if available, review target-organ signs, titrate anti-hypertensives, schedule periodic in-clinic BP/fundic checks.",rx:"Cats: amlodipine  RAAS inhibitor; Dogs: RAAS inhibitor  CCB per response; low-sodium diet guidance.",red:"SBP likely 180 or TOD signs (retinal changes, neuro events), collapse, acute vision loss."},{case:'Feline idiopathic cystitis (FIC)  relapse prevention (MEMO) <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/feline-life-stage-2021/2021-aaha-aafp-feline-life-stage-guidelines.pdf" target="_blank" rel="noopener">AAHA/AAFP 2021</a>',plan:"Detailed history, stress mapping, litter/environment optimization, water-intake plan, flare protocol, follow-up photos.",rx:"Diet/water strategies (fountains, wet food), pheromones, environmental enrichment; analgesia plans for flares as appropriate.",red:"Stranguria/anuria, severe hematuria with obstruction risk, marked pain  emergency exam."},{case:'Urolithiasis recurrence prevention (CaOx history) <a href="https://urolithcenter.org/recommendations/16?locale=en" target="_blank" rel="noopener">MUC CaOx (feline)</a>',plan:"Review prior analysis, set urine SG/pH targets, diet selection, citrate considerations, re-image cadence (scheduled at clinic).",rx:"Therapeutic urinary diet; water-intake optimization; potassium citrate when indicated.",red:"Pollakiuria/dysuria, pain, suspected obstruction, recurrent hematuria despite plan."},{case:'Asymptomatic bacteriuria counseling (no antibiotics) <a href="https://www.vdl.ndsu.edu/wp-content/uploads/2022/02/ISCAID-Urinary-Guidelines-2019.pdf" target="_blank" rel="noopener">ISCAID 2019</a>',plan:"Explain distinction from UTI, avoid unnecessary antimicrobials, plan surveillance and triggers for culture if signs develop.",rx:"None; address predisposing factors (urine dilution, hygiene, comorbidities) and monitoring.",red:"Onset of clinical signs (dysuria, pollakiuria, hematuria), pyrexia, systemic illness."},{case:'CKD nutrition & phosphorus control coaching <a href="https://todaysveterinarypractice.com/urology-renal-medicine/treatment-chronic-kidney-disease-dogs-cats/" target="_blank" rel="noopener">CKD Tx overview</a>',plan:"Refine diet acceptance, treat nausea, stool/constipation plan, set follow-up intervals for labs and BP.",rx:"Therapeutic renal diets; phosphate binders when indicated; anti-nausea  appetite support per primary DVM.",red:"Refusal to eat, weight loss, suspected GI bleeding, progressive azotemia symptoms."},{case:'Owner training & home hydration strategies <a href="https://www.iris-kidney.com/iris-guidelines-1" target="_blank" rel="noopener">IRIS resources</a>',plan:"Water-intake optimization, SQ fluid technique review if already prescribed, environmental changes to support kidney health.",rx:"SQ fluid supplies when already part of care plan; water fountains, wet food transition.",red:"Owner unable to administer fluids safely, signs of fluid overload, weakness/syncope."}],note:"Targets and thresholds follow IRIS/ACVIM consensus (e.g., CKD staging, proteinuria thresholds, and BP categories). Controlled substances generally require in-person exam per law."}]},{id:"nephroUroTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"These start with a video consult (history, differentials, initial plan), then a partner clinic completes diagnostics/procedures. Results and administration records sync back to the tele-internist and the clients primary DVM."},{type:"table",caption:"Start via telemedicine; complete at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (Nephro/Uro)"},{key:"clinic",title:"Clinic tasks & supervision"},{key:"notes",title:"Example outcome"}],rows:[{case:'Suspected UTI (avoid empiric antibiotics) <a href="https://www.vdl.ndsu.edu/wp-content/uploads/2022/02/ISCAID-Urinary-Guidelines-2019.pdf" target="_blank" rel="noopener">ISCAID 2019</a>',tele:"History/signalment/risks; order UA and urine culture; analgesia/hydration guidance; schedule sample collection.",clinic:"Cystocentesis UA/culture; report MICs; clinician finalizes targeted therapy and duration.",notes:"Culture-guided Rx; stewardship plan and signs for relapse reviewed by video."},{case:'Struvite urolith dissolution protocol (cats) <a href="https://urolithcenter.org/recommendations/36?locale=en" target="_blank" rel="noopener">MUC Struvite Dissolution</a>',tele:"Confirm radiopaque struvite prediction and absence of obstruction; prescribe dissolution diet; plan re-imaging cadence.",clinic:"Follow-up radiographs every 23 weeks; culture if progress stalls; document outcomes.",notes:"Dietary dissolution in weeks; prevention counseling thereafter."},{case:'New CKD workup & staging <a href="https://www.idexx.com/files/iris-pocket-guide-2.pdf" target="_blank" rel="noopener">IRIS CKD guide</a>',tele:"Screening history and differentials; order chem/UA/SDMA  imaging; set expectations and Q&A.",clinic:"Bloodwork, UA, BP,  imaging; clinic uploads results; internist stages/substages, initiates plan.",notes:"Tele follow-up for diet/medication titration and owner training."},{case:'Hypertension diagnosis & initiation <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6271319/" target="_blank" rel="noopener">ACVIM HTN 2018</a>',tele:"Assess TOD risks, current meds; order in-clinic serial BP, fundic exam, baseline labs; discuss targets.",clinic:"Standardized BP measurement on multiple visits if needed; fundic exam; baseline labs.",notes:"Start amlodipine (cats) or RAAS inhibition  CCB (dogs); tele follow-up for titration."},{case:'Proteinuria confirmation & workup <a href="https://www.iris-kidney.com/iris-guidelines-1" target="_blank" rel="noopener">IRIS proteinuria</a>',tele:"History, rule-outs; order UPC (23), BP, UA/culture; plan diet and RAAS strategy once confirmed.",clinic:"Sample collection and BP; lab processing; clinician finalizes therapy and monitoring schedule.",notes:"Begin ACE-i/ARB per guidelines; UPC/BP rechecks planned; tele reviews results."},{case:'AKI suspicion / obstructive LUTD triage <a href="https://pubmed.ncbi.nlm.nih.gov/38325516/" target="_blank" rel="noopener">IRIS AKI 2024</a> &nbsp;|&nbsp; <a href="https://journals.sagepub.com/doi/10.1177/1098612X241309176" target="_blank" rel="noopener">iCatCare LUTS 2025</a>',tele:"Immediate red-flag screen; direct to ER for catheterization/IV care when indicated; provide stabilization guidance en route.",clinic:"Decompression, labs, imaging, in-hospital monitoring; upload records.",notes:"Tele follow-up after discharge for prevention plan and monitoring cadence."}],note:"Example workflow: Monday video visit  Internist orders struvite-dissolution protocol and q23 week radiographs at Partner Clinic A; clinic imaging/results sync to the tele-internist and the clients primary DVM."}]}]},cardiologyTelemedicine:{mainTitle:"Telemedicine: Cardiology  Clinical Considerations (ACVIM Perspective)",mainDescription:"Tele-cardiology is excellent for longitudinal monitoring, caregiver training (e.g., resting respiratory rate), medication counseling, and shared decision-making. Diagnostics (echocardiography, thoracic radiographs, ECG/Holter, bloodwork, BP) are performed at partner clinics; results sync back so the primary DVM remains in the loop.",sections:[{id:"cardioTelemedComplete",title:"Cardiology: Common Follow-ups Completed via Telemedicine",blocks:[{type:"paragraph",text:"These follow-ups are typically managed by live video once diagnosis and baselines exist. Plans emphasize ACVIM-guided monitoring, owner-measured resting respiratory rate (RRR), and clear return precautions."},{type:"table",caption:"Cardiology follow-ups commonly completed via telemedicine (education, med checks, RRR coaching)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (Cardiology/GP)"},{key:"rx",title:"Example eRx / monitoring"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Chronic MMVD/CHFstable patient: home RRR coaching & med review <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6524084/" target="_blank" rel="noopener">ACVIM MMVD 2019</a> <a href="https://vcahospitals.com/know-your-pet/home-breathing-rate-evaluation" target="_blank" rel="noopener">RRR guide</a>',plan:"Review appetite/energy/cough; confirm pill timing; coach accurate RRR counting and thresholds; adjust plan per signs; schedule clinic labs/imaging when due.",rx:"Furosemide/torsemide per plan; pimobendan; ACE-i/spironolactone when indicated; owner RRR log/app.",red:"RRR persistently above baseline (e.g., >3035/min), increased effort, restlessness at night, anorexia/vomiting  clinic/ER."},{case:'Preclinical MMVD Stage B1/B2education & adherence check <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.15488" target="_blank" rel="noopener">ACVIM MMVD 2019</a> <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.14586" target="_blank" rel="noopener">EPIC (pimobendan)</a>',plan:"Explain staging and monitoring; if B2, discuss EPIC criteria and pimobendan benefits; set recheck cadence and home-observation goals.",rx:"Pimobendan for Stage B2; sodium-aware diet; RRR education; schedule next echo/rads with clinic.",red:"New cough, breathing changes, exercise intolerance  clinic imaging/labs."},{case:'Feline cardiomyopathystable outpatient counseling (HCM phenotype) <a href="https://pubmed.ncbi.nlm.nih.gov/32243654/" target="_blank" rel="noopener">ACVIM Feline CM 2020</a>',plan:"Discuss phenotype/risks (CHF/ATE), activity management, medication adherence, signs to watch, RRR technique; coordinate echo/BP/labs per plan.",rx:"Atenolol or clopidogrel if previously prescribed; diet/weight targets; home RRR diary.",red:"Tachypnea/dyspnea, hind-limb pain/paresis (ATE), collapse  emergency exam."},{case:'Pulmonary hypertensiontele check-in between echos <a href="https://pubmed.ncbi.nlm.nih.gov/32065428/" target="_blank" rel="noopener">ACVIM PH 2020</a>',plan:"Assess exercise tolerance/cough/syncope, review concurrent disease plan (e.g., airway, thromboembolic risks), confirm med timing; schedule next echo/BP as due.",rx:"Sildenafil or other PH-directed therapy per plan; adjust only against clinic data schedule.",red:"Syncope increase, respiratory distress, cyanosis  in-person/ER."},{case:'Owner training: accurate resting respiratory rate (RRR) <a href="https://veterinarypartner.vin.com/doc/?id=8401142&pid=19239" target="_blank" rel="noopener">VIN Client Handout</a> <a href="https://vhc.missouri.edu/small-animal-hospital/cardiology/at-home-monitoring-of-pets-with-heart-disease/" target="_blank" rel="noopener">University resource</a>',plan:"Demonstrate RRR technique (asleep/relaxed, count full breaths 60s), set alert thresholds, set logging cadence, tie to action plan.",rx:"RRR tracker/app; written call/ER thresholds; schedule next clinic recheck.",red:"Sustained RRR >3035/min or >2030% above pets baseline over several checks  clinic/ER."}],note:"Tele-cardiology follow-ups rely on owner RRR tracking and symptom trend review; medication changes are confirmed against periodic clinic data (echocardiography, ECG, thoracic radiographs, renal/electrolytes, and blood pressure) per ACVIM guidance."}]},{id:"cardioTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"Typical pathways where a video consult initiates triage/education, then a partner clinic completes diagnostics/procedures; results flow back for tele follow-up."},{type:"table",caption:"Start via telemedicine; complete key diagnostics at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (Cardiology/GP)"},{key:"clinic",title:"Clinic tasks & diagnostics"},{key:"notes",title:"Example outcome"}],rows:[{case:'New murmur (dog): staging & treatment planning <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6524084/" target="_blank" rel="noopener">ACVIM MMVD 2019</a>',tele:"History, risk discussion, explain Stage B framework and potential therapy if B2; place orders.",clinic:"Echocardiography  thoracic radiographs, BP, labs; confirm stage (B1/B2).",notes:"If B2, start pimobendan per EPIC; tele follow-ups for RRR/med adherence."},{case:'Preclinical MMVD Stage B2confirm candidacy for pimobendan <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.14586" target="_blank" rel="noopener">EPIC trial</a>',tele:"Review signalment/signs; discuss EPIC inclusion (cardiomegaly criteria), benefits, and monitoring; place echo/rads orders if outdated.",clinic:"Echo/metrics to confirm cardiomegaly; baseline labs; initiate pimobendan.",notes:"Tele follow-up for adherence and home monitoring; clinic rechecks per protocol."},{case:'Suspected decompensated CHFurgent triage <a href="https://vcahospitals.com/know-your-pet/home-breathing-rate-evaluation" target="_blank" rel="noopener">RRR guide</a>',tele:"Assess effort, RRR, posture; advise immediate ER if distress; provide stabilization guidance en route.",clinic:"Oxygen, furosemide, imaging, labs; admit if indicated.",notes:"Tele recheck post-discharge to adjust home plan and RRR thresholds."},{case:'Syncope/collapsearrhythmia workup pathway <a href="https://www.vetmed.auburn.edu/wp-content/uploads/2018/09/AIVR-arrhythmia.pdf" target="_blank" rel="noopener">Holter/ECG note</a>',tele:"Event history and video review; rule-in exertional/positional triggers; order ECG/Holter and BP.",clinic:"12-lead ECG, 24-hr Holter/event monitor, echocardiography; labs as indicated.",notes:"Rate/rhythm control plan; tele follow-ups for signs and med tolerance."},{case:'Atrial fibrillationrate control plan with objective monitoring <a href="https://pubmed.ncbi.nlm.nih.gov/19645836/" target="_blank" rel="noopener">Gelzer 2009</a> <a href="https://pubmed.ncbi.nlm.nih.gov/39591830/" target="_blank" rel="noopener">Romito 2025</a>',tele:"Discuss targets and side effects; coordinate ECG/Holter for dose titration; review exercise videos and syncopal signs.",clinic:"ECG/Holter to verify ventricular rate; chemistry/electrolytes; digoxin level when used.",notes:"Often diltiazem+digoxin combination for control; tele maintains adherence/QoL while clinic verifies rate."},{case:'Pulmonary hypertensionconfirm and stage <a href="https://pubmed.ncbi.nlm.nih.gov/32065428/" target="_blank" rel="noopener">ACVIM PH 2020</a> <a href="https://todaysveterinarypractice.com/cardiology/pulmonary-hypertension-in-dogs/" target="_blank" rel="noopener">Review</a>',tele:"Screen for signs, discuss differential (airway, thromboembolic, cardiac), place echo order and comorbidity workup.",clinic:"Echocardiography (TR velocity + echo signs), thoracic imaging, heartworm/thromboembolic evaluation; BP.",notes:"Start PH-directed therapy when indicated; tele follow-ups for tolerance and symptom trends."},{case:'Feline murmur/tachycardiarule-in cardiomyopathy <a href="https://pubmed.ncbi.nlm.nih.gov/32243654/" target="_blank" rel="noopener">ACVIM Feline CM 2020</a>',tele:"Explain phenotype-based approach, ATE risk, stress-minimizing tactics for clinic visits; order echo/BP and labs.",clinic:"Echocardiography; BP/fundic exam; chemistry/thyroid as indicated.",notes:"Tele rechecks for adherence and early-signs coaching (RRR, appetite, activity)."}],note:"Example workflow: tele consult  echo/ECG/rads/BP orders  clinic completes diagnostics and uploads results  tele follow-up to set RRR thresholds, med timing, and recheck cadence."}]}]},gastroenterologyTelemedicine:{mainTitle:"Telemedicine: Gastroenterology  Clinical Considerations (SAIM/DACVIM Perspective)",mainDescription:"Tele-GI excels at diet trials, owner coaching, medication titration, and longitudinal follow-ups. Diagnostics (CBC/chem/UA, fecal tests, cobalamin/folate, cPLI/fPLI, abdominal ultrasound, endoscopy/biopsy) are routed to partner clinics; results sync back so the primary DVM stays in the loop.",sections:[{id:"giTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"Once baselines and differentials are set, many GI cases can be managed by live video with guideline-based diet plans, nutraceuticals, rational pharmacology, and clear red-flag instructions."},{type:"table",caption:"GI cases commonly completed via telemedicine (with e-pharmacy / shared monitoring)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (SAIM/DACVIM)"},{key:"rx",title:"Example eRx / at-home care"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Diet-responsive chronic enteropathy (FRE) diet trial & coaching <a href="https://www.merckvetmanual.com/digestive-system/diseases-of-the-small-intestine-in-small-animals/chronic-enteropathies-in-small-animals" target="_blank" rel="noopener">Merck CE</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC10931249/" target="_blank" rel="noopener">CIE classification 2024</a>',plan:"Select novel/hydrolyzed diet; strict 68 week trial; step-wise plan; photo/stool logs; set recheck cadence.",rx:"Therapeutic diet; probiotics where appropriate; fiber per stool type; anti-nausea PRN.",red:"Weight loss, hypoalbuminemia suspicion, melena/hematochezia, dehydration  clinic workup."},{case:'Fiber-responsive large-bowel diarrhea/colitis (stable) <a href="https://www.merckvetmanual.com/digestive-system/diseases-of-the-large-intestine-in-small-animals/colitis-in-small-animals" target="_blank" rel="noopener">Merck Colitis</a>',plan:"Differentiate small vs large bowel; add mixed soluble/insoluble fiber; eliminate triggers; set follow-up.",rx:"Fiber supplementation; targeted diet; probiotics; short symptomatic care as needed.",red:"Tenesmus with blood/mucus persisting, systemic illness, weight loss  in-clinic diagnostics  colon workup."},{case:'Exocrine pancreatic insufficiency (EPI) maintenance & cobalamin plan <a href="https://pubmed.ncbi.nlm.nih.gov/37944252/" target="_blank" rel="noopener">JAVMA 2023 EPI</a> <a href="https://www.merckvetmanual.com/digestive-system/the-exocrine-pancreas/exocrine-pancreatic-insufficiency-in-dogs-and-cats" target="_blank" rel="noopener">Merck EPI</a>',plan:"Dose enzyme powder/granules; review body-weight trends and stool quality; plan cobalamin supplementation and rechecks.",rx:"Pancreatic enzymes with each meal; cobalamin supplementation when indicated; diet optimization.",red:"Poor response despite adherence, weight loss, suspected concurrent disease  clinic labs/US."},{case:'Chronic pancreatitis (stable outpatient) relapse prevention & nutrition <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.16053" target="_blank" rel="noopener">ACVIM feline pancreatitis 2021</a> <a href="https://www.merckvetmanual.com/digestive-system/the-exocrine-pancreas/pancreatitis-in-dogs-and-cats" target="_blank" rel="noopener">Merck Pancreatitis</a>',plan:"Low-fat diet (dogs), small frequent meals, analgesia/anti-nausea counseling; monitor triggers; schedule periodic labs via clinic.",rx:"Dietary plan; anti-nausea; analgesia per primary DVM; +/- appetite support per protocol.",red:"Vomiting with dehydration, abdominal pain, anorexia >2448h  clinic for labs  imaging."},{case:'Post-diagnosis CE/IBD maintenance (immunomodulator step-down) <a href="https://onlinelibrary.wiley.com/doi/10.1111%2Fjvim.16690" target="_blank" rel="noopener">ACVIM feline CE 2023</a> <a href="https://wsava.org/global-guidelines/gastrointestinal-guidelines/" target="_blank" rel="noopener">WSAVA GI (histopath)</a>',plan:"Symptom scoring, adverse-effect check, taper strategy, diet adherence, cobalamin plan; schedule clinic labs per protocol.",rx:"Prednisolone/budesonide or alternative per prior plan; diet; B12 supplementation when indicated.",red:"Progressive weight loss, effusion/ascites, persistent vomiting/diarrhea  clinic restaging."},{case:'GERD/esophagitis-suspect: rational GI protectant use (short courses) <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6271318/" target="_blank" rel="noopener">ACVIM GI-protectants 2018</a>',plan:"Assess triggers, meal timing/elevation, trial short-course acid suppression only when indicated; avoid indefinite therapy without diagnosis.",rx:"PPI/H2RA short course when appropriate; sucralfate for mucosal support; feeding strategy.",red:"Dysphagia, regurg with weight loss, aspiration risk  clinic imaging  endoscopy."},{case:'Feline idiopathic constipation (non-obstructive) home plan <a href="https://todaysveterinarypractice.com/wp-content/uploads/sites/4/2021/12/TVP-2022-0102_Feline_Constipation_Nutrition.pdf" target="_blank" rel="noopener">TVP 2022</a>',plan:"Hydration, fiber vs osmotic laxative strategy, stool diary, litterbox optimization, activity plan; define when to escalate.",rx:"PEG 3350 or lactulose per DVM; fiber/diet adjustments; water-intake tactics (wet food/fountain).",red:"Pain/straining with no stool, anorexia or vomiting, suspected megacolon  clinic  enemas/radiographs."},{case:'Giardiasispost-diagnosis treatment & environment control <a href="https://capcvet.org/guidelines/giardia/" target="_blank" rel="noopener">CAPC Giardia</a> <a href="https://todaysveterinarypractice.com/wp-content/uploads/sites/4/2021/04/TVP-2021-0506_Parasitology_Giardia.pdf" target="_blank" rel="noopener">TVP Giardia</a>',plan:"Review positive test, treat pet(s) per guideline, bathe on treatment days, clean environment, retest only if signs persist.",rx:"Fenbendazole or metronidazole per CAPC; hygiene plan; manage co-pets as indicated.",red:"Persistent diarrhea/weight loss despite therapy  clinic for further workup."},{case:'Owner education: small- vs large-bowel pattern & when to worry <a href="https://www.merckvetmanual.com/digestive-system/diseases-of-the-small-intestine-in-small-animals/chronic-enteropathies-in-small-animals" target="_blank" rel="noopener">Merck CE</a>',plan:"Teach pattern recognition (frequency/urgency/mucus vs volume/weight loss), hydration checks, diet adherence; set return precautions.",rx:"Dietary and fiber guidance; probiotics where appropriate; written action plan.",red:"Any systemic illness, blood, dehydration, or poor response  in-clinic evaluation."},{case:'Chronic hepatitis (medical management follow-ups) <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6524396/" target="_blank" rel="noopener">ACVIM Canine CH 2019</a>',plan:"Review signs and labs trend (done at clinic), nutrition/copper strategy, hepatoprotectants; schedule lab cadence.",rx:"Ursodiol; SAMe/silybin; copper-restricted diet/chelator where indicated.",red:"Icterus progression, ascites, encephalopathy signs  in-person diagnostics."}],note:"Antimicrobial stewardship: reserve antibiotics for documented indications; most chronic enteropathies are diet- or immune-mediated rather than infectious."}]},{id:"giTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"Typical pathways where a video consult initiates triage/differentials and owner coaching, then a partner clinic completes diagnostics or procedures; results flow back for tele follow-up."},{type:"table",caption:"Start via telemedicine; complete key diagnostics at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (SAIM/DACVIM)"},{key:"clinic",title:"Clinic tasks & diagnostics"},{key:"notes",title:"Example outcome"}],rows:[{case:'Chronic vomiting/weight lossrule-out IBD vs small-cell lymphoma <a href="https://onlinelibrary.wiley.com/doi/10.1111%2Fjvim.16690" target="_blank" rel="noopener">ACVIM feline CE 2023</a> <a href="https://wsava.org/global-guidelines/gastrointestinal-guidelines/" target="_blank" rel="noopener">WSAVA GI (histopath)</a>',tele:"Pattern history, diet review, shared decision on testing; order labs/fecal/cobalamin; discuss imaging/biopsy options.",clinic:"CBC/chem/UA, fecal tests, T4 (cats), abdominal ultrasound; endoscopy/biopsy if indicated with WSAVA scoring.",notes:"Tele follow-up to interpret results and set diet/immunomodulator plan."},{case:'Suspected pancreatitis (dog/cat) <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.16053" target="_blank" rel="noopener">ACVIM feline pancreatitis 2021</a> <a href="https://www.merckvetmanual.com/digestive-system/the-exocrine-pancreas/pancreatitis-in-dogs-and-cats" target="_blank" rel="noopener">Merck Pancreatitis</a>',tele:"Triage severity; start anti-nausea/hydration advice; place orders for pancreatic lipase test and imaging.",clinic:"cPLI/fPLI, abdominal ultrasound, electrolytes; hospitalization if moderate/severe.",notes:"Tele rechecks for nutrition plan and relapse prevention."},{case:'Non-responsive chronic diarrheaparasitology & stewardship pathway <a href="https://capcvet.org/guidelines/giardia/" target="_blank" rel="noopener">CAPC Giardia</a>',tele:"History, prior diet/empirics review; place multi-modal fecal testing; set diet/fiber plan until results.",clinic:"Fecal antigen/ELISA  PCR, flotation; targeted therapy per results; consider further GI workup if persistent.",notes:"Tele follow-up for response monitoring and step-up plan."},{case:'Suspected protein-losing enteropathy (PLE) <a href="https://www.merckvetmanual.com/digestive-system/diseases-of-the-small-intestine-in-small-animals/chronic-enteropathies-in-small-animals" target="_blank" rel="noopener">Merck CE</a>',tele:"Screen red flags (effusion, edema, weight loss); place labs and imaging orders; review hospitalization triggers.",clinic:"Albumin/chemistry, ultrasound  endoscopy/biopsy, fecal diagnostics; start appropriate therapy.",notes:"Tele to maintain diet/meds and plan albumin monitoring cadence."},{case:'Constipation/megacolonfailed home plan (cats) <a href="https://todaysveterinarypractice.com/wp-content/uploads/sites/4/2021/12/TVP-2022-0102_Feline_Constipation_Nutrition.pdf" target="_blank" rel="noopener">TVP 2022</a>',tele:"Confirm failure of laxatives/hydration; triage appetite/pain; arrange urgent in-clinic care.",clinic:"Enema/deobstipation under sedation, radiographs, +/- hospitalization; discuss long-term plan.",notes:"Tele follow-up for diet/medication strategy and relapse prevention."},{case:'Foreign body/obstruction suspicionemergency pathway <a href="https://www.aaha.org/resources/2018-aaha-infection-control-prevention-and-biosecurity-guidelines/phone-triage/" target="_blank" rel="noopener">AAHA triage</a>',tele:"Red-flag screen (projectile vomiting, painful abdomen, no stool/gas); direct to ER; give stabilization guidance en route.",clinic:"Radiographs/US, labs, decompression/surgery as indicated.",notes:"Post-discharge tele check-in to set diet re-intro and complication watch."}],note:"Example workflow: tele consult  order labs/fecal/US  clinic completes testing ( endoscopy)  results sync back  tele follow-up to set diet/immunomodulator plan and monitoring cadence."}]}]},pulmonologyRespiratoryTelemedicine:{mainTitle:"Telemedicine: Pulmonology & Respiratory  Clinical Considerations (DACVIM-SAIM Perspective)",mainDescription:"Tele-respiratory care is excellent for longitudinal management (owner coaching, medication titration, environment control) once a diagnosis and baseline have been established. Diagnostics that require hands-on acquisition (thoracic radiographs, echocardiography, ECG/Holter, airway sampling, bronchoscopy, oxygen therapy) are performed at partner clinics and then followed up by video.",sections:[{id:"pulmoRespTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"These problems are typically managed by live video with guideline-based home plans and clear return precautions; e-prescribing to the clients chosen pharmacy is used when appropriate."},{type:"table",caption:"Respiratory cases commonly completed via telemedicine (with e-pharmacy / shared monitoring)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (Pulmonology/SAIM)"},{key:"rx",title:"Example eRx / at-home care"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Feline asthmamaintenance & inhaler technique coaching <a href="https://pubmed.ncbi.nlm.nih.gov/31812220/" target="_blank" rel="noopener">Review 2020</a> <a href="https://todaysveterinarypractice.com/wp-content/uploads/sites/4/2018/04/TVP-2018-0506_Asthmatic_Cat.pdf" target="_blank" rel="noopener">TVP Guideline</a>',plan:"Assess cough/wheeze frequency, trigger control, spacer/mask fit; set action plan for flares; cadence for clinic rechecks/rads.",rx:"Inhaled corticosteroid  bronchodilator; short oral steroid taper only when indicated; environmental allergen/smoke control.",red:"Tachypnea/dyspnea, cyanosis, refractory flare, poor inhaler tolerance  clinic/ER."},{case:'Canine chronic bronchitisstable maintenance <a href="https://www.merckvetmanual.com/dog-owners/lung-and-airway-disorders-of-dogs/bronchitis-in-dogs" target="_blank" rel="noopener">Merck Vet Manual</a>',plan:"Symptom scoring, weight & exercise plan, cough-suppressant timing, trigger avoidance; schedule periodic imaging/labs at clinic.",rx:"Anti-inflammatory plan per prior workup; antitussive for dry cough; airway humidification; weight loss when needed.",red:"Respiratory distress, fever/lethargy, suspected pneumonia, hemoptysis."},{case:'Mild, uncomplicated CIRDC (kennel cough)home isolation & supportive care <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC7132485/" target="_blank" rel="noopener">CIRDC review</a> <a href="https://www.merckvetmanual.com/respiratory-system/respiratory-diseases-of-small-animals/kennel-cough" target="_blank" rel="noopener">Merck</a>',plan:"Infectious precautions, rest, humidification; stewardship: avoid empiric antibiotics unless pneumonia suspected; define recheck triggers.",rx:"Antitussive for dry/nonproductive cough if appropriate; hydration, short work/leash walks only.",red:"Productive/wet cough with fever, tachypnea/dyspnea, anorexia/lethargy  clinic imaging and labs."},{case:'Tracheal/airway collapseowner coaching (no acute distress) <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.17117" target="_blank" rel="noopener">JVIM 2024 meta-analysis</a> <a href="https://www.vetsmall.theclinics.com/article/S0195-5616%2819%2930170-6/abstract" target="_blank" rel="noopener">Review</a>',plan:"Harness (no neck collars), weight reduction, heat/excitement management, cough-suppression strategy; set imaging/fluoroscopy cadence via clinic.",rx:"Antitussive for nonproductive cough; anti-inflammatory plan per DVM; bronchodilator only if indicated;  anxiolytic before triggers.",red:"Cyanosis, syncope, severe dyspnea, refractory cough  urgent in-person care."},{case:'Post-pneumonia convalescent follow-uphome plan & tapering <a href="https://www.msdvetmanual.com/respiratory-system/respiratory-diseases-of-small-animals/pneumonia-in-dogs-and-cats" target="_blank" rel="noopener">Merck</a> <a href="https://todaysveterinarypractice.com/respiratory-medicine/treating-bacterial-pneumonia-in-dogs-and-cats/" target="_blank" rel="noopener">TVP 2024</a>',plan:"Review appetite/energy/fever logs, exercise re-intro, cough trend; confirm timing for follow-up rads and culture per clinic plan.",rx:"Antimicrobials only per culture/duration plan; nebulization/coupage as taught; short leash activity; hydration.",red:"Relapsing fever, increased effort/tachypnea, anorexia, new productive cough  re-image and reassess."},{case:'Owner training: measure resting/sleeping respiratory rate (RRR/SRR) <a href="https://vcahospitals.com/know-your-pet/home-breathing-rate-evaluation" target="_blank" rel="noopener">VCA RRR</a>',plan:"Teach counting full breaths at rest/asleep; document baseline and alert thresholds; tie to action plan and when to call/ER.",rx:"RRR diary/app; written thresholds; pair with clinic recheck schedule.",red:"Sustained RRR above baseline (often >3035/min) or labored breathing  clinic/ER."},{case:'Brachycephalic airway syndrome (BOAS)non-urgent counseling <a href="https://www.merckvetmanual.com/respiratory-system/respiratory-diseases-of-small-animals/overview-of-respiratory-diseases-of-dogs-and-cats" target="_blank" rel="noopener">Merck overview</a>',plan:"Heat avoidance, weight targets, exercise modulation, stress control; discuss indications/timing for surgical evaluation at a partner clinic.",rx:"Lifestyle & environmental changes; reflux/anti-inflammatory support only if previously indicated by DVM.",red:"Collapse, cyanosis, heat stress, progressive stridor  immediate in-person care."},{case:'Post-tracheal stent long-term check-ins (stable) <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.17117" target="_blank" rel="noopener">JVIM 2024 meta-analysis</a>',plan:"Assess cough severity, exercise tolerance, complications screening; coordinate scheduled imaging/bronchoscopy with clinic.",rx:"Antitussives and anti-inflammatories as prescribed; airway hygiene; trigger avoidance.",red:"Granuloma/suspected infection, increased cough/dyspnea  in-person imaging and culture."},{case:'Chronic coughowner trigger audit & environment plan <a href="https://www.msdvetmanual.com/respiratory-system/respiratory-diseases-of-small-animals/overview-of-respiratory-diseases-of-dogs-and-cats" target="_blank" rel="noopener">Merck overview</a>',plan:"Audit smoke/aerosols/dust/cleaners; humidification plan; schedule clinic diagnostics if cough persists beyond set window.",rx:"Environmental controls; antitussive or anti-inflammatory only when indicated by prior diagnosis.",red:"Worsening frequency, fever, weight loss, tachypnea/dyspnea  in-clinic workup."}],note:"Stewardship: avoid routine empiric antibiotics for uncomplicated coughs; pursue imaging and diagnostics when red flags appear or signs persist (see CIRDC and pneumonia references below)."}]},{id:"pulmoRespTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"Typical pathways where a video consult initiates triage/education and orders; a partner clinic then completes diagnostics/procedures. Results sync back for tele follow-up."},{type:"table",caption:"Start via telemedicine; complete key diagnostics at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (Pulmonology/SAIM)"},{key:"clinic",title:"Clinic tasks & diagnostics"},{key:"notes",title:"Example outcome"}],rows:[{case:'New-onset cough/dyspnearule-in cardiac vs respiratory <a href="https://www.msdvetmanual.com/respiratory-system/respiratory-diseases-of-small-animals/overview-of-respiratory-diseases-of-dogs-and-cats" target="_blank" rel="noopener">Merck overview</a>',tele:"History/video review; red-flag screen; order thoracic rads  NT-proBNP/echo pathway; set isolation if infectious suspected.",clinic:"Thoracic radiographs, minimum database; echo/ECG if indicated; oxygen if distressed.",notes:"Tele follow-up to interpret results and set home plan; escalate if deterioration."},{case:'Suspected pneumonia (infectious or aspiration) <a href="https://www.msdvetmanual.com/respiratory-system/respiratory-diseases-of-small-animals/pneumonia-in-dogs-and-cats" target="_blank" rel="noopener">Merck</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC7114575/" target="_blank" rel="noopener">Review</a>',tele:"Triage severity; hydration and nursing guidance; place orders for rads, CBC/chem, and airway sampling if needed.",clinic:"Thoracic rads; tracheal wash/BAL for culture when indicated; oxygen and hospitalization as needed.",notes:"Culture-guided therapy and duration; tele rechecks to monitor trend and taper plan."},{case:'Pulmonary hypertensionconfirmation & staging <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.15725" target="_blank" rel="noopener">ACVIM PH 2020</a>',tele:"Screen for syncope/exercise intolerance and comorbidities; order echocardiography, thoracic imaging, BP, and infectious testing as indicated.",clinic:"Echo (TR velocity, ancillary echo signs), rads, BP; initiate PH-directed therapy when appropriate.",notes:"Tele follow-ups for symptom trend and med tolerance; periodic clinic echo per guideline."},{case:'Feline asthmainitial staging (diagnosis) <a href="https://pubmed.ncbi.nlm.nih.gov/31812220/" target="_blank" rel="noopener">Review 2020</a> <a href="https://todaysveterinarypractice.com/respiratory-medicine/asthma-in-cats-management-guidelines/" target="_blank" rel="noopener">TVP</a>',tele:"Pattern history, trigger mapping, spacer education; place orders for thoracic rads  airway sampling based on severity.",clinic:"Thoracic radiographs;  airway sampling and cytology; baseline labs.",notes:"Tele follow-up to start inhaled steroid plan, define flare protocol, and monitoring cadence."},{case:'Chronic coughrule-in chronic bronchitis vs airway collapse <a href="https://www.vetsmall.theclinics.com/article/S0195-5616%2819%2930170-6/abstract" target="_blank" rel="noopener">Airway collapse review</a> <a href="https://www.merckvetmanual.com/dog-owners/lung-and-airway-disorders-of-dogs/bronchitis-in-dogs" target="_blank" rel="noopener">Bronchitis (Merck)</a>',tele:"Collar/harness audit, trigger inventory; place orders for rads  fluoroscopy/bronchoscopy; set expectations.",clinic:"Thoracic rads;  fluoroscopy, bronchoscopy/BAL; culture if indicated; initiate targeted plan.",notes:"Tele to fine-tune antitussive/anti-inflammatory strategy and lifestyle controls."},{case:'Recurrent CIRDC / multi-pet outbreakdiagnostic & biosecurity plan <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC7132485/" target="_blank" rel="noopener">CIRDC review</a>',tele:"Isolation protocol and contact tracing; order respiratory PCR panel via clinic; define when to escalate.",clinic:"Swab collection for PCR; targeted therapy for severe/complicated cases; public-facing precautions if needed.",notes:"Tele to interpret panel results, adjust isolation window, and set return-to-normal plan."}],note:"Example workflow: tele consult  thoracic radiographs + (when indicated) echo/PCR/BAL at Partner Clinic  results upload  tele follow-up for home plan, recheck cadence, and red-flag thresholds."}]}]},neurologyTelemedicine:{mainTitle:"Telemedicine: Neurology  Clinical Considerations (DACVIM-Neurology Perspective)",mainDescription:"Tele-neurology excels at longitudinal counseling (seizure diaries & action plans, cognitive dysfunction support, benign movement/vestibular follow-ups) and coordinated pathways where advanced diagnostics occur at partner clinics and results flow back for video follow-ups.",sections:[{id:"neuroTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"These problems are typically managed by live video once an initial diagnosis/baseline exists, with guideline-based home plans, owner logs, and clear red-flag instructions."},{type:"table",caption:"Neurology cases commonly completed via telemedicine (with e-pharmacy / shared monitoring)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (Neurology/GP)"},{key:"rx",title:"Example eRx / at-home tools"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Canine epilepsystable maintenance (owner seizure diary, action plan) <a href="https://bmcvetres.biomedcentral.com/articles/10.1186/s12917-015-0464-z" target="_blank" rel="noopener">IVETF AED consensus</a> <a href="https://bmcvetres.biomedcentral.com/articles/10.1186/s12917-015-0462-1" target="_blank" rel="noopener">IVETF Dx approach</a>',plan:"Review diary (frequency/cluster status), triggers, post-ictal changes; adjust antiseizure meds against periodic labs arranged through clinic; discuss emergency plan and home-safety.",rx:"Phenobarbital/levetiracetam/imepitoin etc. per prior plan; owner seizure log/app; written emergency thresholds.",red:"Status epilepticus, clusters, new neuro deficits, medication tox signs  ER/in-clinic evaluation."},{case:'Owner education: seizure detection & logging tech <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC8711717/" target="_blank" rel="noopener">Owner perceptions study</a>',plan:"Teach reliable counting/recording; choose device/app; set call/ER thresholds; tie to dose-adjust and recheck schedule.",rx:"Seizure log/app; calendar reminders for trough levels; written action plan.",red:"Any increase in frequency/severity or trauma during events  clinic/ER."},{case:'Idiopathic vestibular diseaserecovery coaching (after initial triage) <a href="https://www.frontiersin.org/articles/10.3389/fvets.2023.1263976/full" target="_blank" rel="noopener">IVS review 2023</a> <a href="https://veterinarypartner.vin.com/doc/?id=4951444&pid=19239" target="_blank" rel="noopener">VIN client handout</a>',plan:"Explain typical acute onset and improvement window; anti-nausea plan coordinated with clinic; home-safety and recheck cadence with photos/video.",rx:"Antiemetic/anti-nausea if prescribed; assisted feeding/hydration; floor-level confinement and sling support.",red:"Non-improving/worsening vestibular signs, severe anorexia, new neuro deficits  in-clinic imaging workup."},{case:'Canine cognitive dysfunction (CDS)home environment & medical plan <a href="https://www.aaha.org/wp-content/uploads/globalassets/02-guidelines/2023-aaha-senior-care-guidelines-for-dogs-and-cats/resources/2023-aaha-senior-care-guidelines-for-dogs-and-cats.pdf" target="_blank" rel="noopener">AAHA Senior 2023</a> <a href="https://www.nature.com/articles/s41598-022-15837-9" target="_blank" rel="noopener">DAP cognitive score</a>',plan:"Screen DISHA-A signs, sleep and anxiety; optimize enrichment, lighting, routines; discuss nutraceuticals/diets/meds; periodic tele follow-ups.",rx:"Dietary (MCT/antioxidants) & supplements; selegiline/trazodone or similar when indicated; enrichment & schedule.",red:"Rapid progression, daytime disorientation with accidents or unsafe behavior  in-clinic assessment for differentials."},{case:'Idiopathic head tremor syndrome (benign) counseling <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.16880" target="_blank" rel="noopener">JVIM 2023</a> <a href="https://www.mspca.org/angell_services/idiopathic-head-tremor-syndrome/" target="_blank" rel="noopener">Angell explainer</a>',plan:"Review video to differentiate from focal seizures; reassure benign course; distraction techniques; avoid unnecessary AEDs.",rx:"None typically; train distract with treat/name during episodes; monitor with video diary.",red:"Change in pattern, other neuro deficits, persistent episodes  in-clinic workup."},{case:'Generalized tremor syndrome (steroid-responsive) long-term follow-up <a href="https://www.frontiersin.org/articles/10.3389/fvets.2024.1453698/full" target="_blank" rel="noopener">Frontiers 2024</a> <a href="https://vcahospitals.com/know-your-pet/shaker-syndrome-in-dogs" target="_blank" rel="noopener">VCA overview</a>',plan:"Assess relapse risk and taper plan set by clinic; review triggers and nursing care; tele check-ins during steroid weans.",rx:"Immunomodulatory plan per primary/neurologist; GI protectants if needed; exercise & stress modulation.",red:"Fever, pain, worsening tremors, steroid adverse effects  in-person evaluation & labs."},{case:'Post-op neuro or post-diagnosis stable rechecks (owner coaching) <a href="https://www.bsava.com/article/canine-intervertebral-disc-disease-how-much-do-we-really-know/" target="_blank" rel="noopener">BSAVA IVDD overview</a>',plan:"Medication adherence, sling/harness use, floor-plan modifications, bladder care coaching; set in-clinic suture removal/radiograph schedule.",rx:"Pain control per surgeon/primary; PT/home-exercise handouts; environmental safety adjustments.",red:"Acute deterioration (pain, paresis, incontinence), pressure sores, urinary issues  in-clinic check."}],note:"For controlled drugs, follow state law: many jurisdictions require an in-person exam before prescribing or refilling controlled substances via telehealth."}]},{id:"neuroTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"Typical pathways where a video consult initiates triage/education and orders; a partner clinic then completes diagnostics/procedures. Results sync back for tele follow-up."},{type:"table",caption:"Start via telemedicine; complete key diagnostics at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (Neurology/GP)"},{key:"clinic",title:"Clinic tasks & diagnostics"},{key:"notes",title:"Example outcome"}],rows:[{case:'First seizure (adult dog/cat)IVETF workup pathway <a href="https://bmcvetres.biomedcentral.com/articles/10.1186/s12917-015-0462-1" target="_blank" rel="noopener">IVETF Dx approach</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC4552272/" target="_blank" rel="noopener">IVETF definitions</a>',tele:"History/video review; rule-out toxin/trauma triage; place orders for MDB (CBC/chem/UA), BP, bile acids (as indicated), and advanced imaging if structural disease suspected; seizure-safety counseling.",clinic:"Baseline labs, BP;  MRI/CSF if indicated; AED initiation per findings; trough level schedule.",notes:"Tele follow-ups for diary review and dose titration against clinic labs."},{case:'Suspected steroid-responsive meningitis-arteritis (SRMA) <a href="https://pubmed.ncbi.nlm.nih.gov/37704169/" target="_blank" rel="noopener">SRMA review 2023</a> <a href="https://onlinelibrary.wiley.com/doi/10.1111/jsap.13775" target="_blank" rel="noopener">MRI features 2024</a>',tele:"Screen fever/neck pain/age; discuss differentials and risks; order CBC/CRP and referral for MRICSF; start analgesia plan per local protocol.",clinic:"MRI  CSF (infectious rule-outs), inflammatory panel; initiate immunosuppressive regimen; schedule monitoring.",notes:"Tele taper checks, relapse education, and adverse-effect monitoring."},{case:'Myasthenia gravis (MG) suspicionweakness/megaesophagus pathway <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC12038433/" target="_blank" rel="noopener">AChR Ab test (gold standard)</a> <a href="https://vetneuromuscular.ucsd.edu/cases/2008/August.html" target="_blank" rel="noopener">UCSD NM case</a>',tele:"Video of exercise-induced weakness/regurg; aspiration-risk counseling; order AChR antibody test  thoracic rads and thyroid panel; discuss pyridostigmine trial only when supervised.",clinic:"Blood draw for AChR Ab; radiographs for megaesophagus/aspiration; start therapy and monitor response.",notes:"Tele for dose-tuning and aspiration-prevention coaching; clinic for crises."},{case:'Acute spinal pain/paresisIVDD triage & referral <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC11946308/" target="_blank" rel="noopener">IVDD review 2025</a> <a href="https://www.bsava.com/article/canine-intervertebral-disc-disease-how-much-do-we-really-know/" target="_blank" rel="noopener">BSAVA overview</a>',tele:"Video gait review and pain history; strict rest instructions; place orders for neuro exam & advanced imaging at partner clinic; discuss surgical vs conservative.",clinic:"Hands-on neuro exam; MRI/CT-myelo; surgeon consult; bladder care as needed.",notes:"Tele follow-ups for home nursing, PT progression, and relapse prevention."},{case:'Idiopathic vestibularinitial diagnosis confirmation & anti-nausea plan <a href="https://www.frontiersin.org/articles/10.3389/fvets.2023.1263976/full" target="_blank" rel="noopener">IVS review 2023</a>',tele:"Pattern recognition & red-flag screen; order baseline labs and rads if atypical; coach supportive care; schedule recheck video.",clinic:"If atypical or non-improving: rads, labs,  MRI/CSF; dispense anti-nausea meds; hydration support.",notes:"Most improve in days to weeks; tele monitors trajectory and safety."}],note:"Example workflow: tele consult  orders for labs/MRI/CSF as indicated  clinic completes diagnostics and uploads results  tele follow-up for medication plan, owner coaching, and recheck cadence."}]}]},hematologyImmunologyTelemedicine:{mainTitle:"Telemedicine: Hematology & Immunology  Clinical Considerations (DACVIM-SAIM / AVHTM Perspective)",mainDescription:"Tele-hematology/immunology works well for longitudinal counseling, medication adherence/titration with clinic-based labs, transfusion reaction follow-ups, and client education on bleeding/thrombotic risk. Diagnostics that require samples, imaging, hospitalization, transfusion, or procedures occur at partner clinics; results then flow back for video follow-ups.",sections:[{id:"hemoImmunoTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"These problems are typically managed by live video once a diagnosis/baseline exists, with guideline-based home plans, scheduled clinic labs, and clear red-flag instructions."},{type:"table",caption:"Hematology/Immunology cases commonly completed via telemedicine (with e-pharmacy / shared monitoring)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (SAIM/Heme-Immunology)"},{key:"rx",title:"Example eRx / at-home tools"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Stable IMHAmaintenance & taper check-ins <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6524099/" target="_blank" rel="noopener">ACVIM IMHA Tx 2019</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6430921/" target="_blank" rel="noopener">ACVIM IMHA Dx 2019</a>',plan:"Review gum color/energy/appetite logs; discuss steroid-sparing strategy; line up periodic CBC/chem via partner clinic; thrombosis risk review.",rx:"Glucocorticoid taper per protocol; consider cyclosporine/azathioprine (dogs) when indicated; antithrombotic per risk.",red:"Pale/icteric gums, tachypnea, collapse, melena/hematemesis, rapid drop in energy  clinic/ER."},{case:'Stable ITPbleeding surveillance & taper plan <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.16996" target="_blank" rel="noopener">ACVIM ITP Dx 2024</a> <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/jvim.17079" target="_blank" rel="noopener">ACVIM ITP Tx 2024</a>',plan:"Owner checks for petechiae, ecchymoses, epistaxis; schedule platelet rechecks at partner clinic; activity restriction coaching.",rx:"Glucocorticoid taper; add-on immunosuppressants when indicated; GI protection as needed.",red:"Mucosal bleeding, neuro signs, melena/hematuria, lethargy  immediate in-person care."},{case:'Thromboprophylaxis adherence in high-risk patients (e.g., PLE/PLN/heartworm, select IMHA) <a href="https://pubmed.ncbi.nlm.nih.gov/30654416/" target="_blank" rel="noopener">CURATIVE antithrombotics 2019</a>',plan:"Risk-tier review, side-effect screen, drug-drug interactions; ensure scheduled labs at clinic (renal, hepatic, CBC).",rx:"Clopidogrel or rivaroxaban per risk tier and comorbidities; written bleed-risk precautions.",red:"New dyspnea, limb pain/swelling, neuro deficits, bleeding signs  urgent evaluation."},{case:'FeLV/FIV-positive catlong-term care & household counseling <a href="https://catvets.com/resource/feline-retrovirus-management-guidelines/" target="_blank" rel="noopener">AAFP Retrovirus 2020</a>',plan:"Discuss indoor-only living, testing of cohabiting cats, vaccine strategy, stress reduction, nutrition; schedule periodic clinic labs.",rx:"Preventives; supportive meds per comorbidities; client education handouts.",red:"Weight loss, fever, pallor/bleeding, respiratory distress  clinic assessment."},{case:'von Willebrand disease (vWD)non-urgent counseling & surgical planning <a href="https://www.vet.cornell.edu/animal-health-diagnostic-center/laboratories/comparative-coagulation/clinical-topics/canine-von-willebrand-disease" target="_blank" rel="noopener">Cornell Coagulation</a> <a href="https://todaysveterinarynurse.com/hematology/a-veterinary-nurses-guide-to-von-willebrand-disease/" target="_blank" rel="noopener">TVN 2025</a>',plan:"Review subtype/testing, procedure risk planning, medication avoidance list; coordinate clinic blood typing/cross-match if needed.",rx:"Peri-procedural DDAVP for Type 1 when appropriate; plan for cryo/FFP availability via clinic.",red:"Active bleeding, trauma, planned invasive procedure without products  in-clinic care."},{case:'Post-transfusion at-home monitoring (delayed reactions) <a href="https://pubmed.ncbi.nlm.nih.gov/33792171/" target="_blank" rel="noopener">AVHTM TRACS 2021</a> <a href="https://www.merckvetmanual.com/circulatory-system/blood-groups-and-blood-transfusions-in-dogs-and-cats/blood-transfusions-in-dogs-and-cats" target="_blank" rel="noopener">Merck Transfusion</a>',plan:"Tele check-ins at 2472h and 714d: appetite, attitude, urine color, breathing, temp; arrange clinic PCV/TS as scheduled.",rx:"Home monitoring diary; written signs of acute vs delayed reactions; meds only per DVM.",red:"Fever, pigmenturia, dyspnea, hives/facial swelling, rapid PCV drop  stop meds if advised and go to clinic/ER."},{case:'Owner education: bleeding signs & home logs (IMHA/ITP/antithrombotics) <a href="https://onlinelibrary.wiley.com/doi/10.1111/vec.13045" target="_blank" rel="noopener">TRACS prevention/monitoring</a>',plan:"Teach mucosal checks, stool/urine surveillance, bruise diary; set thresholds for calling/ER; align with clinic lab cadence.",rx:"Printed action plan; synchronized reminders for labs/med timing.",red:"Any new bleeding, collapse, severe lethargy  in-person evaluation."},{case:'Immunosuppressant side-effect surveillance (steroids/cyclosporine, etc.) <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6524099/" target="_blank" rel="noopener">ACVIM IMHA Tx 2019</a>',plan:"GI/PU-PD/behavior checks, infection vigilance; coordinate periodic CBC/chem/UA via clinic; taper discussions.",rx:"Dose adjustments per plan; GI protectants when indicated; infection precautions.",red:"Vomiting with blood, severe diarrhea, fever, profound lethargy  clinic/ER."}],note:"Telemedicine is ideal for education, adherence, and safety monitoring; labs/imaging/transfusions occur at partner clinics with results routed back for tele follow-ups."}]},{id:"hemoImmunoTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"Typical pathways where a video consult initiates triage/education and orders; a partner clinic then completes diagnostics/procedures. Results sync back for tele follow-up."},{type:"table",caption:"Start via telemedicine; complete key diagnostics at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (SAIM/Heme-Immunology)"},{key:"clinic",title:"Clinic tasks & diagnostics"},{key:"notes",title:"Example outcome"}],rows:[{case:'Suspected IMHA (pallor/icterus, pigmenturia) <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6430921/" target="_blank" rel="noopener">ACVIM IMHA Dx 2019</a> <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC6524099/" target="_blank" rel="noopener">ACVIM IMHA Tx 2019</a>',tele:"History/photos (mucous membranes/urine), red-flag screen; place orders for CBC/retic/smear, saline agglutination, biochem/UA; thrombosis-risk counsel.",clinic:"Vitals, MDB, imaging as indicated; transfusion readiness; immunosuppressive/antithrombotic initiation per protocol.",notes:"Tele follow-ups for taper plan, thrombosis monitoring; scheduled rechecks via clinic."},{case:'Suspected ITP (petechiae, mucosal bleeding) <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.16996" target="_blank" rel="noopener">ACVIM ITP Dx 2024</a> <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/jvim.17079" target="_blank" rel="noopener">ACVIM ITP Tx 2024</a>',tele:"Bleeding inventory and activity restriction; orders for CBC  imaging to exclude internal bleeding; discuss transfusion thresholds.",clinic:"CBC/coat/abdominal-thoracic imaging as indicated; immunosuppression initiation; product support if needed.",notes:"Tele to guide dose adjustments and bleeding surveillance once stable."},{case:'Suspected anticoagulant rodenticide coagulopathy <a href="https://www.merckvetmanual.com/toxicology/rodenticide-poisoning/anticoagulant-rodenticide-warfarin-and-congeners-poisoning-in-animals" target="_blank" rel="noopener">Merck Vets</a> <a href="https://www.vet.cornell.edu/animal-health-diagnostic-center/laboratories/comparative-coagulation/clinical-topics/vitamin-k-therapy" target="_blank" rel="noopener">Cornell Vit K</a>',tele:"Exposure history, bleeding screen, strict rest, household safety counsel; place orders for PT/INR and radiographs if dyspnea.",clinic:"Coag testing, vitamin K1 initiation and dosing, product support (FFP/whole blood) when indicated; recheck schedule.",notes:"Tele checks for adherence and late bleed after K1 stops; clinic re-test 48h after discontinuation."},{case:'Transfusion planninganemia/coagulopathy <a href="https://journals.sagepub.com/doi/10.1177/1098612X211007071" target="_blank" rel="noopener">ISFM Feline Transfusion 2021</a> <a href="https://onlinelibrary.wiley.com/doi/10.1111/vec.13044" target="_blank" rel="noopener">TRACS Part 1</a>',tele:"Discuss indications/risks, obtain consent, home monitoring plan; coordinate timing with clinic.",clinic:"Type/cross-match, transfusion administration and monitoring per TRACS; immediate/2448h post checks.",notes:"Tele follow-ups to review late signs and lab trends; update action plan."},{case:'FeLV/FIV initial testing & confirmation pathway <a href="https://catvets.com/resource/feline-retrovirus-management-guidelines/" target="_blank" rel="noopener">AAFP Retrovirus 2020</a> <a href="https://pubmed.ncbi.nlm.nih.gov/31916872/" target="_blank" rel="noopener">PubMed</a>',tele:"Pre-test counseling, risk audit, isolation advice for multi-cat homes; order ELISA and confirmatory testing.",clinic:"Sample collection, point-of-care testing, confirmatory assays; baseline staging labs.",notes:"Tele to interpret results, household plan, and set monitoring cadence."}],note:"Example workflow: tele consult  orders for CBC/coags/type & cross or FeLV/FIV testing  partner clinic performs diagnostics/transfusion as needed  results upload  tele follow-up for meds, safety, and recheck cadence."}]}]},infectiousDiseasesTelemedicine:{mainTitle:"Telemedicine: Infectious Diseases  Clinical Considerations (SAIM/ID Perspective)",mainDescription:"Tele-infectious disease is well suited to triage, prevention counseling, outbreak control, treatment adherence, and follow-ups tied to clinic-based diagnostics. Antibiotic stewardship applies: many canine/feline URI/CIRDC cases are viral and do not warrant antibiotics unless bacterial complications are evidenced by exam or tests.",sections:[{id:"idTelemedComplete",title:"Example Cases Completed via Telemedicine",blocks:[{type:"paragraph",text:"These scenarios are typically handled by live audio-video with client education, isolation/prevention advice, supportive care plans, and e-pharmacy where appropriate. Escalation triggers and recheck cadence are explicitly documented."},{type:"table",caption:"ID cases commonly completed via telemedicine (with e-pharmacy / prevention plans)",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"plan",title:"Telemedicine plan (SAIM/ID)"},{key:"rx",title:"Example eRx/home care"},{key:"red",title:"Red flags  in-person"}],rows:[{case:'Mild CIRDC (kennel cough)uncomplicated, no distress <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5354050/" target="_blank" rel="noopener">ISCAID Resp 2017</a> <a href="https://catvets.com/wp-content/uploads/2024/01/2022-AAFP-AAHA-Antimicrobial-Guidelines.pdf" target="_blank" rel="noopener">AAHA/AAFP AMS 2022</a>',plan:"History, exposure map, isolation/hygiene, cough monitoring; avoid empiric antibiotics unless bacterial complications suspected.",rx:"Humidification, rest, harness use; antitussive only if appropriate and patient stable.",red:"Tachypnea/dyspnea, fever, lethargy, productive cough with distress  clinic imaging/labs."},{case:'Feline URI (mild; likely FHV/FCV) <a href="https://catvets.com/wp-content/uploads/2024/01/2022-AAFP-AAHA-Antimicrobial-Guidelines.pdf" target="_blank" rel="noopener">AAHA/AAFP AMS 2022</a>',plan:"Supportive care coaching (nutrition, hydration, nasal cleansing), stress reduction, eye monitoring; consider famciclovir when indicated.",rx:"Saline lubricants, appetite support; famciclovir if clinician deems appropriate.",red:"Marked anorexia/dehydration, dyspnea, corneal ulceration/purulent nasal discharge."},{case:'Parasite prevention & travel medicine (ticks/heartworm/geo-risks) <a href="https://capcvet.org/guidelines/general-guidelines/" target="_blank" rel="noopener">CAPC General 2025</a>',plan:"Risk-based prevention plan, product selection, testing cadence; travel destination tick/heartworm brief.",rx:"Year-round preventives (region-appropriate); client reminders and testing schedule.",red:"New fever/lameness/bleeding tendency post-tick exposure  clinic testing."},{case:'Household ringworm (dermatophytosis) decontamination coaching (post-Dx) <a href="https://wavd.org/wp-content/uploads/summary-of-clinical-consensus-guidelines-dermatophytosis.pdf" target="_blank" rel="noopener">WAVD Derm 2017</a> <a href="https://www.cdc.gov/ringworm/causes/index.html" target="_blank" rel="noopener">CDC Ringworm</a>',plan:"Zoonosis education, cleaning protocol, laundry and surface disinfection cadence; monitor lesions via photos.",rx:"Topical therapy refills per prior plan; environmental disinfectant guidance.",red:"Expanding lesions, folliculitis, immunocompromised household members becoming symptomatic."},{case:'Feeding-handling hygiene for GI pathogens (Giardia, etc.)post-Dx maintenance <a href="https://capcvet.org/guidelines/giardia/" target="_blank" rel="noopener">CAPC Giardia</a>',plan:"Bathing after diarrhea episodes, prompt feces removal, yard sanitation; test-of-cure timing discussion.",rx:"Metronidazole or fenbendazole only if already prescribed/indicated; probiotic plan; recheck window.",red:"Persistent/worsening diarrhea, weight loss, hematochezia  clinic fecal panel."},{case:'Lyme prevention counseling in endemic/travel areas <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5980284/" target="_blank" rel="noopener">ACVIM Lyme 2018</a>',plan:"Tick avoidance, daily checks, prophylaxis selection; dog testing cadence; owner bite prevention.",rx:"Isoxazoline preventives; discuss regional vaccination policy where applicable.",red:"Acute shifting-leg lameness, fever, thrombocytopenia signs  clinic diagnostics."},{case:'Vaccine-preventable respiratory risks (Bordetella, CIV) counseling <a href="https://wsava.org/global-guidelines/vaccination-guidelines/" target="_blank" rel="noopener">WSAVA Vaccines 2024</a>',plan:"Facility/travel risk audit; boarding/daycare show-me list; update plan timing.",rx:"Book vaccine update at partner clinic; written isolation plan during outbreaks.",red:"Cough with distress, cyanosis, anorexia  in-person assessment."},{case:'Post-antibiotic stewardship check-ins (any infection) <a href="https://catvets.com/wp-content/uploads/2024/01/2022-AAFP-AAHA-Antimicrobial-Guidelines.pdf" target="_blank" rel="noopener">AAHA/AAFP AMS 2022</a>',plan:"Review course completion, adverse effects, culture-guided changes; reinforce narrow-spectrum use.",rx:"Documented stop dates; probiotic/supportive care if appropriate.",red:"Relapse, new fever, GI intolerance  clinic recheck/culture."}],note:"Antibiotics are not indicated for most viral URIs/CIRDC without evidence of secondary bacterial infection. Use culture/point-of-care tests and clear return precautions."}]},{id:"idTelemedHybrid",title:"Telemedicine consultation/plan with in-Clinic follow-up lab/treatments",blocks:[{type:"paragraph",text:"Video consult initiates exposure triage, isolation measures, and orders. Partner clinic performs samples, imaging, and procedures. Results sync back for tele follow-ups."},{type:"table",caption:"Start via telemedicine; complete key diagnostics or procedures at partner clinic",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,columns:[{key:"case",title:"Case"},{key:"tele",title:"Telemedicine actions (SAIM/ID)"},{key:"clinic",title:"Clinic tasks & diagnostics"},{key:"notes",title:"Example outcome"}],rows:[{case:'Suspected bacterial UTI (dysuria/hematuria) <a href="https://www.vdl.ndsu.edu/wp-content/uploads/2022/02/ISCAID-Urinary-Guidelines-2019.pdf" target="_blank" rel="noopener">ISCAID UTI 2019</a>',tele:"Symptom inventory, prior history, AMR/stewardship counsel, order UA + culture before antibiotics.",clinic:"Cystocentesis UA/culture, possible imaging if recurrent/complicated.",notes:"Targeted therapy based on culture; tele follow-up for response and stop date."},{case:'Suspected leptospirosis (PU/PD, fever, azotemia, myalgia) <a href="https://onlinelibrary.wiley.com/doi/10.1111/jvim.16903" target="_blank" rel="noopener">ACVIM Lepto 2023</a>',tele:"Immediate exposure counseling, household risk mitigation; order MAT/PCR + chem/UA; start appropriate precautions.",clinic:"Isolation, diagnostics, early antimicrobial therapy, fluid/supportive care.",notes:"Tele follow-up for renal recovery plan, household disinfection guidance."},{case:'Tick-borne disease suspicion (Lyme/ehrlichiosis/anaplasmosis) <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5980284/" target="_blank" rel="noopener">ACVIM Lyme 2018</a>',tele:"Exposure map, clinical screen, order SNAP/serology + CBC/chem/UA; discuss co-infections.",clinic:"Bloodwork/serology; urine protein screen where indicated; treatment per guidelines.",notes:"Tele to monitor response/adverse effects; adjust plan with lab results."},{case:'Pneumonia vs. complicated CIRDC <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5354050/" target="_blank" rel="noopener">ISCAID Resp 2017</a>',tele:"Red-flag recognition, isolation, order thoracic rads/CBC; antimicrobial stewardship brief.",clinic:"Imaging, oxygen as needed, culture (e.g., BAL) when indicated; targeted therapy.",notes:"Tele follow-ups for taper timing and activity progression."},{case:'Dermatophytosis diagnosis/clearance testing pathway <a href="https://wavd.org/wp-content/uploads/summary-of-clinical-consensus-guidelines-dermatophytosis.pdf" target="_blank" rel="noopener">WAVD Derm 2017</a>',tele:"Household risk/cleaning protocol, clip/isolation advice; order fungal culture/PCR.",clinic:"Sampling (toothbrush technique), Woods lamp, culture/PCR; baseline photos.",notes:"Tele to review results, continue/stop therapy, and finalize environmental decontamination."},{case:'Parvoviral enteritis (canine/feline panleukopenia) suspected <a href="https://www.merckvetmanual.com/digestive-system/infectious-diseases-of-the-gastrointestinal-tract-in-small-animals/canine-parvovirus-infection-parvoviral-enteritis-in-dogs" target="_blank" rel="noopener">Merck Vet Parvo</a> <a href="https://wsava.org/global-guidelines/vaccination-guidelines/" target="_blank" rel="noopener">WSAVA Vaccines 2024</a>',tele:"Immediate isolation, sanitation coaching, order POC antigen test and baseline labs.",clinic:"POC testing, hospitalization with fluids/antiemetics/antibiotics as indicated; biosecurity.",notes:"Tele to counsel on prognosis and vaccine-preventable nature for contacts."},{case:'Rabies exposure triage (public health coordination) <a href="https://www.cdc.gov/rabies/hcp/veterinarians/index.html" target="_blank" rel="noopener">CDCVets & Rabies</a>',tele:"Exposure assessment, isolation of suspect animals, immediate public health contact and owner instructions.",clinic:"Report as required; quarantine/booster or testing per jurisdiction.",notes:"Tele follow-ups for quarantine compliance and symptom checks."},{case:'Suspected giardiasis (diarrhea) needing confirmation <a href="https://capcvet.org/guidelines/giardia/" target="_blank" rel="noopener">CAPC Giardia</a>',tele:"Diet/hydration support; order fecal flotation with centrifugation  ELISA/PCR (multi-day sampling).",clinic:"Collect/submit fecal samples; dispense therapy after confirmation.",notes:"Tele to reinforce environmental control and test-of-cure timing."}],note:"Example: tele triage  orders (UA/culture, MAT/PCR, rads, fecal tests)  partner clinic performs diagnostics/isolation/treatment  results sync  tele follow-up for adherence, adverse effects, and prevention."}]}]}},contributors:{ourContributors:{mainTitle:"Vetcation Contributors",mainDescription:"Vetcation is shaped by the passion, expertise, and collaboration of dedicated individuals from across the veterinary and technology fields. This section highlights the contributors who have helped bring our vision to life. We list our contributors in alphabetical order to honor their unique contributions and the diverse backgrounds they bring to Vetcation.",sections:[{id:"coreTeam",title:"Team",blocks:[{type:"customContributorList",contributors:[{name:"Geoff Chih-Fan Chen",title:"Founder of Vetcation",description:"Geoff Chih-Fan Chen, a former astrophysicist at UCLA, leveraged his expertise to build the core infrastructure of the Vetcation platform. Inspired by Dr. Fuchi Yu, he combined advanced technology with clinical insight to help advance telemedicine in the veterinary field."},{name:"Mingli Lee",title:"UX Designer",description:"Mingli Lee made significant contributions to the UX design during the early stages of the Vetcation product. Since then, she has continued to support the evolution of the platform by refining app workflows and actively participating in product direction brainstorming."},{name:"Dr. Fuchi Yu",title:"Veterinarian at Overland Veterinary Clinic",description:"Dr. Fuchi Yu is a veterinarian at Overland Veterinary Clinic and has played a key role in supporting the development of the Vetcation platform. Her clinical insights and frontline experience have been instrumental in shaping Vetcations telemedicine services."}]}]},{id:"interns",title:"Interns",blocks:[{type:"customContributorList",contributors:[{name:"Jackson Konkle",title:"Marketing Intern",description:"Jackson Konkle is a Marketing Intern at Vetcation, bringing a passion for storytelling and experience in content creation, social media strategy, and community outreach. Currently studying Business Information Management at UC Irvine, Jackson is helping Vetcation grow its community and expand access to veterinary knowledge and care."}]}]},{id:"advisors",title:"Advisors",blocks:[{type:"customContributorList",contributors:[{name:"Dr. Jeremy Prupas",title:"Chief Veterinarian at City of Los Angeles",description:"Dr. Jeremy Prupas has provided key strategic guidance that helped steer Vetcation toward telemedicine. His connections with organizations such as AlignCare, SCVMA, and veterinary hospitals helped align the platform with broader efforts to advance virtual care in the veterinary field."}]}]},{id:"contributors",title:"Contributors",blocks:[{type:"customContributorList",contributors:[{name:"Dr. Ross Massimiano",title:"Veterinarian at Veterinary Emergency Group (VEG)",description:"Dr. Ross Massimiano has helped check the workflow of the Vetcation platform and provided valuable feedback on the features. His insights have been crucial in ensuring that the platform meets the needs of both veterinary professionals and pet owners."},{name:"Emily Schmieder",title:"Licensed Veterinary Technician at Benfield Animal Hospital",description:"Emily Schmieder, a licensed veterinary technician, contributed significantly to the design of the Vetssenger featureVetcations chargeable, inquiry-based messaging system. Her input was instrumental in shaping a workflow that supports both veterinary professionals and pet owners."},{name:"Dr. Ying Tsou",title:"Veterinarian at Norco Animal Hospital",description:"Dr. Ying Tsou has provided valuable feedback on the telemedicine features of the Vetcation platform. His insights have been essential in ensuring that the platform effectively supports both veterinary professionals and pet owners."},{name:"Tahnee Morris",title:"Hospital Manager at Animal Hospital of Redondo Beach",description:"Based on Tahnee Morriss guidance, we expanded the virtual professional network to include qualified non-DVM services. This enhancement allows providers to affiliate with clinics for increased trust and deliver coordinated support for clients."},{name:"Dr. Polly Chen",title:"Veterinarian",description:"Dr. Polly Chen recommended surfacing telemedicine outcomes analysis. Previously available only at the clinic level, the app now provides every doctor with their own outcomes dashboard and adds a metric showing how many patients theyve connected with over their career."}]}]}]}},oneHealth:{introToOneHealth:{mainTitle:"Collaborations for One Health Impact",mainDescription:"We partner with public agencies, nonprofits, and community leaders to keep more pets with their people and strengthen veterinary teams. Our focus: expand access to care, reduce preventable surrenders, improve post-adoption outcomes, and protect clinician well-being. Each collaboration aligns with Vetcations platform strengthsvirtual care, coordinated follow-ups, and transparent datawhile honoring the missions of our partners.",sections:[{id:"ohvsPrupas",title:"One Health Veterinary Solutions (Dr. Jeremy Prupas, VMD, MPH)",blocks:[{type:"paragraph",text:"Were working with Dr. Jeremy Prupas to co-design scalable, equity-driven One Health programs that integrate veterinary and public-health services. The goal: keep pets with families, reduce shelter intake, and build community resilience."},{type:"bulletList",items:[{heading:"Collaborator:",lines:["One Health Veterinary Solutions (Founder: Dr. Jeremy Prupas, VMD, MPH; former Chief Veterinarian, LA City Animal Services)."]},{heading:"Mission:",lines:["Design and pilot integrated virtual-to-in-person care pathways that reduce preventable surrenders and improve access for underserved families."]},{heading:"Initial Joint Initiatives:",lines:["Map a shelter-to-community virtual care loop (triage  telemedicine  in-person handoff) with clear escalation rules.","Use Vetcations time-boxed messaging and video visits for follow-ups to protect staff time and increase continuity.","Define metrics: prevented surrenders, resolved cases without ER visits, clinician workload reduction, client satisfaction."]},{heading:"Why It Matters:",lines:["Two out of three surrenders could be prevented; 94% of assisted owners kept their pets (Hills 2024). Empathy plus coordination works."]}]}]},{id:"alignCare",title:"AlignCare  Access to Care for Low-Income Families",blocks:[{type:"paragraph",text:"We are exploring an integration with AlignCare to combine financial assistance models with coordinated virtual care and clinic handoffs."},{type:"bulletList",items:[{heading:"Collaborator:",lines:["AlignCare (Prospective Integration)."]},{heading:"Mission:",lines:["Increase access to timely veterinary advice and appropriate treatment pathways for families with financial constraints."]},{heading:"Program Focus:",lines:["Virtual triage and follow-ups to avoid unnecessary ER visits.","Structured handoffs for imaging, labs, dentistry, and surgery at participating hospitals.","Transparent data for outcomes and funding impact."]}]}]},{id:"dvSafetyNet",title:"Municipal Partnership  Domestic Violence Pet Safety-Net",blocks:[{type:"paragraph",text:"We support municipal efforts to protect the pets of survivors by building a fast, private, and reliable care pathway."},{type:"bulletList",items:[{heading:"Collaborator:",lines:["City DV Programs and Community Partners (Prospective)."]},{heading:"Mission:",lines:["Ensure survivors pets receive immediate care, temporary housing support, and medical continuity without barriers."]},{heading:"Program Focus:",lines:["Rapid telemedicine consults and documentation that travel with the pet.","Coordinated referrals to partner hospitals and boarding programs.","Privacy-preserving processes and clear points of contact."]}]}]},{id:"oneHealthCoordinator",title:"One Health Coordinator Model  Cross-Agency Integration",blocks:[{type:"paragraph",text:"Inspired by Dr. Prupass framework, we support a city-level One Health Coordinator role that bridges Animal Services, Police, Fire, and Social Services."},{type:"bulletList",items:[{heading:"Collaborator:",lines:["Municipal Agencies and Public-Health Departments (Prospective)."]},{heading:"Mission:",lines:["Create a single point of accountability for pet-and-people solutions: prevention, response, and follow-through."]},{heading:"Program Focus:",lines:["Station social workers in shelters; coordinate outreach and case tracking.","Hold One Health clinics for families and pets; expand reimbursements to recruit more hospitals.","Use shared dashboards to monitor outcomes and funding needs."]}]}]},{id:"housingRetention",title:"Housing & Pet Retention  Policy and Private Partnerships",blocks:[{type:"paragraph",text:"Housing insecurity is a leading cause of surrender. We aim to support policy partners and property stakeholders with pragmatic solutions."},{type:"bulletList",items:[{heading:"Collaborator:",lines:["City Housing Offices, Property Networks, Advocacy Groups (Prospective)."]},{heading:"Mission:",lines:["Reduce pet-related evictions and surrenders via incentives, verification, and responsible-pet frameworks."]},{heading:"Program Focus:",lines:["Pet-friendly incentives (stipends, tax benefits) tied to spay/neuter, licensing, and microchipping.","Virtual behavior consults to stabilize tenancies and address complaints early.","Clear documentation and data to demonstrate cost savings."]}]}]},{id:"shelterBehavior",title:"Shelter Behavioral Support and Return-to-Home",blocks:[{type:"paragraph",text:"Behavior drives many relinquishment decisions. Early, expert guidance can keep pets home and improve adoptability."},{type:"bulletList",items:[{heading:"Collaborator:",lines:["Certified Trainer Networks (IAABC, KPA), Shelter Partners (Prospective)."]},{heading:"Mission:",lines:["Offer low- or no-cost training touchpoints and train-the-trainer models to multiply reach."]},{heading:"Program Focus:",lines:["Virtual intake and follow-ups post-adoption.","RTH (Return-to-Home) systems with clear owner outreach and documentation.","Outcome tracking to refine curricula."]}]}]},{id:"communityPrevention",title:"Community Prevention Clinics and Reimbursement Expansion",blocks:[{type:"paragraph",text:"Prevention saves lives and budgets. We support vaccination, spay/neuter, and basic care access with a strong data backbone."},{type:"bulletList",items:[{heading:"Collaborator:",lines:["Public-private Funders, Hospital Networks (Prospective)."]},{heading:"Mission:",lines:["Scale preventive care while attracting more hospitals through better reimbursement and low-friction workflows."]},{heading:"Program Focus:",lines:["Virtual pre-screening, scheduling, and post-clinic follow-ups.","Claims and outcomes transparency to sustain funding.","Shared knowledge to reduce duplication across programs."]}]}]},{id:"getInvolved",title:"Get Involved",blocks:[{type:"paragraph",text:"If youre working in veterinary medicine, public health, animal welfare, housing, or social services, wed love to connect. Together, we can align incentives, protect veterinary teams, and keep more pets with their people."}]}]}},clinics:{clinicIntroToVetcation:{mainTitle:"Introduction for Hospitals",mainDescription:"Vetcation enables California veterinary hospitals to launch a legally compliant hospital-branded virtual branch in days with zero workflow changes. Partner with your own vets and hospitals relief veterinarians to expand capacity, keep full ownership of client relationships and medical records, and add a new revenue stream with a transparent per-visit clinic share. When escalation to in-person care is needed, your hospital takes over using your standard workflows. Our mission is to help clinics build one-tap-away, lasting client relationships, end burnout across the team, and dramatically decrease turnover.",sections:[{id:"mission",title:"Our Mission",blocks:[{type:"paragraph",text:'Vetcation is designed to address one of the biggest problems in veterinary hospitals: <span class="highlight">high turnover</span>. Most teams are overworked and understaffed, and when client conflict and an overload of callbacks pile up, these pressures become primary drivers of burnout and contribute to high turnover. Reducing client volume to ease pressure sacrifices already thin margins, making it harder to pay competitive wages and keep good employees, which in turn leads to underpayment and makes hiring and retention more difficult.'},{type:"root",helpText:"We believe the solution is to expand teams without additional payroll to handle appropriate cases, create a new revenue stream to fund competitive wages, and focus in-house teams on high-value cases that truly require hands-on care, including imaging, lab diagnostics, dentistry, and surgery. The Vetcation platform enables clinics to achieve this by partnering with your trusted relief veterinarians to expand capacity. The added revenue supports more competitive compensation for in-house staff and improves service for in-person clients, which ultimately reduces burnout across the team and dramatically lowers turnover. The higher the staff satisfaction, the better the patient outcomes."}]},{id:"achieveForClinics",title:"What Can Your Hospital Achieve with Vetcation?",blocks:[{type:"paragraph",text:"Partner with trusted relief veterinarians, certified trainers, and board-certified specialists to expand capacity, offer new services, protect staff time, and keep ownership of client relationships and medical records."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1039.webp?alt=media&token=0f3f8557-ca8e-4ba9-bd4b-6ebf3f797f88","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1567.webp?alt=media&token=27d25436-5588-410b-8288-c6c98d355907"]},{type:"bulletList",items:[{heading:"Launch fast, keep your workflows:",lines:["Stand up a hospital-branded virtual branch in days and continue using your intake, scheduling, and treatment processes."]},{heading:"Expand capacity without extra payroll:",lines:["Partner with your relief veterinarians to handle appropriate virtual cases and smooth peak demand without adding fixed headcount. The more relief vets you partner with, the more appointment slots your clients can access."]},{heading:"Expand services without new hires:",lines:["Partner with certified dog trainers and board-certified specialists so clients can access behavior consults, dermatology, oncology, and more directly under your hospitals brand. Offer advanced expertise without the cost of staffing specialists in-house."]},{heading:"Focus in-house teams on high-value care:",lines:["Reserve on-site time for cases that truly need in-person care, including imaging, ultrasound, bloodwork, dentistry under anesthesia, and surgery."]},{heading:"Keep ownership and continuity:",lines:["Your hospital owns the client relationship and records. Escalations hand off seamlessly into your standard on-site workflow."]},{heading:"Add a new revenue stream:",lines:["Earn a transparent per-visit clinic share while virtual cases also drive appropriate in-person services."]},{heading:"Ensure compliance with AB 1399:",lines:["Vetcations infrastructure aligns with Californias telehealth law, AB 1399, providing automated documentation and audit readiness so your practice stays compliant as it grows."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1031.webp?alt=media&token=7a81a522-f6cd-4428-b1d5-81ea4e609754","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0853.webp?alt=media&token=420b61b1-454e-48da-a1c0-0bbc98b2ac20"]}]},{id:"whyVirtualCareTrend",title:"Why Virtual Care Is Growing  And Why It Matters",blocks:[{type:"trendPoints",introParagraphs:["Veterinary medicine is experiencing a dynamic shift, driven by the rising demand for convenient, accessible care. The latest VVCA State of Veterinary Virtual Care Report (2024) highlights why veterinarians should embrace telehealth sooner than later:"],items:[{heading:"Critical Shortages in Veterinary Services:",lines:["Over 22% of U.S. counties have no veterinary employees, leaving millions of companion animals in underserved areas (VVCA Report 2024, p. 7).","The country faces a deficit of 12,000 veterinarians and 48,000 support staff, demanding innovative solutions like telemedicine (VVCA Report 2024, p. 7)."]},{heading:"Rapid Consumer Adoption:",lines:["Telehealth has become a key access point for pet owners seeking immediate answers  50% of global virtual consults address symptomatic issues (VVCA Report 2024, p. 10).","High demand and convenience are fueling telehealths growth, with pet owners embracing virtual visits to save travel time and reduce stress on their animals."]},{heading:"Synergy with In-Person Care:",lines:["Telemedicine consultations supplement physical visits, allowing continuous follow-up for chronic or non-emergency conditions, while maximizing clinic efficiency.","Over half of treatment consultations (58.4%) effectively resolved the issue without an immediate clinic visit, reducing in-person congestion (VVCA Report 2024, p. 21)."]},{heading:"Greater Efficiency & Cost Savings:",lines:["Practices that adopt telehealth often see reduced no-shows, more organized scheduling, and operational savings, boosting both profit and patient satisfaction (VVCA Report 2024)."]},{heading:"High Client Satisfaction:",lines:["Virtual interactions garner an average 98.4% satisfaction rate  pet owners appreciate the convenience and immediate access to professional advice (VVCA Report 2024, p. 14)."]}]}]}]},VirtualBranch:{mainTitle:"Set Up Your Virtual Branch with Vetcation",mainDescription:"The following steps explain how you can sign up as a hospital/organization account, claim your hospital, sign the required legal documents, and manage partnerships with relief veterinarians. We also cover how your account can view visit outcomes and how to handle escalated cases that require in-person follow-up care.",sections:[{id:"SignUp",title:"Sign Up as a Hospital/Organization Account",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0828.webp?alt=media&token=6c2de185-8eb8-4f19-afc2-168dbec6810b","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0830.webp?alt=media&token=d0e41069-a189-4084-9f3c-8d69473aafbb"]},{type:"bulletList",items:[{heading:"Select 'Hospital/Organization' Account Type:",lines:["Choose the 'Hospital/Organization' option during sign-up to create your clinic's account. Make sure you are the authorized representative to set up the account."]},{heading:"Scan the provided QR Code:",lines:["Scan the QR code provided or email to gcfchen@vetcation.com to request a QR code."]}]}]},{id:"claimHospital",title:"Claim Your Hospital and Set Up Your Profile",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0832.webp?alt=media&token=85deb6e8-028a-4517-b89a-6822eda65a1d","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0834.webp?alt=media&token=2a07b279-cbab-4a21-b70f-1ed35e465af7"]},{type:"bulletList",items:[{heading:"Search for Your Hospital:",lines:["Use the search function to find your hospital by zip code. Select your hospital. If your hospital is not listed, contact gcfchen@vetcation.com for assistance."]},{heading:"Complete Hospital Profile:",lines:["Fill out your hospital's profile with accurate information. This information will be visible to clients."]}]}]},{id:"legalDocs",title:"Sign Legal Documents",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0837.webp?alt=media&token=82ef47cf-c7f4-400d-98d1-0b2d20360fa0","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1570.webp?alt=media&token=85bc08e1-7a50-4795-a0ea-37ea000a0848"]},{type:"bulletList",items:[{heading:"Find Legal Documents:",lines:["Slide right to open the drawer menu and press 'Telemedicine settings' to access the required inputs for telemedicine services."]},{heading:"Complete Required Inputs:",lines:["Fill out all required fields, including authorized representative name, phone number, and hospital address.","Carefully read through the EULA. Electronically sign the documents to complete the process."]}]}]},{id:"partnerReliefVets",title:"Manage requested Partner with Relief Veterinarians",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1573.webp?alt=media&token=d5e60757-4530-4730-9219-18a4854264b2","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1574.webp?alt=media&token=1d6ed3a4-058c-44bf-9632-a30e0083cbba","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1575.webp?alt=media&token=d0a2d2a6-d755-4929-a39b-b1d55f924149"]},{type:"bulletList",items:[{heading:"Access partnership hub",lines:["Go to telemedicine settings from the drawer menu and select 'Partnership Hub' to manage partnerships with telemedicine veterinarians.","Toggle on 'Open to new partnerships' so telemedicine vets can know your hospital is actively accepting partnership requests.","Send partnership requests to telemedicine veterinarians you want to work with.","Review incoming partnership requests from telemedicine veterinarians and accept or decline them based on your hospital's needs.","Once a partnership request is accepted, the telemedicine veterinarian will be listed as a telemedicine vet under your hospital's profile."]}]}]},{id:"doneHospital",title:"Done!",blocks:[{type:"bulletList",items:[{heading:"Your hospital is now live with its own virtual branch and can start supporting clients with relief vet coverage instantly."}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0837.webp?alt=media&token=82ef47cf-c7f4-400d-98d1-0b2d20360fa0","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1567.webp?alt=media&token=27d25436-5588-410b-8288-c6c98d355907"]}]}]},clinicEarnings:{mainTitle:"Earnings and Wallet",mainDescription:"Vetcations earnings and wallet system gives your clinic a clear and straightforward view of income from virtual consultations. You can monitor earnings in real time, review all transactions, and manage your clinic wallet balance. The system shows completed consultations, pending payouts, and revenue allocated to your clinic. This helps your team stay organized and make informed decisions about your virtual branch.",sections:[{id:"earningsOverview",title:"Earnings Overview",blocks:[{type:"qa",question:"How do I view my clinic earnings and wallet balance?",answer:"You can see your clinics earnings inside the Wallet section of your clinic account. This page shows a detailed breakdown of all income allocated to the clinic, including telemedicine consultations and follow-up charges from Vetssenger, our inquiry-based messaging tool. Every time a virtual visit is completed and the medical record is finalized, the system instantly allocates earnings: 60 percent to the veterinarian, 25 percent to the clinic, and the remaining 15 percent stays with the platform."},{type:"qa",question:"How do payouts work for the clinic?",answer:"Your clinic wallet will grow automatically as virtual visits are completed. You can initiate a payout at any time once the wallet balance is above your preferred threshold. Funds will be transferred to the clinic account your team has set up."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1031.webp?alt=media&token=7a81a522-f6cd-4428-b1d5-81ea4e609754","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1622.webp?alt=media&token=a8b69803-1d82-4256-b65a-a446725e8ca5"]}]}]},clinicOutcomeAnalysis:{mainTitle:"Clinic Outcome Analytics",mainDescription:"See how telemedicine is performing across your account and by doctor. Track client growth, outcome distribution, and drill down to the exact visits behind each outcome.",sections:[{id:"clientGrowth",title:"Client growth (last 4 weeks)",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0850.webp?alt=media&token=2b09333e-b495-4f1a-9597-0cab3594b7ec","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0854.webp?alt=media&token=3362662c-1b60-4138-8f84-ccefacf04994"]},{type:"bulletList",items:[{heading:"Total clients:",lines:["Count of unique pet owners linked to your account.","You can select different time ranges (7D, 2W, 4W, 3M, 1Y) to see growth trends."]},{heading:"Example: New (4W):",lines:["New clients who joined in the last 4 weeks."]}]}]},{id:"telemedOutcomesAll",title:"Telemedicine outcomes  account",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0851.webp?alt=media&token=c15ec67a-9dec-40a2-b47e-cf861a74ed06"]},{type:"bulletList",items:[{heading:"Prescribed meds:",lines:["Visit resulted in a prescription."]},{heading:"Escalate to in-person:",lines:["Telemed triage recommended in-clinic exam."]},{heading:"Refer other doctors:",lines:["Directed to a different clinician/specialist."]},{heading:"ER:",lines:["Advised emergency care based on triage."]},{heading:"Monitor:",lines:["No immediate intervention; monitor with guidance."]},{heading:"Resolved:",lines:["Issue addressed within the telemedicine visit."]}]}]},{id:"telemedOutcomesByDoctor",title:"Telemedicine outcomes  by doctor",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0852.webp?alt=media&token=06d6f20c-0002-4600-a57c-8c8f8b8f9187","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0853.webp?alt=media&token=420b61b1-454e-48da-a1c0-0bbc98b2ac20"]}]},{id:"outcomeDrilldowns",title:"Drill down to visits behind each outcome",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0851.webp?alt=media&token=c15ec67a-9dec-40a2-b47e-cf861a74ed06","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0855.webp?alt=media&token=17eeca01-c874-42a3-a442-a764402bee96"]},{type:"bulletList",items:[{heading:"Audit trail:",lines:["Every outcome links to the visit card for QA and follow-up."]},{heading:"Operational handoffs:",lines:["Escalations hand back to your clinics standard workflow."]}]}]}]},ReferralClinic:{mainTitle:"Telemedicine Referral Clinic Network Overview",mainDescription:"Vetcation makes it easy for your clinic to support pet owners who are referred for in-person care following a telemedicine consultation. By joining our Referral Clinic Network, your clinic can be selected by virtual veterinarians on our platform when a patient near your location requires physical examination, diagnostics, or treatment. You will receive a summary of the consultation along with relevant medical records to guide your teams in-person care.",sections:[{id:"referralNetwork",title:"Vetcations Referral Clinic Network",blocks:[{type:"paragraph",text:"Vetcations Referral Clinic Network is designed to connect virtual veterinarians with local clinics that can provide in-person care. This network allows pet owners to receive timely and appropriate care while ensuring that clinics have the opportunity to support their community."},{type:"map",collectionName:"clinics",center:{lat:33.938469117159684,lng:-118.2679399959647},zoom:9,markers:[{position:{lat:34.0047158996568,lng:-118.41651441472911},name:"Culver Palms Animal Hospital",website:"https://culverpalmsanimalhospital.com/"}]}]},{id:"whatIsReferralClinic",title:"What Is a Referral Clinic?",blocks:[{type:"paragraph",text:"A Referral Clinic is a local in-person clinic that can receive patients after a virtual consultation through the Vetcation platform. When a virtual veterinarian determines that a patient requires hands-on care, our system shows a list of nearby clinics based on the pet owner's location. If your clinic is selected, you will receive a secure email with the visit summary and medical record to guide your teams follow-up care."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8973.webp?alt=media&token=2362f8ae-6eb1-40f9-83a7-b2e95cbabd8d"]},{type:"paragraph",text:"The image above shows how clinics are displayed to veterinarians when choosing a referral location:"},{type:"bulletList",items:[{heading:"Black:",lines:["Clinics that have joined the referral network and are eligible to receive referrals."]},{heading:"Grey:",lines:["Clinics that have not yet joined and are not selectable by the vet."]}]}]},{id:"referralBenefits",title:"Why Join as a Referral Clinic?",blocks:[{type:"bulletList",items:[{heading:"Receive local patient referrals:",lines:["Your clinic becomes visible to telemedicine veterinarians when a nearby patient requires in-person diagnostics or treatment. No extra promotion or listing fees are required."]},{heading:"Provide in-person care with full context:",lines:["Youll receive the virtual visit summary and relevant records so your team can confidently continue the patients care with clear background information."]},{heading:"Open the door to new professional relationships:",lines:["Referral interactions often lead to ongoing partnerships with virtual veterinarians looking for trusted in-person support."]},{heading:"No fees, no system integration required:",lines:["Joining is simple. Just confirm by email and your clinic will be eligible to receive referrals when applicable. Theres no obligation, and you can opt out at any time."]}]}]},{id:"howToJoin",title:"How to Join?",blocks:[{type:"qa",question:"How do I join as a Referral Clinic?",answer:'Its simple. If you received an email invitation from Vetcation, just reply with your preferred email address for receiving referral records. If you havent received an invitation but would like to participate, contact us at <span class="highlight">gcfchen@vetcation.com</span>. There are no fees, no tech setup, and no obligation. Youre simply agreeing to be available as an in-person option for local pet owners when needed.'}]}]},TelemedicineClinics:{mainTitle:"Telemedicine-Enabled Clinics on Vetcation",mainDescription:"These clinics offer virtual care through Vetcation and can seamlessly transition cases to in-person visits when needed. Pet owners book a virtual appointment under your hospitals brand; your team receives the consult summary and relevant records, and you maintain ownership of the client relationship and medical record.",sections:[{id:"networkOverview",title:"Vetcation Telemedicine Clinic Network",blocks:[{type:"paragraph",text:"Our network highlights clinics that provide telemedicine directly through Vetcation. Clinics can add capacity, protect staff time, and serve nearby pet owners with same-day virtual appointments that escalate to on-site care when appropriate."},{type:"map",center:{lat:33.938469117159684,lng:-118.2679399959647},zoom:9,markers:[{position:{lat:34.0047158996568,lng:-118.41651441472911},name:"Culver Palms Animal Hospital",website:"https://culverpalmsanimalhospital.com/"},{position:{lat:33.96333911352371,lng:-118.42021727331638},name:"Marina Veterinary Center",website:"https://www.marinavet.com/"},{position:{lat:34.078809436743406,lng:-118.2179621116925},name:"LA Central Animal Hospital",website:"https://lacentralanimalhospital.com/"},{position:{lat:33.95556427616801,lng:-118.39659333243026},name:"Westchester Veterinary Center and Cat Clinic",website:"http://www.westchestervet.com",status:"pending"},{position:{lat:34.0191,lng:-118.4937},name:"Banfield Pet Hospital",website:"https://www.banfield.com"},{position:{lat:34.0023209494312,lng:-118.40581963058001},name:"Brent-Air Animal Hospital",website:"https://brentairanimalhospital.com/",note:"curbside service only"},{position:{lat:34.035602154921776,lng:-118.44509587290779},name:"Emerald Animal Hospital",email:"info@emeraldanimal.com",website:"https://emeraldanimal.com/",note:"general care; email sent"},{position:{lat:34.09163764875563,lng:-118.33075520174093},name:"The Veterinary Care Center",website:"https://veterinarycarecenter.com/",note:"invitation sent"},{position:{lat:33.97935402449685,lng:-118.43628711342294},name:"Shane Veterinary Medical Center",website:"https://www.shanevet.com/site/home"},{position:{lat:34.00520332658537,lng:-118.42997269603164},name:"VCA Animal Hospitals Urgent Care - Mar Vista",website:"https://vcahospitals.com/urgent-care-marvista?utm_source=maps&utm_medium=organic&utm_campaign=VCA_Animal_Hospitals_Urgent_Care_Mar_Vista"},{position:{lat:34.0046488706125,lng:-118.40954258107686},name:"Sepulveda Animal Hospital",website:"https://vcahospitals.com/urgent-care-marvista?utm_source=maps&utm_medium=organic&utm_campaign=VCA_Animal_Hospitals_Urgent_Care_Mar_Vista"},{name:"Center Sinai Animal Hospital",position:{lat:34.01833118738013,lng:-118.40813929680246},website:"https://centersinaianimalhospital.com/"},{name:"Los Angeles Veterinary Center (Boyle Heights)",position:{lat:34.047843862460994,lng:-118.2198919135183},website:"https://laveterinarycenter.com/"},{name:"Valley View Animal Hospital",position:{lat:33.84752791176592,lng:-118.02939471435792},website:"https://valleyviewah.com/"},{name:"Belmont Shore Veterinary Hospital",position:{lat:33.76642657504627,lng:-118.11757368650653},website:"https://www.belmontshorevet.com/"},{name:"Newport Mesa Animal Hospital",position:{lat:33.631458508390274,lng:-117.9236859136573},website:"https://nmah.vet/",email:"reception@nmah.vet"},{name:"Animal Clinic of Tustin Ranch Irvine",position:{lat:33.73099233577863,lng:-117.78865419406277},website:"https://www.actri.net/",email:"actristaff@actri.net"}]}]},{id:"whatIsTelemedClinic",title:"What Is a Telemedicine-Enabled Clinic?",blocks:[{type:"paragraph",text:"A telemedicine-enabled clinic provides virtual appointments under its own brand using Vetcation. When a case requires hands-on care, your team schedules and completes the in-person visit using your standard workflows, ensuring continuity for the client and patient."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8973.webp?alt=media&token=2362f8ae-6eb1-40f9-83a7-b2e95cbabd8d"]},{type:"paragraph",text:"How clinics appear to veterinarians when selecting a telemedicine clinic:"},{type:"bulletList",items:[{heading:"Black:",lines:["Clinics offering telemedicine through Vetcation (selectable)."]},{heading:"Grey:",lines:["Clinics not yet onboarded (not selectable)."]}]}]},{id:"clinicBenefits",title:"Why Offer Telemedicine with Vetcation?",blocks:[{type:"bulletList",items:[{heading:"Serve nearby pet owners instantly:",lines:["Be discoverable for same-day virtual care; escalate to on-site visits when needed."]},{heading:"Arrive prepared for in-person care:",lines:["Your team receives the virtual consult summary and relevant records for smooth follow-up."]},{heading:"Build lasting client relationships:",lines:["Keep ownership of the client relationship and medical record across virtual and on-site care."]},{heading:"Simple to start:",lines:["No new software integrations required to be listed. Opt in or out any time."]}]}]},{id:"howToList",title:"How Do We Get Listed?",blocks:[{type:"qa",question:"How can our clinic appear on this map as telemedicine-enabled?",answer:'Reply to your Vetcation invitation email with the preferred address for receiving consult summaries, or contact <span class="highlight">gcfchen@vetcation.com</span>. Once verified, your clinic will appear as selectable for telemedicine on the map. There are no listing fees or obligations.'}]}]},PartneringClinic:{mainTitle:"Telemedicine Platform for Partnering Clinics",mainDescription:"Vetcation is a flexible, open, and legally compliant telemedicine platform that helps every clinic in California expand into telemedicine, extend veterinary capacity beyond inhouse staff, and reach more clients. With our partnership agreement feature, Californialicensed veterinarians can request to collaborate with your clinic, providing virtual care under your clinics name while sharing both revenue and medical records to ensure continuity of care.",sections:[{id:"clinicBenefits",title:"What Can Your Clinic Achieve with Vetcation?",blocks:[{type:"paragraph",text:"Scale services, protect your brand, and improve patient outcomes without extra payroll or infrastructure:"},{type:"bulletList",items:[{heading:"Expand veterinary capacity without hiring:",lines:["Partner with licensed vets who work remotely under your clinics name during evenings, weekends, or peak periods."]},{heading:"Retain full ownership of brand and records:",lines:["All medical records and client relationships stay with your clinic  stored securely and AB1399compliant."]},{heading:"Add revenue with zero upfront cost:",lines:['Virtual visits generate new income streams for your clinic. For each full-time virtual vet you partner with, your clinic can earn up to <span class="highlight">$75,000+ per year</span> without hiring new staff or adding overhead.']},{heading:"Seamless continuity of care:",lines:["Telemedicine notes flow straight into your workflow, so inperson followups are informed and efficient."]},{heading:"Builtin legal safeguards:",lines:["Vetcations workflows align with Californias telehealth rules  reducing audit risk and paperwork."]}]}]},{id:"whyChooseVetcationClinic",title:"Why Choose Vetcation?",blocks:[{type:"paragraph",text:"Designed specifically for brickandmortar clinics  not a competing marketplace:"},{type:"bulletList",items:[{heading:"Oneclick vet onboarding & scheduling control:",lines:["Approve or deny partnership requests, set hours, and cap daily telemedicine slots in seconds."]},{heading:"Shared medical records, no data silos:",lines:["Every virtual visit automatically syncs with your clinics record  ready for followup, lab work, or radiology."]},{heading:"Higher client retention & satisfaction:",lines:["Offer afterhours triage and convenient rechecks that keep pet owners loyal to your clinic."]},{heading:"Dedicated regulatory & tech support:",lines:["Questions on AB1399 audits or EMR integration? Our inhouse team is on call.","gcfchen@vetcation.com","(530)4006227"]}]}]},{id:"whyVirtualCareTrendClinic",title:"Why Clinics Are Embracing Telemedicine",blocks:[{type:"trendPoints",introParagraphs:["VVCAs 2024 State of Virtual Care Report highlights urgent shortages and soaring demand  telemedicine is now a strategic necessity:"],items:[{heading:"Severe workforce gaps:",lines:["The U.S. needs **12,000 more veterinarians** and **48,000 support staff** to meet baseline demand; **22% of counties have zero veterinary employees**."]},{heading:"Demand from underserved pet owners:",lines:["**25million companion animals** live in counties with the lowest access scores. Virtual care lets your clinic reach them without opening a new location."]},{heading:"Highsatisfaction service channel:",lines:["Virtual consults achieve a **98.4% consumer satisfaction rate** across the U.S., U.K., and Canada  higher than many inperson benchmarks."]},{heading:"Efficiency & revenue benefits:",lines:["**58%** of treatmentoriented virtual cases are resolved remotely, freeing onsite appointments for highervalue procedures and reducing noshows."]},{heading:"Competitive differentiation:",lines:["Earlyadopter clinics position themselves as modern, convenient, and techforward  key factors in attracting both clients and new hires."]}]}]}]}},corporations:{corpIntroToVetcation:{mainTitle:"Introduction for Corporate Veterinary Groups",mainDescription:"Vetcation enables multi-hospital organizations to launch a legally compliant, hospital-branded telemedicine and virtual network in days with zero workflow changes. Every clinic can partner with their trusted relief veterinarians to expand capacity, add services, and strengthen client loyalty. The partnered relief vets are responsible for all telemedicine outcomes and liability. Your clinics keep ownership of client relationships and records and receive a clear clinic share on every visit. Vetcation aligns with California AB 1399 and provides audit-ready documentation for compliance teams.",sections:[{id:"missionForCorporations",title:"Our Mission",blocks:[{type:"paragraph",text:'Vetcation is designed to address a core challenge in multi-hospital operations: <span class="highlight">staff turnover and hiring challenges</span>.  Most teams are overworked and understaffed. When client conflict and callback overload pile up, these pressures drive burnout and turnover. Hiring full-time doctors is hard amid a nationwide veterinarian shortage, and many veterinarians prefer flexible schedules. Clinics often rely on relief vets to cover staffing gaps, but that alone is hard to sustainespecially since clients value long-term relationships with preferred doctors.'},{type:"root",helpText:"We believe the root cause is a gap in structured, incentive-aligned collaboration. By partnering with your trusted relief veterinarians to offer telemedicine services, each clinic can instantly expand capacity without adding payroll, create a new revenue stream to fund competitive wages, and focus in house teams on high-value care that truly requires hands on work (imaging, labs, dentistry, surgery). Clinics reduce callback overload, improve service for in-person clients, and build one tap away, lasting client relationships, which in turn reduces burnout and eases hiring challenges. Vetcation turns real-world relationships into a unified professional network with shared records, clear responsibility, and transparent economics. The stronger the professional connections, the better the outcomes for patients, teams, and the business."}]},{id:"organizationalOutcomes",title:"What Can Your Organization Achieve with Vetcation?",blocks:[{type:"paragraph",text:"Stand up a hospital-branded virtual network that increases capacity, protects teams, and grows revenue while preserving control of client relationships and records."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0839.webp?alt=media&token=cb65b265-1c74-42ea-a8d8-bea0a09f2e38","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1567.webp?alt=media&token=27d25436-5588-410b-8288-c6c98d355907"]},{type:"bulletList",items:[{heading:"Leverage California scale (PetVet example):",lines:["PetVet operates ~100 hospitals in California, of which ~85 are GP.","At an average of 3 in-house doctors per hospital, that is ~300 employed DVMs.","California has ~7,690 employed veterinarians overall, and ~460700 of them work as relief. Vetcation connects this workforce directly to your hospitals."]},{heading:"Expand capacity without payroll:",lines:["Relief veterinarians set their own schedules, fees, and handle liability. Once partnered, their availability appears to clients under your hospital brand.","This can effectively double available appointment slots without adding headcount."]},{heading:"Transparent economics:",lines:["Per-visit split: provider 60%, clinic 25%, platform 15%.","At a $100 average visit fee and 20 virtual visits per week per doctor, the clinics 25% share  $26,000 net income per doctor per year (52 weeks).","If a clinic partners with 3 virtual doctors, thats  $78,000 net income per clinic per year.",'Across ~100 California hospitals, thats <span class="highlight">~$7.8M in additional annual net income to clinics</span>  without adding payroll.',"Automatic payouts and audit-ready statements keep finance in control."]},{heading:"Add new services at scale:",lines:["Clinic-branded telemedicine, structured follow-ups through Vetssenger, and optional services from board-certified specialists and certified trainers.","Follow-up fees are automatically shared with the partnered clinic, reinforcing client loyalty."]},{heading:"Keep ownership and continuity:",lines:["Clinics approve partnerships, records are shared on request, and escalations return into your in-person workflow.","Clients remain tied to your brand with one-tap follow-up care."]},{heading:"Ensure AB 1399 alignment:",lines:["Document VCPR establishment where applicable and maintain audit-ready visit records and follow-ups."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1031.webp?alt=media&token=7a81a522-f6cd-4428-b1d5-81ea4e609754","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0853.webp?alt=media&token=420b61b1-454e-48da-a1c0-0bbc98b2ac20"]}]},{id:"earlyAdopterAdvantage",title:"Early adopter advantage",blocks:[{type:"paragraph",text:"Early adopter advantage: clinics that join now lock in provider relationships and community visibility that are hard for late adopters to match."},{type:"bulletList",items:[{heading:"Build your relief-vet network first:",lines:["Connect with California ~ 700 relief DVMs and specialists before competitors do, converting trusted partners into your extended workforce.","Late adopters will need to convince those same professionals to add another hospital relationship, which takes longer and costs more."]},{heading:"Own the community demand curve:",lines:["As new pet owners post questions, your approved professionals appear in more threads and topics, continually marketing your brand without extra ad spend."]},{heading:"Statewide telemedicine under your brand:",lines:["Turn on a hospital-branded virtual front door for all California pet owners immediately.","The earlier you launch, the stronger and stickier your client relationships become, making you harder to displace."]}]},{type:"paragraph",text:"For partnership discussions, contact Geoff Chen (gcfchen@gmail.com, (530) 400-6227)."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/IMG_7383_compressed.png?alt=media&token=4f4cc1eb-073b-4a46-acba-1dedd89943ad","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0850.webp?alt=media&token=2b09333e-b495-4f1a-9597-0cab3594b7ec"]}]},{id:"operatingModel",title:"Operating Model",blocks:[{type:"bulletList",items:[{heading:"Care delivery",lines:["Licensed providers  relief DVMs and board-certified specialists  deliver telemedicine consults and structured follow-ups in Vetssenger under your hospital brand.","Certified dog trainers may also offer independent education and behavior-coaching services to pet owners and appear as partnered with your clinic; they do not diagnose or prescribe.","Providers set their own schedules. Hospitals approve who is visible as partnered providers; adding trusted providers increases bookable time slots and client choice.","All visit notes and summaries are shared with the hospital, and escalations return to standard in-person workflows."]},{heading:"Clinic role",lines:["Approve or deny provider partnerships on a per-hospital basis.","Share records upon owner request. Handle escalations in person using existing workflows.","Send a single announcement email to clients that telemedicine is available with trusted relief vets."]},{heading:"Responsibility and liability",lines:["Telemedicine outcomes are the responsibility of the relief veterinarian.","In-person care is the responsibility of the clinic after escalation."]},{heading:"Payments and revenue share",lines:["All visits run through Vetcation wallet rails with Stripe Connect.","Automatic split on each visit: provider 60 percent, clinic 25 percent, platform 15 percent.","Monthly payouts with downloadable statements for finance."]}]}]},{id:"faqs",title:"FAQs for Corporate Teams",blocks:[{type:"qa",question:"Who is responsible for telemedicine outcomes and liability?",answer:"Relief veterinarians are responsible for all telemedicine outcomes. When a case escalates and is seen in person, the clinic is responsible for on-site care under standard policies."},{type:"qa",question:"Do clinics lose control of the client relationship?",answer:"No. Clinics approve partnerships, records are shared, and clients remain under the hospital brand. Escalations and follow-up care return to the clinic."},{type:"qa",question:"What internal changes are required?",answer:"No workflow changes are required. Clinics continue using current intake, scheduling, and treatment processes. Vetcation adds a virtual front door staffed by trusted relief veterinarians."},{type:"qa",question:"How do payouts and finance reporting work?",answer:"All visits run through Vetcation wallet rails. Stripe Connect performs automated monthly payouts. Finance teams can download statements and exports for reconciliation."}]},{id:"whyVirtualCareTrend",title:"Why Virtual Care Is Growing  And Why It Matters",blocks:[{type:"trendPoints",introParagraphs:["Veterinary medicine is experiencing a dynamic shift, driven by the rising demand for convenient, accessible care. The latest VVCA State of Veterinary Virtual Care Report (2024) highlights why veterinarians should embrace telehealth sooner than later:"],items:[{heading:"Critical Shortages in Veterinary Services:",lines:["Over 22% of U.S. counties have no veterinary employees, leaving millions of companion animals in underserved areas (VVCA Report 2024, p. 7).","The country faces a deficit of 12,000 veterinarians and 48,000 support staff, demanding innovative solutions like telemedicine (VVCA Report 2024, p. 7)."]},{heading:"Rapid Consumer Adoption:",lines:["Telehealth has become a key access point for pet owners seeking immediate answers  50% of global virtual consults address symptomatic issues (VVCA Report 2024, p. 10).","High demand and convenience are fueling telehealths growth, with pet owners embracing virtual visits to save travel time and reduce stress on their animals."]},{heading:"Synergy with In-Person Care:",lines:["Telemedicine consultations supplement physical visits, allowing continuous follow-up for chronic or non-emergency conditions, while maximizing clinic efficiency.","Over half of treatment consultations (58.4%) effectively resolved the issue without an immediate clinic visit, reducing in-person congestion (VVCA Report 2024, p. 21)."]},{heading:"Greater Efficiency & Cost Savings:",lines:["Practices that adopt telehealth often see reduced no-shows, more organized scheduling, and operational savings, boosting both profit and patient satisfaction (VVCA Report 2024)."]},{heading:"High Client Satisfaction:",lines:["Virtual interactions garner an average 98.4% satisfaction rate  pet owners appreciate the convenience and immediate access to professional advice (VVCA Report 2024, p. 14)."]}]}]}]}},rvts:{introToRVT:{mainTitle:"Registered Veterinary Technicians (RVTs)",mainDescription:"SB 669 (B&P Code  4826.7) took effect on January 1, 2024, expanding the scope of practice for California RVTs. Under written protocols from a supervising veterinarian, an RVT may now establish a veterinarianclientpatient relationship (VCPR), perform wellness exams, and administer core vaccines and parasite preventives off-sitehelping close critical preventive-care gaps across the state.",sections:[{id:"legalFramework",title:"1 Legal Framework",blocks:[{type:"bulletList",items:[{heading:"SB 669 scope",lines:["Permits an RVT, acting as the veterinarians agent, to perform wellness exams and administer vaccines or parasite preventives when the supervising veterinarian is easily and quickly available by phone or video."]},{heading:"Preventive care only",lines:["Applies exclusively to preventive services; diagnosis, surgery, and controlled-drug administration remain reserved for veterinarians."]},{heading:"Written delegation",lines:["Requires a signed Delegation & Agency Agreement between the veterinarian and RVT before any clinic session."]}]}]},{id:"preClinicRequirements",title:"2 Pre-Clinic Requirements",blocks:[{type:"bulletList",items:[{heading:"Written protocols",lines:["The supervising DVM supplies step-by-step instructions covering patient triage, drug handling, dosage charts, and emergency response."]},{heading:"Emergency readiness",lines:["When operating off a registered premises, the RVT must carry epinephrine, diphenhydramine, IV fluids, and the equipment listed in the SF SPCA checklist."]},{heading:"Client disclosure & consent",lines:["The RVT must state their role, provide the supervising veterinarians name and license number, and record the clients consent in the medical record before treatment begins."]}]}]},{id:"onSiteWorkflow",title:"3 On-Site Workflow",blocks:[{type:"bulletList",items:[{heading:"Patient assessment",lines:["Use the SB 669 suitability checklist (e.g., temperature  102.5 F, no severe illness signs)."]},{heading:"VCPR establishment",lines:["Automatically established once the RVT completes the exam on the veterinarians behalf."]},{heading:"Vaccine/medication administration",lines:["Administer exactly as per protocol (species-specific dose, limb/site rotation, sterile technique)."]},{heading:"Post-injection observation",lines:["Observe for 15 minutes, manage any reactions per the emergency algorithm, then discharge with written after-care instructions."]}]}]},{id:"platformSupport",title:"4 Vetcation Platform Support",blocks:[{type:"bulletList",items:[{heading:"Digital delegation forms",lines:["Collected and stored with cryptographic signatures for audit readiness."]},{heading:"Protocol-embedded checklists",lines:["Guide the RVT through each legal checkpoint in real time."]},{heading:"Telehealth bridge",lines:["AB 1399-compliant video/phone consult access keeps the supervising DVM one tap away."]},{heading:"Instant record-sync",lines:["SOAP notes, consent confirmations, and lot numbers upload automatically to the veterinarians dashboard."]}]}]},{id:"useCases",title:"5 Use-Cases We Enable",blocks:[{type:"bulletList",items:[{heading:"Shelter vaccine clinics",lines:["RVT-led events boosting herd immunity without an on-site veterinarian."]},{heading:"House-call wellness visits",lines:["Core vaccines and monthly preventives delivered in-home."]},{heading:"Community pop-ups",lines:["Pairing RVT services with virtual vet oversight in underserved neighborhoods."]}]}]},{id:"references",title:"6 Reference Materials",blocks:[{type:"bulletList",items:[{heading:"SF SPCA Vaccine Clinic Protocols & Procedures (March 2024)",lines:[]},{heading:"California Business & Professions Code  4826.7 (SB 669, 2023)",lines:[]},{heading:"Vetcation Emergency Drug & Equipment List v2.0",lines:[]}]}]}]}},clients:{clientIntroToVetcation:{mainTitle:"Introduction for Pet Owners",mainDescription:"Vetcation is a professional community that helps you connect with licensed veterinarians and participating hospitals through convenient, legally compliant virtual care. You can ask questions in the community, learn from what other pet owners have asked, and receive educational guidance from qualified professionals. When you set your home clinic, Vetcation also connects you with the clinics partnered veterinarians for telemedicine services, giving you easier access to care, simple follow-up through our Vetssenger system, and continuity with your regular clinic. Our goal is to make it easier to care for your pet and stay connected with your primary veterinarian, while giving you reliable information from professionals you can trust.",sections:[{id:"missionForOwners",title:"Our Mission for Pet Owners",blocks:[{type:"paragraph",text:"Many pet owners struggle to get timely answers to important questions. Phone lines are busy, callbacks are short, and it is not always clear when something can wait and when it needs an urgent visit. At the same time, clinics often receive more questions than they can respond to quickly, which makes it harder for owners to know what to do next."},{type:"root",helpText:"Vetcation is designed to give pet owners clearer, easier access to trustworthy guidance. You can ask questions, learn from what others have asked, and receive educational support from licensed professionals. When you set your home clinic, Vetcation connects you with your clinics partnered veterinarians for telemedicine and follow-up, letting you build a direct and organized line of communication with your primary vets through our Vetssenger system. Our mission is to help you care for your pet with confidence, clarity, and a stronger connection to your regular clinic."}]},{id:"achieveForOwners",title:"What Can You Do with Vetcation?",blocks:[{type:"paragraph",text:"Vetcation gives you a simple way to learn from licensed veterinarians, ask questions in the community, and stay closely connected with your primary clinic for in-person follow-up when needed."},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1578.webp?alt=media&token=2008663e-e24d-4ed6-bfe8-63fb8872dde7","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1567.webp?alt=media&token=27d25436-5588-410b-8288-c6c98d355907","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1616.webp?alt=media&token=8e0a5619-a268-491a-8cd0-fae9edb1b1a8"]},{type:"bulletList",items:[{heading:"Talk to licensed veterinarians from home:",lines:["Schedule virtual visits or use secure messaging with California-licensed veterinarians. When appropriate, veterinarians can prescribe needed medications and have them delivered to your home, saving you time and unnecessary trips."]},{heading:"Easy follow-up and direct connection with your primary vets:",lines:["When you set your home clinic, Vetcation connects you directly with your clinics partnered veterinarians. You can follow up through our Vetssenger system, keep your communication organized, and maintain a stronger long-term relationship with your primary veterinary team."]},{heading:"Know when to go in person:",lines:["Veterinarians can review your pets history, photos, and videos, then guide you on whether home care is enough, a routine visit is needed, or urgent care is required."]},{heading:"Stay connected with your clinic:",lines:["Telemedicine visits are linked to your clinic when you set a home clinic, helping ensure continuity of care and keeping your regular veterinarian informed."]},{heading:"Learn with confidence, not online guesses:",lines:["Vetcations community lets you post questions freely and read answers given to other pet owners, so you can learn from many real situations.","Because this is an educational community and not a paid consultation, veterinarians answer based on their interests and availability, and responses are not guaranteed for every question."]},{heading:"Stay within Californias telehealth rules:",lines:["Vetcation follows Californias telehealth law, AB 1399, helping ensure telemedicine is used appropriately and that in-person care is arranged when required."]}]}]},{id:"telemedicineCasesForOwners",title:"When Is Telemedicine a Good Fit for My Pet?",blocks:[{type:"paragraph",text:"Telemedicine is not a replacement for all veterinary care. It works best for certain types of questions and follow-up visits, and it is not appropriate for life threatening emergencies."},{type:"table",responsive:"auto",stackBreakpoint:640,rowHeaders:!1,minWidth:"720px",columns:[{key:"case",title:"Situation"},{key:"fit",title:"Fit for telemedicine?"},{key:"help",title:"How Vetcation can help"},{key:"escalate",title:"When to go in person"}],rows:[{case:"You are not sure if something is an emergency",fit:"Often (triage first)",help:"A veterinarian can review your concerns, ask questions, and help you decide if your pet needs urgent in-person care.",escalate:"Trouble breathing, collapse, pale gums, severe pain, uncontrolled bleeding, suspected blockage or poisoning should go directly to an ER or clinic."},{case:"Skin problems or itchiness",fit:"Strong fit",help:"You can share photos and videos so a veterinarian can suggest next steps, relief options, and when to plan an in-person exam or testing.",escalate:"Deep, rapidly spreading, very painful, or foul smelling wounds need in-person care promptly."},{case:"Mild stomach upset (vomiting or diarrhea)",fit:"Often (mild cases)",help:"A veterinarian can review your pets history and help with home care, monitoring, and warning signs to watch for.",escalate:"If your pet is very lethargic, has repeated vomiting, blood in stool or vomit, a tight painful belly, or symptoms last more than a short period, an in-person exam is needed."},{case:"Behavior questions (anxiety, house soiling, reactivity)",fit:"Strong fit",help:"Video and home descriptions help veterinarians give training strategies and behavior plans, and coordinate with trainers when needed.",escalate:"Any immediate safety risk to people or animals or sudden behavior change with possible medical cause needs in-person evaluation."},{case:"Nutrition, weight, and chronic care questions",fit:"Strong fit",help:"Veterinarians can discuss diet choices, weight loss plans, and ongoing management for chronic conditions between in-person visits.",escalate:"Sudden weight loss, extreme thirst or urination, or a major change in energy should prompt an in-person exam and diagnostics."},{case:"Puppy or kitten guidance",fit:"Strong fit",help:"Use telemedicine for vaccine schedules, training tips, and general wellness questions between in-clinic visits.",escalate:"Physical exams, vaccines, and procedures still happen in person at your clinic."},{case:"General questions about lab results or treatment plans",fit:"Strong fit",help:"A veterinarian can walk you through test results, recheck plans, and what improvement or worsening should look like.",escalate:"If your pet is not improving as expected, is getting worse, or has new concerning symptoms, an in-person recheck is needed."}],note:"Telemedicine has limits and is subject to California regulations. It is not suitable for life threatening emergencies. If you believe your pet may be in immediate danger, contact an emergency hospital right away."}]}]},settingUpVetcation:{mainTitle:"Setting Up Vetcation",mainDescription:"Getting started with Vetcation as a pet owner only takes a couple of steps. Create your account, choose the pet owner role, and set up a basic profile so veterinarians can understand your pet and give more accurate guidance.",sections:[{id:"gettingStartedOwner",title:"Getting Started as a Pet Owner",blocks:[{type:"paragraph",text:"You can start using Vetcation in just a few minutes. Follow these two steps inside the app or on the website."},{type:"bulletList",items:[{heading:"Step 1: Choose your role",lines:["Sign up or log in with your email or supported login method.","When asked to choose a role, select Pet owner so the system can show you the right tools and options."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_0828.webp?alt=media&token=6c2de185-8eb8-4f19-afc2-168dbec6810b"]},{type:"bulletList",items:[{heading:"Step 2: Set up your profile",lines:["Add your name and basic information.","Welcome to Vetcation! You are now in the Vetcation professional community."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1577.webp?alt=media&token=7e9e1e55-7a0a-4dfa-b472-f195928cdca4","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1578.webp?alt=media&token=2008663e-e24d-4ed6-bfe8-63fb8872dde7"]}]}]},addingYourPets:{mainTitle:"Adding Your Pets",mainDescription:"To get the most out of Vetcation, add your pets to your profile. This helps veterinarians understand their history and give more accurate advice during virtual visits.",sections:[{id:"addPets",title:"How to Add Your Pets",blocks:[{type:"paragraph",text:"Follow these steps to add your pets to your Vetcation profile."},{type:"bulletList",items:[{heading:"Step 1: Open drawer menu",lines:["Open the drawer menu and press 'Pets'.","Press the '+' button to add a new pet."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1579.webp?alt=media&token=3867f135-d308-4e3e-b68a-f42375b313aa","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1580.webp?alt=media&token=a984ce69-188c-4a02-86fb-599c721cd280"]},{type:"bulletList",items:[{heading:"Step 2: Add a new pet",lines:["Enter your pet's name, species, breed, age, and any other relevant details."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1583.webp?alt=media&token=7b3f649e-6fbe-4791-936e-bf2eee12b448","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1582.webp?alt=media&token=e2d249b7-09b1-40c8-9ff7-5588999a3f8b"]}]}]},UpdateLegalProfile:{mainTitle:"Update Legal Profile",mainDescription:"Keeping your legal profile up to date is essential for compliance with California telemedicine regulations. An accurate legal profile ensures that veterinarians have the necessary information to provide appropriate care and maintain the veterinarianclientpatient relationship (VCPR). Follow the steps below to update your legal profile in Vetcation.",sections:[{id:"updateLegalProfile",title:"How to Update Your Legal Profile",blocks:[{type:"paragraph",text:"Follow these steps to update your legal profile in Vetcation."},{type:"bulletList",items:[{heading:"Step 1: Open drawer menu",lines:["Open the drawer menu and press 'Telemedicine Setting'.","Navigate to Update Legal Profile.","Ensure all required fields are filled out accurately."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1584.webp?alt=media&token=254d40e1-72cd-4236-9d6a-5f63886362a5","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1585.webp?alt=media&token=c7f984c5-d9ac-4152-b175-17ac434dd9ef"]},{type:"bulletList",items:[{heading:"Step 2: Link to Your Clinic",lines:["Press 'Home Clinic' to associate your profile with your primary veterinary clinic.","Once linked, you will be able to see the partnered veterinarians of your clinic when scheduling telemedicine appointments. The medical records from your telemedicine visits will also be shared with your clinic to ensure continuity of care."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1587.webp?alt=media&token=72baceea-761b-4f35-9647-1482ed7ea7c1","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1567.webp?alt=media&token=27d25436-5588-410b-8288-c6c98d355907"]},{type:"bulletList",items:[{heading:"Step 3: Sign Client Agreement (EULA)",lines:["Review and sign the End User License Agreement (EULA)."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1586.webp?alt=media&token=b3e581ca-c6c2-48e0-8e83-90c5f128b269"]}]}]},schedulingAnAppointment:{mainTitle:"Scheduling an Appointment",mainDescription:"Scheduling a telemedicine appointment with Vetcation is a straightforward process that allows you to connect with licensed veterinarians from the comfort of your home. Follow the steps below to schedule an appointment.",sections:[{id:"scheduleAppointment",title:"How to Schedule an Appointment",blocks:[{type:"paragraph",text:"Follow these steps to schedule a telemedicine appointment in Vetcation."},{type:"bulletList",items:[{heading:"Step 1: Open drawer menu",lines:["Open the drawer menu and press 'Telemedicine'.","You can select the partnered veterinarian from your home clinic."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1579.webp?alt=media&token=3867f135-d308-4e3e-b68a-f42375b313aa","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1567.webp?alt=media&token=27d25436-5588-410b-8288-c6c98d355907"]},{type:"bulletList",items:[{heading:"Step 2: Schedule the appointment",lines:["Select an available time slot that works for you."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1590.webp?alt=media&token=6b3a99df-d7cc-41c9-9127-637053b4e2b6","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1591.webp?alt=media&token=916ae9b9-25a9-4b63-8637-d85363ece64a"]},{type:"bulletList",items:[{heading:"Step 3: Fill in appointment details",lines:["Provide any necessary information about your pet's condition and confirm the appointment details."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1596.webp?alt=media&token=b829bdc5-9cc1-4d63-ae22-804f1218ffed","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1595.webp?alt=media&token=aefacfc8-081f-4019-acc0-66b8ab59b08f","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1594.webp?alt=media&token=3b9f4998-8963-4bd6-9341-3de96ffc3808"]},{type:"bulletList",items:[{heading:"Step 4: Confirm the payment method (sufficient wallet balance)",lines:["If your wallet balance is sufficient, the payment will be processed automatically by using your wallet funds."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1601.webp?alt=media&token=3f7fd043-c1b9-4c79-be09-0a50bbd9aeaa"]},{type:"bulletList",items:[{heading:"Step 4: Confirm the payment method (insufficient wallet balance)",lines:["If your wallet balance is insufficient, you will need to add a new payment method for the rest of the charge."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1600.webp?alt=media&token=1d34ee72-d0c8-49ff-a4eb-9213ee3c4ff5","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1598.webp?alt=media&token=04cedaca-f0e6-49ab-a9fc-01e96100a7a7","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1599.webp?alt=media&token=51e06933-c0f8-433f-8588-034d5c7a9fb2"]},{type:"bulletList",items:[{heading:"Step 5: booking Confirmation",lines:["Your telemedicine appointment is now scheduled! You will receive a confirmation notification with the appointment details."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1602.webp?alt=media&token=8ffcd5ca-045c-46ce-a116-b4aaad494a59","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1603.webp?alt=media&token=6b45e30f-f05d-4e2f-b148-625111b286b5"]},{type:"bulletList",items:[{heading:"Wallet Balance update & you can find your appointment on telehealth tab",lines:["Your wallet balance has been updated to reflect the cost of the telemedicine appointment.","You can find your appointment details in the Telehealth tab."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1624.webp?alt=media&token=df2c3e0e-3cce-42a5-9502-b839634a86cf","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1604.webp?alt=media&token=92c2da5e-3d61-40f3-b380-0aa5a81d35c3"]}]}]},duringYourAppointment:{mainTitle:"Join a Video Call",mainDescription:`
          Vetcations video consultation feature enables you to meet your vet 
          face-to-face (virtually) and provide information needed 
          to diagnose and treat patients. Below, learn how to access 
          your scheduled calls, test your mic and camera, and begin 
          your real-time telemedicine session.
        `,sections:[{id:"howToJoinSection",title:"How to Join",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8367.PNG?alt=media&token=2615e2aa-5d1b-4f61-9a6a-1a6afa0a48b1","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8372.PNG?alt=media&token=0e8a49c8-10f0-43ca-99da-902c91a17043","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FScreen%20Shot%202025-04-01%20at%201.31.06%20PM.png?alt=media&token=0e2adb20-f48d-4e18-bdc7-0cf3854ad7ba"]},{type:"bulletList",items:[{heading:"Access Scheduled Appointments",lines:["Go to My Schedule for the upcoming appintment. Press it to navigate to the appointment card.","Look for a Join Call button on the appointment card."]},{heading:"Stable Internet Connection",lines:["A strong connection helps keep video and audio smooth.","If using mobile data, find a reliable spot with good reception."]},{heading:"Start the Call",lines:["Once youre ready, click Join Call to enter the video call.","Remember to enable your camera so the client can see you (and vice versa).","Be mindful of background surroundings for privacy and professionalism.","Under AB 1399, you must use synchronous audio-video to form a valid VCPR unless youve already examined the patient in person."]},{heading:"Camera Access Prompt",lines:["When you enable your camera, Vetcation may show a prompt such as Vetcation Would Like to Access the Camera.","Allowing camera access enables you to share live video with the client","If you tap Dont Allow, youll be unable to share your video directly from your device and VCPR establishment cannot be completed."]}]}]},{id:"featureOverview",title:"Features Overview",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FScreen%20Shot%202025-04-01%20at%2011.12.55%20PM.png?alt=media&token=e653f8e4-4a3b-43b2-b8b4-6c8b33b0350f"]},{type:"bulletList",items:[{heading:"Camera and Audio Requirements",lines:["To achieve legal telemedicine requirements (if your pet is not yet conducted in-person), you must appear on video and turn on the microphone.","Vetcation prompts you if your camera is off and nudges clients to enable theirs for an in-clinic-like interaction."]},{heading:"Flip Camera",lines:["If you want to show your vet something, tap the camera icon to switch between front and back views."]},{heading:"Mute/Unmute",lines:["Tap the microphone icon to mute or unmute your audio during the call."]},{heading:"End Call",lines:["When youre finished, tap the red Leave icon to leave the video call room."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FScreen%20Shot%202025-04-01%20at%2011.13.19%20PM.png?alt=media&token=086e22cd-ffcc-4028-a467-5e8b8b777788"]},{type:"bulletList",items:[{heading:"Access Telemedicine Info (top middle)",lines:["Tap the Vetcation icon during a video call to view important session details in real-time.","This includes your Appointment ID, the names of both the veterinarian and the pet owner, and the patients name.","Youll also see confirmation of enhanced encryption and the U.S.-based data center powering the call.","This feature promotes transparency and trust while also helping you keep accurate documentation during the session."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FScreen%20Shot%202025-04-01%20at%2011.14.13%20PM.png?alt=media&token=1cdeae5b-84ee-440f-b2d9-f92547699a60"]},{type:"bulletList",items:[{heading:"Access Inquiry-based Messager (bottom right corner)",lines:["During a video call, you can use the inquiry-based Messager to send text messages to your vet.","This feature is useful for sharing links, files, or other details that might be hard to convey verbally.","The chat is saved in the Inquiry-Based Messager, ensuring continuity of care."]}]}]},{id:"recordingBasics",title:"Recording Basics & Consent",blocks:[{type:"bulletList",items:[{heading:"No Media Storage",lines:["Vetcation does not retain video or audio once processing is complete.","Audio is temporarily captured in real time so our AI can generate summaries, then permanently deleted.","This minimizes privacy concerns and long-term data risks."]},{heading:"AI-Assisted Medical Records (No Saved Recordings)",lines:["Audio from the session is briefly processed to produce a draft medical record for review.","After processing, the raw audio is discardedonly the structured text record remains."]},{heading:"Client-Facing Summaries",lines:["We create a plain-language recap that clients can view in their portal.","This summary highlights key discussion points, recommended treatments, and next steps."]}]}]},{id:"privacySecurity",title:"Privacy & Security",blocks:[{type:"bulletList",items:[{heading:"Data Protection",lines:["All live calls are end-to-end encrypted. Only the assigned veterinarian and authorized staff can access session details.","If audio is processed by our AI, its stored only until the summary is generated, then automatically deleted."]},{heading:"Liability Under BPC  4857",lines:["A veterinarian can face civil liability for negligent release of confidential information.","Handle any patient data carefully, whether its text, images, or ephemeral audio."]},{heading:"Deleting Audio Data",lines:["Vetcations AI system automatically removes audio once processing is complete.","No manual deletion is requiredephemeral files never remain in storage."]},{heading:"Patient Requests",lines:["Clients can request copies of their medical summaries at any time.","Per BPC  4855, you must furnish these upon request, even if the client owes a balance."]}]}]}]},afterYourAppointment:{mainTitle:"Medical History Overview",mainDescription:`
        The Medical History section gives you and your vet access to important health information in one place. 
        You can view your pet's details such as <span class="highlight">breed, color, sex, date of birth, spayed/neutered status, and weight history</span>. 
        You may also export the full medical history, which pet owners can take to their home clinic when needed.
      `,sections:[{id:"visits",title:"Visits",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8427-min.PNG?alt=media&token=8509c639-207e-459d-af0b-2b1c478f3c15"]},{type:"bulletList",items:[{heading:"All Appointments in One Place",lines:["See all past and upcoming visits with your virtual clinic."]}]}]},{id:"records",title:"Records",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8432-min.PNG?alt=media&token=b2e4620a-d057-48d1-95e5-1286039fd5ee"]},{type:"bulletList",items:[{heading:"Comprehensive Visit Records",lines:["This section is designed to keep all medical reports, prescriptions, and notes organized and easily accessible.","You can upload medical records from your in-clinic visits, which will appear here for unified documentation."]}]}]},{id:"weightChart",title:"Weight Chart",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8432-min.PNG?alt=media&token=b2e4620a-d057-48d1-95e5-1286039fd5ee","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_8433-min.PNG?alt=media&token=51cecb79-1400-4852-9f35-51d6e5085b1d"]},{type:"bulletList",items:[{heading:"Easily Shareable Records",lines:["You can export your pet's complete medical history as a PDF file.","If you have set a home clinic, the medical record will be automatically shared with them.","This is helpful when visiting a new veterinarian, clinic, or ER that is not your home clinic."]}]}]},{id:"exportHistory",title:"Export Medical History",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1623.webp?alt=media&token=268fdcf0-ca22-40a2-a67e-85cb82f552ea"]},{type:"bulletList",items:[{heading:"Easily Shareable Records",lines:["You can export your pet's complete medical history as a PDF file.","If your have set your home clinic, the medical record will be automatically shared with them.","This is useful when you need to visit a new veterinarian/clinic/ER which is not your home clinic."]}]}]}]},followUpCare:{mainTitle:"Vetssenger Overview",mainDescription:`
        Vetssenger is Vetcations inquiry-based messaging tool designed to help you maintain continuous care and build healthy and lasting relationships with your clients.
      `,sections:[{id:"",title:"Ask questions after your appointment",blocks:[{type:"bulletList",items:[{heading:"Asking Questions",lines:["After your appointment, you can use Vetssenger to ask follow-up questions about your pet's care.","Simply open the Vetssenger tab and select the conversation with your veterinarian to send a message.","Once the inquiry is resolved, your vets will close the conversation."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1615.webp?alt=media&token=808eb96e-b65b-48bc-9a04-a501bb04d35a","https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1616.webp?alt=media&token=8e0a5619-a268-491a-8cd0-fae9edb1b1a8"]},{type:"bulletList",items:[{heading:"Submit new inquiries",lines:["You can freely ask questions within the time where set by your veterinarian. Typically, this period is 72 hours after your appointment.","After that, you can still ask questions, but they may incur additional charges as per your veterinarian's policies."]}]},{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1617.webp?alt=media&token=e663e7ab-1b62-448f-b981-d1435ec64a80"]}]}]},vetcationCommunity:{mainTitle:"Community Q&A",mainDescription:"Vetcations Community Q&A is a place where pet owners can learn from real veterinarians who share general educational guidance about common health topics. You can ask questions about your pet, browse answers from licensed professionals, and learn how vets think through symptoms and care considerations. The information shared here is educational only, but it helps you understand what might be going on, what signs to watch for, and when a situation may need more urgent attention. Many pet owners also discover veterinarians they trust and later choose to book appointments with them through the platform.",sections:[{id:"generaladvice",title:"General advice and understanding urgency",blocks:[{type:"framedImage",imageSrcs:["https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1633.webp?alt=media&token=b9d7d904-1f54-44ed-a277-dbcd6f8afe35"]},{type:"qa",question:"What is general advice?",answer:"General advice means that veterinarians share helpful, educational information that can guide you in understanding your pets symptoms or behavior. Instead of diagnosing or giving specific treatment instructions, vets explain what certain signs may indicate, what factors might be important to monitor, and what typical next steps many pet owners consider in similar situations. It is a way for you to learn from professionals, feel more confident, and better understand your pets health."},{type:"qa",question:"What does it mean when a vet comments about urgency?",answer:"When veterinarians comment on urgency, they are helping you understand whether a situation may require prompt in-person care, might be suitable for a scheduled visit, or could be monitored at home with guidance. This is sometimes called teletriage. It does not replace a hands-on exam or diagnosis, but it gives you a clearer sense of how quickly you may need to act. Many pet owners use this educational insight to decide whether to visit their regular vet, seek emergency care, or monitor for changes."}]}]}},compliance:{}},sharedKeys=["Bill1399","VCPR","PrescriptionLimits","PrivacyConfidentiality","RacehorseCHRBRestrictions","RecordKeepingDocumentation","MiscellaneousClarifications"];sharedKeys.forEach(a=>{contentData.corporations[a]=contentData.home[a],contentData.clinics[a]=contentData.home[a],contentData.compliance[a]=contentData.home[a]});const CustomContributorListBlock=({block:a})=>{const e={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",padding:"1rem 0"},o={display:"flex",padding:"1rem",border:"1px solid #444",borderRadius:"8px",backgroundColor:"#1c1c1c",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},c={width:"60px",height:"60px",borderRadius:"50%",objectFit:"cover",marginRight:"1rem",border:"2px solid #1cd0b0"},et={flex:1},tt={margin:0,fontSize:"1.2rem",fontWeight:"bold",color:"#fff"},nt={margin:"0.25rem 0 0 0",fontSize:"1rem",color:"#aaa"},rt={margin:"0.5rem 0 0 0",fontSize:"0.9rem",color:"#ccc"};return jsxRuntimeExports.jsx("div",{style:e,children:a.contributors.map((mt,gt)=>jsxRuntimeExports.jsxs("div",{style:o,children:[mt.image&&jsxRuntimeExports.jsx("img",{src:mt.image,alt:mt.name,style:c}),jsxRuntimeExports.jsxs("div",{style:et,children:[jsxRuntimeExports.jsx("h3",{style:tt,children:mt.name}),jsxRuntimeExports.jsx("h4",{style:nt,children:mt.title}),jsxRuntimeExports.jsx("p",{style:rt,children:mt.description})]})]},gt))})},darkMapStyle=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]}],containerStyle={width:"100%",height:"400px",borderRadius:"12px",position:"relative"},MapWrapper=pt.div`
  position: relative;

  .clinic-label {
    font-weight: 500;
    font-size: 12px;
    color: #fff;
    transform: translateY(-28px);
  }

  .search-area-btn {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 5;
    background: #4d9fec;
    color: white;
    border: 0;
    border-radius: 999px;
    padding: 8px 14px;
    font-size: 14px;
    cursor: pointer;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
    white-space: nowrap;
  }
  .search-area-btn:disabled {
    opacity: 0.6;
    cursor: default;
  }

  p.helper {
    color: #aaa;
    font-size: 12px;
    text-align: center;
    margin-top: 8px;
  }
`,IWContent=pt.div`
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 4px;
  strong {
    font-size: 14px;
    color: #111;
  }
  small {
    font-size: 12px;
    color: #666;
  }
  &:hover {
    background: #f9f9f9;
    border-radius: 4px;
  }
`;function radiusFromBounds(a){if(!a)return null;const e=a.getNorthEast(),o=a.getSouthWest(),c=6371e3,et=xt=>xt*Math.PI/180,tt=et(e.lat()-o.lat()),nt=et(e.lng()-o.lng()),rt=et(o.lat()),mt=et(e.lat()),gt=Math.sin(tt/2)**2+Math.cos(rt)*Math.cos(mt)*Math.sin(nt/2)**2,yt=2*Math.atan2(Math.sqrt(gt),Math.sqrt(1-gt));return c*yt/2}const MAX_RADIUS_M=5e3,InteractiveMapBlock=reactExports.memo(function({block:e}){const{isLoaded:o}=useLoadScript({googleMapsApiKey:"AIzaSyDihYR3KTXMrtINHTNzHP9XJRLz1z4BYv8"}),c=reactExports.useRef(null),et=e.center??{lat:34.0195,lng:-118.4912},tt=e.zoom??10,[nt,rt]=reactExports.useState([]),[mt,gt]=reactExports.useState(null),[yt,vt]=reactExports.useState(!1),[xt,bt]=reactExports.useState(!1),[Et,wt]=reactExports.useState(et),[St]=reactExports.useState(tt);reactExports.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(It=>{const Dt={lat:It.coords.latitude,lng:It.coords.longitude};c.current?(c.current.panTo(Dt),c.current.setZoom(12)):wt(Dt)},()=>{},{enableHighAccuracy:!1,timeout:8e3,maximumAge:6e4})},[]);const Tt=It=>{c.current=It},kt=()=>vt(!0),_t=()=>vt(!0),Mt=reactExports.useCallback(async()=>{if(!c.current)return;const It=c.current.getBounds();if(!It)return;const Dt=radiusFromBounds(It)||MAX_RADIUS_M,Ct=Math.min(Dt,MAX_RADIUS_M),At=c.current.getCenter(),Lt=At.lat(),jt=At.lng();bt(!0);try{const Bt=geohashQueryBounds([Lt,jt],Ct),zt=collection(firestore,e.collectionName||"clinics"),Yt=100,en=await Promise.all(Bt.map(([Zt,an])=>getDocs(query(zt,orderBy("geohash"),startAt(Zt),endAt(an),limit(Yt))))),rn=new Map;for(const Zt of en)Zt.forEach(an=>{if(rn.has(an.id))return;const Xt=an.data(),yn=Xt==null?void 0:Xt.location,vn=typeof(yn==null?void 0:yn.latitude)=="number"?yn.latitude:typeof(yn==null?void 0:yn.lat)=="number"?yn.lat:void 0,Nt=typeof(yn==null?void 0:yn.longitude)=="number"?yn.longitude:typeof(yn==null?void 0:yn.lng)=="number"?yn.lng:void 0;if(typeof vn!="number"||typeof Nt!="number")return;const Ot=distanceBetween([Lt,jt],[vn,Nt])*1e3;Ot<=Ct&&rn.set(an.id,{id:an.id,name:Xt.name,position:{lat:vn,lng:Nt},website:Xt.website||Xt.site||void 0,email:Xt.email||void 0,_distM:Ot})});const on=Array.from(rn.values()).sort((Zt,an)=>Zt._distM-an._distM);on.forEach(Zt=>delete Zt._distM),rt(on),vt(!1)}catch(Bt){console.error("Firestore geohash fetch error:",Bt)}finally{bt(!1)}},[e.collectionName]),Pt=reactExports.useCallback(()=>{nt.length===0&&Mt()},[nt.length,Mt]);return o?jsxRuntimeExports.jsxs(MapWrapper,{children:[yt&&jsxRuntimeExports.jsx("button",{className:"search-area-btn",onClick:Mt,disabled:xt,"aria-label":"Search this area",title:"Search this area",children:xt?"Searching":"Search this area"}),jsxRuntimeExports.jsxs(GoogleMap,{mapContainerStyle:containerStyle,center:Et,zoom:St,onLoad:Tt,onDragEnd:kt,onZoomChanged:_t,onIdle:Pt,options:{styles:darkMapStyle,fullscreenControl:!1,mapTypeControl:!1,clickableIcons:!1,streetViewControl:!1},children:[nt.map((It,Dt)=>jsxRuntimeExports.jsx(MarkerF,{position:It.position,onMouseOver:()=>gt(Dt),onClick:()=>It.website&&window.open(It.website,"_blank"),label:{text:It.name,className:"clinic-label",color:"#fff"}},`${It.name}-${Dt}`)),mt!==null&&nt[mt]&&jsxRuntimeExports.jsx(InfoWindowF,{position:nt[mt].position,onCloseClick:()=>gt(null),options:{pixelOffset:new window.google.maps.Size(0,-10),maxWidth:200},children:jsxRuntimeExports.jsxs(IWContent,{onClick:()=>nt[mt].website&&window.open(nt[mt].website,"_blank"),children:[jsxRuntimeExports.jsx("strong",{children:nt[mt].name}),jsxRuntimeExports.jsx("small",{children:nt[mt].website?"Visit site ":nt[mt].email||"No link"})]})})]}),jsxRuntimeExports.jsx("p",{className:"helper",children:"Showing clinics near the visible area (max ~5 km radius)."})]}):jsxRuntimeExports.jsx("p",{style:{color:"#ccc"},children:"Loading map"})}),MissionContentBlock=({block:a})=>jsxRuntimeExports.jsxs("div",{style:{marginBottom:"1.5rem"},children:[jsxRuntimeExports.jsx("p",{style:{fontWeight:"bold",color:"#1cd0b0"},children:a.question}),jsxRuntimeExports.jsx("p",{style:{marginLeft:"1rem",color:"#ccc"},dangerouslySetInnerHTML:{__html:a.answer}}),a.example&&jsxRuntimeExports.jsx("div",{style:{marginLeft:"1rem",fontStyle:"italic",color:"#ccc"},dangerouslySetInnerHTML:{__html:`<strong>Example:</strong> ${a.example}`}}),a.helpText&&jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#111",border:"1px solid #b1dbe3",borderRadius:"6px",padding:"1rem",marginTop:"1rem",marginLeft:"1rem",color:"#ccc"},children:[jsxRuntimeExports.jsx("strong",{style:{color:"#1cd0b0"},children:"How Vetcation Solve this problem:"})," ",a.helpText]})]}),ScrollRegion=pt.div`
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  border: 1px solid #333;
  border-radius: 8px;
  position: relative;
`,Note=pt.p`
  color: #aaa;
  margin-top: 0.5rem;
  line-height: 1.5;
  font-size: 0.95rem;
`,StyledTable=pt.table`
  width: 100%;
  border-collapse: collapse;
  min-width: ${a=>a.$minWidth||"720px"}; /* triggers horizontal scroll */
  table-layout: auto;
  color: #ccc;
  word-break: break-word;
  overflow-wrap: anywhere; /* allow breaking long tokens */
  white-space: normal; /* let text wrap */

  caption {
    text-align: left;
    font-weight: 600;
    color: #fff;
    margin-bottom: 0.5rem;
  }

  thead th {
    position: sticky; /* sticky header on scroll */
    top: 0;
    z-index: 2;
    background: #141414;
    color: #fff;
  }

  th,
  td {
    padding: 0.75rem;
    border-bottom: 1px solid #2a2a2a;
    vertical-align: top;
    white-space: normal; /* make sure cell text wraps */
    overflow-wrap: anywhere; /* break long URLs/words if needed */
  }

  /* Optional: sticky first column if you use row headers */
  tbody th[scope="row"] {
    position: sticky;
    left: 0;
    z-index: 1;
    background: #1c1c1c;
    font-weight: 600;
    color: #fff;
    white-space: normal;
    overflow-wrap: anywhere;
  }
  /* Add this block: link styling */
  a {
    color: #4db6c5; /* your chosen colour */
    text-decoration: underline;
    word-break: break-word; /* also wrap long links */
    overflow-wrap: anywhere;
  }
  a:hover,
  a:focus {
    color: #81d4fa; /* hover/focus colour */
  }
`;function TableBlock({block:a}){const{columns:e=[],rows:o=[],note:c,minWidth:et,rowHeaders:tt=!1,responsive:nt="scroll",stackBreakpoint:rt=640}=a,mt=yt=>typeof yt=="string"?jsxRuntimeExports.jsx("span",{dangerouslySetInnerHTML:{__html:yt}}):jsxRuntimeExports.jsx("span",{children:yt??""}),gt=yt=>({"data-label":yt.title});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScrollRegion,{role:"region","aria-label":"Data table",tabIndex:0,className:a.responsive!=="scroll"?"scroll-stack":void 0,children:jsxRuntimeExports.jsxs(StyledTable,{$minWidth:et,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:e.map(yt=>jsxRuntimeExports.jsx("th",{scope:"col",children:yt.title},yt.key))})}),jsxRuntimeExports.jsx("tbody",{children:o.map((yt,vt)=>jsxRuntimeExports.jsx("tr",{children:e.map((xt,bt)=>{const Et=mt(yt[xt.key]);return bt===0&&tt?jsxRuntimeExports.jsx("th",{scope:"row",children:Et},xt.key):jsxRuntimeExports.jsx("td",{...gt(xt),children:Et},xt.key)})},vt))})]})}),c?jsxRuntimeExports.jsx(Note,{dangerouslySetInnerHTML:{__html:c}}):null,nt!=="scroll"&&jsxRuntimeExports.jsx("style",{children:`
@media (max-width: ${rt}px) {
 /* stop horizontal scrolling in stacked mode */
 .scroll-stack {
   overflow-x: visible;     /* no sideways scroll */
 }
  /* hide table header, present cells as blocks with inline labels */
  .scroll-stack table thead,
  .scroll-stack table tfoot { display: none; }

  .scroll-stack table,
  .scroll-stack tbody,
  .scroll-stack tr,
  .scroll-stack td,
  .scroll-stack th[scope="row"] {
    display: block;
    width: 100%;
    min-width: 0 !important; /* override the desktop min-width */
  }

  .scroll-stack tr {
    border: 1px solid #2a2a2a;
    border-radius: 8px;
    padding: 0.5rem 0.75rem;
    margin: 0.75rem 0;
    background: #141414;
  }

  .scroll-stack td,
  .scroll-stack th[scope="row"] {
    border: 0;
    padding: 0.4rem 0;
    white-space: normal;       /* wrap lines on mobile cards */
    overflow-wrap: anywhere;   /* break long tokens/URLs */
  }

  .scroll-stack td::before,
  .scroll-stack th[scope="row"]::before {
    content: attr(data-label);
    display: block;
    font-weight: 600;
    color: #9aa0a6;
    margin-bottom: 0.125rem;
  }
}
        `})]})}function DocsContent(){var nt;const{topNavId:a,docId:e}=useParams(),o=(nt=contentData[a])==null?void 0:nt[e],{registerSections:c,setActiveSection:et}=useOutletContext(),tt=reactExports.useRef({});return reactExports.useEffect(()=>{o&&c(o.sections);const rt=new IntersectionObserver(mt=>{mt.forEach(gt=>{gt.isIntersecting&&et(gt.target.id)})},{root:null,rootMargin:"0% 0% -50% 0%",threshold:.1});return o==null||o.sections.forEach(mt=>{const gt=tt.current[mt.id];gt&&rt.observe(gt)}),()=>{rt.disconnect(),c([])}},[o,c,et]),o?jsxRuntimeExports.jsxs("div",{style:{padding:"1rem"},children:[jsxRuntimeExports.jsx("h1",{children:o.mainTitle}),o.mainDescription&&jsxRuntimeExports.jsx("p",{style:{color:"#ccc",lineHeight:"1.6",marginTop:"1rem"},dangerouslySetInnerHTML:{__html:o.mainDescription}}),o.sections.map(rt=>jsxRuntimeExports.jsxs("div",{id:rt.id,ref:mt=>tt.current[rt.id]=mt,style:{marginBottom:"2rem"},children:[jsxRuntimeExports.jsx("h2",{style:{marginTop:"2rem"},children:rt.title}),rt.blocks.map((mt,gt)=>{const yt=`${rt.id}-block-${gt}`;switch(mt.type){case"table":return jsxRuntimeExports.jsx(TableBlock,{block:mt},yt);case"bulletList":return jsxRuntimeExports.jsx(BulletListBlock,{block:mt},yt);case"trendPoints":return jsxRuntimeExports.jsx(TrendPointsBlock,{block:mt},yt);case"qa":return jsxRuntimeExports.jsx(QAContentBlock,{block:mt},yt);case"root":return jsxRuntimeExports.jsx(MissionContentBlock,{block:mt},yt);case"paragraph":return jsxRuntimeExports.jsx(ParagraphBlock,{block:mt},yt);case"framedImage":return jsxRuntimeExports.jsx(FramedImageBlock,{block:mt},yt);case"map":return jsxRuntimeExports.jsx(InteractiveMapBlock,{block:mt},yt);case"customContributorList":return jsxRuntimeExports.jsx(CustomContributorListBlock,{block:mt},yt);default:return jsxRuntimeExports.jsx("p",{style:{color:"#ccc"},children:JSON.stringify(mt)},yt)}})]},rt.id))]}):jsxRuntimeExports.jsx("p",{children:"Document not found."})}function SupportPage(){const[a,e]=reactExports.useState({name:"",email:"",category:"General",subject:"",message:""}),[o,c]=reactExports.useState(!1),[et,tt]=reactExports.useState(!1),nt=reactExports.useMemo(()=>{const gt="gcfchen@vetcation.com",yt=encodeURIComponent(`Vetcation Support: ${a.subject||a.category}`),vt=[`Name: ${a.name}`,`Email: ${a.email}`,`Category: ${a.category}`,"","Issue / Question:",a.message],xt=encodeURIComponent(vt.join(`
`));return`mailto:${gt}?subject=${yt}&body=${xt}`},[a]);function rt(gt){const{name:yt,value:vt}=gt.target;e(xt=>({...xt,[yt]:vt}))}function mt(gt){if(gt.preventDefault(),!gt.currentTarget.checkValidity()){gt.stopPropagation(),c(!0);return}window.location.href=nt,tt(!0)}return jsxRuntimeExports.jsx("div",{style:{background:"#0b0b0b",color:"#fff",minHeight:"100vh"},children:jsxRuntimeExports.jsxs(Container$1,{className:"py-5",children:[jsxRuntimeExports.jsx(Row,{className:"mb-4",children:jsxRuntimeExports.jsxs(Col,{md:8,lg:7,children:[jsxRuntimeExports.jsx("h1",{className:"fw-bold",style:{fontSize:"2rem"},children:"Support"}),jsxRuntimeExports.jsx("p",{className:"text-light",style:{opacity:.9},children:"Need help with Vetcation? Were here for you. Use the contact form or email us and well reply as soon as possible."}),jsxRuntimeExports.jsxs("div",{className:"d-flex align-items-center gap-3 mt-2",children:[jsxRuntimeExports.jsxs("span",{className:"d-inline-flex align-items-center",children:[jsxRuntimeExports.jsx(FaClock,{className:"me-2"}),"Support hours: MonFri, 9am6pm PT"]}),jsxRuntimeExports.jsx("span",{className:"d-none d-md-inline",children:""}),jsxRuntimeExports.jsx("span",{className:"d-inline-flex align-items-center",children:"Typical response: within 1 business day"})]})]})}),jsxRuntimeExports.jsxs(Row,{className:"g-4",children:[jsxRuntimeExports.jsx(Col,{md:7,children:jsxRuntimeExports.jsx(Card$7,{bg:"dark",text:"light",className:"shadow-sm border-0",children:jsxRuntimeExports.jsxs(Card$7.Body,{children:[jsxRuntimeExports.jsx(Card$7.Title,{as:"h2",className:"h5 mb-3",children:"Contact us"}),jsxRuntimeExports.jsxs(Form$1,{noValidate:!0,validated:o,onSubmit:mt,children:[jsxRuntimeExports.jsxs(Row,{className:"g-3",children:[jsxRuntimeExports.jsx(Col,{sm:6,children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"supportName",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Name"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",required:!0,name:"name",value:a.name,onChange:rt,placeholder:"Your name"}),jsxRuntimeExports.jsx(Form$1.Control.Feedback,{type:"invalid",children:"Please enter your name."})]})}),jsxRuntimeExports.jsx(Col,{sm:6,children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"supportEmail",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Email"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"email",required:!0,name:"email",value:a.email,onChange:rt,placeholder:"you@example.com"}),jsxRuntimeExports.jsx(Form$1.Control.Feedback,{type:"invalid",children:"A valid email helps us reply."})]})})]}),jsxRuntimeExports.jsxs(Row,{className:"g-3 mt-1",children:[jsxRuntimeExports.jsx(Col,{sm:6,children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"supportCategory",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Category"}),jsxRuntimeExports.jsxs(Form$1.Select,{name:"category",value:a.category,onChange:rt,children:[jsxRuntimeExports.jsx("option",{children:"General"}),jsxRuntimeExports.jsx("option",{children:"Account & Billing"}),jsxRuntimeExports.jsx("option",{children:"Technical Issue"}),jsxRuntimeExports.jsx("option",{children:"Report a Bug"}),jsxRuntimeExports.jsx("option",{children:"Clinic Partner"}),jsxRuntimeExports.jsx("option",{children:"Feedback"})]})]})}),jsxRuntimeExports.jsx(Col,{sm:6,children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"supportSubject",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Subject"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",required:!0,name:"subject",value:a.subject,onChange:rt,placeholder:"Brief summary"}),jsxRuntimeExports.jsx(Form$1.Control.Feedback,{type:"invalid",children:"Please add a short subject."})]})})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"supportMessage",className:"mt-3",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Message"}),jsxRuntimeExports.jsx(Form$1.Control,{as:"textarea",rows:6,required:!0,name:"message",value:a.message,onChange:rt,placeholder:"Tell us whats going on. Include your app version and device if relevant."}),jsxRuntimeExports.jsx(Form$1.Control.Feedback,{type:"invalid",children:"Please include a short description."})]}),jsxRuntimeExports.jsxs("div",{className:"d-flex gap-2 mt-4",children:[jsxRuntimeExports.jsx(Button$1,{type:"submit",variant:"primary",children:"Send email"}),jsxRuntimeExports.jsx(Button$1,{as:"a",href:nt,variant:"outline-light",children:"Open in email app"})]}),et&&jsxRuntimeExports.jsxs(Alert$1,{variant:"success",className:"mt-3",children:["If your email client didnt open, please email"," ",jsxRuntimeExports.jsx("a",{href:"mailto:gcfchen@vetcation.com",className:"link-light",children:"gcfchen@vetcation.com"})," ","directly."]})]})]})})}),jsxRuntimeExports.jsxs(Col,{md:5,children:[jsxRuntimeExports.jsx(Card$7,{bg:"dark",text:"light",className:"shadow-sm border-0 mb-4",children:jsxRuntimeExports.jsxs(Card$7.Body,{children:[jsxRuntimeExports.jsx(Card$7.Title,{as:"h2",className:"h6 mb-3",children:"Helpful links"}),jsxRuntimeExports.jsxs(ListGroup$1,{variant:"flush",children:[jsxRuntimeExports.jsxs(ListGroup$1.Item,{className:"bg-dark text-light",children:[jsxRuntimeExports.jsx(FaBookOpen,{className:"me-2"}),jsxRuntimeExports.jsx("a",{href:"/telemedicine-info/home/introToVetcation",className:"link-light",children:"About telemedicine in Vetcation"})]}),jsxRuntimeExports.jsxs(ListGroup$1.Item,{className:"bg-dark text-light",children:[jsxRuntimeExports.jsx(FaShieldAlt,{className:"me-2"}),jsxRuntimeExports.jsx("a",{href:"/privacy-policy",className:"link-light",children:"Privacy Policy & Data Requests"})]}),jsxRuntimeExports.jsxs(ListGroup$1.Item,{className:"bg-dark text-light",children:[jsxRuntimeExports.jsx(FaBug,{className:"me-2"}),jsxRuntimeExports.jsx("a",{href:"#",className:"link-light",onClick:gt=>gt.preventDefault(),children:"Known Issues & Updates (coming soon)"})]})]})]})}),jsxRuntimeExports.jsx(Card$7,{bg:"dark",text:"light",className:"shadow-sm border-0",children:jsxRuntimeExports.jsxs(Card$7.Body,{children:[jsxRuntimeExports.jsx(Card$7.Title,{as:"h2",className:"h6 mb-3",children:"Emergency care"}),jsxRuntimeExports.jsx("p",{className:"mb-2",children:"If your pet may be in distress, please contact your nearest emergency veterinary hospital immediately. Vetcation support cannot provide medical advice or emergency triage."}),jsxRuntimeExports.jsxs("div",{className:"d-flex align-items-center gap-2",children:[jsxRuntimeExports.jsx(FaPhoneAlt,{}),jsxRuntimeExports.jsx("span",{children:"Call your local emergency vet"})]})]})})]})]}),jsxRuntimeExports.jsx(Row,{className:"mt-5",children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs("div",{className:"d-flex flex-wrap gap-3 align-items-center small text-secondary",children:[jsxRuntimeExports.jsxs("div",{children:["Last updated: ",new Date().toLocaleDateString()]}),jsxRuntimeExports.jsx("span",{className:"d-none d-md-inline",children:""}),jsxRuntimeExports.jsxs("a",{className:"link-light",href:"mailto:gcfchen@vetcation.com",children:[jsxRuntimeExports.jsx(FaEnvelope,{className:"me-2"}),"gcfchen@vetcation.com"]})]})})})]})})}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(a,e){if(a===e)return!0;if(a&&e&&typeof a=="object"&&typeof e=="object"){if(a.constructor!==e.constructor)return!1;var o,c,et;if(Array.isArray(a)){if(o=a.length,o!=e.length)return!1;for(c=o;c--!==0;)if(!equal(a[c],e[c]))return!1;return!0}var tt;if(hasMap&&a instanceof Map&&e instanceof Map){if(a.size!==e.size)return!1;for(tt=a.entries();!(c=tt.next()).done;)if(!e.has(c.value[0]))return!1;for(tt=a.entries();!(c=tt.next()).done;)if(!equal(c.value[1],e.get(c.value[0])))return!1;return!0}if(hasSet&&a instanceof Set&&e instanceof Set){if(a.size!==e.size)return!1;for(tt=a.entries();!(c=tt.next()).done;)if(!e.has(c.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(e)){if(o=a.length,o!=e.length)return!1;for(c=o;c--!==0;)if(a[c]!==e[c])return!1;return!0}if(a.constructor===RegExp)return a.source===e.source&&a.flags===e.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof e.valueOf=="function")return a.valueOf()===e.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof e.toString=="function")return a.toString()===e.toString();if(et=Object.keys(a),o=et.length,o!==Object.keys(e).length)return!1;for(c=o;c--!==0;)if(!Object.prototype.hasOwnProperty.call(e,et[c]))return!1;if(hasElementType&&a instanceof Element)return!1;for(c=o;c--!==0;)if(!((et[c]==="_owner"||et[c]==="__v"||et[c]==="__o")&&a.$$typeof)&&!equal(a[et[c]],e[et[c]]))return!1;return!0}return a!==a&&e!==e}var reactFastCompare=function(e,o){try{return equal(e,o)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}};const fastCompare=getDefaultExportFromCjs(reactFastCompare);var TAG_NAMES=(a=>(a.BASE="base",a.BODY="body",a.HEAD="head",a.HTML="html",a.LINK="link",a.META="meta",a.NOSCRIPT="noscript",a.SCRIPT="script",a.STYLE="style",a.TITLE="title",a.FRAGMENT="Symbol(react.fragment)",a))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce((a,[e,o])=>(a[o]=e,a),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=(a,e)=>{for(let o=a.length-1;o>=0;o-=1){const c=a[o];if(Object.prototype.hasOwnProperty.call(c,e))return c[e]}return null},getTitleFromPropsList=a=>{let e=getInnermostProperty(a,"title");const o=getInnermostProperty(a,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),o&&e)return o.replace(/%s/g,()=>e);const c=getInnermostProperty(a,HELMET_PROPS.DEFAULT_TITLE);return e||c||void 0},getOnChangeClientState=a=>getInnermostProperty(a,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=(a,e)=>e.filter(o=>typeof o[a]<"u").map(o=>o[a]).reduce((o,c)=>({...o,...c}),{}),getBaseTagFromPropsList=(a,e)=>e.filter(o=>typeof o.base<"u").map(o=>o.base).reverse().reduce((o,c)=>{if(!o.length){const et=Object.keys(c);for(let tt=0;tt<et.length;tt+=1){const rt=et[tt].toLowerCase();if(a.indexOf(rt)!==-1&&c[rt])return o.concat(c)}}return o},[]),warn=a=>console&&typeof console.warn=="function"&&console.warn(a),getTagsFromPropsList=(a,e,o)=>{const c={};return o.filter(et=>Array.isArray(et[a])?!0:(typeof et[a]<"u"&&warn(`Helmet: ${a} should be of type "Array". Instead found type "${typeof et[a]}"`),!1)).map(et=>et[a]).reverse().reduce((et,tt)=>{const nt={};tt.filter(mt=>{let gt;const yt=Object.keys(mt);for(let xt=0;xt<yt.length;xt+=1){const bt=yt[xt],Et=bt.toLowerCase();e.indexOf(Et)!==-1&&!(gt==="rel"&&mt[gt].toLowerCase()==="canonical")&&!(Et==="rel"&&mt[Et].toLowerCase()==="stylesheet")&&(gt=Et),e.indexOf(bt)!==-1&&(bt==="innerHTML"||bt==="cssText"||bt==="itemprop")&&(gt=bt)}if(!gt||!mt[gt])return!1;const vt=mt[gt].toLowerCase();return c[gt]||(c[gt]={}),nt[gt]||(nt[gt]={}),c[gt][vt]?!1:(nt[gt][vt]=!0,!0)}).reverse().forEach(mt=>et.push(mt));const rt=Object.keys(nt);for(let mt=0;mt<rt.length;mt+=1){const gt=rt[mt],yt={...c[gt],...nt[gt]};c[gt]=yt}return et},[]).reverse()},getAnyTrueFromPropsList=(a,e)=>{if(Array.isArray(a)&&a.length){for(let o=0;o<a.length;o+=1)if(a[o][e])return!0}return!1},reducePropsToState=a=>({baseTag:getBaseTagFromPropsList(["href"],a),bodyAttributes:getAttributesFromPropsList("bodyAttributes",a),defer:getInnermostProperty(a,HELMET_PROPS.DEFER),encode:getInnermostProperty(a,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",a),linkTags:getTagsFromPropsList("link",["rel","href"],a),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],a),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],a),onChangeClientState:getOnChangeClientState(a),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],a),styleTags:getTagsFromPropsList("style",["cssText"],a),title:getTitleFromPropsList(a),titleAttributes:getAttributesFromPropsList("titleAttributes",a),prioritizeSeoTags:getAnyTrueFromPropsList(a,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=a=>Array.isArray(a)?a.join(""):a,checkIfPropsMatch=(a,e)=>{const o=Object.keys(a);for(let c=0;c<o.length;c+=1)if(e[o[c]]&&e[o[c]].includes(a[o[c]]))return!0;return!1},prioritizer=(a,e)=>Array.isArray(a)?a.reduce((o,c)=>(checkIfPropsMatch(c,e)?o.priority.push(c):o.default.push(c),o),{priority:[],default:[]}):{default:a,priority:[]},without=(a,e)=>({...a,[e]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(a,e=!0)=>e===!1?String(a):String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=a=>Object.keys(a).reduce((e,o)=>{const c=typeof a[o]<"u"?`${o}="${a[o]}"`:`${o}`;return e?`${e} ${c}`:c},""),generateTitleAsString=(a,e,o,c)=>{const et=generateElementAttributesAsString(o),tt=flattenArray(e);return et?`<${a} ${HELMET_ATTRIBUTE}="true" ${et}>${encodeSpecialCharacters(tt,c)}</${a}>`:`<${a} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(tt,c)}</${a}>`},generateTagsAsString=(a,e,o=!0)=>e.reduce((c,et)=>{const tt=et,nt=Object.keys(tt).filter(gt=>!(gt==="innerHTML"||gt==="cssText")).reduce((gt,yt)=>{const vt=typeof tt[yt]>"u"?yt:`${yt}="${encodeSpecialCharacters(tt[yt],o)}"`;return gt?`${gt} ${vt}`:vt},""),rt=tt.innerHTML||tt.cssText||"",mt=SELF_CLOSING_TAGS.indexOf(a)===-1;return`${c}<${a} ${HELMET_ATTRIBUTE}="true" ${nt}${mt?"/>":`>${rt}</${a}>`}`},""),convertElementAttributesToReactProps=(a,e={})=>Object.keys(a).reduce((o,c)=>{const et=REACT_TAG_MAP[c];return o[et||c]=a[c],o},e),generateTitleAsReactComponent=(a,e,o)=>{const c={key:e,[HELMET_ATTRIBUTE]:!0},et=convertElementAttributesToReactProps(o,c);return[React.createElement("title",et,e)]},generateTagsAsReactComponent=(a,e)=>e.map((o,c)=>{const et={key:c,[HELMET_ATTRIBUTE]:!0};return Object.keys(o).forEach(tt=>{const rt=REACT_TAG_MAP[tt]||tt;if(rt==="innerHTML"||rt==="cssText"){const mt=o.innerHTML||o.cssText;et.dangerouslySetInnerHTML={__html:mt}}else et[rt]=o[tt]}),React.createElement(a,et)}),getMethodsForTag=(a,e,o=!0)=>{switch(a){case"title":return{toComponent:()=>generateTitleAsReactComponent(a,e.title,e.titleAttributes),toString:()=>generateTitleAsString(a,e.title,e.titleAttributes,o)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(e),toString:()=>generateElementAttributesAsString(e)};default:return{toComponent:()=>generateTagsAsReactComponent(a,e),toString:()=>generateTagsAsString(a,e,o)}}},getPriorityMethods=({metaTags:a,linkTags:e,scriptTags:o,encode:c})=>{const et=prioritizer(a,SEO_PRIORITY_TAGS.meta),tt=prioritizer(e,SEO_PRIORITY_TAGS.link),nt=prioritizer(o,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",et.priority),...generateTagsAsReactComponent("link",tt.priority),...generateTagsAsReactComponent("script",nt.priority)],toString:()=>`${getMethodsForTag("meta",et.priority,c)} ${getMethodsForTag("link",tt.priority,c)} ${getMethodsForTag("script",nt.priority,c)}`},metaTags:et.default,linkTags:tt.default,scriptTags:nt.default}},mapStateOnServer=a=>{const{baseTag:e,bodyAttributes:o,encode:c=!0,htmlAttributes:et,noscriptTags:tt,styleTags:nt,title:rt="",titleAttributes:mt,prioritizeSeoTags:gt}=a;let{linkTags:yt,metaTags:vt,scriptTags:xt}=a,bt={toComponent:()=>{},toString:()=>""};return gt&&({priorityMethods:bt,linkTags:yt,metaTags:vt,scriptTags:xt}=getPriorityMethods(a)),{priority:bt,base:getMethodsForTag("base",e,c),bodyAttributes:getMethodsForTag("bodyAttributes",o,c),htmlAttributes:getMethodsForTag("htmlAttributes",et,c),link:getMethodsForTag("link",yt,c),meta:getMethodsForTag("meta",vt,c),noscript:getMethodsForTag("noscript",tt,c),script:getMethodsForTag("script",xt,c),style:getMethodsForTag("style",nt,c),title:getMethodsForTag("title",{title:rt,titleAttributes:mt},c)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor(a,e){Tr(this,"instances",[]);Tr(this,"canUseDOM",isDocument);Tr(this,"context");Tr(this,"value",{setHelmet:a=>{this.context.helmet=a},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:a=>{(this.canUseDOM?instances:this.instances).push(a)},remove:a=>{const e=(this.canUseDOM?instances:this.instances).indexOf(a);(this.canUseDOM?instances:this.instances).splice(e,1)}}});this.context=a,this.canUseDOM=e||!1,e||(a.helmet=server_default({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=React.createContext(defaultValue),_a,HelmetProvider=(_a=class extends reactExports.Component{constructor(o){super(o);Tr(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},_a.canUseDOM)}render(){return React.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},Tr(_a,"canUseDOM",isDocument),_a),updateTags=(a,e)=>{const o=document.head||document.querySelector("head"),c=o.querySelectorAll(`${a}[${HELMET_ATTRIBUTE}]`),et=[].slice.call(c),tt=[];let nt;return e&&e.length&&e.forEach(rt=>{const mt=document.createElement(a);for(const gt in rt)if(Object.prototype.hasOwnProperty.call(rt,gt))if(gt==="innerHTML")mt.innerHTML=rt.innerHTML;else if(gt==="cssText")mt.styleSheet?mt.styleSheet.cssText=rt.cssText:mt.appendChild(document.createTextNode(rt.cssText));else{const yt=gt,vt=typeof rt[yt]>"u"?"":rt[yt];mt.setAttribute(gt,vt)}mt.setAttribute(HELMET_ATTRIBUTE,"true"),et.some((gt,yt)=>(nt=yt,mt.isEqualNode(gt)))?et.splice(nt,1):tt.push(mt)}),et.forEach(rt=>{var mt;return(mt=rt.parentNode)==null?void 0:mt.removeChild(rt)}),tt.forEach(rt=>o.appendChild(rt)),{oldTags:et,newTags:tt}},updateAttributes=(a,e)=>{const o=document.getElementsByTagName(a)[0];if(!o)return;const c=o.getAttribute(HELMET_ATTRIBUTE),et=c?c.split(","):[],tt=[...et],nt=Object.keys(e);for(const rt of nt){const mt=e[rt]||"";o.getAttribute(rt)!==mt&&o.setAttribute(rt,mt),et.indexOf(rt)===-1&&et.push(rt);const gt=tt.indexOf(rt);gt!==-1&&tt.splice(gt,1)}for(let rt=tt.length-1;rt>=0;rt-=1)o.removeAttribute(tt[rt]);et.length===tt.length?o.removeAttribute(HELMET_ATTRIBUTE):o.getAttribute(HELMET_ATTRIBUTE)!==nt.join(",")&&o.setAttribute(HELMET_ATTRIBUTE,nt.join(","))},updateTitle=(a,e)=>{typeof a<"u"&&document.title!==a&&(document.title=flattenArray(a)),updateAttributes("title",e)},commitTagChanges=(a,e)=>{const{baseTag:o,bodyAttributes:c,htmlAttributes:et,linkTags:tt,metaTags:nt,noscriptTags:rt,onChangeClientState:mt,scriptTags:gt,styleTags:yt,title:vt,titleAttributes:xt}=a;updateAttributes("body",c),updateAttributes("html",et),updateTitle(vt,xt);const bt={baseTag:updateTags("base",o),linkTags:updateTags("link",tt),metaTags:updateTags("meta",nt),noscriptTags:updateTags("noscript",rt),scriptTags:updateTags("script",gt),styleTags:updateTags("style",yt)},Et={},wt={};Object.keys(bt).forEach(St=>{const{newTags:Tt,oldTags:kt}=bt[St];Tt.length&&(Et[St]=Tt),kt.length&&(wt[St]=bt[St].oldTags)}),e&&e(),mt(a,Et,wt)},_helmetCallback=null,handleStateChangeOnClient=a=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),a.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges(a,()=>{_helmetCallback=null})}):(commitTagChanges(a),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{constructor(){super(...arguments);Tr(this,"rendered",!1)}shouldComponentUpdate(e){return!shallowEqual(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:o}=this.props.context;let c=null;const et=reducePropsToState(e.get().map(tt=>{const nt={...tt.props};return delete nt.context,nt}));HelmetProvider.canUseDOM?client_default(et):server_default&&(c=server_default(et)),o(c)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Gs,Helmet=(Gs=class extends reactExports.Component{shouldComponentUpdate(a){return!fastCompare(without(this.props,"helmetData"),without(a,"helmetData"))}mapNestedChildrenToProps(a,e){if(!e)return null;switch(a.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${a.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(a,e,o,c){return{...e,[a.type]:[...e[a.type]||[],{...o,...this.mapNestedChildrenToProps(a,c)}]}}mapObjectTypeChildren(a,e,o,c){switch(a.type){case"title":return{...e,[a.type]:c,titleAttributes:{...o}};case"body":return{...e,bodyAttributes:{...o}};case"html":return{...e,htmlAttributes:{...o}};default:return{...e,[a.type]:{...o}}}}mapArrayTypeChildrenToProps(a,e){let o={...e};return Object.keys(a).forEach(c=>{o={...o,[c]:a[c]}}),o}warnOnInvalidChildren(a,e){return invariant$3(VALID_TAG_NAMES.some(o=>a.type===o),typeof a.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${a.type}> elements. Refer to our API for more information.`),invariant$3(!e||typeof e=="string"||Array.isArray(e)&&!e.some(o=>typeof o!="string"),`Helmet expects a string as a child of <${a.type}>. Did you forget to wrap your children in braces? ( <${a.type}>{\`\`}</${a.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(a,e){let o={};return React.Children.forEach(a,c=>{if(!c||!c.props)return;const{children:et,...tt}=c.props,nt=Object.keys(tt).reduce((mt,gt)=>(mt[HTML_TAG_MAP[gt]||gt]=tt[gt],mt),{});let{type:rt}=c;switch(typeof rt=="symbol"?rt=rt.toString():this.warnOnInvalidChildren(c,et),rt){case"Symbol(react.fragment)":e=this.mapChildrenToProps(et,e);break;case"link":case"meta":case"noscript":case"script":case"style":o=this.flattenArrayTypeChildren(c,o,nt,et);break;default:e=this.mapObjectTypeChildren(c,e,nt,et);break}}),this.mapArrayTypeChildrenToProps(o,e)}render(){const{children:a,...e}=this.props;let o={...e},{helmetData:c}=e;if(a&&(o=this.mapChildrenToProps(a,o)),c&&!(c instanceof HelmetData)){const et=c;c=new HelmetData(et.context,!0),delete o.helmetData}return c?React.createElement(HelmetDispatcher,{...o,context:c.value}):React.createElement(Context.Consumer,null,et=>React.createElement(HelmetDispatcher,{...o,context:et}))}},Tr(Gs,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Gs);function ok$1(){}function unreachable(){}function parse$3(a){const e=[],o=String(a||"");let c=o.indexOf(","),et=0,tt=!1;for(;!tt;){c===-1&&(c=o.length,tt=!0);const nt=o.slice(et,c).trim();(nt||!tt)&&e.push(nt),et=c+1,c=o.indexOf(",",et)}return e}function stringify$1(a,e){const o={};return(a[a.length-1]===""?[...a,""]:a).join((o.padRight?" ":"")+","+(o.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$5={};function name(a,e){return(emptyOptions$5.jsx?nameReJsx:nameRe).test(a)}const re=/[ \t\n\f\r]/g;function whitespace(a){return typeof a=="object"?a.type==="text"?empty$1(a.value):!1:empty$1(a)}function empty$1(a){return a.replace(re,"")===""}class Schema{constructor(e,o,c){this.normal=o,this.property=e,c&&(this.space=c)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(a,e){const o={},c={};for(const et of a)Object.assign(o,et.property),Object.assign(c,et.normal);return new Schema(o,c,e)}function normalize$1(a){return a.toLowerCase()}let Info$1=class{constructor(e,o){this.attribute=o,this.property=e}};Info$1.prototype.attribute="";Info$1.prototype.booleanish=!1;Info$1.prototype.boolean=!1;Info$1.prototype.commaOrSpaceSeparated=!1;Info$1.prototype.commaSeparated=!1;Info$1.prototype.defined=!1;Info$1.prototype.mustUseProperty=!1;Info$1.prototype.number=!1;Info$1.prototype.overloadedBoolean=!1;Info$1.prototype.property="";Info$1.prototype.spaceSeparated=!1;Info$1.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info$1{constructor(e,o,c,et){let tt=-1;if(super(e,o),mark(this,"space",et),typeof c=="number")for(;++tt<checks.length;){const nt=checks[tt];mark(this,checks[tt],(c&types[nt])===types[nt])}}}DefinedInfo.prototype.defined=!0;function mark(a,e,o){o&&(a[e]=o)}function create(a){const e={},o={};for(const[c,et]of Object.entries(a.properties)){const tt=new DefinedInfo(c,a.transform(a.attributes||{},c),et,a.space);a.mustUseProperty&&a.mustUseProperty.includes(c)&&(tt.mustUseProperty=!0),e[c]=tt,o[normalize$1(c)]=c,o[normalize$1(tt.attribute)]=c}return new Schema(e,o,a.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(a,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function caseSensitiveTransform(a,e){return e in a?a[e]:e}function caseInsensitiveTransform(a,e){return caseSensitiveTransform(a,e.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(a,e){return"xlink:"+e.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(a,e){return"xml:"+e.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(a,e){const o=normalize$1(e);let c=e,et=Info$1;if(o in a.normal)return a.property[a.normal[o]];if(o.length>4&&o.slice(0,4)==="data"&&valid.test(e)){if(e.charAt(4)==="-"){const tt=e.slice(5).replace(dash,camelcase);c="data"+tt.charAt(0).toUpperCase()+tt.slice(1)}else{const tt=e.slice(4);if(!dash.test(tt)){let nt=tt.replace(cap$1,kebab);nt.charAt(0)!=="-"&&(nt="-"+nt),e="data"+nt}}et=DefinedInfo}return new et(c,e)}function kebab(a){return"-"+a.toLowerCase()}function camelcase(a){return a.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function parse$2(a){const e=String(a||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function stringify(a){return a.join(" ").trim()}var cjs$2={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration";function index$1(a,e){if(typeof a!="string")throw new TypeError("First argument must be a string");if(!a)return[];e=e||{};var o=1,c=1;function et(Et){var wt=Et.match(NEWLINE_REGEX);wt&&(o+=wt.length);var St=Et.lastIndexOf(NEWLINE);c=~St?Et.length-St:c+Et.length}function tt(){var Et={line:o,column:c};return function(wt){return wt.position=new nt(Et),gt(),wt}}function nt(Et){this.start=Et,this.end={line:o,column:c},this.source=e.source}nt.prototype.content=a;function rt(Et){var wt=new Error(e.source+":"+o+":"+c+": "+Et);if(wt.reason=Et,wt.filename=e.source,wt.line=o,wt.column=c,wt.source=a,!e.silent)throw wt}function mt(Et){var wt=Et.exec(a);if(wt){var St=wt[0];return et(St),a=a.slice(St.length),wt}}function gt(){mt(WHITESPACE_REGEX)}function yt(Et){var wt;for(Et=Et||[];wt=vt();)wt!==!1&&Et.push(wt);return Et}function vt(){var Et=tt();if(!(FORWARD_SLASH!=a.charAt(0)||ASTERISK!=a.charAt(1))){for(var wt=2;EMPTY_STRING!=a.charAt(wt)&&(ASTERISK!=a.charAt(wt)||FORWARD_SLASH!=a.charAt(wt+1));)++wt;if(wt+=2,EMPTY_STRING===a.charAt(wt-1))return rt("End of comment missing");var St=a.slice(2,wt-2);return c+=2,et(St),a=a.slice(wt),c+=2,Et({type:TYPE_COMMENT,comment:St})}}function xt(){var Et=tt(),wt=mt(PROPERTY_REGEX);if(wt){if(vt(),!mt(COLON_REGEX))return rt("property missing ':'");var St=mt(VALUE_REGEX),Tt=Et({type:TYPE_DECLARATION,property:trim(wt[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:St?trim(St[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return mt(SEMICOLON_REGEX),Tt}}function bt(){var Et=[];yt(Et);for(var wt;wt=xt();)wt!==!1&&(Et.push(wt),yt(Et));return Et}return gt(),bt()}function trim(a){return a?a.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var cjs$1=index$1,__importDefault$1=commonjsGlobal$2&&commonjsGlobal$2.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.default=StyleToObject;const inline_style_parser_1=__importDefault$1(cjs$1);function StyleToObject(a,e){let o=null;if(!a||typeof a!="string")return o;const c=(0,inline_style_parser_1.default)(a),et=typeof e=="function";return c.forEach(tt=>{if(tt.type!=="declaration")return;const{property:nt,value:rt}=tt;et?e(nt,rt,tt):rt&&(o=o||{},o[nt]=rt)}),o}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(a){return!a||NO_HYPHEN_REGEX.test(a)||CUSTOM_PROPERTY_REGEX.test(a)},capitalize=function(a,e){return e.toUpperCase()},trimHyphen=function(a,e){return"".concat(e,"-")},camelCase=function(a,e){return e===void 0&&(e={}),skipCamelCase(a)?a:(a=a.toLowerCase(),e.reactCompat?a=a.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):a=a.replace(VENDOR_PREFIX_REGEX,trimHyphen),a.replace(HYPHEN_REGEX,capitalize))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal$2&&commonjsGlobal$2.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},style_to_object_1=__importDefault(cjs$2),utilities_1=utilities;function StyleToJS(a,e){var o={};return!a||typeof a!="string"||(0,style_to_object_1.default)(a,function(c,et){c&&et&&(o[(0,utilities_1.camelCase)(c,e)]=et)}),o}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(a){return e;function e(o){const c=o&&o.position&&o.position[a]||{};if(typeof c.line=="number"&&c.line>0&&typeof c.column=="number"&&c.column>0)return{line:c.line,column:c.column,offset:typeof c.offset=="number"&&c.offset>-1?c.offset:void 0}}}function position$1(a){const e=pointStart(a),o=pointEnd(a);if(e&&o)return{start:e,end:o}}function stringifyPosition(a){return!a||typeof a!="object"?"":"position"in a||"type"in a?position(a.position):"start"in a||"end"in a?position(a):"line"in a||"column"in a?point$1(a):""}function point$1(a){return index(a&&a.line)+":"+index(a&&a.column)}function position(a){return point$1(a&&a.start)+"-"+point$1(a&&a.end)}function index(a){return a&&typeof a=="number"?a:1}class VFileMessage extends Error{constructor(e,o,c){super(),typeof o=="string"&&(c=o,o=void 0);let et="",tt={},nt=!1;if(o&&("line"in o&&"column"in o?tt={place:o}:"start"in o&&"end"in o?tt={place:o}:"type"in o?tt={ancestors:[o],place:o.position}:tt={...o}),typeof e=="string"?et=e:!tt.cause&&e&&(nt=!0,et=e.message,tt.cause=e),!tt.ruleId&&!tt.source&&typeof c=="string"){const mt=c.indexOf(":");mt===-1?tt.ruleId=c:(tt.source=c.slice(0,mt),tt.ruleId=c.slice(mt+1))}if(!tt.place&&tt.ancestors&&tt.ancestors){const mt=tt.ancestors[tt.ancestors.length-1];mt&&(tt.place=mt.position)}const rt=tt.place&&"start"in tt.place?tt.place.start:tt.place;this.ancestors=tt.ancestors||void 0,this.cause=tt.cause||void 0,this.column=rt?rt.column:void 0,this.fatal=void 0,this.file="",this.message=et,this.line=rt?rt.line:void 0,this.name=stringifyPosition(tt.place)||"1:1",this.place=tt.place||void 0,this.reason=this.message,this.ruleId=tt.ruleId||void 0,this.source=tt.source||void 0,this.stack=nt&&tt.cause&&typeof tt.cause.stack=="string"?tt.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(a,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const o=e.filePath||void 0;let c;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");c=developmentCreate(o,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");c=productionCreate(o,e.jsx,e.jsxs)}const et={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:c,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:o,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?svg:html$2,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},tt=one$2(et,a,void 0);return tt&&typeof tt!="string"?tt:et.create(a,et.Fragment,{children:tt||void 0},void 0)}function one$2(a,e,o){if(e.type==="element")return element$3(a,e,o);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return mdxExpression(a,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mdxJsxElement(a,e,o);if(e.type==="mdxjsEsm")return mdxEsm(a,e);if(e.type==="root")return root$3(a,e,o);if(e.type==="text")return text$8(a,e)}function element$3(a,e,o){const c=a.schema;let et=c;e.tagName.toLowerCase()==="svg"&&c.space==="html"&&(et=svg,a.schema=et),a.ancestors.push(e);const tt=findComponentFromName(a,e.tagName,!1),nt=createElementProps(a,e);let rt=createChildren(a,e);return tableElements.has(e.tagName)&&(rt=rt.filter(function(mt){return typeof mt=="string"?!whitespace(mt):!0})),addNode(a,nt,tt,e),addChildren(nt,rt),a.ancestors.pop(),a.schema=c,a.create(e,tt,nt,o)}function mdxExpression(a,e){if(e.data&&e.data.estree&&a.evaluater){const c=e.data.estree.body[0];return c.type,a.evaluater.evaluateExpression(c.expression)}crashEstree(a,e.position)}function mdxEsm(a,e){if(e.data&&e.data.estree&&a.evaluater)return a.evaluater.evaluateProgram(e.data.estree);crashEstree(a,e.position)}function mdxJsxElement(a,e,o){const c=a.schema;let et=c;e.name==="svg"&&c.space==="html"&&(et=svg,a.schema=et),a.ancestors.push(e);const tt=e.name===null?a.Fragment:findComponentFromName(a,e.name,!0),nt=createJsxElementProps(a,e),rt=createChildren(a,e);return addNode(a,nt,tt,e),addChildren(nt,rt),a.ancestors.pop(),a.schema=c,a.create(e,tt,nt,o)}function root$3(a,e,o){const c={};return addChildren(c,createChildren(a,e)),a.create(e,a.Fragment,c,o)}function text$8(a,e){return e.value}function addNode(a,e,o,c){typeof o!="string"&&o!==a.Fragment&&a.passNode&&(e.node=c)}function addChildren(a,e){if(e.length>0){const o=e.length>1?e:e[0];o&&(a.children=o)}}function productionCreate(a,e,o){return c;function c(et,tt,nt,rt){const gt=Array.isArray(nt.children)?o:e;return rt?gt(tt,nt,rt):gt(tt,nt)}}function developmentCreate(a,e){return o;function o(c,et,tt,nt){const rt=Array.isArray(tt.children),mt=pointStart(c);return e(et,tt,nt,rt,{columnNumber:mt?mt.column-1:void 0,fileName:a,lineNumber:mt?mt.line:void 0},void 0)}}function createElementProps(a,e){const o={};let c,et;for(et in e.properties)if(et!=="children"&&own$3.call(e.properties,et)){const tt=createProperty(a,et,e.properties[et]);if(tt){const[nt,rt]=tt;a.tableCellAlignToStyle&&nt==="align"&&typeof rt=="string"&&tableCellElement.has(e.tagName)?c=rt:o[nt]=rt}}if(c){const tt=o.style||(o.style={});tt[a.stylePropertyNameCase==="css"?"text-align":"textAlign"]=c}return o}function createJsxElementProps(a,e){const o={};for(const c of e.attributes)if(c.type==="mdxJsxExpressionAttribute")if(c.data&&c.data.estree&&a.evaluater){const tt=c.data.estree.body[0];tt.type;const nt=tt.expression;nt.type;const rt=nt.properties[0];rt.type,Object.assign(o,a.evaluater.evaluateExpression(rt.argument))}else crashEstree(a,e.position);else{const et=c.name;let tt;if(c.value&&typeof c.value=="object")if(c.value.data&&c.value.data.estree&&a.evaluater){const rt=c.value.data.estree.body[0];rt.type,tt=a.evaluater.evaluateExpression(rt.expression)}else crashEstree(a,e.position);else tt=c.value===null?!0:c.value;o[et]=tt}return o}function createChildren(a,e){const o=[];let c=-1;const et=a.passKeys?new Map:emptyMap;for(;++c<e.children.length;){const tt=e.children[c];let nt;if(a.passKeys){const mt=tt.type==="element"?tt.tagName:tt.type==="mdxJsxFlowElement"||tt.type==="mdxJsxTextElement"?tt.name:void 0;if(mt){const gt=et.get(mt)||0;nt=mt+"-"+gt,et.set(mt,gt+1)}}const rt=one$2(a,tt,nt);rt!==void 0&&o.push(rt)}return o}function createProperty(a,e,o){const c=find(a.schema,e);if(!(o==null||typeof o=="number"&&Number.isNaN(o))){if(Array.isArray(o)&&(o=c.commaSeparated?stringify$1(o):stringify(o)),c.property==="style"){let et=typeof o=="object"?o:parseStyle(a,String(o));return a.stylePropertyNameCase==="css"&&(et=transformStylesToCssCasing(et)),["style",et]}return[a.elementAttributeNameCase==="react"&&c.space?hastToReact[c.property]||c.property:c.attribute,o]}}function parseStyle(a,e){try{return styleToJs(e,{reactCompat:!0})}catch(o){if(a.ignoreInvalidStyle)return{};const c=o,et=new VFileMessage("Cannot parse `style` attribute",{ancestors:a.ancestors,cause:c,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw et.file=a.filePath||void 0,et.url=docs+"#cannot-parse-style-attribute",et}}function findComponentFromName(a,e,o){let c;if(!o)c={type:"Literal",value:e};else if(e.includes(".")){const et=e.split(".");let tt=-1,nt;for(;++tt<et.length;){const rt=name(et[tt])?{type:"Identifier",name:et[tt]}:{type:"Literal",value:et[tt]};nt=nt?{type:"MemberExpression",object:nt,property:rt,computed:!!(tt&&rt.type==="Literal"),optional:!1}:rt}c=nt}else c=name(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(c.type==="Literal"){const et=c.value;return own$3.call(a.components,et)?a.components[et]:et}if(a.evaluater)return a.evaluater.evaluateExpression(c);crashEstree(a)}function crashEstree(a,e){const o=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:a.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw o.file=a.filePath||void 0,o.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",o}function transformStylesToCssCasing(a){const e={};let o;for(o in a)own$3.call(a,o)&&(e[transformStyleToCssCasing(o)]=a[o]);return e}function transformStyleToCssCasing(a){let e=a.replace(cap,toDash);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function toDash(a){return"-"+a.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$4={};function toString$1(a,e){const o=emptyOptions$4,c=typeof o.includeImageAlt=="boolean"?o.includeImageAlt:!0,et=typeof o.includeHtml=="boolean"?o.includeHtml:!0;return one$1(a,c,et)}function one$1(a,e,o){if(node(a)){if("value"in a)return a.type==="html"&&!o?"":a.value;if(e&&"alt"in a&&a.alt)return a.alt;if("children"in a)return all$1(a.children,e,o)}return Array.isArray(a)?all$1(a,e,o):""}function all$1(a,e,o){const c=[];let et=-1;for(;++et<a.length;)c[et]=one$1(a[et],e,o);return c.join("")}function node(a){return!!(a&&typeof a=="object")}const element$2=document.createElement("i");function decodeNamedCharacterReference(a){const e="&"+a+";";element$2.innerHTML=e;const o=element$2.textContent;return o.charCodeAt(o.length-1)===59&&a!=="semi"||o===e?!1:o}function splice(a,e,o,c){const et=a.length;let tt=0,nt;if(e<0?e=-e>et?0:et+e:e=e>et?et:e,o=o>0?o:0,c.length<1e4)nt=Array.from(c),nt.unshift(e,o),a.splice(...nt);else for(o&&a.splice(e,o);tt<c.length;)nt=c.slice(tt,tt+1e4),nt.unshift(e,0),a.splice(...nt),tt+=1e4,e+=1e4}function push(a,e){return a.length>0?(splice(a,a.length,0,e),a):e}const hasOwnProperty$1={}.hasOwnProperty;function combineExtensions(a){const e={};let o=-1;for(;++o<a.length;)syntaxExtension(e,a[o]);return e}function syntaxExtension(a,e){let o;for(o in e){const et=(hasOwnProperty$1.call(a,o)?a[o]:void 0)||(a[o]={}),tt=e[o];let nt;if(tt)for(nt in tt){hasOwnProperty$1.call(et,nt)||(et[nt]=[]);const rt=tt[nt];constructs(et[nt],Array.isArray(rt)?rt:rt?[rt]:[])}}}function constructs(a,e){let o=-1;const c=[];for(;++o<e.length;)(e[o].add==="after"?a:c).push(e[o]);splice(a,0,0,c)}function decodeNumericCharacterReference(a,e){const o=Number.parseInt(a,e);return o<9||o===11||o>13&&o<32||o>126&&o<160||o>55295&&o<57344||o>64975&&o<65008||(o&65535)===65535||(o&65535)===65534||o>1114111?"":String.fromCodePoint(o)}function normalizeIdentifier(a){return a.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(a){return a!==null&&(a<32||a===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(a){return a!==null&&a<-2}function markdownLineEndingOrSpace(a){return a!==null&&(a<0||a===32)}function markdownSpace(a){return a===-2||a===-1||a===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(a){return e;function e(o){return o!==null&&o>-1&&a.test(String.fromCharCode(o))}}function normalizeUri(a){const e=[];let o=-1,c=0,et=0;for(;++o<a.length;){const tt=a.charCodeAt(o);let nt="";if(tt===37&&asciiAlphanumeric(a.charCodeAt(o+1))&&asciiAlphanumeric(a.charCodeAt(o+2)))et=2;else if(tt<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(tt))||(nt=String.fromCharCode(tt));else if(tt>55295&&tt<57344){const rt=a.charCodeAt(o+1);tt<56320&&rt>56319&&rt<57344?(nt=String.fromCharCode(tt,rt),et=1):nt=""}else nt=String.fromCharCode(tt);nt&&(e.push(a.slice(c,o),encodeURIComponent(nt)),c=o+et+1,nt=""),et&&(o+=et,et=0)}return e.join("")+a.slice(c)}function factorySpace(a,e,o,c){const et=c?c-1:Number.POSITIVE_INFINITY;let tt=0;return nt;function nt(mt){return markdownSpace(mt)?(a.enter(o),rt(mt)):e(mt)}function rt(mt){return markdownSpace(mt)&&tt++<et?(a.consume(mt),rt):(a.exit(o),e(mt))}}const content$1={tokenize:initializeContent};function initializeContent(a){const e=a.attempt(this.parser.constructs.contentInitial,c,et);let o;return e;function c(rt){if(rt===null){a.consume(rt);return}return a.enter("lineEnding"),a.consume(rt),a.exit("lineEnding"),factorySpace(a,e,"linePrefix")}function et(rt){return a.enter("paragraph"),tt(rt)}function tt(rt){const mt=a.enter("chunkText",{contentType:"text",previous:o});return o&&(o.next=mt),o=mt,nt(rt)}function nt(rt){if(rt===null){a.exit("chunkText"),a.exit("paragraph"),a.consume(rt);return}return markdownLineEnding(rt)?(a.consume(rt),a.exit("chunkText"),tt):(a.consume(rt),nt)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(a){const e=this,o=[];let c=0,et,tt,nt;return rt;function rt(_t){if(c<o.length){const Mt=o[c];return e.containerState=Mt[1],a.attempt(Mt[0].continuation,mt,gt)(_t)}return gt(_t)}function mt(_t){if(c++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,et&&kt();const Mt=e.events.length;let Pt=Mt,It;for(;Pt--;)if(e.events[Pt][0]==="exit"&&e.events[Pt][1].type==="chunkFlow"){It=e.events[Pt][1].end;break}Tt(c);let Dt=Mt;for(;Dt<e.events.length;)e.events[Dt][1].end={...It},Dt++;return splice(e.events,Pt+1,0,e.events.slice(Mt)),e.events.length=Dt,gt(_t)}return rt(_t)}function gt(_t){if(c===o.length){if(!et)return xt(_t);if(et.currentConstruct&&et.currentConstruct.concrete)return Et(_t);e.interrupt=!!(et.currentConstruct&&!et._gfmTableDynamicInterruptHack)}return e.containerState={},a.check(containerConstruct,yt,vt)(_t)}function yt(_t){return et&&kt(),Tt(c),xt(_t)}function vt(_t){return e.parser.lazy[e.now().line]=c!==o.length,nt=e.now().offset,Et(_t)}function xt(_t){return e.containerState={},a.attempt(containerConstruct,bt,Et)(_t)}function bt(_t){return c++,o.push([e.currentConstruct,e.containerState]),xt(_t)}function Et(_t){if(_t===null){et&&kt(),Tt(0),a.consume(_t);return}return et=et||e.parser.flow(e.now()),a.enter("chunkFlow",{_tokenizer:et,contentType:"flow",previous:tt}),wt(_t)}function wt(_t){if(_t===null){St(a.exit("chunkFlow"),!0),Tt(0),a.consume(_t);return}return markdownLineEnding(_t)?(a.consume(_t),St(a.exit("chunkFlow")),c=0,e.interrupt=void 0,rt):(a.consume(_t),wt)}function St(_t,Mt){const Pt=e.sliceStream(_t);if(Mt&&Pt.push(null),_t.previous=tt,tt&&(tt.next=_t),tt=_t,et.defineSkip(_t.start),et.write(Pt),e.parser.lazy[_t.start.line]){let It=et.events.length;for(;It--;)if(et.events[It][1].start.offset<nt&&(!et.events[It][1].end||et.events[It][1].end.offset>nt))return;const Dt=e.events.length;let Ct=Dt,At,Lt;for(;Ct--;)if(e.events[Ct][0]==="exit"&&e.events[Ct][1].type==="chunkFlow"){if(At){Lt=e.events[Ct][1].end;break}At=!0}for(Tt(c),It=Dt;It<e.events.length;)e.events[It][1].end={...Lt},It++;splice(e.events,Ct+1,0,e.events.slice(Dt)),e.events.length=It}}function Tt(_t){let Mt=o.length;for(;Mt-- >_t;){const Pt=o[Mt];e.containerState=Pt[1],Pt[0].exit.call(e,a)}o.length=_t}function kt(){et.write([null]),tt=void 0,et=void 0,e.containerState._closeFlow=void 0}}function tokenizeContainer(a,e,o){return factorySpace(a,a.attempt(this.parser.constructs.document,e,o),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(a){if(a===null||markdownLineEndingOrSpace(a)||unicodeWhitespace(a))return 1;if(unicodePunctuation(a))return 2}function resolveAll(a,e,o){const c=[];let et=-1;for(;++et<a.length;){const tt=a[et].resolveAll;tt&&!c.includes(tt)&&(e=tt(e,o),c.push(tt))}return e}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(a,e){let o=-1,c,et,tt,nt,rt,mt,gt,yt;for(;++o<a.length;)if(a[o][0]==="enter"&&a[o][1].type==="attentionSequence"&&a[o][1]._close){for(c=o;c--;)if(a[c][0]==="exit"&&a[c][1].type==="attentionSequence"&&a[c][1]._open&&e.sliceSerialize(a[c][1]).charCodeAt(0)===e.sliceSerialize(a[o][1]).charCodeAt(0)){if((a[c][1]._close||a[o][1]._open)&&(a[o][1].end.offset-a[o][1].start.offset)%3&&!((a[c][1].end.offset-a[c][1].start.offset+a[o][1].end.offset-a[o][1].start.offset)%3))continue;mt=a[c][1].end.offset-a[c][1].start.offset>1&&a[o][1].end.offset-a[o][1].start.offset>1?2:1;const vt={...a[c][1].end},xt={...a[o][1].start};movePoint(vt,-mt),movePoint(xt,mt),nt={type:mt>1?"strongSequence":"emphasisSequence",start:vt,end:{...a[c][1].end}},rt={type:mt>1?"strongSequence":"emphasisSequence",start:{...a[o][1].start},end:xt},tt={type:mt>1?"strongText":"emphasisText",start:{...a[c][1].end},end:{...a[o][1].start}},et={type:mt>1?"strong":"emphasis",start:{...nt.start},end:{...rt.end}},a[c][1].end={...nt.start},a[o][1].start={...rt.end},gt=[],a[c][1].end.offset-a[c][1].start.offset&&(gt=push(gt,[["enter",a[c][1],e],["exit",a[c][1],e]])),gt=push(gt,[["enter",et,e],["enter",nt,e],["exit",nt,e],["enter",tt,e]]),gt=push(gt,resolveAll(e.parser.constructs.insideSpan.null,a.slice(c+1,o),e)),gt=push(gt,[["exit",tt,e],["enter",rt,e],["exit",rt,e],["exit",et,e]]),a[o][1].end.offset-a[o][1].start.offset?(yt=2,gt=push(gt,[["enter",a[o][1],e],["exit",a[o][1],e]])):yt=0,splice(a,c-1,o-c+3,gt),o=c+gt.length-yt-2;break}}for(o=-1;++o<a.length;)a[o][1].type==="attentionSequence"&&(a[o][1].type="data");return a}function tokenizeAttention(a,e){const o=this.parser.constructs.attentionMarkers.null,c=this.previous,et=classifyCharacter(c);let tt;return nt;function nt(mt){return tt=mt,a.enter("attentionSequence"),rt(mt)}function rt(mt){if(mt===tt)return a.consume(mt),rt;const gt=a.exit("attentionSequence"),yt=classifyCharacter(mt),vt=!yt||yt===2&&et||o.includes(mt),xt=!et||et===2&&yt||o.includes(c);return gt._open=!!(tt===42?vt:vt&&(et||!xt)),gt._close=!!(tt===42?xt:xt&&(yt||!vt)),e(mt)}}function movePoint(a,e){a.column+=e,a.offset+=e,a._bufferIndex+=e}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(a,e,o){let c=0;return et;function et(bt){return a.enter("autolink"),a.enter("autolinkMarker"),a.consume(bt),a.exit("autolinkMarker"),a.enter("autolinkProtocol"),tt}function tt(bt){return asciiAlpha(bt)?(a.consume(bt),nt):bt===64?o(bt):gt(bt)}function nt(bt){return bt===43||bt===45||bt===46||asciiAlphanumeric(bt)?(c=1,rt(bt)):gt(bt)}function rt(bt){return bt===58?(a.consume(bt),c=0,mt):(bt===43||bt===45||bt===46||asciiAlphanumeric(bt))&&c++<32?(a.consume(bt),rt):(c=0,gt(bt))}function mt(bt){return bt===62?(a.exit("autolinkProtocol"),a.enter("autolinkMarker"),a.consume(bt),a.exit("autolinkMarker"),a.exit("autolink"),e):bt===null||bt===32||bt===60||asciiControl(bt)?o(bt):(a.consume(bt),mt)}function gt(bt){return bt===64?(a.consume(bt),yt):asciiAtext(bt)?(a.consume(bt),gt):o(bt)}function yt(bt){return asciiAlphanumeric(bt)?vt(bt):o(bt)}function vt(bt){return bt===46?(a.consume(bt),c=0,yt):bt===62?(a.exit("autolinkProtocol").type="autolinkEmail",a.enter("autolinkMarker"),a.consume(bt),a.exit("autolinkMarker"),a.exit("autolink"),e):xt(bt)}function xt(bt){if((bt===45||asciiAlphanumeric(bt))&&c++<63){const Et=bt===45?xt:vt;return a.consume(bt),Et}return o(bt)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(a,e,o){return c;function c(tt){return markdownSpace(tt)?factorySpace(a,et,"linePrefix")(tt):et(tt)}function et(tt){return tt===null||markdownLineEnding(tt)?e(tt):o(tt)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(a,e,o){const c=this;return et;function et(nt){if(nt===62){const rt=c.containerState;return rt.open||(a.enter("blockQuote",{_container:!0}),rt.open=!0),a.enter("blockQuotePrefix"),a.enter("blockQuoteMarker"),a.consume(nt),a.exit("blockQuoteMarker"),tt}return o(nt)}function tt(nt){return markdownSpace(nt)?(a.enter("blockQuotePrefixWhitespace"),a.consume(nt),a.exit("blockQuotePrefixWhitespace"),a.exit("blockQuotePrefix"),e):(a.exit("blockQuotePrefix"),e(nt))}}function tokenizeBlockQuoteContinuation(a,e,o){const c=this;return et;function et(nt){return markdownSpace(nt)?factorySpace(a,tt,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(nt):tt(nt)}function tt(nt){return a.attempt(blockQuote,e,o)(nt)}}function exit$1(a){a.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(a,e,o){return c;function c(tt){return a.enter("characterEscape"),a.enter("escapeMarker"),a.consume(tt),a.exit("escapeMarker"),et}function et(tt){return asciiPunctuation(tt)?(a.enter("characterEscapeValue"),a.consume(tt),a.exit("characterEscapeValue"),a.exit("characterEscape"),e):o(tt)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(a,e,o){const c=this;let et=0,tt,nt;return rt;function rt(vt){return a.enter("characterReference"),a.enter("characterReferenceMarker"),a.consume(vt),a.exit("characterReferenceMarker"),mt}function mt(vt){return vt===35?(a.enter("characterReferenceMarkerNumeric"),a.consume(vt),a.exit("characterReferenceMarkerNumeric"),gt):(a.enter("characterReferenceValue"),tt=31,nt=asciiAlphanumeric,yt(vt))}function gt(vt){return vt===88||vt===120?(a.enter("characterReferenceMarkerHexadecimal"),a.consume(vt),a.exit("characterReferenceMarkerHexadecimal"),a.enter("characterReferenceValue"),tt=6,nt=asciiHexDigit,yt):(a.enter("characterReferenceValue"),tt=7,nt=asciiDigit,yt(vt))}function yt(vt){if(vt===59&&et){const xt=a.exit("characterReferenceValue");return nt===asciiAlphanumeric&&!decodeNamedCharacterReference(c.sliceSerialize(xt))?o(vt):(a.enter("characterReferenceMarker"),a.consume(vt),a.exit("characterReferenceMarker"),a.exit("characterReference"),e)}return nt(vt)&&et++<tt?(a.consume(vt),yt):o(vt)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(a,e,o){const c=this,et={partial:!0,tokenize:Pt};let tt=0,nt=0,rt;return mt;function mt(It){return gt(It)}function gt(It){const Dt=c.events[c.events.length-1];return tt=Dt&&Dt[1].type==="linePrefix"?Dt[2].sliceSerialize(Dt[1],!0).length:0,rt=It,a.enter("codeFenced"),a.enter("codeFencedFence"),a.enter("codeFencedFenceSequence"),yt(It)}function yt(It){return It===rt?(nt++,a.consume(It),yt):nt<3?o(It):(a.exit("codeFencedFenceSequence"),markdownSpace(It)?factorySpace(a,vt,"whitespace")(It):vt(It))}function vt(It){return It===null||markdownLineEnding(It)?(a.exit("codeFencedFence"),c.interrupt?e(It):a.check(nonLazyContinuation$1,wt,Mt)(It)):(a.enter("codeFencedFenceInfo"),a.enter("chunkString",{contentType:"string"}),xt(It))}function xt(It){return It===null||markdownLineEnding(It)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),vt(It)):markdownSpace(It)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),factorySpace(a,bt,"whitespace")(It)):It===96&&It===rt?o(It):(a.consume(It),xt)}function bt(It){return It===null||markdownLineEnding(It)?vt(It):(a.enter("codeFencedFenceMeta"),a.enter("chunkString",{contentType:"string"}),Et(It))}function Et(It){return It===null||markdownLineEnding(It)?(a.exit("chunkString"),a.exit("codeFencedFenceMeta"),vt(It)):It===96&&It===rt?o(It):(a.consume(It),Et)}function wt(It){return a.attempt(et,Mt,St)(It)}function St(It){return a.enter("lineEnding"),a.consume(It),a.exit("lineEnding"),Tt}function Tt(It){return tt>0&&markdownSpace(It)?factorySpace(a,kt,"linePrefix",tt+1)(It):kt(It)}function kt(It){return It===null||markdownLineEnding(It)?a.check(nonLazyContinuation$1,wt,Mt)(It):(a.enter("codeFlowValue"),_t(It))}function _t(It){return It===null||markdownLineEnding(It)?(a.exit("codeFlowValue"),kt(It)):(a.consume(It),_t)}function Mt(It){return a.exit("codeFenced"),e(It)}function Pt(It,Dt,Ct){let At=0;return Lt;function Lt(en){return It.enter("lineEnding"),It.consume(en),It.exit("lineEnding"),jt}function jt(en){return It.enter("codeFencedFence"),markdownSpace(en)?factorySpace(It,Bt,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(en):Bt(en)}function Bt(en){return en===rt?(It.enter("codeFencedFenceSequence"),zt(en)):Ct(en)}function zt(en){return en===rt?(At++,It.consume(en),zt):At>=nt?(It.exit("codeFencedFenceSequence"),markdownSpace(en)?factorySpace(It,Yt,"whitespace")(en):Yt(en)):Ct(en)}function Yt(en){return en===null||markdownLineEnding(en)?(It.exit("codeFencedFence"),Dt(en)):Ct(en)}}}function tokenizeNonLazyContinuation$1(a,e,o){const c=this;return et;function et(nt){return nt===null?o(nt):(a.enter("lineEnding"),a.consume(nt),a.exit("lineEnding"),tt)}function tt(nt){return c.parser.lazy[c.now().line]?o(nt):e(nt)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(a,e,o){const c=this;return et;function et(gt){return a.enter("codeIndented"),factorySpace(a,tt,"linePrefix",5)(gt)}function tt(gt){const yt=c.events[c.events.length-1];return yt&&yt[1].type==="linePrefix"&&yt[2].sliceSerialize(yt[1],!0).length>=4?nt(gt):o(gt)}function nt(gt){return gt===null?mt(gt):markdownLineEnding(gt)?a.attempt(furtherStart,nt,mt)(gt):(a.enter("codeFlowValue"),rt(gt))}function rt(gt){return gt===null||markdownLineEnding(gt)?(a.exit("codeFlowValue"),nt(gt)):(a.consume(gt),rt)}function mt(gt){return a.exit("codeIndented"),e(gt)}}function tokenizeFurtherStart(a,e,o){const c=this;return et;function et(nt){return c.parser.lazy[c.now().line]?o(nt):markdownLineEnding(nt)?(a.enter("lineEnding"),a.consume(nt),a.exit("lineEnding"),et):factorySpace(a,tt,"linePrefix",5)(nt)}function tt(nt){const rt=c.events[c.events.length-1];return rt&&rt[1].type==="linePrefix"&&rt[2].sliceSerialize(rt[1],!0).length>=4?e(nt):markdownLineEnding(nt)?et(nt):o(nt)}}const codeText={name:"codeText",previous:previous$2,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(a){let e=a.length-4,o=3,c,et;if((a[o][1].type==="lineEnding"||a[o][1].type==="space")&&(a[e][1].type==="lineEnding"||a[e][1].type==="space")){for(c=o;++c<e;)if(a[c][1].type==="codeTextData"){a[o][1].type="codeTextPadding",a[e][1].type="codeTextPadding",o+=2,e-=2;break}}for(c=o-1,e++;++c<=e;)et===void 0?c!==e&&a[c][1].type!=="lineEnding"&&(et=c):(c===e||a[c][1].type==="lineEnding")&&(a[et][1].type="codeTextData",c!==et+2&&(a[et][1].end=a[c-1][1].end,a.splice(et+2,c-et-2),e-=c-et-2,c=et+2),et=void 0);return a}function previous$2(a){return a!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(a,e,o){let c=0,et,tt;return nt;function nt(vt){return a.enter("codeText"),a.enter("codeTextSequence"),rt(vt)}function rt(vt){return vt===96?(a.consume(vt),c++,rt):(a.exit("codeTextSequence"),mt(vt))}function mt(vt){return vt===null?o(vt):vt===32?(a.enter("space"),a.consume(vt),a.exit("space"),mt):vt===96?(tt=a.enter("codeTextSequence"),et=0,yt(vt)):markdownLineEnding(vt)?(a.enter("lineEnding"),a.consume(vt),a.exit("lineEnding"),mt):(a.enter("codeTextData"),gt(vt))}function gt(vt){return vt===null||vt===32||vt===96||markdownLineEnding(vt)?(a.exit("codeTextData"),mt(vt)):(a.consume(vt),gt)}function yt(vt){return vt===96?(a.consume(vt),et++,yt):et===c?(a.exit("codeTextSequence"),a.exit("codeText"),e(vt)):(tt.type="codeTextData",gt(vt))}}class SpliceBuffer{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,o){const c=o??Number.POSITIVE_INFINITY;return c<this.left.length?this.left.slice(e,c):e>this.left.length?this.right.slice(this.right.length-c+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-c+this.left.length).reverse())}splice(e,o,c){const et=o||0;this.setCursor(Math.trunc(e));const tt=this.right.splice(this.right.length-et,Number.POSITIVE_INFINITY);return c&&chunkedPush(this.left,c),tt.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),chunkedPush(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const o=this.left.splice(e,Number.POSITIVE_INFINITY);chunkedPush(this.right,o.reverse())}else{const o=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);chunkedPush(this.left,o.reverse())}}}function chunkedPush(a,e){let o=0;if(e.length<1e4)a.push(...e);else for(;o<e.length;)a.push(...e.slice(o,o+1e4)),o+=1e4}function subtokenize(a){const e={};let o=-1,c,et,tt,nt,rt,mt,gt;const yt=new SpliceBuffer(a);for(;++o<yt.length;){for(;o in e;)o=e[o];if(c=yt.get(o),o&&c[1].type==="chunkFlow"&&yt.get(o-1)[1].type==="listItemPrefix"&&(mt=c[1]._tokenizer.events,tt=0,tt<mt.length&&mt[tt][1].type==="lineEndingBlank"&&(tt+=2),tt<mt.length&&mt[tt][1].type==="content"))for(;++tt<mt.length&&mt[tt][1].type!=="content";)mt[tt][1].type==="chunkText"&&(mt[tt][1]._isInFirstContentOfListItem=!0,tt++);if(c[0]==="enter")c[1].contentType&&(Object.assign(e,subcontent(yt,o)),o=e[o],gt=!0);else if(c[1]._container){for(tt=o,et=void 0;tt--;)if(nt=yt.get(tt),nt[1].type==="lineEnding"||nt[1].type==="lineEndingBlank")nt[0]==="enter"&&(et&&(yt.get(et)[1].type="lineEndingBlank"),nt[1].type="lineEnding",et=tt);else if(!(nt[1].type==="linePrefix"||nt[1].type==="listItemIndent"))break;et&&(c[1].end={...yt.get(et)[1].start},rt=yt.slice(et,o),rt.unshift(c),yt.splice(et,o-et+1,rt))}}return splice(a,0,Number.POSITIVE_INFINITY,yt.slice(0)),!gt}function subcontent(a,e){const o=a.get(e)[1],c=a.get(e)[2];let et=e-1;const tt=[];let nt=o._tokenizer;nt||(nt=c.parser[o.contentType](o.start),o._contentTypeTextTrailing&&(nt._contentTypeTextTrailing=!0));const rt=nt.events,mt=[],gt={};let yt,vt,xt=-1,bt=o,Et=0,wt=0;const St=[wt];for(;bt;){for(;a.get(++et)[1]!==bt;);tt.push(et),bt._tokenizer||(yt=c.sliceStream(bt),bt.next||yt.push(null),vt&&nt.defineSkip(bt.start),bt._isInFirstContentOfListItem&&(nt._gfmTasklistFirstContentOfListItem=!0),nt.write(yt),bt._isInFirstContentOfListItem&&(nt._gfmTasklistFirstContentOfListItem=void 0)),vt=bt,bt=bt.next}for(bt=o;++xt<rt.length;)rt[xt][0]==="exit"&&rt[xt-1][0]==="enter"&&rt[xt][1].type===rt[xt-1][1].type&&rt[xt][1].start.line!==rt[xt][1].end.line&&(wt=xt+1,St.push(wt),bt._tokenizer=void 0,bt.previous=void 0,bt=bt.next);for(nt.events=[],bt?(bt._tokenizer=void 0,bt.previous=void 0):St.pop(),xt=St.length;xt--;){const Tt=rt.slice(St[xt],St[xt+1]),kt=tt.pop();mt.push([kt,kt+Tt.length-1]),a.splice(kt,2,Tt)}for(mt.reverse(),xt=-1;++xt<mt.length;)gt[Et+mt[xt][0]]=Et+mt[xt][1],Et+=mt[xt][1]-mt[xt][0]-1;return gt}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(a){return subtokenize(a),a}function tokenizeContent(a,e){let o;return c;function c(rt){return a.enter("content"),o=a.enter("chunkContent",{contentType:"content"}),et(rt)}function et(rt){return rt===null?tt(rt):markdownLineEnding(rt)?a.check(continuationConstruct,nt,tt)(rt):(a.consume(rt),et)}function tt(rt){return a.exit("chunkContent"),a.exit("content"),e(rt)}function nt(rt){return a.consume(rt),a.exit("chunkContent"),o.next=a.enter("chunkContent",{contentType:"content",previous:o}),o=o.next,et}}function tokenizeContinuation(a,e,o){const c=this;return et;function et(nt){return a.exit("chunkContent"),a.enter("lineEnding"),a.consume(nt),a.exit("lineEnding"),factorySpace(a,tt,"linePrefix")}function tt(nt){if(nt===null||markdownLineEnding(nt))return o(nt);const rt=c.events[c.events.length-1];return!c.parser.constructs.disable.null.includes("codeIndented")&&rt&&rt[1].type==="linePrefix"&&rt[2].sliceSerialize(rt[1],!0).length>=4?e(nt):a.interrupt(c.parser.constructs.flow,o,e)(nt)}}function factoryDestination(a,e,o,c,et,tt,nt,rt,mt){const gt=mt||Number.POSITIVE_INFINITY;let yt=0;return vt;function vt(Tt){return Tt===60?(a.enter(c),a.enter(et),a.enter(tt),a.consume(Tt),a.exit(tt),xt):Tt===null||Tt===32||Tt===41||asciiControl(Tt)?o(Tt):(a.enter(c),a.enter(nt),a.enter(rt),a.enter("chunkString",{contentType:"string"}),wt(Tt))}function xt(Tt){return Tt===62?(a.enter(tt),a.consume(Tt),a.exit(tt),a.exit(et),a.exit(c),e):(a.enter(rt),a.enter("chunkString",{contentType:"string"}),bt(Tt))}function bt(Tt){return Tt===62?(a.exit("chunkString"),a.exit(rt),xt(Tt)):Tt===null||Tt===60||markdownLineEnding(Tt)?o(Tt):(a.consume(Tt),Tt===92?Et:bt)}function Et(Tt){return Tt===60||Tt===62||Tt===92?(a.consume(Tt),bt):bt(Tt)}function wt(Tt){return!yt&&(Tt===null||Tt===41||markdownLineEndingOrSpace(Tt))?(a.exit("chunkString"),a.exit(rt),a.exit(nt),a.exit(c),e(Tt)):yt<gt&&Tt===40?(a.consume(Tt),yt++,wt):Tt===41?(a.consume(Tt),yt--,wt):Tt===null||Tt===32||Tt===40||asciiControl(Tt)?o(Tt):(a.consume(Tt),Tt===92?St:wt)}function St(Tt){return Tt===40||Tt===41||Tt===92?(a.consume(Tt),wt):wt(Tt)}}function factoryLabel(a,e,o,c,et,tt){const nt=this;let rt=0,mt;return gt;function gt(bt){return a.enter(c),a.enter(et),a.consume(bt),a.exit(et),a.enter(tt),yt}function yt(bt){return rt>999||bt===null||bt===91||bt===93&&!mt||bt===94&&!rt&&"_hiddenFootnoteSupport"in nt.parser.constructs?o(bt):bt===93?(a.exit(tt),a.enter(et),a.consume(bt),a.exit(et),a.exit(c),e):markdownLineEnding(bt)?(a.enter("lineEnding"),a.consume(bt),a.exit("lineEnding"),yt):(a.enter("chunkString",{contentType:"string"}),vt(bt))}function vt(bt){return bt===null||bt===91||bt===93||markdownLineEnding(bt)||rt++>999?(a.exit("chunkString"),yt(bt)):(a.consume(bt),mt||(mt=!markdownSpace(bt)),bt===92?xt:vt)}function xt(bt){return bt===91||bt===92||bt===93?(a.consume(bt),rt++,vt):vt(bt)}}function factoryTitle(a,e,o,c,et,tt){let nt;return rt;function rt(xt){return xt===34||xt===39||xt===40?(a.enter(c),a.enter(et),a.consume(xt),a.exit(et),nt=xt===40?41:xt,mt):o(xt)}function mt(xt){return xt===nt?(a.enter(et),a.consume(xt),a.exit(et),a.exit(c),e):(a.enter(tt),gt(xt))}function gt(xt){return xt===nt?(a.exit(tt),mt(nt)):xt===null?o(xt):markdownLineEnding(xt)?(a.enter("lineEnding"),a.consume(xt),a.exit("lineEnding"),factorySpace(a,gt,"linePrefix")):(a.enter("chunkString",{contentType:"string"}),yt(xt))}function yt(xt){return xt===nt||xt===null||markdownLineEnding(xt)?(a.exit("chunkString"),gt(xt)):(a.consume(xt),xt===92?vt:yt)}function vt(xt){return xt===nt||xt===92?(a.consume(xt),yt):yt(xt)}}function factoryWhitespace(a,e){let o;return c;function c(et){return markdownLineEnding(et)?(a.enter("lineEnding"),a.consume(et),a.exit("lineEnding"),o=!0,c):markdownSpace(et)?factorySpace(a,c,o?"linePrefix":"lineSuffix")(et):e(et)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(a,e,o){const c=this;let et;return tt;function tt(bt){return a.enter("definition"),nt(bt)}function nt(bt){return factoryLabel.call(c,a,rt,o,"definitionLabel","definitionLabelMarker","definitionLabelString")(bt)}function rt(bt){return et=normalizeIdentifier(c.sliceSerialize(c.events[c.events.length-1][1]).slice(1,-1)),bt===58?(a.enter("definitionMarker"),a.consume(bt),a.exit("definitionMarker"),mt):o(bt)}function mt(bt){return markdownLineEndingOrSpace(bt)?factoryWhitespace(a,gt)(bt):gt(bt)}function gt(bt){return factoryDestination(a,yt,o,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(bt)}function yt(bt){return a.attempt(titleBefore,vt,vt)(bt)}function vt(bt){return markdownSpace(bt)?factorySpace(a,xt,"whitespace")(bt):xt(bt)}function xt(bt){return bt===null||markdownLineEnding(bt)?(a.exit("definition"),c.parser.defined.push(et),e(bt)):o(bt)}}function tokenizeTitleBefore(a,e,o){return c;function c(rt){return markdownLineEndingOrSpace(rt)?factoryWhitespace(a,et)(rt):o(rt)}function et(rt){return factoryTitle(a,tt,o,"definitionTitle","definitionTitleMarker","definitionTitleString")(rt)}function tt(rt){return markdownSpace(rt)?factorySpace(a,nt,"whitespace")(rt):nt(rt)}function nt(rt){return rt===null||markdownLineEnding(rt)?e(rt):o(rt)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(a,e,o){return c;function c(tt){return a.enter("hardBreakEscape"),a.consume(tt),et}function et(tt){return markdownLineEnding(tt)?(a.exit("hardBreakEscape"),e(tt)):o(tt)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(a,e){let o=a.length-2,c=3,et,tt;return a[c][1].type==="whitespace"&&(c+=2),o-2>c&&a[o][1].type==="whitespace"&&(o-=2),a[o][1].type==="atxHeadingSequence"&&(c===o-1||o-4>c&&a[o-2][1].type==="whitespace")&&(o-=c+1===o?2:4),o>c&&(et={type:"atxHeadingText",start:a[c][1].start,end:a[o][1].end},tt={type:"chunkText",start:a[c][1].start,end:a[o][1].end,contentType:"text"},splice(a,c,o-c+1,[["enter",et,e],["enter",tt,e],["exit",tt,e],["exit",et,e]])),a}function tokenizeHeadingAtx(a,e,o){let c=0;return et;function et(yt){return a.enter("atxHeading"),tt(yt)}function tt(yt){return a.enter("atxHeadingSequence"),nt(yt)}function nt(yt){return yt===35&&c++<6?(a.consume(yt),nt):yt===null||markdownLineEndingOrSpace(yt)?(a.exit("atxHeadingSequence"),rt(yt)):o(yt)}function rt(yt){return yt===35?(a.enter("atxHeadingSequence"),mt(yt)):yt===null||markdownLineEnding(yt)?(a.exit("atxHeading"),e(yt)):markdownSpace(yt)?factorySpace(a,rt,"whitespace")(yt):(a.enter("atxHeadingText"),gt(yt))}function mt(yt){return yt===35?(a.consume(yt),mt):(a.exit("atxHeadingSequence"),rt(yt))}function gt(yt){return yt===null||yt===35||markdownLineEndingOrSpace(yt)?(a.exit("atxHeadingText"),rt(yt)):(a.consume(yt),gt)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(a){let e=a.length;for(;e--&&!(a[e][0]==="enter"&&a[e][1].type==="htmlFlow"););return e>1&&a[e-2][1].type==="linePrefix"&&(a[e][1].start=a[e-2][1].start,a[e+1][1].start=a[e-2][1].start,a.splice(e-2,2)),a}function tokenizeHtmlFlow(a,e,o){const c=this;let et,tt,nt,rt,mt;return gt;function gt(Nt){return yt(Nt)}function yt(Nt){return a.enter("htmlFlow"),a.enter("htmlFlowData"),a.consume(Nt),vt}function vt(Nt){return Nt===33?(a.consume(Nt),xt):Nt===47?(a.consume(Nt),tt=!0,wt):Nt===63?(a.consume(Nt),et=3,c.interrupt?e:Xt):asciiAlpha(Nt)?(a.consume(Nt),nt=String.fromCharCode(Nt),St):o(Nt)}function xt(Nt){return Nt===45?(a.consume(Nt),et=2,bt):Nt===91?(a.consume(Nt),et=5,rt=0,Et):asciiAlpha(Nt)?(a.consume(Nt),et=4,c.interrupt?e:Xt):o(Nt)}function bt(Nt){return Nt===45?(a.consume(Nt),c.interrupt?e:Xt):o(Nt)}function Et(Nt){const $t="CDATA[";return Nt===$t.charCodeAt(rt++)?(a.consume(Nt),rt===$t.length?c.interrupt?e:Bt:Et):o(Nt)}function wt(Nt){return asciiAlpha(Nt)?(a.consume(Nt),nt=String.fromCharCode(Nt),St):o(Nt)}function St(Nt){if(Nt===null||Nt===47||Nt===62||markdownLineEndingOrSpace(Nt)){const $t=Nt===47,Ot=nt.toLowerCase();return!$t&&!tt&&htmlRawNames.includes(Ot)?(et=1,c.interrupt?e(Nt):Bt(Nt)):htmlBlockNames.includes(nt.toLowerCase())?(et=6,$t?(a.consume(Nt),Tt):c.interrupt?e(Nt):Bt(Nt)):(et=7,c.interrupt&&!c.parser.lazy[c.now().line]?o(Nt):tt?kt(Nt):_t(Nt))}return Nt===45||asciiAlphanumeric(Nt)?(a.consume(Nt),nt+=String.fromCharCode(Nt),St):o(Nt)}function Tt(Nt){return Nt===62?(a.consume(Nt),c.interrupt?e:Bt):o(Nt)}function kt(Nt){return markdownSpace(Nt)?(a.consume(Nt),kt):Lt(Nt)}function _t(Nt){return Nt===47?(a.consume(Nt),Lt):Nt===58||Nt===95||asciiAlpha(Nt)?(a.consume(Nt),Mt):markdownSpace(Nt)?(a.consume(Nt),_t):Lt(Nt)}function Mt(Nt){return Nt===45||Nt===46||Nt===58||Nt===95||asciiAlphanumeric(Nt)?(a.consume(Nt),Mt):Pt(Nt)}function Pt(Nt){return Nt===61?(a.consume(Nt),It):markdownSpace(Nt)?(a.consume(Nt),Pt):_t(Nt)}function It(Nt){return Nt===null||Nt===60||Nt===61||Nt===62||Nt===96?o(Nt):Nt===34||Nt===39?(a.consume(Nt),mt=Nt,Dt):markdownSpace(Nt)?(a.consume(Nt),It):Ct(Nt)}function Dt(Nt){return Nt===mt?(a.consume(Nt),mt=null,At):Nt===null||markdownLineEnding(Nt)?o(Nt):(a.consume(Nt),Dt)}function Ct(Nt){return Nt===null||Nt===34||Nt===39||Nt===47||Nt===60||Nt===61||Nt===62||Nt===96||markdownLineEndingOrSpace(Nt)?Pt(Nt):(a.consume(Nt),Ct)}function At(Nt){return Nt===47||Nt===62||markdownSpace(Nt)?_t(Nt):o(Nt)}function Lt(Nt){return Nt===62?(a.consume(Nt),jt):o(Nt)}function jt(Nt){return Nt===null||markdownLineEnding(Nt)?Bt(Nt):markdownSpace(Nt)?(a.consume(Nt),jt):o(Nt)}function Bt(Nt){return Nt===45&&et===2?(a.consume(Nt),rn):Nt===60&&et===1?(a.consume(Nt),on):Nt===62&&et===4?(a.consume(Nt),yn):Nt===63&&et===3?(a.consume(Nt),Xt):Nt===93&&et===5?(a.consume(Nt),an):markdownLineEnding(Nt)&&(et===6||et===7)?(a.exit("htmlFlowData"),a.check(blankLineBefore,vn,zt)(Nt)):Nt===null||markdownLineEnding(Nt)?(a.exit("htmlFlowData"),zt(Nt)):(a.consume(Nt),Bt)}function zt(Nt){return a.check(nonLazyContinuationStart,Yt,vn)(Nt)}function Yt(Nt){return a.enter("lineEnding"),a.consume(Nt),a.exit("lineEnding"),en}function en(Nt){return Nt===null||markdownLineEnding(Nt)?zt(Nt):(a.enter("htmlFlowData"),Bt(Nt))}function rn(Nt){return Nt===45?(a.consume(Nt),Xt):Bt(Nt)}function on(Nt){return Nt===47?(a.consume(Nt),nt="",Zt):Bt(Nt)}function Zt(Nt){if(Nt===62){const $t=nt.toLowerCase();return htmlRawNames.includes($t)?(a.consume(Nt),yn):Bt(Nt)}return asciiAlpha(Nt)&&nt.length<8?(a.consume(Nt),nt+=String.fromCharCode(Nt),Zt):Bt(Nt)}function an(Nt){return Nt===93?(a.consume(Nt),Xt):Bt(Nt)}function Xt(Nt){return Nt===62?(a.consume(Nt),yn):Nt===45&&et===2?(a.consume(Nt),Xt):Bt(Nt)}function yn(Nt){return Nt===null||markdownLineEnding(Nt)?(a.exit("htmlFlowData"),vn(Nt)):(a.consume(Nt),yn)}function vn(Nt){return a.exit("htmlFlow"),e(Nt)}}function tokenizeNonLazyContinuationStart(a,e,o){const c=this;return et;function et(nt){return markdownLineEnding(nt)?(a.enter("lineEnding"),a.consume(nt),a.exit("lineEnding"),tt):o(nt)}function tt(nt){return c.parser.lazy[c.now().line]?o(nt):e(nt)}}function tokenizeBlankLineBefore(a,e,o){return c;function c(et){return a.enter("lineEnding"),a.consume(et),a.exit("lineEnding"),a.attempt(blankLine,e,o)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(a,e,o){const c=this;let et,tt,nt;return rt;function rt(Xt){return a.enter("htmlText"),a.enter("htmlTextData"),a.consume(Xt),mt}function mt(Xt){return Xt===33?(a.consume(Xt),gt):Xt===47?(a.consume(Xt),Pt):Xt===63?(a.consume(Xt),_t):asciiAlpha(Xt)?(a.consume(Xt),Ct):o(Xt)}function gt(Xt){return Xt===45?(a.consume(Xt),yt):Xt===91?(a.consume(Xt),tt=0,Et):asciiAlpha(Xt)?(a.consume(Xt),kt):o(Xt)}function yt(Xt){return Xt===45?(a.consume(Xt),bt):o(Xt)}function vt(Xt){return Xt===null?o(Xt):Xt===45?(a.consume(Xt),xt):markdownLineEnding(Xt)?(nt=vt,on(Xt)):(a.consume(Xt),vt)}function xt(Xt){return Xt===45?(a.consume(Xt),bt):vt(Xt)}function bt(Xt){return Xt===62?rn(Xt):Xt===45?xt(Xt):vt(Xt)}function Et(Xt){const yn="CDATA[";return Xt===yn.charCodeAt(tt++)?(a.consume(Xt),tt===yn.length?wt:Et):o(Xt)}function wt(Xt){return Xt===null?o(Xt):Xt===93?(a.consume(Xt),St):markdownLineEnding(Xt)?(nt=wt,on(Xt)):(a.consume(Xt),wt)}function St(Xt){return Xt===93?(a.consume(Xt),Tt):wt(Xt)}function Tt(Xt){return Xt===62?rn(Xt):Xt===93?(a.consume(Xt),Tt):wt(Xt)}function kt(Xt){return Xt===null||Xt===62?rn(Xt):markdownLineEnding(Xt)?(nt=kt,on(Xt)):(a.consume(Xt),kt)}function _t(Xt){return Xt===null?o(Xt):Xt===63?(a.consume(Xt),Mt):markdownLineEnding(Xt)?(nt=_t,on(Xt)):(a.consume(Xt),_t)}function Mt(Xt){return Xt===62?rn(Xt):_t(Xt)}function Pt(Xt){return asciiAlpha(Xt)?(a.consume(Xt),It):o(Xt)}function It(Xt){return Xt===45||asciiAlphanumeric(Xt)?(a.consume(Xt),It):Dt(Xt)}function Dt(Xt){return markdownLineEnding(Xt)?(nt=Dt,on(Xt)):markdownSpace(Xt)?(a.consume(Xt),Dt):rn(Xt)}function Ct(Xt){return Xt===45||asciiAlphanumeric(Xt)?(a.consume(Xt),Ct):Xt===47||Xt===62||markdownLineEndingOrSpace(Xt)?At(Xt):o(Xt)}function At(Xt){return Xt===47?(a.consume(Xt),rn):Xt===58||Xt===95||asciiAlpha(Xt)?(a.consume(Xt),Lt):markdownLineEnding(Xt)?(nt=At,on(Xt)):markdownSpace(Xt)?(a.consume(Xt),At):rn(Xt)}function Lt(Xt){return Xt===45||Xt===46||Xt===58||Xt===95||asciiAlphanumeric(Xt)?(a.consume(Xt),Lt):jt(Xt)}function jt(Xt){return Xt===61?(a.consume(Xt),Bt):markdownLineEnding(Xt)?(nt=jt,on(Xt)):markdownSpace(Xt)?(a.consume(Xt),jt):At(Xt)}function Bt(Xt){return Xt===null||Xt===60||Xt===61||Xt===62||Xt===96?o(Xt):Xt===34||Xt===39?(a.consume(Xt),et=Xt,zt):markdownLineEnding(Xt)?(nt=Bt,on(Xt)):markdownSpace(Xt)?(a.consume(Xt),Bt):(a.consume(Xt),Yt)}function zt(Xt){return Xt===et?(a.consume(Xt),et=void 0,en):Xt===null?o(Xt):markdownLineEnding(Xt)?(nt=zt,on(Xt)):(a.consume(Xt),zt)}function Yt(Xt){return Xt===null||Xt===34||Xt===39||Xt===60||Xt===61||Xt===96?o(Xt):Xt===47||Xt===62||markdownLineEndingOrSpace(Xt)?At(Xt):(a.consume(Xt),Yt)}function en(Xt){return Xt===47||Xt===62||markdownLineEndingOrSpace(Xt)?At(Xt):o(Xt)}function rn(Xt){return Xt===62?(a.consume(Xt),a.exit("htmlTextData"),a.exit("htmlText"),e):o(Xt)}function on(Xt){return a.exit("htmlTextData"),a.enter("lineEnding"),a.consume(Xt),a.exit("lineEnding"),Zt}function Zt(Xt){return markdownSpace(Xt)?factorySpace(a,an,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Xt):an(Xt)}function an(Xt){return a.enter("htmlTextData"),nt(Xt)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(a){let e=-1;const o=[];for(;++e<a.length;){const c=a[e][1];if(o.push(a[e]),c.type==="labelImage"||c.type==="labelLink"||c.type==="labelEnd"){const et=c.type==="labelImage"?4:2;c.type="data",e+=et}}return a.length!==o.length&&splice(a,0,a.length,o),a}function resolveToLabelEnd(a,e){let o=a.length,c=0,et,tt,nt,rt;for(;o--;)if(et=a[o][1],tt){if(et.type==="link"||et.type==="labelLink"&&et._inactive)break;a[o][0]==="enter"&&et.type==="labelLink"&&(et._inactive=!0)}else if(nt){if(a[o][0]==="enter"&&(et.type==="labelImage"||et.type==="labelLink")&&!et._balanced&&(tt=o,et.type!=="labelLink")){c=2;break}}else et.type==="labelEnd"&&(nt=o);const mt={type:a[tt][1].type==="labelLink"?"link":"image",start:{...a[tt][1].start},end:{...a[a.length-1][1].end}},gt={type:"label",start:{...a[tt][1].start},end:{...a[nt][1].end}},yt={type:"labelText",start:{...a[tt+c+2][1].end},end:{...a[nt-2][1].start}};return rt=[["enter",mt,e],["enter",gt,e]],rt=push(rt,a.slice(tt+1,tt+c+3)),rt=push(rt,[["enter",yt,e]]),rt=push(rt,resolveAll(e.parser.constructs.insideSpan.null,a.slice(tt+c+4,nt-3),e)),rt=push(rt,[["exit",yt,e],a[nt-2],a[nt-1],["exit",gt,e]]),rt=push(rt,a.slice(nt+1)),rt=push(rt,[["exit",mt,e]]),splice(a,tt,a.length,rt),a}function tokenizeLabelEnd(a,e,o){const c=this;let et=c.events.length,tt,nt;for(;et--;)if((c.events[et][1].type==="labelImage"||c.events[et][1].type==="labelLink")&&!c.events[et][1]._balanced){tt=c.events[et][1];break}return rt;function rt(xt){return tt?tt._inactive?vt(xt):(nt=c.parser.defined.includes(normalizeIdentifier(c.sliceSerialize({start:tt.end,end:c.now()}))),a.enter("labelEnd"),a.enter("labelMarker"),a.consume(xt),a.exit("labelMarker"),a.exit("labelEnd"),mt):o(xt)}function mt(xt){return xt===40?a.attempt(resourceConstruct,yt,nt?yt:vt)(xt):xt===91?a.attempt(referenceFullConstruct,yt,nt?gt:vt)(xt):nt?yt(xt):vt(xt)}function gt(xt){return a.attempt(referenceCollapsedConstruct,yt,vt)(xt)}function yt(xt){return e(xt)}function vt(xt){return tt._balanced=!0,o(xt)}}function tokenizeResource(a,e,o){return c;function c(vt){return a.enter("resource"),a.enter("resourceMarker"),a.consume(vt),a.exit("resourceMarker"),et}function et(vt){return markdownLineEndingOrSpace(vt)?factoryWhitespace(a,tt)(vt):tt(vt)}function tt(vt){return vt===41?yt(vt):factoryDestination(a,nt,rt,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(vt)}function nt(vt){return markdownLineEndingOrSpace(vt)?factoryWhitespace(a,mt)(vt):yt(vt)}function rt(vt){return o(vt)}function mt(vt){return vt===34||vt===39||vt===40?factoryTitle(a,gt,o,"resourceTitle","resourceTitleMarker","resourceTitleString")(vt):yt(vt)}function gt(vt){return markdownLineEndingOrSpace(vt)?factoryWhitespace(a,yt)(vt):yt(vt)}function yt(vt){return vt===41?(a.enter("resourceMarker"),a.consume(vt),a.exit("resourceMarker"),a.exit("resource"),e):o(vt)}}function tokenizeReferenceFull(a,e,o){const c=this;return et;function et(rt){return factoryLabel.call(c,a,tt,nt,"reference","referenceMarker","referenceString")(rt)}function tt(rt){return c.parser.defined.includes(normalizeIdentifier(c.sliceSerialize(c.events[c.events.length-1][1]).slice(1,-1)))?e(rt):o(rt)}function nt(rt){return o(rt)}}function tokenizeReferenceCollapsed(a,e,o){return c;function c(tt){return a.enter("reference"),a.enter("referenceMarker"),a.consume(tt),a.exit("referenceMarker"),et}function et(tt){return tt===93?(a.enter("referenceMarker"),a.consume(tt),a.exit("referenceMarker"),a.exit("reference"),e):o(tt)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(a,e,o){const c=this;return et;function et(rt){return a.enter("labelImage"),a.enter("labelImageMarker"),a.consume(rt),a.exit("labelImageMarker"),tt}function tt(rt){return rt===91?(a.enter("labelMarker"),a.consume(rt),a.exit("labelMarker"),a.exit("labelImage"),nt):o(rt)}function nt(rt){return rt===94&&"_hiddenFootnoteSupport"in c.parser.constructs?o(rt):e(rt)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(a,e,o){const c=this;return et;function et(nt){return a.enter("labelLink"),a.enter("labelMarker"),a.consume(nt),a.exit("labelMarker"),a.exit("labelLink"),tt}function tt(nt){return nt===94&&"_hiddenFootnoteSupport"in c.parser.constructs?o(nt):e(nt)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(a,e){return o;function o(c){return a.enter("lineEnding"),a.consume(c),a.exit("lineEnding"),factorySpace(a,e,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(a,e,o){let c=0,et;return tt;function tt(gt){return a.enter("thematicBreak"),nt(gt)}function nt(gt){return et=gt,rt(gt)}function rt(gt){return gt===et?(a.enter("thematicBreakSequence"),mt(gt)):c>=3&&(gt===null||markdownLineEnding(gt))?(a.exit("thematicBreak"),e(gt)):o(gt)}function mt(gt){return gt===et?(a.consume(gt),c++,mt):(a.exit("thematicBreakSequence"),markdownSpace(gt)?factorySpace(a,rt,"whitespace")(gt):rt(gt))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(a,e,o){const c=this,et=c.events[c.events.length-1];let tt=et&&et[1].type==="linePrefix"?et[2].sliceSerialize(et[1],!0).length:0,nt=0;return rt;function rt(bt){const Et=c.containerState.type||(bt===42||bt===43||bt===45?"listUnordered":"listOrdered");if(Et==="listUnordered"?!c.containerState.marker||bt===c.containerState.marker:asciiDigit(bt)){if(c.containerState.type||(c.containerState.type=Et,a.enter(Et,{_container:!0})),Et==="listUnordered")return a.enter("listItemPrefix"),bt===42||bt===45?a.check(thematicBreak$2,o,gt)(bt):gt(bt);if(!c.interrupt||bt===49)return a.enter("listItemPrefix"),a.enter("listItemValue"),mt(bt)}return o(bt)}function mt(bt){return asciiDigit(bt)&&++nt<10?(a.consume(bt),mt):(!c.interrupt||nt<2)&&(c.containerState.marker?bt===c.containerState.marker:bt===41||bt===46)?(a.exit("listItemValue"),gt(bt)):o(bt)}function gt(bt){return a.enter("listItemMarker"),a.consume(bt),a.exit("listItemMarker"),c.containerState.marker=c.containerState.marker||bt,a.check(blankLine,c.interrupt?o:yt,a.attempt(listItemPrefixWhitespaceConstruct,xt,vt))}function yt(bt){return c.containerState.initialBlankLine=!0,tt++,xt(bt)}function vt(bt){return markdownSpace(bt)?(a.enter("listItemPrefixWhitespace"),a.consume(bt),a.exit("listItemPrefixWhitespace"),xt):o(bt)}function xt(bt){return c.containerState.size=tt+c.sliceSerialize(a.exit("listItemPrefix"),!0).length,e(bt)}}function tokenizeListContinuation(a,e,o){const c=this;return c.containerState._closeFlow=void 0,a.check(blankLine,et,tt);function et(rt){return c.containerState.furtherBlankLines=c.containerState.furtherBlankLines||c.containerState.initialBlankLine,factorySpace(a,e,"listItemIndent",c.containerState.size+1)(rt)}function tt(rt){return c.containerState.furtherBlankLines||!markdownSpace(rt)?(c.containerState.furtherBlankLines=void 0,c.containerState.initialBlankLine=void 0,nt(rt)):(c.containerState.furtherBlankLines=void 0,c.containerState.initialBlankLine=void 0,a.attempt(indentConstruct,e,nt)(rt))}function nt(rt){return c.containerState._closeFlow=!0,c.interrupt=void 0,factorySpace(a,a.attempt(list$2,e,o),"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(rt)}}function tokenizeIndent$1(a,e,o){const c=this;return factorySpace(a,et,"listItemIndent",c.containerState.size+1);function et(tt){const nt=c.events[c.events.length-1];return nt&&nt[1].type==="listItemIndent"&&nt[2].sliceSerialize(nt[1],!0).length===c.containerState.size?e(tt):o(tt)}}function tokenizeListEnd(a){a.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(a,e,o){const c=this;return factorySpace(a,et,"listItemPrefixWhitespace",c.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function et(tt){const nt=c.events[c.events.length-1];return!markdownSpace(tt)&&nt&&nt[1].type==="listItemPrefixWhitespace"?e(tt):o(tt)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(a,e){let o=a.length,c,et,tt;for(;o--;)if(a[o][0]==="enter"){if(a[o][1].type==="content"){c=o;break}a[o][1].type==="paragraph"&&(et=o)}else a[o][1].type==="content"&&a.splice(o,1),!tt&&a[o][1].type==="definition"&&(tt=o);const nt={type:"setextHeading",start:{...a[c][1].start},end:{...a[a.length-1][1].end}};return a[et][1].type="setextHeadingText",tt?(a.splice(et,0,["enter",nt,e]),a.splice(tt+1,0,["exit",a[c][1],e]),a[c][1].end={...a[tt][1].end}):a[c][1]=nt,a.push(["exit",nt,e]),a}function tokenizeSetextUnderline(a,e,o){const c=this;let et;return tt;function tt(gt){let yt=c.events.length,vt;for(;yt--;)if(c.events[yt][1].type!=="lineEnding"&&c.events[yt][1].type!=="linePrefix"&&c.events[yt][1].type!=="content"){vt=c.events[yt][1].type==="paragraph";break}return!c.parser.lazy[c.now().line]&&(c.interrupt||vt)?(a.enter("setextHeadingLine"),et=gt,nt(gt)):o(gt)}function nt(gt){return a.enter("setextHeadingLineSequence"),rt(gt)}function rt(gt){return gt===et?(a.consume(gt),rt):(a.exit("setextHeadingLineSequence"),markdownSpace(gt)?factorySpace(a,mt,"lineSuffix")(gt):mt(gt))}function mt(gt){return gt===null||markdownLineEnding(gt)?(a.exit("setextHeadingLine"),e(gt)):o(gt)}}const flow$1={tokenize:initializeFlow};function initializeFlow(a){const e=this,o=a.attempt(blankLine,c,a.attempt(this.parser.constructs.flowInitial,et,factorySpace(a,a.attempt(this.parser.constructs.flow,et,a.attempt(content,et)),"linePrefix")));return o;function c(tt){if(tt===null){a.consume(tt);return}return a.enter("lineEndingBlank"),a.consume(tt),a.exit("lineEndingBlank"),e.currentConstruct=void 0,o}function et(tt){if(tt===null){a.consume(tt);return}return a.enter("lineEnding"),a.consume(tt),a.exit("lineEnding"),e.currentConstruct=void 0,o}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$7=initializeFactory("text");function initializeFactory(a){return{resolveAll:createResolver(a==="text"?resolveAllLineSuffixes:void 0),tokenize:e};function e(o){const c=this,et=this.parser.constructs[a],tt=o.attempt(et,nt,rt);return nt;function nt(yt){return gt(yt)?tt(yt):rt(yt)}function rt(yt){if(yt===null){o.consume(yt);return}return o.enter("data"),o.consume(yt),mt}function mt(yt){return gt(yt)?(o.exit("data"),tt(yt)):(o.consume(yt),mt)}function gt(yt){if(yt===null)return!0;const vt=et[yt];let xt=-1;if(vt)for(;++xt<vt.length;){const bt=vt[xt];if(!bt.previous||bt.previous.call(c,c.previous))return!0}return!1}}}function createResolver(a){return e;function e(o,c){let et=-1,tt;for(;++et<=o.length;)tt===void 0?o[et]&&o[et][1].type==="data"&&(tt=et,et++):(!o[et]||o[et][1].type!=="data")&&(et!==tt+2&&(o[tt][1].end=o[et-1][1].end,o.splice(tt+2,et-tt-2),et=tt+2),tt=void 0);return a?a(o,c):o}}function resolveAllLineSuffixes(a,e){let o=0;for(;++o<=a.length;)if((o===a.length||a[o][1].type==="lineEnding")&&a[o-1][1].type==="data"){const c=a[o-1][1],et=e.sliceStream(c);let tt=et.length,nt=-1,rt=0,mt;for(;tt--;){const gt=et[tt];if(typeof gt=="string"){for(nt=gt.length;gt.charCodeAt(nt-1)===32;)rt++,nt--;if(nt)break;nt=-1}else if(gt===-2)mt=!0,rt++;else if(gt!==-1){tt++;break}}if(e._contentTypeTextTrailing&&o===a.length&&(rt=0),rt){const gt={type:o===a.length||mt||rt<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:tt?nt:c.start._bufferIndex+nt,_index:c.start._index+tt,line:c.end.line,column:c.end.column-rt,offset:c.end.offset-rt},end:{...c.end}};c.end={...gt.start},c.start.offset===c.end.offset?Object.assign(c,gt):(a.splice(o,0,["enter",gt,e],["exit",gt,e]),o+=2)}o++}return a}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$6={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$6},Symbol.toStringTag,{value:"Module"}));function createTokenizer(a,e,o){let c={_bufferIndex:-1,_index:0,line:o&&o.line||1,column:o&&o.column||1,offset:o&&o.offset||0};const et={},tt=[];let nt=[],rt=[];const mt={attempt:Dt(Pt),check:Dt(It),consume:kt,enter:_t,exit:Mt,interrupt:Dt(It,{interrupt:!0})},gt={code:null,containerState:{},defineSkip:wt,events:[],now:Et,parser:a,previous:null,sliceSerialize:xt,sliceStream:bt,write:vt};let yt=e.tokenize.call(gt,mt);return e.resolveAll&&tt.push(e),gt;function vt(jt){return nt=push(nt,jt),St(),nt[nt.length-1]!==null?[]:(Ct(e,0),gt.events=resolveAll(tt,gt.events,gt),gt.events)}function xt(jt,Bt){return serializeChunks(bt(jt),Bt)}function bt(jt){return sliceChunks(nt,jt)}function Et(){const{_bufferIndex:jt,_index:Bt,line:zt,column:Yt,offset:en}=c;return{_bufferIndex:jt,_index:Bt,line:zt,column:Yt,offset:en}}function wt(jt){et[jt.line]=jt.column,Lt()}function St(){let jt;for(;c._index<nt.length;){const Bt=nt[c._index];if(typeof Bt=="string")for(jt=c._index,c._bufferIndex<0&&(c._bufferIndex=0);c._index===jt&&c._bufferIndex<Bt.length;)Tt(Bt.charCodeAt(c._bufferIndex));else Tt(Bt)}}function Tt(jt){yt=yt(jt)}function kt(jt){markdownLineEnding(jt)?(c.line++,c.column=1,c.offset+=jt===-3?2:1,Lt()):jt!==-1&&(c.column++,c.offset++),c._bufferIndex<0?c._index++:(c._bufferIndex++,c._bufferIndex===nt[c._index].length&&(c._bufferIndex=-1,c._index++)),gt.previous=jt}function _t(jt,Bt){const zt=Bt||{};return zt.type=jt,zt.start=Et(),gt.events.push(["enter",zt,gt]),rt.push(zt),zt}function Mt(jt){const Bt=rt.pop();return Bt.end=Et(),gt.events.push(["exit",Bt,gt]),Bt}function Pt(jt,Bt){Ct(jt,Bt.from)}function It(jt,Bt){Bt.restore()}function Dt(jt,Bt){return zt;function zt(Yt,en,rn){let on,Zt,an,Xt;return Array.isArray(Yt)?vn(Yt):"tokenize"in Yt?vn([Yt]):yn(Yt);function yn(Ft){return Ut;function Ut(Gt){const Vt=Gt!==null&&Ft[Gt],Kt=Gt!==null&&Ft.null,Jt=[...Array.isArray(Vt)?Vt:Vt?[Vt]:[],...Array.isArray(Kt)?Kt:Kt?[Kt]:[]];return vn(Jt)(Gt)}}function vn(Ft){return on=Ft,Zt=0,Ft.length===0?rn:Nt(Ft[Zt])}function Nt(Ft){return Ut;function Ut(Gt){return Xt=At(),an=Ft,Ft.partial||(gt.currentConstruct=Ft),Ft.name&&gt.parser.constructs.disable.null.includes(Ft.name)?Ot():Ft.tokenize.call(Bt?Object.assign(Object.create(gt),Bt):gt,mt,$t,Ot)(Gt)}}function $t(Ft){return jt(an,Xt),en}function Ot(Ft){return Xt.restore(),++Zt<on.length?Nt(on[Zt]):rn}}}function Ct(jt,Bt){jt.resolveAll&&!tt.includes(jt)&&tt.push(jt),jt.resolve&&splice(gt.events,Bt,gt.events.length-Bt,jt.resolve(gt.events.slice(Bt),gt)),jt.resolveTo&&(gt.events=jt.resolveTo(gt.events,gt))}function At(){const jt=Et(),Bt=gt.previous,zt=gt.currentConstruct,Yt=gt.events.length,en=Array.from(rt);return{from:Yt,restore:rn};function rn(){c=jt,gt.previous=Bt,gt.currentConstruct=zt,gt.events.length=Yt,rt=en,Lt()}}function Lt(){c.line in et&&c.column<2&&(c.column=et[c.line],c.offset+=et[c.line]-1)}}function sliceChunks(a,e){const o=e.start._index,c=e.start._bufferIndex,et=e.end._index,tt=e.end._bufferIndex;let nt;if(o===et)nt=[a[o].slice(c,tt)];else{if(nt=a.slice(o,et),c>-1){const rt=nt[0];typeof rt=="string"?nt[0]=rt.slice(c):nt.shift()}tt>0&&nt.push(a[et].slice(0,tt))}return nt}function serializeChunks(a,e){let o=-1;const c=[];let et;for(;++o<a.length;){const tt=a[o];let nt;if(typeof tt=="string")nt=tt;else switch(tt){case-5:{nt="\r";break}case-4:{nt=`
`;break}case-3:{nt=`\r
`;break}case-2:{nt=e?" ":"	";break}case-1:{if(!e&&et)continue;nt=" ";break}default:nt=String.fromCharCode(tt)}et=tt===-2,c.push(nt)}return c.join("")}function parse$1(a){const c={constructs:combineExtensions([defaultConstructs,...(a||{}).extensions||[]]),content:et(content$1),defined:[],document:et(document$2),flow:et(flow$1),lazy:{},string:et(string$1),text:et(text$7)};return c;function et(tt){return nt;function nt(rt){return createTokenizer(c,tt,rt)}}}function postprocess(a){for(;!subtokenize(a););return a}const search$1=/[\0\t\n\r]/g;function preprocess(){let a=1,e="",o=!0,c;return et;function et(tt,nt,rt){const mt=[];let gt,yt,vt,xt,bt;for(tt=e+(typeof tt=="string"?tt.toString():new TextDecoder(nt||void 0).decode(tt)),vt=0,e="",o&&(tt.charCodeAt(0)===65279&&vt++,o=void 0);vt<tt.length;){if(search$1.lastIndex=vt,gt=search$1.exec(tt),xt=gt&&gt.index!==void 0?gt.index:tt.length,bt=tt.charCodeAt(xt),!gt){e=tt.slice(vt);break}if(bt===10&&vt===xt&&c)mt.push(-3),c=void 0;else switch(c&&(mt.push(-5),c=void 0),vt<xt&&(mt.push(tt.slice(vt,xt)),a+=xt-vt),bt){case 0:{mt.push(65533),a++;break}case 9:{for(yt=Math.ceil(a/4)*4,mt.push(-2);a++<yt;)mt.push(-1);break}case 10:{mt.push(-4),a=1;break}default:c=!0,a=1}vt=xt+1}return rt&&(c&&mt.push(-5),e&&mt.push(e),mt.push(null)),mt}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(a){return a.replace(characterEscapeOrReference,decode)}function decode(a,e,o){if(e)return e;if(o.charCodeAt(0)===35){const et=o.charCodeAt(1),tt=et===120||et===88;return decodeNumericCharacterReference(o.slice(tt?2:1),tt?16:10)}return decodeNamedCharacterReference(o)||a}const own$2={}.hasOwnProperty;function fromMarkdown(a,e,o){return typeof e!="string"&&(o=e,e=void 0),compiler(o)(postprocess(parse$1(o).document().write(preprocess()(a,e,!0))))}function compiler(a){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:tt(rr),autolinkProtocol:At,autolinkEmail:At,atxHeading:tt(fn),blockQuote:tt(Kt),characterEscape:At,characterReference:At,codeFenced:tt(Jt),codeFencedFenceInfo:nt,codeFencedFenceMeta:nt,codeIndented:tt(Jt,nt),codeText:tt(nn,nt),codeTextData:At,data:At,codeFlowValue:At,definition:tt(sn),definitionDestinationString:nt,definitionLabelString:nt,definitionTitleString:nt,emphasis:tt(gn),hardBreakEscape:tt(In),hardBreakTrailing:tt(In),htmlFlow:tt(Dn,nt),htmlFlowData:At,htmlText:tt(Dn,nt),htmlTextData:At,image:tt(Gn),label:nt,link:tt(rr),listItem:tt(An),listItemValue:xt,listOrdered:tt(Bn,vt),listUnordered:tt(Bn),paragraph:tt(Sn),reference:Nt,referenceString:nt,resourceDestinationString:nt,resourceTitleString:nt,setextHeading:tt(fn),strong:tt(xn),thematicBreak:tt(jn)},exit:{atxHeading:mt(),atxHeadingSequence:Pt,autolink:mt(),autolinkEmail:Vt,autolinkProtocol:Gt,blockQuote:mt(),characterEscapeValue:Lt,characterReferenceMarkerHexadecimal:Ot,characterReferenceMarkerNumeric:Ot,characterReferenceValue:Ft,characterReference:Ut,codeFenced:mt(St),codeFencedFence:wt,codeFencedFenceInfo:bt,codeFencedFenceMeta:Et,codeFlowValue:Lt,codeIndented:mt(Tt),codeText:mt(en),codeTextData:Lt,data:Lt,definition:mt(),definitionDestinationString:Mt,definitionLabelString:kt,definitionTitleString:_t,emphasis:mt(),hardBreakEscape:mt(Bt),hardBreakTrailing:mt(Bt),htmlFlow:mt(zt),htmlFlowData:Lt,htmlText:mt(Yt),htmlTextData:Lt,image:mt(on),label:an,labelText:Zt,lineEnding:jt,link:mt(rn),listItem:mt(),listOrdered:mt(),listUnordered:mt(),paragraph:mt(),referenceString:$t,resourceDestinationString:Xt,resourceTitleString:yn,resource:vn,setextHeading:mt(Ct),setextHeadingLineSequence:Dt,setextHeadingText:It,strong:mt(),thematicBreak:mt()}};configure(e,(a||{}).mdastExtensions||[]);const o={};return c;function c(pn){let Rn={type:"root",children:[]};const Kn={stack:[Rn],tokenStack:[],config:e,enter:rt,exit:gt,buffer:nt,resume:yt,data:o},tr=[];let ir=-1;for(;++ir<pn.length;)if(pn[ir][1].type==="listOrdered"||pn[ir][1].type==="listUnordered")if(pn[ir][0]==="enter")tr.push(ir);else{const On=tr.pop();ir=et(pn,On,ir)}for(ir=-1;++ir<pn.length;){const On=e[pn[ir][0]];own$2.call(On,pn[ir][1].type)&&On[pn[ir][1].type].call(Object.assign({sliceSerialize:pn[ir][2].sliceSerialize},Kn),pn[ir][1])}if(Kn.tokenStack.length>0){const On=Kn.tokenStack[Kn.tokenStack.length-1];(On[1]||defaultOnError).call(Kn,void 0,On[0])}for(Rn.position={start:point(pn.length>0?pn[0][1].start:{line:1,column:1,offset:0}),end:point(pn.length>0?pn[pn.length-2][1].end:{line:1,column:1,offset:0})},ir=-1;++ir<e.transforms.length;)Rn=e.transforms[ir](Rn)||Rn;return Rn}function et(pn,Rn,Kn){let tr=Rn-1,ir=-1,On=!1,Qn,Xn,or,lr;for(;++tr<=Kn;){const Un=pn[tr];switch(Un[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Un[0]==="enter"?ir++:ir--,lr=void 0;break}case"lineEndingBlank":{Un[0]==="enter"&&(Qn&&!lr&&!ir&&!or&&(or=tr),lr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:lr=void 0}if(!ir&&Un[0]==="enter"&&Un[1].type==="listItemPrefix"||ir===-1&&Un[0]==="exit"&&(Un[1].type==="listUnordered"||Un[1].type==="listOrdered")){if(Qn){let En=tr;for(Xn=void 0;En--;){const mn=pn[En];if(mn[1].type==="lineEnding"||mn[1].type==="lineEndingBlank"){if(mn[0]==="exit")continue;Xn&&(pn[Xn][1].type="lineEndingBlank",On=!0),mn[1].type="lineEnding",Xn=En}else if(!(mn[1].type==="linePrefix"||mn[1].type==="blockQuotePrefix"||mn[1].type==="blockQuotePrefixWhitespace"||mn[1].type==="blockQuoteMarker"||mn[1].type==="listItemIndent"))break}or&&(!Xn||or<Xn)&&(Qn._spread=!0),Qn.end=Object.assign({},Xn?pn[Xn][1].start:Un[1].end),pn.splice(Xn||tr,0,["exit",Qn,Un[2]]),tr++,Kn++}if(Un[1].type==="listItemPrefix"){const En={type:"listItem",_spread:!1,start:Object.assign({},Un[1].start),end:void 0};Qn=En,pn.splice(tr,0,["enter",En,Un[2]]),tr++,Kn++,or=void 0,lr=!0}}}return pn[Rn][1]._spread=On,Kn}function tt(pn,Rn){return Kn;function Kn(tr){rt.call(this,pn(tr),tr),Rn&&Rn.call(this,tr)}}function nt(){this.stack.push({type:"fragment",children:[]})}function rt(pn,Rn,Kn){this.stack[this.stack.length-1].children.push(pn),this.stack.push(pn),this.tokenStack.push([Rn,Kn||void 0]),pn.position={start:point(Rn.start),end:void 0}}function mt(pn){return Rn;function Rn(Kn){pn&&pn.call(this,Kn),gt.call(this,Kn)}}function gt(pn,Rn){const Kn=this.stack.pop(),tr=this.tokenStack.pop();if(tr)tr[0].type!==pn.type&&(Rn?Rn.call(this,pn,tr[0]):(tr[1]||defaultOnError).call(this,pn,tr[0]));else throw new Error("Cannot close `"+pn.type+"` ("+stringifyPosition({start:pn.start,end:pn.end})+"): its not open");Kn.position.end=point(pn.end)}function yt(){return toString$1(this.stack.pop())}function vt(){this.data.expectingFirstListItemValue=!0}function xt(pn){if(this.data.expectingFirstListItemValue){const Rn=this.stack[this.stack.length-2];Rn.start=Number.parseInt(this.sliceSerialize(pn),10),this.data.expectingFirstListItemValue=void 0}}function bt(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.lang=pn}function Et(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.meta=pn}function wt(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function St(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.value=pn.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function Tt(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.value=pn.replace(/(\r?\n|\r)$/g,"")}function kt(pn){const Rn=this.resume(),Kn=this.stack[this.stack.length-1];Kn.label=Rn,Kn.identifier=normalizeIdentifier(this.sliceSerialize(pn)).toLowerCase()}function _t(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.title=pn}function Mt(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.url=pn}function Pt(pn){const Rn=this.stack[this.stack.length-1];if(!Rn.depth){const Kn=this.sliceSerialize(pn).length;Rn.depth=Kn}}function It(){this.data.setextHeadingSlurpLineEnding=!0}function Dt(pn){const Rn=this.stack[this.stack.length-1];Rn.depth=this.sliceSerialize(pn).codePointAt(0)===61?1:2}function Ct(){this.data.setextHeadingSlurpLineEnding=void 0}function At(pn){const Kn=this.stack[this.stack.length-1].children;let tr=Kn[Kn.length-1];(!tr||tr.type!=="text")&&(tr=wn(),tr.position={start:point(pn.start),end:void 0},Kn.push(tr)),this.stack.push(tr)}function Lt(pn){const Rn=this.stack.pop();Rn.value+=this.sliceSerialize(pn),Rn.position.end=point(pn.end)}function jt(pn){const Rn=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Kn=Rn.children[Rn.children.length-1];Kn.position.end=point(pn.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Rn.type)&&(At.call(this,pn),Lt.call(this,pn))}function Bt(){this.data.atHardBreak=!0}function zt(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.value=pn}function Yt(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.value=pn}function en(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.value=pn}function rn(){const pn=this.stack[this.stack.length-1];if(this.data.inReference){const Rn=this.data.referenceType||"shortcut";pn.type+="Reference",pn.referenceType=Rn,delete pn.url,delete pn.title}else delete pn.identifier,delete pn.label;this.data.referenceType=void 0}function on(){const pn=this.stack[this.stack.length-1];if(this.data.inReference){const Rn=this.data.referenceType||"shortcut";pn.type+="Reference",pn.referenceType=Rn,delete pn.url,delete pn.title}else delete pn.identifier,delete pn.label;this.data.referenceType=void 0}function Zt(pn){const Rn=this.sliceSerialize(pn),Kn=this.stack[this.stack.length-2];Kn.label=decodeString(Rn),Kn.identifier=normalizeIdentifier(Rn).toLowerCase()}function an(){const pn=this.stack[this.stack.length-1],Rn=this.resume(),Kn=this.stack[this.stack.length-1];if(this.data.inReference=!0,Kn.type==="link"){const tr=pn.children;Kn.children=tr}else Kn.alt=Rn}function Xt(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.url=pn}function yn(){const pn=this.resume(),Rn=this.stack[this.stack.length-1];Rn.title=pn}function vn(){this.data.inReference=void 0}function Nt(){this.data.referenceType="collapsed"}function $t(pn){const Rn=this.resume(),Kn=this.stack[this.stack.length-1];Kn.label=Rn,Kn.identifier=normalizeIdentifier(this.sliceSerialize(pn)).toLowerCase(),this.data.referenceType="full"}function Ot(pn){this.data.characterReferenceType=pn.type}function Ft(pn){const Rn=this.sliceSerialize(pn),Kn=this.data.characterReferenceType;let tr;Kn?(tr=decodeNumericCharacterReference(Rn,Kn==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tr=decodeNamedCharacterReference(Rn);const ir=this.stack[this.stack.length-1];ir.value+=tr}function Ut(pn){const Rn=this.stack.pop();Rn.position.end=point(pn.end)}function Gt(pn){Lt.call(this,pn);const Rn=this.stack[this.stack.length-1];Rn.url=this.sliceSerialize(pn)}function Vt(pn){Lt.call(this,pn);const Rn=this.stack[this.stack.length-1];Rn.url="mailto:"+this.sliceSerialize(pn)}function Kt(){return{type:"blockquote",children:[]}}function Jt(){return{type:"code",lang:null,meta:null,value:""}}function nn(){return{type:"inlineCode",value:""}}function sn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gn(){return{type:"emphasis",children:[]}}function fn(){return{type:"heading",depth:0,children:[]}}function In(){return{type:"break"}}function Dn(){return{type:"html",value:""}}function Gn(){return{type:"image",title:null,url:"",alt:null}}function rr(){return{type:"link",title:null,url:"",children:[]}}function Bn(pn){return{type:"list",ordered:pn.type==="listOrdered",start:null,spread:pn._spread,children:[]}}function An(pn){return{type:"listItem",spread:pn._spread,checked:null,children:[]}}function Sn(){return{type:"paragraph",children:[]}}function xn(){return{type:"strong",children:[]}}function wn(){return{type:"text",value:""}}function jn(){return{type:"thematicBreak"}}}function point(a){return{line:a.line,column:a.column,offset:a.offset}}function configure(a,e){let o=-1;for(;++o<e.length;){const c=e[o];Array.isArray(c)?configure(a,c):extension(a,c)}}function extension(a,e){let o;for(o in e)if(own$2.call(e,o))switch(o){case"canContainEols":{const c=e[o];c&&a[o].push(...c);break}case"transforms":{const c=e[o];c&&a[o].push(...c);break}case"enter":case"exit":{const c=e[o];c&&Object.assign(a[o],c);break}}}function defaultOnError(a,e){throw a?new Error("Cannot close `"+a.type+"` ("+stringifyPosition({start:a.start,end:a.end})+"): a different token (`"+e.type+"`, "+stringifyPosition({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+stringifyPosition({start:e.start,end:e.end})+") is still open")}function remarkParse(a){const e=this;e.parser=o;function o(c){return fromMarkdown(c,{...e.data("settings"),...a,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function blockquote$1(a,e){const o={type:"element",tagName:"blockquote",properties:{},children:a.wrap(a.all(e),!0)};return a.patch(e,o),a.applyData(e,o)}function hardBreak$1(a,e){const o={type:"element",tagName:"br",properties:{},children:[]};return a.patch(e,o),[a.applyData(e,o),{type:"text",value:`
`}]}function code$2(a,e){const o=e.value?e.value+`
`:"",c={},et=e.lang?e.lang.split(/\s+/):[];et.length>0&&(c.className=["language-"+et[0]]);let tt={type:"element",tagName:"code",properties:c,children:[{type:"text",value:o}]};return e.meta&&(tt.data={meta:e.meta}),a.patch(e,tt),tt=a.applyData(e,tt),tt={type:"element",tagName:"pre",properties:{},children:[tt]},a.patch(e,tt),tt}function strikethrough(a,e){const o={type:"element",tagName:"del",properties:{},children:a.all(e)};return a.patch(e,o),a.applyData(e,o)}function emphasis$1(a,e){const o={type:"element",tagName:"em",properties:{},children:a.all(e)};return a.patch(e,o),a.applyData(e,o)}function footnoteReference$1(a,e){const o=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",c=String(e.identifier).toUpperCase(),et=normalizeUri(c.toLowerCase()),tt=a.footnoteOrder.indexOf(c);let nt,rt=a.footnoteCounts.get(c);rt===void 0?(rt=0,a.footnoteOrder.push(c),nt=a.footnoteOrder.length):nt=tt+1,rt+=1,a.footnoteCounts.set(c,rt);const mt={type:"element",tagName:"a",properties:{href:"#"+o+"fn-"+et,id:o+"fnref-"+et+(rt>1?"-"+rt:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(nt)}]};a.patch(e,mt);const gt={type:"element",tagName:"sup",properties:{},children:[mt]};return a.patch(e,gt),a.applyData(e,gt)}function heading$1(a,e){const o={type:"element",tagName:"h"+e.depth,properties:{},children:a.all(e)};return a.patch(e,o),a.applyData(e,o)}function html$1(a,e){if(a.options.allowDangerousHtml){const o={type:"raw",value:e.value};return a.patch(e,o),a.applyData(e,o)}}function revert(a,e){const o=e.referenceType;let c="]";if(o==="collapsed"?c+="[]":o==="full"&&(c+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+c}];const et=a.all(e),tt=et[0];tt&&tt.type==="text"?tt.value="["+tt.value:et.unshift({type:"text",value:"["});const nt=et[et.length-1];return nt&&nt.type==="text"?nt.value+=c:et.push({type:"text",value:c}),et}function imageReference$1(a,e){const o=String(e.identifier).toUpperCase(),c=a.definitionById.get(o);if(!c)return revert(a,e);const et={src:normalizeUri(c.url||""),alt:e.alt};c.title!==null&&c.title!==void 0&&(et.title=c.title);const tt={type:"element",tagName:"img",properties:et,children:[]};return a.patch(e,tt),a.applyData(e,tt)}function image$1(a,e){const o={src:normalizeUri(e.url)};e.alt!==null&&e.alt!==void 0&&(o.alt=e.alt),e.title!==null&&e.title!==void 0&&(o.title=e.title);const c={type:"element",tagName:"img",properties:o,children:[]};return a.patch(e,c),a.applyData(e,c)}function inlineCode$1(a,e){const o={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};a.patch(e,o);const c={type:"element",tagName:"code",properties:{},children:[o]};return a.patch(e,c),a.applyData(e,c)}function linkReference$1(a,e){const o=String(e.identifier).toUpperCase(),c=a.definitionById.get(o);if(!c)return revert(a,e);const et={href:normalizeUri(c.url||"")};c.title!==null&&c.title!==void 0&&(et.title=c.title);const tt={type:"element",tagName:"a",properties:et,children:a.all(e)};return a.patch(e,tt),a.applyData(e,tt)}function link$1(a,e){const o={href:normalizeUri(e.url)};e.title!==null&&e.title!==void 0&&(o.title=e.title);const c={type:"element",tagName:"a",properties:o,children:a.all(e)};return a.patch(e,c),a.applyData(e,c)}function listItem$1(a,e,o){const c=a.all(e),et=o?listLoose(o):listItemLoose(e),tt={},nt=[];if(typeof e.checked=="boolean"){const yt=c[0];let vt;yt&&yt.type==="element"&&yt.tagName==="p"?vt=yt:(vt={type:"element",tagName:"p",properties:{},children:[]},c.unshift(vt)),vt.children.length>0&&vt.children.unshift({type:"text",value:" "}),vt.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),tt.className=["task-list-item"]}let rt=-1;for(;++rt<c.length;){const yt=c[rt];(et||rt!==0||yt.type!=="element"||yt.tagName!=="p")&&nt.push({type:"text",value:`
`}),yt.type==="element"&&yt.tagName==="p"&&!et?nt.push(...yt.children):nt.push(yt)}const mt=c[c.length-1];mt&&(et||mt.type!=="element"||mt.tagName!=="p")&&nt.push({type:"text",value:`
`});const gt={type:"element",tagName:"li",properties:tt,children:nt};return a.patch(e,gt),a.applyData(e,gt)}function listLoose(a){let e=!1;if(a.type==="list"){e=a.spread||!1;const o=a.children;let c=-1;for(;!e&&++c<o.length;)e=listItemLoose(o[c])}return e}function listItemLoose(a){const e=a.spread;return e??a.children.length>1}function list$1(a,e){const o={},c=a.all(e);let et=-1;for(typeof e.start=="number"&&e.start!==1&&(o.start=e.start);++et<c.length;){const nt=c[et];if(nt.type==="element"&&nt.tagName==="li"&&nt.properties&&Array.isArray(nt.properties.className)&&nt.properties.className.includes("task-list-item")){o.className=["contains-task-list"];break}}const tt={type:"element",tagName:e.ordered?"ol":"ul",properties:o,children:a.wrap(c,!0)};return a.patch(e,tt),a.applyData(e,tt)}function paragraph$1(a,e){const o={type:"element",tagName:"p",properties:{},children:a.all(e)};return a.patch(e,o),a.applyData(e,o)}function root$2(a,e){const o={type:"root",children:a.wrap(a.all(e))};return a.patch(e,o),a.applyData(e,o)}function strong$1(a,e){const o={type:"element",tagName:"strong",properties:{},children:a.all(e)};return a.patch(e,o),a.applyData(e,o)}function table(a,e){const o=a.all(e),c=o.shift(),et=[];if(c){const nt={type:"element",tagName:"thead",properties:{},children:a.wrap([c],!0)};a.patch(e.children[0],nt),et.push(nt)}if(o.length>0){const nt={type:"element",tagName:"tbody",properties:{},children:a.wrap(o,!0)},rt=pointStart(e.children[1]),mt=pointEnd(e.children[e.children.length-1]);rt&&mt&&(nt.position={start:rt,end:mt}),et.push(nt)}const tt={type:"element",tagName:"table",properties:{},children:a.wrap(et,!0)};return a.patch(e,tt),a.applyData(e,tt)}function tableRow(a,e,o){const c=o?o.children:void 0,tt=(c?c.indexOf(e):1)===0?"th":"td",nt=o&&o.type==="table"?o.align:void 0,rt=nt?nt.length:e.children.length;let mt=-1;const gt=[];for(;++mt<rt;){const vt=e.children[mt],xt={},bt=nt?nt[mt]:void 0;bt&&(xt.align=bt);let Et={type:"element",tagName:tt,properties:xt,children:[]};vt&&(Et.children=a.all(vt),a.patch(vt,Et),Et=a.applyData(vt,Et)),gt.push(Et)}const yt={type:"element",tagName:"tr",properties:{},children:a.wrap(gt,!0)};return a.patch(e,yt),a.applyData(e,yt)}function tableCell(a,e){const o={type:"element",tagName:"td",properties:{},children:a.all(e)};return a.patch(e,o),a.applyData(e,o)}const tab=9,space=32;function trimLines(a){const e=String(a),o=/\r?\n|\r/g;let c=o.exec(e),et=0;const tt=[];for(;c;)tt.push(trimLine(e.slice(et,c.index),et>0,!0),c[0]),et=c.index+c[0].length,c=o.exec(e);return tt.push(trimLine(e.slice(et),et>0,!1)),tt.join("")}function trimLine(a,e,o){let c=0,et=a.length;if(e){let tt=a.codePointAt(c);for(;tt===tab||tt===space;)c++,tt=a.codePointAt(c)}if(o){let tt=a.codePointAt(et-1);for(;tt===tab||tt===space;)et--,tt=a.codePointAt(et-1)}return et>c?a.slice(c,et):""}function text$5(a,e){const o={type:"text",value:trimLines(String(e.value))};return a.patch(e,o),a.applyData(e,o)}function thematicBreak$1(a,e){const o={type:"element",tagName:"hr",properties:{},children:[]};return a.patch(e,o),a.applyData(e,o)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$2,strong:strong$1,table,tableCell,tableRow,text:text$5,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(a,e)=>{const o=(et,tt)=>(a.set(tt,et),et),c=et=>{if(a.has(et))return a.get(et);const[tt,nt]=e[et];switch(tt){case PRIMITIVE:case VOID:return o(nt,et);case ARRAY:{const rt=o([],et);for(const mt of nt)rt.push(c(mt));return rt}case OBJECT:{const rt=o({},et);for(const[mt,gt]of nt)rt[c(mt)]=c(gt);return rt}case DATE:return o(new Date(nt),et);case REGEXP:{const{source:rt,flags:mt}=nt;return o(new RegExp(rt,mt),et)}case MAP:{const rt=o(new Map,et);for(const[mt,gt]of nt)rt.set(c(mt),c(gt));return rt}case SET:{const rt=o(new Set,et);for(const mt of nt)rt.add(c(mt));return rt}case ERROR:{const{name:rt,message:mt}=nt;return o(new env[rt](mt),et)}case BIGINT:return o(BigInt(nt),et);case"BigInt":return o(Object(BigInt(nt)),et)}return o(new env[tt](nt),et)};return c},deserialize=a=>deserializer(new Map,a)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=a=>{const e=typeof a;if(e!=="object"||!a)return[PRIMITIVE,e];const o=toString.call(a).slice(8,-1);switch(o){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY]}return o.includes("Array")?[ARRAY,o]:o.includes("Error")?[ERROR,o]:[OBJECT,o]},shouldSkip=([a,e])=>a===PRIMITIVE&&(e==="function"||e==="symbol"),serializer=(a,e,o,c)=>{const et=(nt,rt)=>{const mt=c.push(nt)-1;return o.set(rt,mt),mt},tt=nt=>{if(o.has(nt))return o.get(nt);let[rt,mt]=typeOf(nt);switch(rt){case PRIMITIVE:{let yt=nt;switch(mt){case"bigint":rt=BIGINT,yt=nt.toString();break;case"function":case"symbol":if(a)throw new TypeError("unable to serialize "+mt);yt=null;break;case"undefined":return et([VOID],nt)}return et([rt,yt],nt)}case ARRAY:{if(mt)return et([mt,[...nt]],nt);const yt=[],vt=et([rt,yt],nt);for(const xt of nt)yt.push(tt(xt));return vt}case OBJECT:{if(mt)switch(mt){case"BigInt":return et([mt,nt.toString()],nt);case"Boolean":case"Number":case"String":return et([mt,nt.valueOf()],nt)}if(e&&"toJSON"in nt)return tt(nt.toJSON());const yt=[],vt=et([rt,yt],nt);for(const xt of keys(nt))(a||!shouldSkip(typeOf(nt[xt])))&&yt.push([tt(xt),tt(nt[xt])]);return vt}case DATE:return et([rt,nt.toISOString()],nt);case REGEXP:{const{source:yt,flags:vt}=nt;return et([rt,{source:yt,flags:vt}],nt)}case MAP:{const yt=[],vt=et([rt,yt],nt);for(const[xt,bt]of nt)(a||!(shouldSkip(typeOf(xt))||shouldSkip(typeOf(bt))))&&yt.push([tt(xt),tt(bt)]);return vt}case SET:{const yt=[],vt=et([rt,yt],nt);for(const xt of nt)(a||!shouldSkip(typeOf(xt)))&&yt.push(tt(xt));return vt}}const{message:gt}=nt;return et([rt,{name:mt,message:gt}],nt)};return tt},serialize$1=(a,{json:e,lossy:o}={})=>{const c=[];return serializer(!(e||o),!!e,new Map,c)(a),c},structuredClone$1=typeof structuredClone=="function"?(a,e)=>e&&("json"in e||"lossy"in e)?deserialize(serialize$1(a,e)):structuredClone(a):(a,e)=>deserialize(serialize$1(a,e));function defaultFootnoteBackContent(a,e){const o=[{type:"text",value:""}];return e>1&&o.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),o}function defaultFootnoteBackLabel(a,e){return"Back to reference "+(a+1)+(e>1?"-"+e:"")}function footer(a){const e=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",o=a.options.footnoteBackContent||defaultFootnoteBackContent,c=a.options.footnoteBackLabel||defaultFootnoteBackLabel,et=a.options.footnoteLabel||"Footnotes",tt=a.options.footnoteLabelTagName||"h2",nt=a.options.footnoteLabelProperties||{className:["sr-only"]},rt=[];let mt=-1;for(;++mt<a.footnoteOrder.length;){const gt=a.footnoteById.get(a.footnoteOrder[mt]);if(!gt)continue;const yt=a.all(gt),vt=String(gt.identifier).toUpperCase(),xt=normalizeUri(vt.toLowerCase());let bt=0;const Et=[],wt=a.footnoteCounts.get(vt);for(;wt!==void 0&&++bt<=wt;){Et.length>0&&Et.push({type:"text",value:" "});let kt=typeof o=="string"?o:o(mt,bt);typeof kt=="string"&&(kt={type:"text",value:kt}),Et.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+xt+(bt>1?"-"+bt:""),dataFootnoteBackref:"",ariaLabel:typeof c=="string"?c:c(mt,bt),className:["data-footnote-backref"]},children:Array.isArray(kt)?kt:[kt]})}const St=yt[yt.length-1];if(St&&St.type==="element"&&St.tagName==="p"){const kt=St.children[St.children.length-1];kt&&kt.type==="text"?kt.value+=" ":St.children.push({type:"text",value:" "}),St.children.push(...Et)}else yt.push(...Et);const Tt={type:"element",tagName:"li",properties:{id:e+"fn-"+xt},children:a.wrap(yt,!0)};a.patch(gt,Tt),rt.push(Tt)}if(rt.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:tt,properties:{...structuredClone$1(nt),id:"footnote-label"},children:[{type:"text",value:et}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:a.wrap(rt,!0)},{type:"text",value:`
`}]}}const convert=function(a){if(a==null)return ok;if(typeof a=="function")return castFactory$1(a);if(typeof a=="object")return Array.isArray(a)?anyFactory$1(a):propertiesFactory(a);if(typeof a=="string")return typeFactory(a);throw new Error("Expected function, string, or object as test")};function anyFactory$1(a){const e=[];let o=-1;for(;++o<a.length;)e[o]=convert(a[o]);return castFactory$1(c);function c(...et){let tt=-1;for(;++tt<e.length;)if(e[tt].apply(this,et))return!0;return!1}}function propertiesFactory(a){const e=a;return castFactory$1(o);function o(c){const et=c;let tt;for(tt in a)if(et[tt]!==e[tt])return!1;return!0}}function typeFactory(a){return castFactory$1(e);function e(o){return o&&o.type===a}}function castFactory$1(a){return e;function e(o,c,et){return!!(looksLikeANode(o)&&a.call(this,o,typeof c=="number"?c:void 0,et||void 0))}}function ok(){return!0}function looksLikeANode(a){return a!==null&&typeof a=="object"&&"type"in a}function color(a){return a}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(a,e,o,c){let et;typeof e=="function"&&typeof o!="function"?(c=o,o=e):et=e;const tt=convert(et),nt=c?-1:1;rt(a,void 0,[])();function rt(mt,gt,yt){const vt=mt&&typeof mt=="object"?mt:{};if(typeof vt.type=="string"){const bt=typeof vt.tagName=="string"?vt.tagName:typeof vt.name=="string"?vt.name:void 0;Object.defineProperty(xt,"name",{value:"node ("+(mt.type+(bt?"<"+bt+">":""))+")"})}return xt;function xt(){let bt=empty,Et,wt,St;if((!e||tt(mt,gt,yt[yt.length-1]||void 0))&&(bt=toResult(o(mt,yt)),bt[0]===EXIT))return bt;if("children"in mt&&mt.children){const Tt=mt;if(Tt.children&&bt[0]!==SKIP)for(wt=(c?Tt.children.length:-1)+nt,St=yt.concat(Tt);wt>-1&&wt<Tt.children.length;){const kt=Tt.children[wt];if(Et=rt(kt,wt,St)(),Et[0]===EXIT)return Et;wt=typeof Et[1]=="number"?Et[1]:wt+nt}}return bt}}}function toResult(a){return Array.isArray(a)?a:typeof a=="number"?[CONTINUE,a]:a==null?empty:[a]}function visit(a,e,o,c){let et,tt,nt;typeof e=="function"&&typeof o!="function"?(tt=void 0,nt=e,et=o):(tt=e,nt=o,et=c),visitParents(a,tt,rt,et);function rt(mt,gt){const yt=gt[gt.length-1],vt=yt?yt.children.indexOf(mt):void 0;return nt(mt,vt,yt)}}const own$1={}.hasOwnProperty,emptyOptions$3={};function createState(a,e){const o=e||emptyOptions$3,c=new Map,et=new Map,tt=new Map,nt={...handlers,...o.handlers},rt={all:gt,applyData,definitionById:c,footnoteById:et,footnoteCounts:tt,footnoteOrder:[],handlers:nt,one:mt,options:o,patch,wrap:wrap$1};return visit(a,function(yt){if(yt.type==="definition"||yt.type==="footnoteDefinition"){const vt=yt.type==="definition"?c:et,xt=String(yt.identifier).toUpperCase();vt.has(xt)||vt.set(xt,yt)}}),rt;function mt(yt,vt){const xt=yt.type,bt=rt.handlers[xt];if(own$1.call(rt.handlers,xt)&&bt)return bt(rt,yt,vt);if(rt.options.passThrough&&rt.options.passThrough.includes(xt)){if("children"in yt){const{children:wt,...St}=yt,Tt=structuredClone$1(St);return Tt.children=rt.all(yt),Tt}return structuredClone$1(yt)}return(rt.options.unknownHandler||defaultUnknownHandler)(rt,yt,vt)}function gt(yt){const vt=[];if("children"in yt){const xt=yt.children;let bt=-1;for(;++bt<xt.length;){const Et=rt.one(xt[bt],yt);if(Et){if(bt&&xt[bt-1].type==="break"&&(!Array.isArray(Et)&&Et.type==="text"&&(Et.value=trimMarkdownSpaceStart(Et.value)),!Array.isArray(Et)&&Et.type==="element")){const wt=Et.children[0];wt&&wt.type==="text"&&(wt.value=trimMarkdownSpaceStart(wt.value))}Array.isArray(Et)?vt.push(...Et):vt.push(Et)}}}return vt}}function patch(a,e){a.position&&(e.position=position$1(a))}function applyData(a,e){let o=e;if(a&&a.data){const c=a.data.hName,et=a.data.hChildren,tt=a.data.hProperties;if(typeof c=="string")if(o.type==="element")o.tagName=c;else{const nt="children"in o?o.children:[o];o={type:"element",tagName:c,properties:{},children:nt}}o.type==="element"&&tt&&Object.assign(o.properties,structuredClone$1(tt)),"children"in o&&o.children&&et!==null&&et!==void 0&&(o.children=et)}return o}function defaultUnknownHandler(a,e){const o=e.data||{},c="value"in e&&!(own$1.call(o,"hProperties")||own$1.call(o,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:a.all(e)};return a.patch(e,c),a.applyData(e,c)}function wrap$1(a,e){const o=[];let c=-1;for(e&&o.push({type:"text",value:`
`});++c<a.length;)c&&o.push({type:"text",value:`
`}),o.push(a[c]);return e&&a.length>0&&o.push({type:"text",value:`
`}),o}function trimMarkdownSpaceStart(a){let e=0,o=a.charCodeAt(e);for(;o===9||o===32;)e++,o=a.charCodeAt(e);return a.slice(e)}function toHast(a,e){const o=createState(a,e),c=o.one(a,void 0),et=footer(o),tt=Array.isArray(c)?{type:"root",children:c}:c||{type:"root",children:[]};return et&&tt.children.push({type:"text",value:`
`},et),tt}function remarkRehype(a,e){return a&&"run"in a?async function(o,c){const et=toHast(o,{file:c,...e});await a.run(et,c)}:function(o,c){return toHast(o,{file:c,...a||e})}}function bail(a){if(a)throw a}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(e){return typeof Array.isArray=="function"?Array.isArray(e):toStr.call(e)==="[object Array]"},isPlainObject$1=function(e){if(!e||toStr.call(e)!=="[object Object]")return!1;var o=hasOwn.call(e,"constructor"),c=e.constructor&&e.constructor.prototype&&hasOwn.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!c)return!1;var et;for(et in e);return typeof et>"u"||hasOwn.call(e,et)},setProperty=function(e,o){defineProperty&&o.name==="__proto__"?defineProperty(e,o.name,{enumerable:!0,configurable:!0,value:o.newValue,writable:!0}):e[o.name]=o.newValue},getProperty=function(e,o){if(o==="__proto__")if(hasOwn.call(e,o)){if(gOPD)return gOPD(e,o).value}else return;return e[o]},extend=function a(){var e,o,c,et,tt,nt,rt=arguments[0],mt=1,gt=arguments.length,yt=!1;for(typeof rt=="boolean"&&(yt=rt,rt=arguments[1]||{},mt=2),(rt==null||typeof rt!="object"&&typeof rt!="function")&&(rt={});mt<gt;++mt)if(e=arguments[mt],e!=null)for(o in e)c=getProperty(rt,o),et=getProperty(e,o),rt!==et&&(yt&&et&&(isPlainObject$1(et)||(tt=isArray(et)))?(tt?(tt=!1,nt=c&&isArray(c)?c:[]):nt=c&&isPlainObject$1(c)?c:{},setProperty(rt,{name:o,newValue:a(yt,nt,et)})):typeof et<"u"&&setProperty(rt,{name:o,newValue:et}));return rt};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(a){if(typeof a!="object"||a===null)return!1;const e=Object.getPrototypeOf(a);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)}function trough(){const a=[],e={run:o,use:c};return e;function o(...et){let tt=-1;const nt=et.pop();if(typeof nt!="function")throw new TypeError("Expected function as last argument, not "+nt);rt(null,...et);function rt(mt,...gt){const yt=a[++tt];let vt=-1;if(mt){nt(mt);return}for(;++vt<et.length;)(gt[vt]===null||gt[vt]===void 0)&&(gt[vt]=et[vt]);et=gt,yt?wrap(yt,rt)(...gt):nt(null,...gt)}}function c(et){if(typeof et!="function")throw new TypeError("Expected `middelware` to be a function, not "+et);return a.push(et),e}}function wrap(a,e){let o;return c;function c(...nt){const rt=a.length>nt.length;let mt;rt&&nt.push(et);try{mt=a.apply(this,nt)}catch(gt){const yt=gt;if(rt&&o)throw yt;return et(yt)}rt||(mt&&mt.then&&typeof mt.then=="function"?mt.then(tt,et):mt instanceof Error?et(mt):tt(mt))}function et(nt,...rt){o||(o=!0,e(nt,...rt))}function tt(nt){et(null,nt)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(a,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(a);let o=0,c=-1,et=a.length,tt;if(e===void 0||e.length===0||e.length>a.length){for(;et--;)if(a.codePointAt(et)===47){if(tt){o=et+1;break}}else c<0&&(tt=!0,c=et+1);return c<0?"":a.slice(o,c)}if(e===a)return"";let nt=-1,rt=e.length-1;for(;et--;)if(a.codePointAt(et)===47){if(tt){o=et+1;break}}else nt<0&&(tt=!0,nt=et+1),rt>-1&&(a.codePointAt(et)===e.codePointAt(rt--)?rt<0&&(c=et):(rt=-1,c=nt));return o===c?c=nt:c<0&&(c=a.length),a.slice(o,c)}function dirname(a){if(assertPath$1(a),a.length===0)return".";let e=-1,o=a.length,c;for(;--o;)if(a.codePointAt(o)===47){if(c){e=o;break}}else c||(c=!0);return e<0?a.codePointAt(0)===47?"/":".":e===1&&a.codePointAt(0)===47?"//":a.slice(0,e)}function extname(a){assertPath$1(a);let e=a.length,o=-1,c=0,et=-1,tt=0,nt;for(;e--;){const rt=a.codePointAt(e);if(rt===47){if(nt){c=e+1;break}continue}o<0&&(nt=!0,o=e+1),rt===46?et<0?et=e:tt!==1&&(tt=1):et>-1&&(tt=-1)}return et<0||o<0||tt===0||tt===1&&et===o-1&&et===c+1?"":a.slice(et,o)}function join(...a){let e=-1,o;for(;++e<a.length;)assertPath$1(a[e]),a[e]&&(o=o===void 0?a[e]:o+"/"+a[e]);return o===void 0?".":normalize(o)}function normalize(a){assertPath$1(a);const e=a.codePointAt(0)===47;let o=normalizeString(a,!e);return o.length===0&&!e&&(o="."),o.length>0&&a.codePointAt(a.length-1)===47&&(o+="/"),e?"/"+o:o}function normalizeString(a,e){let o="",c=0,et=-1,tt=0,nt=-1,rt,mt;for(;++nt<=a.length;){if(nt<a.length)rt=a.codePointAt(nt);else{if(rt===47)break;rt=47}if(rt===47){if(!(et===nt-1||tt===1))if(et!==nt-1&&tt===2){if(o.length<2||c!==2||o.codePointAt(o.length-1)!==46||o.codePointAt(o.length-2)!==46){if(o.length>2){if(mt=o.lastIndexOf("/"),mt!==o.length-1){mt<0?(o="",c=0):(o=o.slice(0,mt),c=o.length-1-o.lastIndexOf("/")),et=nt,tt=0;continue}}else if(o.length>0){o="",c=0,et=nt,tt=0;continue}}e&&(o=o.length>0?o+"/..":"..",c=2)}else o.length>0?o+="/"+a.slice(et+1,nt):o=a.slice(et+1,nt),c=nt-et-1;et=nt,tt=0}else rt===46&&tt>-1?tt++:tt=-1}return o}function assertPath$1(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}const minproc={cwd};function cwd(){return"/"}function isUrl(a){return!!(a!==null&&typeof a=="object"&&"href"in a&&a.href&&"protocol"in a&&a.protocol&&a.auth===void 0)}function urlToPath(a){if(typeof a=="string")a=new URL(a);else if(!isUrl(a)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+a+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(a.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return getPathFromURLPosix(a)}function getPathFromURLPosix(a){if(a.hostname!==""){const c=new TypeError('File URL host must be "localhost" or empty on darwin');throw c.code="ERR_INVALID_FILE_URL_HOST",c}const e=a.pathname;let o=-1;for(;++o<e.length;)if(e.codePointAt(o)===37&&e.codePointAt(o+1)===50){const c=e.codePointAt(o+2);if(c===70||c===102){const et=new TypeError("File URL path must not include encoded / characters");throw et.code="ERR_INVALID_FILE_URL_PATH",et}}return decodeURIComponent(e)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(e){let o;e?isUrl(e)?o={path:e}:typeof e=="string"||isUint8Array$1(e)?o={value:e}:o=e:o={},this.cwd="cwd"in o?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let c=-1;for(;++c<order.length;){const tt=order[c];tt in o&&o[tt]!==void 0&&o[tt]!==null&&(this[tt]=tt==="history"?[...o[tt]]:o[tt])}let et;for(et in o)order.includes(et)||(this[et]=o[et])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(e){assertNonEmpty(e,"basename"),assertPart(e,"basename"),this.path=minpath.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(e){assertPath(this.basename,"dirname"),this.path=minpath.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(e){if(assertPart(e,"extname"),assertPath(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){isUrl(e)&&(e=urlToPath(e)),assertNonEmpty(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(e){assertNonEmpty(e,"stem"),assertPart(e,"stem"),this.path=minpath.join(this.dirname||"",e+(this.extname||""))}fail(e,o,c){const et=this.message(e,o,c);throw et.fatal=!0,et}info(e,o,c){const et=this.message(e,o,c);return et.fatal=void 0,et}message(e,o,c){const et=new VFileMessage(e,o,c);return this.path&&(et.name=this.path+":"+et.name,et.file=this.path),et.fatal=!1,this.messages.push(et),et}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function assertPart(a,e){if(a&&a.includes(minpath.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(a,e){if(!a)throw new Error("`"+e+"` cannot be empty")}function assertPath(a,e){if(!a)throw new Error("Setting `"+e+"` requires `path` to be set too")}function isUint8Array$1(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const CallableInstance=function(a){const c=this.constructor.prototype,et=c[a],tt=function(){return et.apply(tt,arguments)};return Object.setPrototypeOf(tt,c),tt},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const e=new Processor;let o=-1;for(;++o<this.attachers.length;){const c=this.attachers[o];e.use(...c)}return e.data(extend$1(!0,{},this.namespace)),e}data(e,o){return typeof e=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[e]=o,this):own.call(this.namespace,e)&&this.namespace[e]||void 0:e?(assertUnfrozen("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[o,...c]=this.attachers[this.freezeIndex];if(c[0]===!1)continue;c[0]===!0&&(c[0]=void 0);const et=o.call(e,...c);typeof et=="function"&&this.transformers.use(et)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const o=vfile(e),c=this.parser||this.Parser;return assertParser("parse",c),c(String(o),o)}process(e,o){const c=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),o?et(void 0,o):new Promise(et);function et(tt,nt){const rt=vfile(e),mt=c.parse(rt);c.run(mt,rt,function(yt,vt,xt){if(yt||!vt||!xt)return gt(yt);const bt=vt,Et=c.stringify(bt,xt);looksLikeAValue(Et)?xt.value=Et:xt.result=Et,gt(yt,xt)});function gt(yt,vt){yt||!vt?nt(yt):tt?tt(vt):o(void 0,vt)}}}processSync(e){let o=!1,c;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(e,et),assertDone("processSync","process",o),c;function et(tt,nt){o=!0,bail(tt),c=nt}}run(e,o,c){assertNode(e),this.freeze();const et=this.transformers;return!c&&typeof o=="function"&&(c=o,o=void 0),c?tt(void 0,c):new Promise(tt);function tt(nt,rt){const mt=vfile(o);et.run(e,mt,gt);function gt(yt,vt,xt){const bt=vt||e;yt?rt(yt):nt?nt(bt):c(void 0,bt,xt)}}}runSync(e,o){let c=!1,et;return this.run(e,o,tt),assertDone("runSync","run",c),et;function tt(nt,rt){bail(nt),et=rt,c=!0}}stringify(e,o){this.freeze();const c=vfile(o),et=this.compiler||this.Compiler;return assertCompiler("stringify",et),assertNode(e),et(e,c)}use(e,...o){const c=this.attachers,et=this.namespace;if(assertUnfrozen("use",this.frozen),e!=null)if(typeof e=="function")mt(e,o);else if(typeof e=="object")Array.isArray(e)?rt(e):nt(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function tt(gt){if(typeof gt=="function")mt(gt,[]);else if(typeof gt=="object")if(Array.isArray(gt)){const[yt,...vt]=gt;mt(yt,vt)}else nt(gt);else throw new TypeError("Expected usable value, not `"+gt+"`")}function nt(gt){if(!("plugins"in gt)&&!("settings"in gt))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");rt(gt.plugins),gt.settings&&(et.settings=extend$1(!0,et.settings,gt.settings))}function rt(gt){let yt=-1;if(gt!=null)if(Array.isArray(gt))for(;++yt<gt.length;){const vt=gt[yt];tt(vt)}else throw new TypeError("Expected a list of plugins, not `"+gt+"`")}function mt(gt,yt){let vt=-1,xt=-1;for(;++vt<c.length;)if(c[vt][0]===gt){xt=vt;break}if(xt===-1)c.push([gt,...yt]);else if(yt.length>0){let[bt,...Et]=yt;const wt=c[xt][1];isPlainObject(wt)&&isPlainObject(bt)&&(bt=extend$1(!0,wt,bt)),c[xt]=[gt,bt,...Et]}}}}const unified=new Processor().freeze();function assertParser(a,e){if(typeof e!="function")throw new TypeError("Cannot `"+a+"` without `parser`")}function assertCompiler(a,e){if(typeof e!="function")throw new TypeError("Cannot `"+a+"` without `compiler`")}function assertUnfrozen(a,e){if(e)throw new Error("Cannot call `"+a+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(a){if(!isPlainObject(a)||typeof a.type!="string")throw new TypeError("Expected node, got `"+a+"`")}function assertDone(a,e,o){if(!o)throw new Error("`"+a+"` finished async. Use `"+e+"` instead")}function vfile(a){return looksLikeAVFile(a)?a:new VFile(a)}function looksLikeAVFile(a){return!!(a&&typeof a=="object"&&"message"in a&&"messages"in a)}function looksLikeAValue(a){return typeof a=="string"||isUint8Array(a)}function isUint8Array(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(a){const e=createProcessor(a),o=createFile(a);return post(e.runSync(e.parse(o),o),a)}function createProcessor(a){const e=a.rehypePlugins||emptyPlugins,o=a.remarkPlugins||emptyPlugins,c=a.remarkRehypeOptions?{...a.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(o).use(remarkRehype,c).use(e)}function createFile(a){const e=a.children||"",o=new VFile;return typeof e=="string"&&(o.value=e),o}function post(a,e){const o=e.allowedElements,c=e.allowElement,et=e.components,tt=e.disallowedElements,nt=e.skipHtml,rt=e.unwrapDisallowed,mt=e.urlTransform||defaultUrlTransform;for(const yt of deprecations)Object.hasOwn(e,yt.from)&&(""+yt.from+(yt.to?"use `"+yt.to+"` instead":"remove it")+changelog+yt.id,void 0);return visit(a,gt),toJsxRuntime(a,{Fragment:jsxRuntimeExports.Fragment,components:et,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function gt(yt,vt,xt){if(yt.type==="raw"&&xt&&typeof vt=="number")return nt?xt.children.splice(vt,1):xt.children[vt]={type:"text",value:yt.value},vt;if(yt.type==="element"){let bt;for(bt in urlAttributes)if(Object.hasOwn(urlAttributes,bt)&&Object.hasOwn(yt.properties,bt)){const Et=yt.properties[bt],wt=urlAttributes[bt];(wt===null||wt.includes(yt.tagName))&&(yt.properties[bt]=mt(String(Et||""),bt,yt))}}if(yt.type==="element"){let bt=o?!o.includes(yt.tagName):tt?tt.includes(yt.tagName):!1;if(!bt&&c&&typeof vt=="number"&&(bt=!c(yt,vt,xt)),bt&&xt&&typeof vt=="number")return rt&&yt.children?xt.children.splice(vt,1,...yt.children):xt.children.splice(vt,1),vt}}}function defaultUrlTransform(a){const e=a.indexOf(":"),o=a.indexOf("?"),c=a.indexOf("#"),et=a.indexOf("/");return e===-1||et!==-1&&e>et||o!==-1&&e>o||c!==-1&&e>c||safeProtocol.test(a.slice(0,e))?a:""}function ccount(a,e){const o=String(a);if(typeof e!="string")throw new TypeError("Expected character");let c=0,et=o.indexOf(e);for(;et!==-1;)c++,et=o.indexOf(e,et+e.length);return c}function escapeStringRegexp(a){if(typeof a!="string")throw new TypeError("Expected a string");return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(a,e,o){const et=convert((o||{}).ignore||[]),tt=toPairs(e);let nt=-1;for(;++nt<tt.length;)visitParents(a,"text",rt);function rt(gt,yt){let vt=-1,xt;for(;++vt<yt.length;){const bt=yt[vt],Et=xt?xt.children:void 0;if(et(bt,Et?Et.indexOf(bt):void 0,xt))return;xt=bt}if(xt)return mt(gt,yt)}function mt(gt,yt){const vt=yt[yt.length-1],xt=tt[nt][0],bt=tt[nt][1];let Et=0;const St=vt.children.indexOf(gt);let Tt=!1,kt=[];xt.lastIndex=0;let _t=xt.exec(gt.value);for(;_t;){const Mt=_t.index,Pt={index:_t.index,input:_t.input,stack:[...yt,gt]};let It=bt(..._t,Pt);if(typeof It=="string"&&(It=It.length>0?{type:"text",value:It}:void 0),It===!1?xt.lastIndex=Mt+1:(Et!==Mt&&kt.push({type:"text",value:gt.value.slice(Et,Mt)}),Array.isArray(It)?kt.push(...It):It&&kt.push(It),Et=Mt+_t[0].length,Tt=!0),!xt.global)break;_t=xt.exec(gt.value)}return Tt?(Et<gt.value.length&&kt.push({type:"text",value:gt.value.slice(Et)}),vt.children.splice(St,1,...kt)):kt=[gt],St+kt.length}}function toPairs(a){const e=[];if(!Array.isArray(a))throw new TypeError("Expected find and replace tuple or list of tuples");const o=!a[0]||Array.isArray(a[0])?a:[a];let c=-1;for(;++c<o.length;){const et=o[c];e.push([toExpression(et[0]),toFunction(et[1])])}return e}function toExpression(a){return typeof a=="string"?new RegExp(escapeStringRegexp(a),"g"):a}function toFunction(a){return typeof a=="function"?a:function(){return a}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(a){this.enter({type:"link",title:null,url:"",children:[]},a)}function enterLiteralAutolinkValue(a){this.config.enter.autolinkProtocol.call(this,a)}function exitLiteralAutolinkHttp(a){this.config.exit.autolinkProtocol.call(this,a)}function exitLiteralAutolinkWww(a){this.config.exit.data.call(this,a);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(a)}function exitLiteralAutolinkEmail(a){this.config.exit.autolinkEmail.call(this,a)}function exitLiteralAutolink(a){this.exit(a)}function transformGfmAutolinkLiterals(a){findAndReplace(a,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(a,e,o,c,et){let tt="";if(!previous$1(et)||(/^w/i.test(e)&&(o=e+o,e="",tt="http://"),!isCorrectDomain(o)))return!1;const nt=splitUrl(o+c);if(!nt[0])return!1;const rt={type:"link",title:null,url:tt+e+nt[0],children:[{type:"text",value:e+nt[0]}]};return nt[1]?[rt,{type:"text",value:nt[1]}]:rt}function findEmail(a,e,o,c){return!previous$1(c,!0)||/[-\d_]$/.test(o)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+o,children:[{type:"text",value:e+"@"+o}]}}function isCorrectDomain(a){const e=a.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function splitUrl(a){const e=/[!"&'),.:;<>?\]}]+$/.exec(a);if(!e)return[a,void 0];a=a.slice(0,e.index);let o=e[0],c=o.indexOf(")");const et=ccount(a,"(");let tt=ccount(a,")");for(;c!==-1&&et>tt;)a+=o.slice(0,c+1),o=o.slice(c+1),c=o.indexOf(")"),tt++;return[a,o]}function previous$1(a,e){const o=a.input.charCodeAt(a.index-1);return(a.index===0||unicodeWhitespace(o)||unicodePunctuation(o))&&(!e||o!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(a){this.enter({type:"footnoteReference",identifier:"",label:""},a)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(a){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},a)}function exitFootnoteCallString(a){const e=this.resume(),o=this.stack[this.stack.length-1];o.type,o.identifier=normalizeIdentifier(this.sliceSerialize(a)).toLowerCase(),o.label=e}function exitFootnoteCall(a){this.exit(a)}function exitFootnoteDefinitionLabelString(a){const e=this.resume(),o=this.stack[this.stack.length-1];o.type,o.identifier=normalizeIdentifier(this.sliceSerialize(a)).toLowerCase(),o.label=e}function exitFootnoteDefinition(a){this.exit(a)}function footnoteReferencePeek(){return"["}function footnoteReference(a,e,o,c){const et=o.createTracker(c);let tt=et.move("[^");const nt=o.enter("footnoteReference"),rt=o.enter("reference");return tt+=et.move(o.safe(o.associationId(a),{after:"]",before:tt})),rt(),nt(),tt+=et.move("]"),tt}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(a){let e=!1;return a&&a.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:o,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function o(c,et,tt,nt){const rt=tt.createTracker(nt);let mt=rt.move("[^");const gt=tt.enter("footnoteDefinition"),yt=tt.enter("label");return mt+=rt.move(tt.safe(tt.associationId(c),{before:mt,after:"]"})),yt(),mt+=rt.move("]:"),c.children&&c.children.length>0&&(rt.shift(4),mt+=rt.move((e?`
`:" ")+tt.indentLines(tt.containerFlow(c,rt.current()),e?mapAll:mapExceptFirst))),gt(),mt}}function mapExceptFirst(a,e,o){return e===0?a:mapAll(a,e,o)}function mapAll(a,e,o){return(o?"":"    ")+a}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(a){this.enter({type:"delete",children:[]},a)}function exitStrikethrough(a){this.exit(a)}function handleDelete(a,e,o,c){const et=o.createTracker(c),tt=o.enter("strikethrough");let nt=et.move("~~");return nt+=o.containerPhrasing(a,{...et.current(),before:nt,after:"~"}),nt+=et.move("~~"),tt(),nt}function peekDelete(){return"~"}function defaultStringLength(a){return a.length}function markdownTable(a,e){const o=e||{},c=(o.align||[]).concat(),et=o.stringLength||defaultStringLength,tt=[],nt=[],rt=[],mt=[];let gt=0,yt=-1;for(;++yt<a.length;){const wt=[],St=[];let Tt=-1;for(a[yt].length>gt&&(gt=a[yt].length);++Tt<a[yt].length;){const kt=serialize(a[yt][Tt]);if(o.alignDelimiters!==!1){const _t=et(kt);St[Tt]=_t,(mt[Tt]===void 0||_t>mt[Tt])&&(mt[Tt]=_t)}wt.push(kt)}nt[yt]=wt,rt[yt]=St}let vt=-1;if(typeof c=="object"&&"length"in c)for(;++vt<gt;)tt[vt]=toAlignment(c[vt]);else{const wt=toAlignment(c);for(;++vt<gt;)tt[vt]=wt}vt=-1;const xt=[],bt=[];for(;++vt<gt;){const wt=tt[vt];let St="",Tt="";wt===99?(St=":",Tt=":"):wt===108?St=":":wt===114&&(Tt=":");let kt=o.alignDelimiters===!1?1:Math.max(1,mt[vt]-St.length-Tt.length);const _t=St+"-".repeat(kt)+Tt;o.alignDelimiters!==!1&&(kt=St.length+kt+Tt.length,kt>mt[vt]&&(mt[vt]=kt),bt[vt]=kt),xt[vt]=_t}nt.splice(1,0,xt),rt.splice(1,0,bt),yt=-1;const Et=[];for(;++yt<nt.length;){const wt=nt[yt],St=rt[yt];vt=-1;const Tt=[];for(;++vt<gt;){const kt=wt[vt]||"";let _t="",Mt="";if(o.alignDelimiters!==!1){const Pt=mt[vt]-(St[vt]||0),It=tt[vt];It===114?_t=" ".repeat(Pt):It===99?Pt%2?(_t=" ".repeat(Pt/2+.5),Mt=" ".repeat(Pt/2-.5)):(_t=" ".repeat(Pt/2),Mt=_t):Mt=" ".repeat(Pt)}o.delimiterStart!==!1&&!vt&&Tt.push("|"),o.padding!==!1&&!(o.alignDelimiters===!1&&kt==="")&&(o.delimiterStart!==!1||vt)&&Tt.push(" "),o.alignDelimiters!==!1&&Tt.push(_t),Tt.push(kt),o.alignDelimiters!==!1&&Tt.push(Mt),o.padding!==!1&&Tt.push(" "),(o.delimiterEnd!==!1||vt!==gt-1)&&Tt.push("|")}Et.push(o.delimiterEnd===!1?Tt.join("").replace(/ +$/,""):Tt.join(""))}return Et.join(`
`)}function serialize(a){return a==null?"":String(a)}function toAlignment(a){const e=typeof a=="string"?a.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function blockquote(a,e,o,c){const et=o.enter("blockquote"),tt=o.createTracker(c);tt.move("> "),tt.shift(2);const nt=o.indentLines(o.containerFlow(a,tt.current()),map$1);return et(),nt}function map$1(a,e,o){return">"+(o?"":" ")+a}function patternInScope(a,e){return listInScope(a,e.inConstruct,!0)&&!listInScope(a,e.notInConstruct,!1)}function listInScope(a,e,o){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return o;let c=-1;for(;++c<e.length;)if(a.includes(e[c]))return!0;return!1}function hardBreak(a,e,o,c){let et=-1;for(;++et<o.unsafe.length;)if(o.unsafe[et].character===`
`&&patternInScope(o.stack,o.unsafe[et]))return/[ \t]/.test(c.before)?"":" ";return`\\
`}function longestStreak(a,e){const o=String(a);let c=o.indexOf(e),et=c,tt=0,nt=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;c!==-1;)c===et?++tt>nt&&(nt=tt):tt=1,et=c+e.length,c=o.indexOf(e,et);return nt}function formatCodeAsIndented(a,e){return!!(e.options.fences===!1&&a.value&&!a.lang&&/[^ \r\n]/.test(a.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(a.value))}function checkFence(a){const e=a.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function code$1(a,e,o,c){const et=checkFence(o),tt=a.value||"",nt=et==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(a,o)){const vt=o.enter("codeIndented"),xt=o.indentLines(tt,map);return vt(),xt}const rt=o.createTracker(c),mt=et.repeat(Math.max(longestStreak(tt,et)+1,3)),gt=o.enter("codeFenced");let yt=rt.move(mt);if(a.lang){const vt=o.enter(`codeFencedLang${nt}`);yt+=rt.move(o.safe(a.lang,{before:yt,after:" ",encode:["`"],...rt.current()})),vt()}if(a.lang&&a.meta){const vt=o.enter(`codeFencedMeta${nt}`);yt+=rt.move(" "),yt+=rt.move(o.safe(a.meta,{before:yt,after:`
`,encode:["`"],...rt.current()})),vt()}return yt+=rt.move(`
`),tt&&(yt+=rt.move(tt+`
`)),yt+=rt.move(mt),gt(),yt}function map(a,e,o){return(o?"":"    ")+a}function checkQuote(a){const e=a.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function definition(a,e,o,c){const et=checkQuote(o),tt=et==='"'?"Quote":"Apostrophe",nt=o.enter("definition");let rt=o.enter("label");const mt=o.createTracker(c);let gt=mt.move("[");return gt+=mt.move(o.safe(o.associationId(a),{before:gt,after:"]",...mt.current()})),gt+=mt.move("]: "),rt(),!a.url||/[\0- \u007F]/.test(a.url)?(rt=o.enter("destinationLiteral"),gt+=mt.move("<"),gt+=mt.move(o.safe(a.url,{before:gt,after:">",...mt.current()})),gt+=mt.move(">")):(rt=o.enter("destinationRaw"),gt+=mt.move(o.safe(a.url,{before:gt,after:a.title?" ":`
`,...mt.current()}))),rt(),a.title&&(rt=o.enter(`title${tt}`),gt+=mt.move(" "+et),gt+=mt.move(o.safe(a.title,{before:gt,after:et,...mt.current()})),gt+=mt.move(et),rt()),nt(),gt}function checkEmphasis(a){const e=a.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function encodeCharacterReference(a){return"&#x"+a.toString(16).toUpperCase()+";"}function encodeInfo(a,e,o){const c=classifyCharacter(a),et=classifyCharacter(e);return c===void 0?et===void 0?o==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:et===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:c===1?et===void 0?{inside:!1,outside:!1}:et===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:et===void 0?{inside:!1,outside:!1}:et===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(a,e,o,c){const et=checkEmphasis(o),tt=o.enter("emphasis"),nt=o.createTracker(c),rt=nt.move(et);let mt=nt.move(o.containerPhrasing(a,{after:et,before:rt,...nt.current()}));const gt=mt.charCodeAt(0),yt=encodeInfo(c.before.charCodeAt(c.before.length-1),gt,et);yt.inside&&(mt=encodeCharacterReference(gt)+mt.slice(1));const vt=mt.charCodeAt(mt.length-1),xt=encodeInfo(c.after.charCodeAt(0),vt,et);xt.inside&&(mt=mt.slice(0,-1)+encodeCharacterReference(vt));const bt=nt.move(et);return tt(),o.attentionEncodeSurroundingInfo={after:xt.outside,before:yt.outside},rt+mt+bt}function emphasisPeek(a,e,o){return o.options.emphasis||"*"}function formatHeadingAsSetext(a,e){let o=!1;return visit(a,function(c){if("value"in c&&/\r?\n|\r/.test(c.value)||c.type==="break")return o=!0,EXIT}),!!((!a.depth||a.depth<3)&&toString$1(a)&&(e.options.setext||o))}function heading(a,e,o,c){const et=Math.max(Math.min(6,a.depth||1),1),tt=o.createTracker(c);if(formatHeadingAsSetext(a,o)){const yt=o.enter("headingSetext"),vt=o.enter("phrasing"),xt=o.containerPhrasing(a,{...tt.current(),before:`
`,after:`
`});return vt(),yt(),xt+`
`+(et===1?"=":"-").repeat(xt.length-(Math.max(xt.lastIndexOf("\r"),xt.lastIndexOf(`
`))+1))}const nt="#".repeat(et),rt=o.enter("headingAtx"),mt=o.enter("phrasing");tt.move(nt+" ");let gt=o.containerPhrasing(a,{before:"# ",after:`
`,...tt.current()});return/^[\t ]/.test(gt)&&(gt=encodeCharacterReference(gt.charCodeAt(0))+gt.slice(1)),gt=gt?nt+" "+gt:nt,o.options.closeAtx&&(gt+=" "+nt),mt(),rt(),gt}html.peek=htmlPeek;function html(a){return a.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(a,e,o,c){const et=checkQuote(o),tt=et==='"'?"Quote":"Apostrophe",nt=o.enter("image");let rt=o.enter("label");const mt=o.createTracker(c);let gt=mt.move("![");return gt+=mt.move(o.safe(a.alt,{before:gt,after:"]",...mt.current()})),gt+=mt.move("]("),rt(),!a.url&&a.title||/[\0- \u007F]/.test(a.url)?(rt=o.enter("destinationLiteral"),gt+=mt.move("<"),gt+=mt.move(o.safe(a.url,{before:gt,after:">",...mt.current()})),gt+=mt.move(">")):(rt=o.enter("destinationRaw"),gt+=mt.move(o.safe(a.url,{before:gt,after:a.title?" ":")",...mt.current()}))),rt(),a.title&&(rt=o.enter(`title${tt}`),gt+=mt.move(" "+et),gt+=mt.move(o.safe(a.title,{before:gt,after:et,...mt.current()})),gt+=mt.move(et),rt()),gt+=mt.move(")"),nt(),gt}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(a,e,o,c){const et=a.referenceType,tt=o.enter("imageReference");let nt=o.enter("label");const rt=o.createTracker(c);let mt=rt.move("![");const gt=o.safe(a.alt,{before:mt,after:"]",...rt.current()});mt+=rt.move(gt+"]["),nt();const yt=o.stack;o.stack=[],nt=o.enter("reference");const vt=o.safe(o.associationId(a),{before:mt,after:"]",...rt.current()});return nt(),o.stack=yt,tt(),et==="full"||!gt||gt!==vt?mt+=rt.move(vt+"]"):et==="shortcut"?mt=mt.slice(0,-1):mt+=rt.move("]"),mt}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(a,e,o){let c=a.value||"",et="`",tt=-1;for(;new RegExp("(^|[^`])"+et+"([^`]|$)").test(c);)et+="`";for(/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^`|`$/.test(c))&&(c=" "+c+" ");++tt<o.unsafe.length;){const nt=o.unsafe[tt],rt=o.compilePattern(nt);let mt;if(nt.atBreak)for(;mt=rt.exec(c);){let gt=mt.index;c.charCodeAt(gt)===10&&c.charCodeAt(gt-1)===13&&gt--,c=c.slice(0,gt)+" "+c.slice(mt.index+1)}}return et+c+et}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(a,e){const o=toString$1(a);return!!(!e.options.resourceLink&&a.url&&!a.title&&a.children&&a.children.length===1&&a.children[0].type==="text"&&(o===a.url||"mailto:"+o===a.url)&&/^[a-z][a-z+.-]+:/i.test(a.url)&&!/[\0- <>\u007F]/.test(a.url))}link.peek=linkPeek;function link(a,e,o,c){const et=checkQuote(o),tt=et==='"'?"Quote":"Apostrophe",nt=o.createTracker(c);let rt,mt;if(formatLinkAsAutolink(a,o)){const yt=o.stack;o.stack=[],rt=o.enter("autolink");let vt=nt.move("<");return vt+=nt.move(o.containerPhrasing(a,{before:vt,after:">",...nt.current()})),vt+=nt.move(">"),rt(),o.stack=yt,vt}rt=o.enter("link"),mt=o.enter("label");let gt=nt.move("[");return gt+=nt.move(o.containerPhrasing(a,{before:gt,after:"](",...nt.current()})),gt+=nt.move("]("),mt(),!a.url&&a.title||/[\0- \u007F]/.test(a.url)?(mt=o.enter("destinationLiteral"),gt+=nt.move("<"),gt+=nt.move(o.safe(a.url,{before:gt,after:">",...nt.current()})),gt+=nt.move(">")):(mt=o.enter("destinationRaw"),gt+=nt.move(o.safe(a.url,{before:gt,after:a.title?" ":")",...nt.current()}))),mt(),a.title&&(mt=o.enter(`title${tt}`),gt+=nt.move(" "+et),gt+=nt.move(o.safe(a.title,{before:gt,after:et,...nt.current()})),gt+=nt.move(et),mt()),gt+=nt.move(")"),rt(),gt}function linkPeek(a,e,o){return formatLinkAsAutolink(a,o)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(a,e,o,c){const et=a.referenceType,tt=o.enter("linkReference");let nt=o.enter("label");const rt=o.createTracker(c);let mt=rt.move("[");const gt=o.containerPhrasing(a,{before:mt,after:"]",...rt.current()});mt+=rt.move(gt+"]["),nt();const yt=o.stack;o.stack=[],nt=o.enter("reference");const vt=o.safe(o.associationId(a),{before:mt,after:"]",...rt.current()});return nt(),o.stack=yt,tt(),et==="full"||!gt||gt!==vt?mt+=rt.move(vt+"]"):et==="shortcut"?mt=mt.slice(0,-1):mt+=rt.move("]"),mt}function linkReferencePeek(){return"["}function checkBullet(a){const e=a.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function checkBulletOther(a){const e=checkBullet(a),o=a.options.bulletOther;if(!o)return e==="*"?"-":"*";if(o!=="*"&&o!=="+"&&o!=="-")throw new Error("Cannot serialize items with `"+o+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(o===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+o+"`) to be different");return o}function checkBulletOrdered(a){const e=a.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function checkRule(a){const e=a.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function list(a,e,o,c){const et=o.enter("list"),tt=o.bulletCurrent;let nt=a.ordered?checkBulletOrdered(o):checkBullet(o);const rt=a.ordered?nt==="."?")":".":checkBulletOther(o);let mt=e&&o.bulletLastUsed?nt===o.bulletLastUsed:!1;if(!a.ordered){const yt=a.children?a.children[0]:void 0;if((nt==="*"||nt==="-")&&yt&&(!yt.children||!yt.children[0])&&o.stack[o.stack.length-1]==="list"&&o.stack[o.stack.length-2]==="listItem"&&o.stack[o.stack.length-3]==="list"&&o.stack[o.stack.length-4]==="listItem"&&o.indexStack[o.indexStack.length-1]===0&&o.indexStack[o.indexStack.length-2]===0&&o.indexStack[o.indexStack.length-3]===0&&(mt=!0),checkRule(o)===nt&&yt){let vt=-1;for(;++vt<a.children.length;){const xt=a.children[vt];if(xt&&xt.type==="listItem"&&xt.children&&xt.children[0]&&xt.children[0].type==="thematicBreak"){mt=!0;break}}}}mt&&(nt=rt),o.bulletCurrent=nt;const gt=o.containerFlow(a,c);return o.bulletLastUsed=nt,o.bulletCurrent=tt,et(),gt}function checkListItemIndent(a){const e=a.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function listItem(a,e,o,c){const et=checkListItemIndent(o);let tt=o.bulletCurrent||checkBullet(o);e&&e.type==="list"&&e.ordered&&(tt=(typeof e.start=="number"&&e.start>-1?e.start:1)+(o.options.incrementListMarker===!1?0:e.children.indexOf(a))+tt);let nt=tt.length+1;(et==="tab"||et==="mixed"&&(e&&e.type==="list"&&e.spread||a.spread))&&(nt=Math.ceil(nt/4)*4);const rt=o.createTracker(c);rt.move(tt+" ".repeat(nt-tt.length)),rt.shift(nt);const mt=o.enter("listItem"),gt=o.indentLines(o.containerFlow(a,rt.current()),yt);return mt(),gt;function yt(vt,xt,bt){return xt?(bt?"":" ".repeat(nt))+vt:(bt?tt:tt+" ".repeat(nt-tt.length))+vt}}function paragraph(a,e,o,c){const et=o.enter("paragraph"),tt=o.enter("phrasing"),nt=o.containerPhrasing(a,c);return tt(),et(),nt}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root$1(a,e,o,c){return(a.children.some(function(nt){return phrasing(nt)})?o.containerPhrasing:o.containerFlow).call(o,a,c)}function checkStrong(a){const e=a.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}strong.peek=strongPeek;function strong(a,e,o,c){const et=checkStrong(o),tt=o.enter("strong"),nt=o.createTracker(c),rt=nt.move(et+et);let mt=nt.move(o.containerPhrasing(a,{after:et,before:rt,...nt.current()}));const gt=mt.charCodeAt(0),yt=encodeInfo(c.before.charCodeAt(c.before.length-1),gt,et);yt.inside&&(mt=encodeCharacterReference(gt)+mt.slice(1));const vt=mt.charCodeAt(mt.length-1),xt=encodeInfo(c.after.charCodeAt(0),vt,et);xt.inside&&(mt=mt.slice(0,-1)+encodeCharacterReference(vt));const bt=nt.move(et+et);return tt(),o.attentionEncodeSurroundingInfo={after:xt.outside,before:yt.outside},rt+mt+bt}function strongPeek(a,e,o){return o.options.strong||"*"}function text$4(a,e,o,c){return o.safe(a.value,c)}function checkRuleRepetition(a){const e=a.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function thematicBreak(a,e,o){const c=(checkRule(o)+(o.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(o));return o.options.ruleSpaces?c.slice(0,-1):c}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root:root$1,strong,text:text$4,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(a){const e=a._align;this.enter({type:"table",align:e.map(function(o){return o==="none"?null:o}),children:[]},a),this.data.inTable=!0}function exitTable(a){this.exit(a),this.data.inTable=void 0}function enterRow(a){this.enter({type:"tableRow",children:[]},a)}function exit(a){this.exit(a)}function enterCell(a){this.enter({type:"tableCell",children:[]},a)}function exitCodeText(a){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,replace));const o=this.stack[this.stack.length-1];o.type,o.value=e,this.exit(a)}function replace(a,e){return e==="|"?e:a}function gfmTableToMarkdown(a){const e=a||{},o=e.tableCellPadding,c=e.tablePipeAlign,et=e.stringLength,tt=o?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:xt,table:nt,tableCell:mt,tableRow:rt}};function nt(bt,Et,wt,St){return gt(yt(bt,wt,St),bt.align)}function rt(bt,Et,wt,St){const Tt=vt(bt,wt,St),kt=gt([Tt]);return kt.slice(0,kt.indexOf(`
`))}function mt(bt,Et,wt,St){const Tt=wt.enter("tableCell"),kt=wt.enter("phrasing"),_t=wt.containerPhrasing(bt,{...St,before:tt,after:tt});return kt(),Tt(),_t}function gt(bt,Et){return markdownTable(bt,{align:Et,alignDelimiters:c,padding:o,stringLength:et})}function yt(bt,Et,wt){const St=bt.children;let Tt=-1;const kt=[],_t=Et.enter("table");for(;++Tt<St.length;)kt[Tt]=vt(St[Tt],Et,wt);return _t(),kt}function vt(bt,Et,wt){const St=bt.children;let Tt=-1;const kt=[],_t=Et.enter("tableRow");for(;++Tt<St.length;)kt[Tt]=mt(St[Tt],bt,Et,wt);return _t(),kt}function xt(bt,Et,wt){let St=handle.inlineCode(bt,Et,wt);return wt.stack.includes("tableCell")&&(St=St.replace(/\|/g,"\\$&")),St}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(a){const e=this.stack[this.stack.length-2];e.type,e.checked=a.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(a){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const o=this.stack[this.stack.length-1];o.type;const c=o.children[0];if(c&&c.type==="text"){const et=e.children;let tt=-1,nt;for(;++tt<et.length;){const rt=et[tt];if(rt.type==="paragraph"){nt=rt;break}}nt===o&&(c.value=c.value.slice(1),c.value.length===0?o.children.shift():o.position&&c.position&&typeof c.position.start.offset=="number"&&(c.position.start.column++,c.position.start.offset++,o.position.start=Object.assign({},c.position.start)))}}this.exit(a)}function listItemWithTaskListItem(a,e,o,c){const et=a.children[0],tt=typeof a.checked=="boolean"&&et&&et.type==="paragraph",nt="["+(a.checked?"x":" ")+"] ",rt=o.createTracker(c);tt&&rt.move(nt);let mt=handle.listItem(a,e,o,{...c,...rt.current()});return tt&&(mt=mt.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,gt)),mt;function gt(yt){return yt+nt}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(a){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(a),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(a),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path$1={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text$3={};function gfmAutolinkLiteral(){return{text:text$3}}let code=48;for(;code<123;)text$3[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text$3[43]=emailAutolink;text$3[45]=emailAutolink;text$3[46]=emailAutolink;text$3[95]=emailAutolink;text$3[72]=[emailAutolink,protocolAutolink];text$3[104]=[emailAutolink,protocolAutolink];text$3[87]=[emailAutolink,wwwAutolink];text$3[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(a,e,o){const c=this;let et,tt;return nt;function nt(vt){return!gfmAtext(vt)||!previousEmail.call(c,c.previous)||previousUnbalanced(c.events)?o(vt):(a.enter("literalAutolink"),a.enter("literalAutolinkEmail"),rt(vt))}function rt(vt){return gfmAtext(vt)?(a.consume(vt),rt):vt===64?(a.consume(vt),mt):o(vt)}function mt(vt){return vt===46?a.check(emailDomainDotTrail,yt,gt)(vt):vt===45||vt===95||asciiAlphanumeric(vt)?(tt=!0,a.consume(vt),mt):yt(vt)}function gt(vt){return a.consume(vt),et=!0,mt}function yt(vt){return tt&&et&&asciiAlpha(c.previous)?(a.exit("literalAutolinkEmail"),a.exit("literalAutolink"),e(vt)):o(vt)}}function tokenizeWwwAutolink(a,e,o){const c=this;return et;function et(nt){return nt!==87&&nt!==119||!previousWww.call(c,c.previous)||previousUnbalanced(c.events)?o(nt):(a.enter("literalAutolink"),a.enter("literalAutolinkWww"),a.check(wwwPrefix,a.attempt(domain,a.attempt(path$1,tt),o),o)(nt))}function tt(nt){return a.exit("literalAutolinkWww"),a.exit("literalAutolink"),e(nt)}}function tokenizeProtocolAutolink(a,e,o){const c=this;let et="",tt=!1;return nt;function nt(vt){return(vt===72||vt===104)&&previousProtocol.call(c,c.previous)&&!previousUnbalanced(c.events)?(a.enter("literalAutolink"),a.enter("literalAutolinkHttp"),et+=String.fromCodePoint(vt),a.consume(vt),rt):o(vt)}function rt(vt){if(asciiAlpha(vt)&&et.length<5)return et+=String.fromCodePoint(vt),a.consume(vt),rt;if(vt===58){const xt=et.toLowerCase();if(xt==="http"||xt==="https")return a.consume(vt),mt}return o(vt)}function mt(vt){return vt===47?(a.consume(vt),tt?gt:(tt=!0,mt)):o(vt)}function gt(vt){return vt===null||asciiControl(vt)||markdownLineEndingOrSpace(vt)||unicodeWhitespace(vt)||unicodePunctuation(vt)?o(vt):a.attempt(domain,a.attempt(path$1,yt),o)(vt)}function yt(vt){return a.exit("literalAutolinkHttp"),a.exit("literalAutolink"),e(vt)}}function tokenizeWwwPrefix(a,e,o){let c=0;return et;function et(nt){return(nt===87||nt===119)&&c<3?(c++,a.consume(nt),et):nt===46&&c===3?(a.consume(nt),tt):o(nt)}function tt(nt){return nt===null?o(nt):e(nt)}}function tokenizeDomain(a,e,o){let c,et,tt;return nt;function nt(gt){return gt===46||gt===95?a.check(trail,mt,rt)(gt):gt===null||markdownLineEndingOrSpace(gt)||unicodeWhitespace(gt)||gt!==45&&unicodePunctuation(gt)?mt(gt):(tt=!0,a.consume(gt),nt)}function rt(gt){return gt===95?c=!0:(et=c,c=void 0),a.consume(gt),nt}function mt(gt){return et||c||!tt?o(gt):e(gt)}}function tokenizePath(a,e){let o=0,c=0;return et;function et(nt){return nt===40?(o++,a.consume(nt),et):nt===41&&c<o?tt(nt):nt===33||nt===34||nt===38||nt===39||nt===41||nt===42||nt===44||nt===46||nt===58||nt===59||nt===60||nt===63||nt===93||nt===95||nt===126?a.check(trail,e,tt)(nt):nt===null||markdownLineEndingOrSpace(nt)||unicodeWhitespace(nt)?e(nt):(a.consume(nt),et)}function tt(nt){return nt===41&&c++,a.consume(nt),et}}function tokenizeTrail(a,e,o){return c;function c(rt){return rt===33||rt===34||rt===39||rt===41||rt===42||rt===44||rt===46||rt===58||rt===59||rt===63||rt===95||rt===126?(a.consume(rt),c):rt===38?(a.consume(rt),tt):rt===93?(a.consume(rt),et):rt===60||rt===null||markdownLineEndingOrSpace(rt)||unicodeWhitespace(rt)?e(rt):o(rt)}function et(rt){return rt===null||rt===40||rt===91||markdownLineEndingOrSpace(rt)||unicodeWhitespace(rt)?e(rt):c(rt)}function tt(rt){return asciiAlpha(rt)?nt(rt):o(rt)}function nt(rt){return rt===59?(a.consume(rt),c):asciiAlpha(rt)?(a.consume(rt),nt):o(rt)}}function tokenizeEmailDomainDotTrail(a,e,o){return c;function c(tt){return a.consume(tt),et}function et(tt){return asciiAlphanumeric(tt)?o(tt):e(tt)}}function previousWww(a){return a===null||a===40||a===42||a===95||a===91||a===93||a===126||markdownLineEndingOrSpace(a)}function previousProtocol(a){return!asciiAlpha(a)}function previousEmail(a){return!(a===47||gfmAtext(a))}function gfmAtext(a){return a===43||a===45||a===46||a===95||asciiAlphanumeric(a)}function previousUnbalanced(a){let e=a.length,o=!1;for(;e--;){const c=a[e][1];if((c.type==="labelLink"||c.type==="labelImage")&&!c._balanced){o=!0;break}if(c._gfmAutolinkLiteralWalkedInto){o=!1;break}}return a.length>0&&!o&&(a[a.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),o}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(a,e,o){const c=this;let et=c.events.length;const tt=c.parser.gfmFootnotes||(c.parser.gfmFootnotes=[]);let nt;for(;et--;){const mt=c.events[et][1];if(mt.type==="labelImage"){nt=mt;break}if(mt.type==="gfmFootnoteCall"||mt.type==="labelLink"||mt.type==="label"||mt.type==="image"||mt.type==="link")break}return rt;function rt(mt){if(!nt||!nt._balanced)return o(mt);const gt=normalizeIdentifier(c.sliceSerialize({start:nt.end,end:c.now()}));return gt.codePointAt(0)!==94||!tt.includes(gt.slice(1))?o(mt):(a.enter("gfmFootnoteCallLabelMarker"),a.consume(mt),a.exit("gfmFootnoteCallLabelMarker"),e(mt))}}function resolveToPotentialGfmFootnoteCall(a,e){let o=a.length;for(;o--;)if(a[o][1].type==="labelImage"&&a[o][0]==="enter"){a[o][1];break}a[o+1][1].type="data",a[o+3][1].type="gfmFootnoteCallLabelMarker";const c={type:"gfmFootnoteCall",start:Object.assign({},a[o+3][1].start),end:Object.assign({},a[a.length-1][1].end)},et={type:"gfmFootnoteCallMarker",start:Object.assign({},a[o+3][1].end),end:Object.assign({},a[o+3][1].end)};et.end.column++,et.end.offset++,et.end._bufferIndex++;const tt={type:"gfmFootnoteCallString",start:Object.assign({},et.end),end:Object.assign({},a[a.length-1][1].start)},nt={type:"chunkString",contentType:"string",start:Object.assign({},tt.start),end:Object.assign({},tt.end)},rt=[a[o+1],a[o+2],["enter",c,e],a[o+3],a[o+4],["enter",et,e],["exit",et,e],["enter",tt,e],["enter",nt,e],["exit",nt,e],["exit",tt,e],a[a.length-2],a[a.length-1],["exit",c,e]];return a.splice(o,a.length-o+1,...rt),a}function tokenizeGfmFootnoteCall(a,e,o){const c=this,et=c.parser.gfmFootnotes||(c.parser.gfmFootnotes=[]);let tt=0,nt;return rt;function rt(vt){return a.enter("gfmFootnoteCall"),a.enter("gfmFootnoteCallLabelMarker"),a.consume(vt),a.exit("gfmFootnoteCallLabelMarker"),mt}function mt(vt){return vt!==94?o(vt):(a.enter("gfmFootnoteCallMarker"),a.consume(vt),a.exit("gfmFootnoteCallMarker"),a.enter("gfmFootnoteCallString"),a.enter("chunkString").contentType="string",gt)}function gt(vt){if(tt>999||vt===93&&!nt||vt===null||vt===91||markdownLineEndingOrSpace(vt))return o(vt);if(vt===93){a.exit("chunkString");const xt=a.exit("gfmFootnoteCallString");return et.includes(normalizeIdentifier(c.sliceSerialize(xt)))?(a.enter("gfmFootnoteCallLabelMarker"),a.consume(vt),a.exit("gfmFootnoteCallLabelMarker"),a.exit("gfmFootnoteCall"),e):o(vt)}return markdownLineEndingOrSpace(vt)||(nt=!0),tt++,a.consume(vt),vt===92?yt:gt}function yt(vt){return vt===91||vt===92||vt===93?(a.consume(vt),tt++,gt):gt(vt)}}function tokenizeDefinitionStart(a,e,o){const c=this,et=c.parser.gfmFootnotes||(c.parser.gfmFootnotes=[]);let tt,nt=0,rt;return mt;function mt(Et){return a.enter("gfmFootnoteDefinition")._container=!0,a.enter("gfmFootnoteDefinitionLabel"),a.enter("gfmFootnoteDefinitionLabelMarker"),a.consume(Et),a.exit("gfmFootnoteDefinitionLabelMarker"),gt}function gt(Et){return Et===94?(a.enter("gfmFootnoteDefinitionMarker"),a.consume(Et),a.exit("gfmFootnoteDefinitionMarker"),a.enter("gfmFootnoteDefinitionLabelString"),a.enter("chunkString").contentType="string",yt):o(Et)}function yt(Et){if(nt>999||Et===93&&!rt||Et===null||Et===91||markdownLineEndingOrSpace(Et))return o(Et);if(Et===93){a.exit("chunkString");const wt=a.exit("gfmFootnoteDefinitionLabelString");return tt=normalizeIdentifier(c.sliceSerialize(wt)),a.enter("gfmFootnoteDefinitionLabelMarker"),a.consume(Et),a.exit("gfmFootnoteDefinitionLabelMarker"),a.exit("gfmFootnoteDefinitionLabel"),xt}return markdownLineEndingOrSpace(Et)||(rt=!0),nt++,a.consume(Et),Et===92?vt:yt}function vt(Et){return Et===91||Et===92||Et===93?(a.consume(Et),nt++,yt):yt(Et)}function xt(Et){return Et===58?(a.enter("definitionMarker"),a.consume(Et),a.exit("definitionMarker"),et.includes(tt)||et.push(tt),factorySpace(a,bt,"gfmFootnoteDefinitionWhitespace")):o(Et)}function bt(Et){return e(Et)}}function tokenizeDefinitionContinuation(a,e,o){return a.check(blankLine,e,a.attempt(indent,e,o))}function gfmFootnoteDefinitionEnd(a){a.exit("gfmFootnoteDefinition")}function tokenizeIndent(a,e,o){const c=this;return factorySpace(a,et,"gfmFootnoteDefinitionIndent",5);function et(tt){const nt=c.events[c.events.length-1];return nt&&nt[1].type==="gfmFootnoteDefinitionIndent"&&nt[2].sliceSerialize(nt[1],!0).length===4?e(tt):o(tt)}}function gfmStrikethrough(a){let o=(a||{}).singleTilde;const c={name:"strikethrough",tokenize:tt,resolveAll:et};return o==null&&(o=!0),{text:{126:c},insideSpan:{null:[c]},attentionMarkers:{null:[126]}};function et(nt,rt){let mt=-1;for(;++mt<nt.length;)if(nt[mt][0]==="enter"&&nt[mt][1].type==="strikethroughSequenceTemporary"&&nt[mt][1]._close){let gt=mt;for(;gt--;)if(nt[gt][0]==="exit"&&nt[gt][1].type==="strikethroughSequenceTemporary"&&nt[gt][1]._open&&nt[mt][1].end.offset-nt[mt][1].start.offset===nt[gt][1].end.offset-nt[gt][1].start.offset){nt[mt][1].type="strikethroughSequence",nt[gt][1].type="strikethroughSequence";const yt={type:"strikethrough",start:Object.assign({},nt[gt][1].start),end:Object.assign({},nt[mt][1].end)},vt={type:"strikethroughText",start:Object.assign({},nt[gt][1].end),end:Object.assign({},nt[mt][1].start)},xt=[["enter",yt,rt],["enter",nt[gt][1],rt],["exit",nt[gt][1],rt],["enter",vt,rt]],bt=rt.parser.constructs.insideSpan.null;bt&&splice(xt,xt.length,0,resolveAll(bt,nt.slice(gt+1,mt),rt)),splice(xt,xt.length,0,[["exit",vt,rt],["enter",nt[mt][1],rt],["exit",nt[mt][1],rt],["exit",yt,rt]]),splice(nt,gt-1,mt-gt+3,xt),mt=gt+xt.length-2;break}}for(mt=-1;++mt<nt.length;)nt[mt][1].type==="strikethroughSequenceTemporary"&&(nt[mt][1].type="data");return nt}function tt(nt,rt,mt){const gt=this.previous,yt=this.events;let vt=0;return xt;function xt(Et){return gt===126&&yt[yt.length-1][1].type!=="characterEscape"?mt(Et):(nt.enter("strikethroughSequenceTemporary"),bt(Et))}function bt(Et){const wt=classifyCharacter(gt);if(Et===126)return vt>1?mt(Et):(nt.consume(Et),vt++,bt);if(vt<2&&!o)return mt(Et);const St=nt.exit("strikethroughSequenceTemporary"),Tt=classifyCharacter(Et);return St._open=!Tt||Tt===2&&!!wt,St._close=!wt||wt===2&&!!Tt,rt(Et)}}}class EditMap{constructor(){this.map=[]}add(e,o,c){addImplementation(this,e,o,c)}consume(e){if(this.map.sort(function(tt,nt){return tt[0]-nt[0]}),this.map.length===0)return;let o=this.map.length;const c=[];for(;o>0;)o-=1,c.push(e.slice(this.map[o][0]+this.map[o][1]),this.map[o][2]),e.length=this.map[o][0];c.push(e.slice()),e.length=0;let et=c.pop();for(;et;){for(const tt of et)e.push(tt);et=c.pop()}this.map.length=0}}function addImplementation(a,e,o,c){let et=0;if(!(o===0&&c.length===0)){for(;et<a.map.length;){if(a.map[et][0]===e){a.map[et][1]+=o,a.map[et][2].push(...c);return}et+=1}a.map.push([e,o,c])}}function gfmTableAlign(a,e){let o=!1;const c=[];for(;e<a.length;){const et=a[e];if(o){if(et[0]==="enter")et[1].type==="tableContent"&&c.push(a[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(et[1].type==="tableContent"){if(a[e-1][1].type==="tableDelimiterMarker"){const tt=c.length-1;c[tt]=c[tt]==="left"?"center":"right"}}else if(et[1].type==="tableDelimiterRow")break}else et[0]==="enter"&&et[1].type==="tableDelimiterRow"&&(o=!0);e+=1}return c}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(a,e,o){const c=this;let et=0,tt=0,nt;return rt;function rt(Lt){let jt=c.events.length-1;for(;jt>-1;){const Yt=c.events[jt][1].type;if(Yt==="lineEnding"||Yt==="linePrefix")jt--;else break}const Bt=jt>-1?c.events[jt][1].type:null,zt=Bt==="tableHead"||Bt==="tableRow"?It:mt;return zt===It&&c.parser.lazy[c.now().line]?o(Lt):zt(Lt)}function mt(Lt){return a.enter("tableHead"),a.enter("tableRow"),gt(Lt)}function gt(Lt){return Lt===124||(nt=!0,tt+=1),yt(Lt)}function yt(Lt){return Lt===null?o(Lt):markdownLineEnding(Lt)?tt>1?(tt=0,c.interrupt=!0,a.exit("tableRow"),a.enter("lineEnding"),a.consume(Lt),a.exit("lineEnding"),bt):o(Lt):markdownSpace(Lt)?factorySpace(a,yt,"whitespace")(Lt):(tt+=1,nt&&(nt=!1,et+=1),Lt===124?(a.enter("tableCellDivider"),a.consume(Lt),a.exit("tableCellDivider"),nt=!0,yt):(a.enter("data"),vt(Lt)))}function vt(Lt){return Lt===null||Lt===124||markdownLineEndingOrSpace(Lt)?(a.exit("data"),yt(Lt)):(a.consume(Lt),Lt===92?xt:vt)}function xt(Lt){return Lt===92||Lt===124?(a.consume(Lt),vt):vt(Lt)}function bt(Lt){return c.interrupt=!1,c.parser.lazy[c.now().line]?o(Lt):(a.enter("tableDelimiterRow"),nt=!1,markdownSpace(Lt)?factorySpace(a,Et,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Lt):Et(Lt))}function Et(Lt){return Lt===45||Lt===58?St(Lt):Lt===124?(nt=!0,a.enter("tableCellDivider"),a.consume(Lt),a.exit("tableCellDivider"),wt):Pt(Lt)}function wt(Lt){return markdownSpace(Lt)?factorySpace(a,St,"whitespace")(Lt):St(Lt)}function St(Lt){return Lt===58?(tt+=1,nt=!0,a.enter("tableDelimiterMarker"),a.consume(Lt),a.exit("tableDelimiterMarker"),Tt):Lt===45?(tt+=1,Tt(Lt)):Lt===null||markdownLineEnding(Lt)?Mt(Lt):Pt(Lt)}function Tt(Lt){return Lt===45?(a.enter("tableDelimiterFiller"),kt(Lt)):Pt(Lt)}function kt(Lt){return Lt===45?(a.consume(Lt),kt):Lt===58?(nt=!0,a.exit("tableDelimiterFiller"),a.enter("tableDelimiterMarker"),a.consume(Lt),a.exit("tableDelimiterMarker"),_t):(a.exit("tableDelimiterFiller"),_t(Lt))}function _t(Lt){return markdownSpace(Lt)?factorySpace(a,Mt,"whitespace")(Lt):Mt(Lt)}function Mt(Lt){return Lt===124?Et(Lt):Lt===null||markdownLineEnding(Lt)?!nt||et!==tt?Pt(Lt):(a.exit("tableDelimiterRow"),a.exit("tableHead"),e(Lt)):Pt(Lt)}function Pt(Lt){return o(Lt)}function It(Lt){return a.enter("tableRow"),Dt(Lt)}function Dt(Lt){return Lt===124?(a.enter("tableCellDivider"),a.consume(Lt),a.exit("tableCellDivider"),Dt):Lt===null||markdownLineEnding(Lt)?(a.exit("tableRow"),e(Lt)):markdownSpace(Lt)?factorySpace(a,Dt,"whitespace")(Lt):(a.enter("data"),Ct(Lt))}function Ct(Lt){return Lt===null||Lt===124||markdownLineEndingOrSpace(Lt)?(a.exit("data"),Dt(Lt)):(a.consume(Lt),Lt===92?At:Ct)}function At(Lt){return Lt===92||Lt===124?(a.consume(Lt),Ct):Ct(Lt)}}function resolveTable(a,e){let o=-1,c=!0,et=0,tt=[0,0,0,0],nt=[0,0,0,0],rt=!1,mt=0,gt,yt,vt;const xt=new EditMap;for(;++o<a.length;){const bt=a[o],Et=bt[1];bt[0]==="enter"?Et.type==="tableHead"?(rt=!1,mt!==0&&(flushTableEnd(xt,e,mt,gt,yt),yt=void 0,mt=0),gt={type:"table",start:Object.assign({},Et.start),end:Object.assign({},Et.end)},xt.add(o,0,[["enter",gt,e]])):Et.type==="tableRow"||Et.type==="tableDelimiterRow"?(c=!0,vt=void 0,tt=[0,0,0,0],nt=[0,o+1,0,0],rt&&(rt=!1,yt={type:"tableBody",start:Object.assign({},Et.start),end:Object.assign({},Et.end)},xt.add(o,0,[["enter",yt,e]])),et=Et.type==="tableDelimiterRow"?2:yt?3:1):et&&(Et.type==="data"||Et.type==="tableDelimiterMarker"||Et.type==="tableDelimiterFiller")?(c=!1,nt[2]===0&&(tt[1]!==0&&(nt[0]=nt[1],vt=flushCell(xt,e,tt,et,void 0,vt),tt=[0,0,0,0]),nt[2]=o)):Et.type==="tableCellDivider"&&(c?c=!1:(tt[1]!==0&&(nt[0]=nt[1],vt=flushCell(xt,e,tt,et,void 0,vt)),tt=nt,nt=[tt[1],o,0,0])):Et.type==="tableHead"?(rt=!0,mt=o):Et.type==="tableRow"||Et.type==="tableDelimiterRow"?(mt=o,tt[1]!==0?(nt[0]=nt[1],vt=flushCell(xt,e,tt,et,o,vt)):nt[1]!==0&&(vt=flushCell(xt,e,nt,et,o,vt)),et=0):et&&(Et.type==="data"||Et.type==="tableDelimiterMarker"||Et.type==="tableDelimiterFiller")&&(nt[3]=o)}for(mt!==0&&flushTableEnd(xt,e,mt,gt,yt),xt.consume(e.events),o=-1;++o<e.events.length;){const bt=e.events[o];bt[0]==="enter"&&bt[1].type==="table"&&(bt[1]._align=gfmTableAlign(e.events,o))}return a}function flushCell(a,e,o,c,et,tt){const nt=c===1?"tableHeader":c===2?"tableDelimiter":"tableData",rt="tableContent";o[0]!==0&&(tt.end=Object.assign({},getPoint(e.events,o[0])),a.add(o[0],0,[["exit",tt,e]]));const mt=getPoint(e.events,o[1]);if(tt={type:nt,start:Object.assign({},mt),end:Object.assign({},mt)},a.add(o[1],0,[["enter",tt,e]]),o[2]!==0){const gt=getPoint(e.events,o[2]),yt=getPoint(e.events,o[3]),vt={type:rt,start:Object.assign({},gt),end:Object.assign({},yt)};if(a.add(o[2],0,[["enter",vt,e]]),c!==2){const xt=e.events[o[2]],bt=e.events[o[3]];if(xt[1].end=Object.assign({},bt[1].end),xt[1].type="chunkText",xt[1].contentType="text",o[3]>o[2]+1){const Et=o[2]+1,wt=o[3]-o[2]-1;a.add(Et,wt,[])}}a.add(o[3]+1,0,[["exit",vt,e]])}return et!==void 0&&(tt.end=Object.assign({},getPoint(e.events,et)),a.add(et,0,[["exit",tt,e]]),tt=void 0),tt}function flushTableEnd(a,e,o,c,et){const tt=[],nt=getPoint(e.events,o);et&&(et.end=Object.assign({},nt),tt.push(["exit",et,e])),c.end=Object.assign({},nt),tt.push(["exit",c,e]),a.add(o+1,0,tt)}function getPoint(a,e){const o=a[e],c=o[0]==="enter"?"start":"end";return o[1][c]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(a,e,o){const c=this;return et;function et(mt){return c.previous!==null||!c._gfmTasklistFirstContentOfListItem?o(mt):(a.enter("taskListCheck"),a.enter("taskListCheckMarker"),a.consume(mt),a.exit("taskListCheckMarker"),tt)}function tt(mt){return markdownLineEndingOrSpace(mt)?(a.enter("taskListCheckValueUnchecked"),a.consume(mt),a.exit("taskListCheckValueUnchecked"),nt):mt===88||mt===120?(a.enter("taskListCheckValueChecked"),a.consume(mt),a.exit("taskListCheckValueChecked"),nt):o(mt)}function nt(mt){return mt===93?(a.enter("taskListCheckMarker"),a.consume(mt),a.exit("taskListCheckMarker"),a.exit("taskListCheck"),rt):o(mt)}function rt(mt){return markdownLineEnding(mt)?e(mt):markdownSpace(mt)?a.check({tokenize:spaceThenNonSpace},e,o)(mt):o(mt)}}function spaceThenNonSpace(a,e,o){return factorySpace(a,c,"whitespace");function c(et){return et===null?o(et):e(et)}}function gfm(a){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(a),gfmTable(),gfmTaskListItem()])}const emptyOptions$2={};function remarkGfm(a){const e=this,o=a||emptyOptions$2,c=e.data(),et=c.micromarkExtensions||(c.micromarkExtensions=[]),tt=c.fromMarkdownExtensions||(c.fromMarkdownExtensions=[]),nt=c.toMarkdownExtensions||(c.toMarkdownExtensions=[]);et.push(gfm(o)),tt.push(gfmFromMarkdown()),nt.push(gfmToMarkdown(o))}function mathFromMarkdown(){return{enter:{mathFlow:a,mathFlowFenceMeta:e,mathText:tt},exit:{mathFlow:et,mathFlowFence:c,mathFlowFenceMeta:o,mathFlowValue:rt,mathText:nt,mathTextData:rt}};function a(mt){const gt={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[gt]}},mt)}function e(){this.buffer()}function o(){const mt=this.resume(),gt=this.stack[this.stack.length-1];gt.type,gt.meta=mt}function c(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function et(mt){const gt=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),yt=this.stack[this.stack.length-1];yt.type,this.exit(mt),yt.value=gt;const vt=yt.data.hChildren[0];vt.type,vt.tagName,vt.children.push({type:"text",value:gt}),this.data.mathFlowInside=void 0}function tt(mt){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},mt),this.buffer()}function nt(mt){const gt=this.resume(),yt=this.stack[this.stack.length-1];yt.type,this.exit(mt),yt.value=gt,yt.data.hChildren.push({type:"text",value:gt})}function rt(mt){this.config.enter.data.call(this,mt),this.config.exit.data.call(this,mt)}}function mathToMarkdown(a){let e=(a||{}).singleDollarTextMath;return e==null&&(e=!0),c.peek=et,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:o,inlineMath:c}};function o(tt,nt,rt,mt){const gt=tt.value||"",yt=rt.createTracker(mt),vt="$".repeat(Math.max(longestStreak(gt,"$")+1,2)),xt=rt.enter("mathFlow");let bt=yt.move(vt);if(tt.meta){const Et=rt.enter("mathFlowMeta");bt+=yt.move(rt.safe(tt.meta,{after:`
`,before:bt,encode:["$"],...yt.current()})),Et()}return bt+=yt.move(`
`),gt&&(bt+=yt.move(gt+`
`)),bt+=yt.move(vt),xt(),bt}function c(tt,nt,rt){let mt=tt.value||"",gt=1;for(e||gt++;new RegExp("(^|[^$])"+"\\$".repeat(gt)+"([^$]|$)").test(mt);)gt++;const yt="$".repeat(gt);/[^ \r\n]/.test(mt)&&(/^[ \r\n]/.test(mt)&&/[ \r\n]$/.test(mt)||/^\$|\$$/.test(mt))&&(mt=" "+mt+" ");let vt=-1;for(;++vt<rt.unsafe.length;){const xt=rt.unsafe[vt];if(!xt.atBreak)continue;const bt=rt.compilePattern(xt);let Et;for(;Et=bt.exec(mt);){let wt=Et.index;mt.codePointAt(wt)===10&&mt.codePointAt(wt-1)===13&&wt--,mt=mt.slice(0,wt)+" "+mt.slice(Et.index+1)}}return yt+mt+yt}function et(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(a,e,o){const c=this,et=c.events[c.events.length-1],tt=et&&et[1].type==="linePrefix"?et[2].sliceSerialize(et[1],!0).length:0;let nt=0;return rt;function rt(kt){return a.enter("mathFlow"),a.enter("mathFlowFence"),a.enter("mathFlowFenceSequence"),mt(kt)}function mt(kt){return kt===36?(a.consume(kt),nt++,mt):nt<2?o(kt):(a.exit("mathFlowFenceSequence"),factorySpace(a,gt,"whitespace")(kt))}function gt(kt){return kt===null||markdownLineEnding(kt)?vt(kt):(a.enter("mathFlowFenceMeta"),a.enter("chunkString",{contentType:"string"}),yt(kt))}function yt(kt){return kt===null||markdownLineEnding(kt)?(a.exit("chunkString"),a.exit("mathFlowFenceMeta"),vt(kt)):kt===36?o(kt):(a.consume(kt),yt)}function vt(kt){return a.exit("mathFlowFence"),c.interrupt?e(kt):a.attempt(nonLazyContinuation,xt,St)(kt)}function xt(kt){return a.attempt({tokenize:Tt,partial:!0},St,bt)(kt)}function bt(kt){return(tt?factorySpace(a,Et,"linePrefix",tt+1):Et)(kt)}function Et(kt){return kt===null?St(kt):markdownLineEnding(kt)?a.attempt(nonLazyContinuation,xt,St)(kt):(a.enter("mathFlowValue"),wt(kt))}function wt(kt){return kt===null||markdownLineEnding(kt)?(a.exit("mathFlowValue"),Et(kt)):(a.consume(kt),wt)}function St(kt){return a.exit("mathFlow"),e(kt)}function Tt(kt,_t,Mt){let Pt=0;return factorySpace(kt,It,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function It(At){return kt.enter("mathFlowFence"),kt.enter("mathFlowFenceSequence"),Dt(At)}function Dt(At){return At===36?(Pt++,kt.consume(At),Dt):Pt<nt?Mt(At):(kt.exit("mathFlowFenceSequence"),factorySpace(kt,Ct,"whitespace")(At))}function Ct(At){return At===null||markdownLineEnding(At)?(kt.exit("mathFlowFence"),_t(At)):Mt(At)}}}function tokenizeNonLazyContinuation(a,e,o){const c=this;return et;function et(nt){return nt===null?e(nt):(a.enter("lineEnding"),a.consume(nt),a.exit("lineEnding"),tt)}function tt(nt){return c.parser.lazy[c.now().line]?o(nt):e(nt)}}function mathText(a){let o=(a||{}).singleDollarTextMath;return o==null&&(o=!0),{tokenize:c,resolve:resolveMathText,previous,name:"mathText"};function c(et,tt,nt){let rt=0,mt,gt;return yt;function yt(wt){return et.enter("mathText"),et.enter("mathTextSequence"),vt(wt)}function vt(wt){return wt===36?(et.consume(wt),rt++,vt):rt<2&&!o?nt(wt):(et.exit("mathTextSequence"),xt(wt))}function xt(wt){return wt===null?nt(wt):wt===36?(gt=et.enter("mathTextSequence"),mt=0,Et(wt)):wt===32?(et.enter("space"),et.consume(wt),et.exit("space"),xt):markdownLineEnding(wt)?(et.enter("lineEnding"),et.consume(wt),et.exit("lineEnding"),xt):(et.enter("mathTextData"),bt(wt))}function bt(wt){return wt===null||wt===32||wt===36||markdownLineEnding(wt)?(et.exit("mathTextData"),xt(wt)):(et.consume(wt),bt)}function Et(wt){return wt===36?(et.consume(wt),mt++,Et):mt===rt?(et.exit("mathTextSequence"),et.exit("mathText"),tt(wt)):(gt.type="mathTextData",bt(wt))}}}function resolveMathText(a){let e=a.length-4,o=3,c,et;if((a[o][1].type==="lineEnding"||a[o][1].type==="space")&&(a[e][1].type==="lineEnding"||a[e][1].type==="space")){for(c=o;++c<e;)if(a[c][1].type==="mathTextData"){a[e][1].type="mathTextPadding",a[o][1].type="mathTextPadding",o+=2,e-=2;break}}for(c=o-1,e++;++c<=e;)et===void 0?c!==e&&a[c][1].type!=="lineEnding"&&(et=c):(c===e||a[c][1].type==="lineEnding")&&(a[et][1].type="mathTextData",c!==et+2&&(a[et][1].end=a[c-1][1].end,a.splice(et+2,c-et-2),e-=c-et-2,c=et+2),et=void 0);return a}function previous(a){return a!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$1(a){return{flow:{36:mathFlow},text:{36:mathText(a)}}}class SourceLocation{constructor(e,o,c){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=o,this.end=c}static range(e,o){return o?!e||!e.loc||!o.loc||e.loc.lexer!==o.loc.lexer?null:new SourceLocation(e.loc.lexer,e.loc.start,o.loc.end):e&&e.loc}}class Token{constructor(e,o){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=o}range(e,o){return new Token(o,SourceLocation.range(this,e))}}class ParseError{constructor(e,o){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var c="KaTeX parse error: "+e,et,tt,nt=o&&o.loc;if(nt&&nt.start<=nt.end){var rt=nt.lexer.input;et=nt.start,tt=nt.end,et===rt.length?c+=" at end of input: ":c+=" at position "+(et+1)+": ";var mt=rt.slice(et,tt).replace(/[^]/g,"$&"),gt;et>15?gt=""+rt.slice(et-15,et):gt=rt.slice(0,et);var yt;tt+15<rt.length?yt=rt.slice(tt,tt+15)+"":yt=rt.slice(tt),c+=gt+mt+yt}var vt=new Error(c);return vt.name="ParseError",vt.__proto__=ParseError.prototype,vt.position=et,et!=null&&tt!=null&&(vt.length=tt-et),vt.rawMessage=e,vt}}ParseError.prototype.__proto__=Error.prototype;var deflt=function(e,o){return e===void 0?o:e},uppercase=/([A-Z])/g,hyphenate=function(e){return e.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape$1(a){return String(a).replace(ESCAPE_REGEX,e=>ESCAPE_LOOKUP[e])}var getBaseElem=function a(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?a(e.body[0]):e:e.type==="font"?a(e.body):e},isCharacterBox=function(e){var o=getBaseElem(e);return o.type==="mathord"||o.type==="textord"||o.type==="atom"},assert=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},protocolFromUrl=function(e){var o=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return o?o[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(o[1])?null:o[1].toLowerCase():"_relative"},utils={deflt,escape:escape$1,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:a=>"#"+a},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(a,e)=>(e.push(a),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:a=>Math.max(0,a),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:a=>Math.max(0,a),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:a=>Math.max(0,a),cli:"-e, --max-expand <n>",cliProcessor:a=>a==="Infinity"?1/0:parseInt(a)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(a){if(a.default)return a.default;var e=a.type,o=Array.isArray(e)?e[0]:e;if(typeof o!="string")return o.enum[0];switch(o){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let Settings$1=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var o in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(o)){var c=SETTINGS_SCHEMA[o];this[o]=e[o]!==void 0?c.processor?c.processor(e[o]):e[o]:getDefaultValue(c)}}reportNonstrict(e,o,c){var et=this.strict;if(typeof et=="function"&&(et=et(e,o,c)),!(!et||et==="ignore")){if(et===!0||et==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(o+" ["+e+"]"),c);et==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(o+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+et+"': "+o+" ["+e+"]"))}}useStrictBehavior(e,o,c){var et=this.strict;if(typeof et=="function")try{et=et(e,o,c)}catch{et="error"}return!et||et==="ignore"?!1:et===!0||et==="error"?!0:et==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(o+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+et+"': "+o+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var o=utils.protocolFromUrl(e.url);if(o==null)return!1;e.protocol=o}var c=typeof this.trust=="function"?this.trust(e):this.trust;return!!c}};class Style{constructor(e,o,c){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=o,this.cramped=c}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(a){for(var e=0;e<scriptData.length;e++)for(var o=scriptData[e],c=0;c<o.blocks.length;c++){var et=o.blocks[c];if(a>=et[0]&&a<=et[1])return o.name}return null}var allBlocks=[];scriptData.forEach(a=>a.blocks.forEach(e=>allBlocks.push(...e)));function supportedCodepoint(a){for(var e=0;e<allBlocks.length;e+=2)if(a>=allBlocks[e]&&a<=allBlocks[e+1])return!0;return!1}var hLinePad=80,sqrtMain=function(e,o){return"M95,"+(622+e+o)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+o+"h400000v"+(40+e)+"h-400000z"},sqrtSize1=function(e,o){return"M263,"+(601+e+o)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+o+"h400000v"+(40+e)+"h-400000z"},sqrtSize2=function(e,o){return"M983 "+(10+e+o)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+o+"h400000v"+(40+e)+"h-400000z"},sqrtSize3=function(e,o){return"M424,"+(2398+e+o)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+o+`
h400000v`+(40+e)+"h-400000z"},sqrtSize4=function(e,o){return"M473,"+(2713+e+o)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+o+"h400000v"+(40+e)+"H1017.7z"},phasePath=function(e){var o=e/2;return"M400000 "+e+" H0 L"+o+" 0 l65 45 L145 "+(e-80)+" H400000z"},sqrtTall=function(e,o,c){var et=c-54-o-e;return"M702 "+(e+o)+"H400000"+(40+e)+`
H742v`+et+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+o+"H400000v"+(40+e)+"H742z"},sqrtPath=function(e,o,c){o=1e3*o;var et="";switch(e){case"sqrtMain":et=sqrtMain(o,hLinePad);break;case"sqrtSize1":et=sqrtSize1(o,hLinePad);break;case"sqrtSize2":et=sqrtSize2(o,hLinePad);break;case"sqrtSize3":et=sqrtSize3(o,hLinePad);break;case"sqrtSize4":et=sqrtSize4(o,hLinePad);break;case"sqrtTall":et=sqrtTall(o,hLinePad,c)}return et},innerPath=function(e,o){switch(e){case"":return"M291 0 H417 V"+o+" H291z M291 0 H417 V"+o+" H291z";case"":return"M145 0 H188 V"+o+" H145z M145 0 H188 V"+o+" H145z";case"":return"M145 0 H188 V"+o+" H145z M145 0 H188 V"+o+" H145z"+("M367 0 H410 V"+o+" H367z M367 0 H410 V"+o+" H367z");case"":return"M457 0 H583 V"+o+" H457z M457 0 H583 V"+o+" H457z";case"":return"M319 0 H403 V"+o+" H319z M319 0 H403 V"+o+" H319z";case"":return"M263 0 H347 V"+o+" H263z M263 0 H347 V"+o+" H263z";case"":return"M384 0 H504 V"+o+" H384z M384 0 H504 V"+o+" H384z";case"":return"M312 0 H355 V"+o+" H312z M312 0 H355 V"+o+" H312z";case"":return"M257 0 H300 V"+o+" H257z M257 0 H300 V"+o+" H257z"+("M478 0 H521 V"+o+" H478z M478 0 H521 V"+o+" H478z");default:return""}},path={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function(e,o){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+o+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+o+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+o+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+o+" v1759 h84z";case"vert":return"M145 15 v585 v"+o+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-o+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+o+" v585 h43z";case"doublevert":return"M145 15 v585 v"+o+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-o+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+o+` v585 h43z
M367 15 v585 v`+o+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-o+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+o+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+o+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+o+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+o+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+o+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+o+` v602 h84z
M403 1759 V0 H319 V1759 v`+o+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+o+` v602 h84z
M347 1759 V0 h-84 V1759 v`+o+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(o+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(o+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(o+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(o+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class DocumentFragment{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),o=0;o<this.children.length;o++)e.appendChild(this.children[o].toNode());return e}toMarkup(){for(var e="",o=0;o<this.children.length;o++)e+=this.children[o].toMarkup();return e}toText(){var e=o=>o.toText();return this.children.map(e).join("")}}var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(a,e){fontMetricsData[a]=e}function getCharacterMetrics(a,e,o){if(!fontMetricsData[e])throw new Error("Font metrics not found for font: "+e+".");var c=a.charCodeAt(0),et=fontMetricsData[e][c];if(!et&&a[0]in extraCharacterMap&&(c=extraCharacterMap[a[0]].charCodeAt(0),et=fontMetricsData[e][c]),!et&&o==="text"&&supportedCodepoint(c)&&(et=fontMetricsData[e][77]),et)return{depth:et[0],height:et[1],italic:et[2],skew:et[3],width:et[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(a){var e;if(a>=5?e=0:a>=3?e=1:e=2,!fontMetricsBySizeIndex[e]){var o=fontMetricsBySizeIndex[e]={cssEmPerMu:sigmasAndXis.quad[e]/18};for(var c in sigmasAndXis)sigmasAndXis.hasOwnProperty(c)&&(o[c]=sigmasAndXis[c][e])}return fontMetricsBySizeIndex[e]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function(e,o){return o.size<2?e:sizeStyleMap[e-1][o.size-1]};class Options{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Options.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var o={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var c in e)e.hasOwnProperty(c)&&(o[c]=e[c]);return new Options(o)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:sizeAtStyle(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:sizeMultipliers[e-1]})}havingBaseStyle(e){e=e||this.style.text();var o=sizeAtStyle(Options.BASESIZE,e);return this.size===o&&this.textSize===Options.BASESIZE&&this.style===e?this:this.extend({style:e,size:o})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function(e){return typeof e!="string"&&(e=e.unit),e in ptPerUnit||e in relativeUnit||e==="ex"},calculateSize=function(e,o){var c;if(e.unit in ptPerUnit)c=ptPerUnit[e.unit]/o.fontMetrics().ptPerEm/o.sizeMultiplier;else if(e.unit==="mu")c=o.fontMetrics().cssEmPerMu;else{var et;if(o.style.isTight()?et=o.havingStyle(o.style.text()):et=o,e.unit==="ex")c=et.fontMetrics().xHeight;else if(e.unit==="em")c=et.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+e.unit+"'");et!==o&&(c*=et.sizeMultiplier/o.sizeMultiplier)}return Math.min(e.number*c,o.maxSize)},makeEm=function(e){return+e.toFixed(4)+"em"},createClass=function(e){return e.filter(o=>o).join(" ")},initNode=function(e,o,c){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=c||{},o){o.style.isTight()&&this.classes.push("mtight");var et=o.getColor();et&&(this.style.color=et)}},toNode=function(e){var o=document.createElement(e);o.className=createClass(this.classes);for(var c in this.style)this.style.hasOwnProperty(c)&&(o.style[c]=this.style[c]);for(var et in this.attributes)this.attributes.hasOwnProperty(et)&&o.setAttribute(et,this.attributes[et]);for(var tt=0;tt<this.children.length;tt++)o.appendChild(this.children[tt].toNode());return o},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function(e){var o="<"+e;this.classes.length&&(o+=' class="'+utils.escape(createClass(this.classes))+'"');var c="";for(var et in this.style)this.style.hasOwnProperty(et)&&(c+=utils.hyphenate(et)+":"+this.style[et]+";");c&&(o+=' style="'+utils.escape(c)+'"');for(var tt in this.attributes)if(this.attributes.hasOwnProperty(tt)){if(invalidAttributeNameRegex.test(tt))throw new ParseError("Invalid attribute name '"+tt+"'");o+=" "+tt+'="'+utils.escape(this.attributes[tt])+'"'}o+=">";for(var nt=0;nt<this.children.length;nt++)o+=this.children[nt].toMarkup();return o+="</"+e+">",o};class Span{constructor(e,o,c,et){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,e,c,et),this.children=o||[]}setAttribute(e,o){this.attributes[e]=o}hasClass(e){return this.classes.includes(e)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(e,o,c,et){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,o,et),this.children=c||[],this.setAttribute("href",e)}setAttribute(e,o){this.attributes[e]=o}hasClass(e){return this.classes.includes(e)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(e,o,c){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=o,this.src=e,this.classes=["mord"],this.style=c}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var o in this.style)this.style.hasOwnProperty(o)&&(e.style[o]=this.style[o]);return e}toMarkup(){var e='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),o="";for(var c in this.style)this.style.hasOwnProperty(c)&&(o+=utils.hyphenate(c)+":"+this.style[c]+";");return o&&(e+=' style="'+utils.escape(o)+'"'),e+="'/>",e}}var iCombinations={:"",:"",:"",:""};class SymbolNode{constructor(e,o,c,et,tt,nt,rt,mt){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=o||0,this.depth=c||0,this.italic=et||0,this.skew=tt||0,this.width=nt||0,this.classes=rt||[],this.style=mt||{},this.maxFontSize=0;var gt=scriptFromCodepoint(this.text.charCodeAt(0));gt&&this.classes.push(gt+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),o=null;this.italic>0&&(o=document.createElement("span"),o.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(o=o||document.createElement("span"),o.className=createClass(this.classes));for(var c in this.style)this.style.hasOwnProperty(c)&&(o=o||document.createElement("span"),o.style[c]=this.style[c]);return o?(o.appendChild(e),o):e}toMarkup(){var e=!1,o="<span";this.classes.length&&(e=!0,o+=' class="',o+=utils.escape(createClass(this.classes)),o+='"');var c="";this.italic>0&&(c+="margin-right:"+this.italic+"em;");for(var et in this.style)this.style.hasOwnProperty(et)&&(c+=utils.hyphenate(et)+":"+this.style[et]+";");c&&(e=!0,o+=' style="'+utils.escape(c)+'"');var tt=utils.escape(this.text);return e?(o+=">",o+=tt,o+="</span>",o):tt}}class SvgNode{constructor(e,o){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=o||{}}toNode(){var e="http://www.w3.org/2000/svg",o=document.createElementNS(e,"svg");for(var c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&o.setAttribute(c,this.attributes[c]);for(var et=0;et<this.children.length;et++)o.appendChild(this.children[et].toNode());return o}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&(e+=" "+o+'="'+utils.escape(this.attributes[o])+'"');e+=">";for(var c=0;c<this.children.length;c++)e+=this.children[c].toMarkup();return e+="</svg>",e}}class PathNode{constructor(e,o){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=o}toNode(){var e="http://www.w3.org/2000/svg",o=document.createElementNS(e,"path");return this.alternate?o.setAttribute("d",this.alternate):o.setAttribute("d",path[this.pathName]),o}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path[this.pathName])+'"/>'}}class LineNode{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",o=document.createElementNS(e,"line");for(var c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&o.setAttribute(c,this.attributes[c]);return o}toMarkup(){var e="<line";for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&(e+=" "+o+'="'+utils.escape(this.attributes[o])+'"');return e+="/>",e}}function assertSymbolDomNode(a){if(a instanceof SymbolNode)return a;throw new Error("Expected symbolNode but got "+String(a)+".")}function assertSpan(a){if(a instanceof Span)return a;throw new Error("Expected span<HtmlDomNode> but got "+String(a)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(a,e,o,c,et,tt){symbols[a][et]={font:e,group:o,replace:c},tt&&c&&(symbols[a][c]=symbols[a][et])}var math="math",text$2="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0);defineSymbol(math,main,rel,"","\\prec",!0);defineSymbol(math,main,rel,"","\\succ",!0);defineSymbol(math,main,rel,"","\\sim",!0);defineSymbol(math,main,rel,"","\\perp");defineSymbol(math,main,rel,"","\\preceq",!0);defineSymbol(math,main,rel,"","\\succeq",!0);defineSymbol(math,main,rel,"","\\simeq",!0);defineSymbol(math,main,rel,"","\\mid",!0);defineSymbol(math,main,rel,"","\\ll",!0);defineSymbol(math,main,rel,"","\\gg",!0);defineSymbol(math,main,rel,"","\\asymp",!0);defineSymbol(math,main,rel,"","\\parallel");defineSymbol(math,main,rel,"","\\bowtie",!0);defineSymbol(math,main,rel,"","\\smile",!0);defineSymbol(math,main,rel,"","\\sqsubseteq",!0);defineSymbol(math,main,rel,"","\\sqsupseteq",!0);defineSymbol(math,main,rel,"","\\doteq",!0);defineSymbol(math,main,rel,"","\\frown",!0);defineSymbol(math,main,rel,"","\\ni",!0);defineSymbol(math,main,rel,"","\\propto",!0);defineSymbol(math,main,rel,"","\\vdash",!0);defineSymbol(math,main,rel,"","\\dashv",!0);defineSymbol(math,main,rel,"","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text$2,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text$2,main,textord,"&","\\&");defineSymbol(math,main,textord,"","\\aleph",!0);defineSymbol(math,main,textord,"","\\forall",!0);defineSymbol(math,main,textord,"","\\hbar",!0);defineSymbol(math,main,textord,"","\\exists",!0);defineSymbol(math,main,textord,"","\\nabla",!0);defineSymbol(math,main,textord,"","\\flat",!0);defineSymbol(math,main,textord,"","\\ell",!0);defineSymbol(math,main,textord,"","\\natural",!0);defineSymbol(math,main,textord,"","\\clubsuit",!0);defineSymbol(math,main,textord,"","\\wp",!0);defineSymbol(math,main,textord,"","\\sharp",!0);defineSymbol(math,main,textord,"","\\diamondsuit",!0);defineSymbol(math,main,textord,"","\\Re",!0);defineSymbol(math,main,textord,"","\\heartsuit",!0);defineSymbol(math,main,textord,"","\\Im",!0);defineSymbol(math,main,textord,"","\\spadesuit",!0);defineSymbol(math,main,textord,"","\\S",!0);defineSymbol(text$2,main,textord,"","\\S");defineSymbol(math,main,textord,"","\\P",!0);defineSymbol(text$2,main,textord,"","\\P");defineSymbol(math,main,textord,"","\\dag");defineSymbol(text$2,main,textord,"","\\dag");defineSymbol(text$2,main,textord,"","\\textdagger");defineSymbol(math,main,textord,"","\\ddag");defineSymbol(text$2,main,textord,"","\\ddag");defineSymbol(text$2,main,textord,"","\\textdaggerdbl");defineSymbol(math,main,close,"","\\rmoustache",!0);defineSymbol(math,main,open,"","\\lmoustache",!0);defineSymbol(math,main,close,"","\\rgroup",!0);defineSymbol(math,main,open,"","\\lgroup",!0);defineSymbol(math,main,bin,"","\\mp",!0);defineSymbol(math,main,bin,"","\\ominus",!0);defineSymbol(math,main,bin,"","\\uplus",!0);defineSymbol(math,main,bin,"","\\sqcap",!0);defineSymbol(math,main,bin,"","\\ast");defineSymbol(math,main,bin,"","\\sqcup",!0);defineSymbol(math,main,bin,"","\\bigcirc",!0);defineSymbol(math,main,bin,"","\\bullet",!0);defineSymbol(math,main,bin,"","\\ddagger");defineSymbol(math,main,bin,"","\\wr",!0);defineSymbol(math,main,bin,"","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"","\\longleftarrow",!0);defineSymbol(math,main,rel,"","\\Leftarrow",!0);defineSymbol(math,main,rel,"","\\Longleftarrow",!0);defineSymbol(math,main,rel,"","\\longrightarrow",!0);defineSymbol(math,main,rel,"","\\Rightarrow",!0);defineSymbol(math,main,rel,"","\\Longrightarrow",!0);defineSymbol(math,main,rel,"","\\leftrightarrow",!0);defineSymbol(math,main,rel,"","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\mapsto",!0);defineSymbol(math,main,rel,"","\\longmapsto",!0);defineSymbol(math,main,rel,"","\\nearrow",!0);defineSymbol(math,main,rel,"","\\hookleftarrow",!0);defineSymbol(math,main,rel,"","\\hookrightarrow",!0);defineSymbol(math,main,rel,"","\\searrow",!0);defineSymbol(math,main,rel,"","\\leftharpoonup",!0);defineSymbol(math,main,rel,"","\\rightharpoonup",!0);defineSymbol(math,main,rel,"","\\swarrow",!0);defineSymbol(math,main,rel,"","\\leftharpoondown",!0);defineSymbol(math,main,rel,"","\\rightharpoondown",!0);defineSymbol(math,main,rel,"","\\nwarrow",!0);defineSymbol(math,main,rel,"","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"","\\lneq",!0);defineSymbol(math,ams,rel,"","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"","\\lnsim",!0);defineSymbol(math,ams,rel,"","\\lnapprox",!0);defineSymbol(math,ams,rel,"","\\nprec",!0);defineSymbol(math,ams,rel,"","\\npreceq",!0);defineSymbol(math,ams,rel,"","\\precnsim",!0);defineSymbol(math,ams,rel,"","\\precnapprox",!0);defineSymbol(math,ams,rel,"","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"","\\nmid",!0);defineSymbol(math,ams,rel,"","\\nvdash",!0);defineSymbol(math,ams,rel,"","\\nvDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleleft");defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"","\\gneq",!0);defineSymbol(math,ams,rel,"","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"","\\gnsim",!0);defineSymbol(math,ams,rel,"","\\gnapprox",!0);defineSymbol(math,ams,rel,"","\\nsucc",!0);defineSymbol(math,ams,rel,"","\\nsucceq",!0);defineSymbol(math,ams,rel,"","\\succnsim",!0);defineSymbol(math,ams,rel,"","\\succnapprox",!0);defineSymbol(math,ams,rel,"","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"","\\nparallel",!0);defineSymbol(math,ams,rel,"","\\nVDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleright");defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"","\\nVdash",!0);defineSymbol(math,ams,rel,"","\\precneqq",!0);defineSymbol(math,ams,rel,"","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"","\\unlhd");defineSymbol(math,ams,bin,"","\\unrhd");defineSymbol(math,ams,rel,"","\\nleftarrow",!0);defineSymbol(math,ams,rel,"","\\nrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"","\\nRightarrow",!0);defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"","\\vartriangle");defineSymbol(math,ams,textord,"","\\hslash");defineSymbol(math,ams,textord,"","\\triangledown");defineSymbol(math,ams,textord,"","\\lozenge");defineSymbol(math,ams,textord,"","\\circledS");defineSymbol(math,ams,textord,"","\\circledR");defineSymbol(text$2,ams,textord,"","\\circledR");defineSymbol(math,ams,textord,"","\\measuredangle",!0);defineSymbol(math,ams,textord,"","\\nexists");defineSymbol(math,ams,textord,"","\\mho");defineSymbol(math,ams,textord,"","\\Finv",!0);defineSymbol(math,ams,textord,"","\\Game",!0);defineSymbol(math,ams,textord,"","\\backprime");defineSymbol(math,ams,textord,"","\\blacktriangle");defineSymbol(math,ams,textord,"","\\blacktriangledown");defineSymbol(math,ams,textord,"","\\blacksquare");defineSymbol(math,ams,textord,"","\\blacklozenge");defineSymbol(math,ams,textord,"","\\bigstar");defineSymbol(math,ams,textord,"","\\sphericalangle",!0);defineSymbol(math,ams,textord,"","\\complement",!0);defineSymbol(math,ams,textord,"","\\eth",!0);defineSymbol(text$2,main,textord,"","");defineSymbol(math,ams,textord,"","\\diagup");defineSymbol(math,ams,textord,"","\\diagdown");defineSymbol(math,ams,textord,"","\\square");defineSymbol(math,ams,textord,"","\\Box");defineSymbol(math,ams,textord,"","\\Diamond");defineSymbol(math,ams,textord,"","\\yen",!0);defineSymbol(text$2,ams,textord,"","\\yen",!0);defineSymbol(math,ams,textord,"","\\checkmark",!0);defineSymbol(text$2,ams,textord,"","\\checkmark");defineSymbol(math,ams,textord,"","\\beth",!0);defineSymbol(math,ams,textord,"","\\daleth",!0);defineSymbol(math,ams,textord,"","\\gimel",!0);defineSymbol(math,ams,textord,"","\\digamma",!0);defineSymbol(math,ams,textord,"","\\varkappa");defineSymbol(math,ams,open,"","\\@ulcorner",!0);defineSymbol(math,ams,close,"","\\@urcorner",!0);defineSymbol(math,ams,open,"","\\@llcorner",!0);defineSymbol(math,ams,close,"","\\@lrcorner",!0);defineSymbol(math,ams,rel,"","\\leqq",!0);defineSymbol(math,ams,rel,"","\\leqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantless",!0);defineSymbol(math,ams,rel,"","\\lesssim",!0);defineSymbol(math,ams,rel,"","\\lessapprox",!0);defineSymbol(math,ams,rel,"","\\approxeq",!0);defineSymbol(math,ams,bin,"","\\lessdot");defineSymbol(math,ams,rel,"","\\lll",!0);defineSymbol(math,ams,rel,"","\\lessgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"","\\doteqdot");defineSymbol(math,ams,rel,"","\\risingdotseq",!0);defineSymbol(math,ams,rel,"","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"","\\backsim",!0);defineSymbol(math,ams,rel,"","\\backsimeq",!0);defineSymbol(math,ams,rel,"","\\subseteqq",!0);defineSymbol(math,ams,rel,"","\\Subset",!0);defineSymbol(math,ams,rel,"","\\sqsubset",!0);defineSymbol(math,ams,rel,"","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"","\\precsim",!0);defineSymbol(math,ams,rel,"","\\precapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleleft");defineSymbol(math,ams,rel,"","\\trianglelefteq");defineSymbol(math,ams,rel,"","\\vDash",!0);defineSymbol(math,ams,rel,"","\\Vvdash",!0);defineSymbol(math,ams,rel,"","\\smallsmile");defineSymbol(math,ams,rel,"","\\smallfrown");defineSymbol(math,ams,rel,"","\\bumpeq",!0);defineSymbol(math,ams,rel,"","\\Bumpeq",!0);defineSymbol(math,ams,rel,"","\\geqq",!0);defineSymbol(math,ams,rel,"","\\geqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"","\\gtrsim",!0);defineSymbol(math,ams,rel,"","\\gtrapprox",!0);defineSymbol(math,ams,bin,"","\\gtrdot");defineSymbol(math,ams,rel,"","\\ggg",!0);defineSymbol(math,ams,rel,"","\\gtrless",!0);defineSymbol(math,ams,rel,"","\\gtreqless",!0);defineSymbol(math,ams,rel,"","\\gtreqqless",!0);defineSymbol(math,ams,rel,"","\\eqcirc",!0);defineSymbol(math,ams,rel,"","\\circeq",!0);defineSymbol(math,ams,rel,"","\\triangleq",!0);defineSymbol(math,ams,rel,"","\\thicksim");defineSymbol(math,ams,rel,"","\\thickapprox");defineSymbol(math,ams,rel,"","\\supseteqq",!0);defineSymbol(math,ams,rel,"","\\Supset",!0);defineSymbol(math,ams,rel,"","\\sqsupset",!0);defineSymbol(math,ams,rel,"","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"","\\succsim",!0);defineSymbol(math,ams,rel,"","\\succapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleright");defineSymbol(math,ams,rel,"","\\trianglerighteq");defineSymbol(math,ams,rel,"","\\Vdash",!0);defineSymbol(math,ams,rel,"","\\shortmid");defineSymbol(math,ams,rel,"","\\shortparallel");defineSymbol(math,ams,rel,"","\\between",!0);defineSymbol(math,ams,rel,"","\\pitchfork",!0);defineSymbol(math,ams,rel,"","\\varpropto");defineSymbol(math,ams,rel,"","\\blacktriangleleft");defineSymbol(math,ams,rel,"","\\therefore",!0);defineSymbol(math,ams,rel,"","\\backepsilon");defineSymbol(math,ams,rel,"","\\blacktriangleright");defineSymbol(math,ams,rel,"","\\because",!0);defineSymbol(math,ams,rel,"","\\llless");defineSymbol(math,ams,rel,"","\\gggtr");defineSymbol(math,ams,bin,"","\\lhd");defineSymbol(math,ams,bin,"","\\rhd");defineSymbol(math,ams,rel,"","\\eqsim",!0);defineSymbol(math,main,rel,"","\\Join");defineSymbol(math,ams,rel,"","\\Doteq",!0);defineSymbol(math,ams,bin,"","\\dotplus",!0);defineSymbol(math,ams,bin,"","\\smallsetminus");defineSymbol(math,ams,bin,"","\\Cap",!0);defineSymbol(math,ams,bin,"","\\Cup",!0);defineSymbol(math,ams,bin,"","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"","\\boxminus",!0);defineSymbol(math,ams,bin,"","\\boxplus",!0);defineSymbol(math,ams,bin,"","\\divideontimes",!0);defineSymbol(math,ams,bin,"","\\ltimes",!0);defineSymbol(math,ams,bin,"","\\rtimes",!0);defineSymbol(math,ams,bin,"","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"","\\curlywedge",!0);defineSymbol(math,ams,bin,"","\\curlyvee",!0);defineSymbol(math,ams,bin,"","\\circleddash",!0);defineSymbol(math,ams,bin,"","\\circledast",!0);defineSymbol(math,ams,bin,"","\\centerdot");defineSymbol(math,ams,bin,"","\\intercal",!0);defineSymbol(math,ams,bin,"","\\doublecap");defineSymbol(math,ams,bin,"","\\doublecup");defineSymbol(math,ams,bin,"","\\boxtimes",!0);defineSymbol(math,ams,rel,"","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowleft",!0);defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"","\\Lsh",!0);defineSymbol(math,ams,rel,"","\\upuparrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"","\\downharpoonleft",!0);defineSymbol(math,main,rel,"","\\origof",!0);defineSymbol(math,main,rel,"","\\imageof",!0);defineSymbol(math,ams,rel,"","\\multimap",!0);defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowright",!0);defineSymbol(math,ams,rel,"","\\curvearrowright",!0);defineSymbol(math,ams,rel,"","\\circlearrowright",!0);defineSymbol(math,ams,rel,"","\\Rsh",!0);defineSymbol(math,ams,rel,"","\\downdownarrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonright",!0);defineSymbol(math,ams,rel,"","\\downharpoonright",!0);defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\leadsto");defineSymbol(math,ams,rel,"","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"","\\restriction");defineSymbol(math,main,textord,"","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text$2,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"","\\angle",!0);defineSymbol(math,main,textord,"","\\infty",!0);defineSymbol(math,main,textord,"","\\prime");defineSymbol(math,main,textord,"","\\triangle");defineSymbol(math,main,textord,"","\\Gamma",!0);defineSymbol(math,main,textord,"","\\Delta",!0);defineSymbol(math,main,textord,"","\\Theta",!0);defineSymbol(math,main,textord,"","\\Lambda",!0);defineSymbol(math,main,textord,"","\\Xi",!0);defineSymbol(math,main,textord,"","\\Pi",!0);defineSymbol(math,main,textord,"","\\Sigma",!0);defineSymbol(math,main,textord,"","\\Upsilon",!0);defineSymbol(math,main,textord,"","\\Phi",!0);defineSymbol(math,main,textord,"","\\Psi",!0);defineSymbol(math,main,textord,"","\\Omega",!0);defineSymbol(math,main,textord,"A","");defineSymbol(math,main,textord,"B","");defineSymbol(math,main,textord,"E","");defineSymbol(math,main,textord,"Z","");defineSymbol(math,main,textord,"H","");defineSymbol(math,main,textord,"I","");defineSymbol(math,main,textord,"K","");defineSymbol(math,main,textord,"M","");defineSymbol(math,main,textord,"N","");defineSymbol(math,main,textord,"O","");defineSymbol(math,main,textord,"P","");defineSymbol(math,main,textord,"T","");defineSymbol(math,main,textord,"X","");defineSymbol(math,main,textord,"","\\neg",!0);defineSymbol(math,main,textord,"","\\lnot");defineSymbol(math,main,textord,"","\\top");defineSymbol(math,main,textord,"","\\bot");defineSymbol(math,main,textord,"","\\emptyset");defineSymbol(math,ams,textord,"","\\varnothing");defineSymbol(math,main,mathord,"","\\alpha",!0);defineSymbol(math,main,mathord,"","\\beta",!0);defineSymbol(math,main,mathord,"","\\gamma",!0);defineSymbol(math,main,mathord,"","\\delta",!0);defineSymbol(math,main,mathord,"","\\epsilon",!0);defineSymbol(math,main,mathord,"","\\zeta",!0);defineSymbol(math,main,mathord,"","\\eta",!0);defineSymbol(math,main,mathord,"","\\theta",!0);defineSymbol(math,main,mathord,"","\\iota",!0);defineSymbol(math,main,mathord,"","\\kappa",!0);defineSymbol(math,main,mathord,"","\\lambda",!0);defineSymbol(math,main,mathord,"","\\mu",!0);defineSymbol(math,main,mathord,"","\\nu",!0);defineSymbol(math,main,mathord,"","\\xi",!0);defineSymbol(math,main,mathord,"","\\omicron",!0);defineSymbol(math,main,mathord,"","\\pi",!0);defineSymbol(math,main,mathord,"","\\rho",!0);defineSymbol(math,main,mathord,"","\\sigma",!0);defineSymbol(math,main,mathord,"","\\tau",!0);defineSymbol(math,main,mathord,"","\\upsilon",!0);defineSymbol(math,main,mathord,"","\\phi",!0);defineSymbol(math,main,mathord,"","\\chi",!0);defineSymbol(math,main,mathord,"","\\psi",!0);defineSymbol(math,main,mathord,"","\\omega",!0);defineSymbol(math,main,mathord,"","\\varepsilon",!0);defineSymbol(math,main,mathord,"","\\vartheta",!0);defineSymbol(math,main,mathord,"","\\varpi",!0);defineSymbol(math,main,mathord,"","\\varrho",!0);defineSymbol(math,main,mathord,"","\\varsigma",!0);defineSymbol(math,main,mathord,"","\\varphi",!0);defineSymbol(math,main,bin,"","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"","-",!0);defineSymbol(math,main,bin,"","\\cdot",!0);defineSymbol(math,main,bin,"","\\circ",!0);defineSymbol(math,main,bin,"","\\div",!0);defineSymbol(math,main,bin,"","\\pm",!0);defineSymbol(math,main,bin,"","\\times",!0);defineSymbol(math,main,bin,"","\\cap",!0);defineSymbol(math,main,bin,"","\\cup",!0);defineSymbol(math,main,bin,"","\\setminus",!0);defineSymbol(math,main,bin,"","\\land");defineSymbol(math,main,bin,"","\\lor");defineSymbol(math,main,bin,"","\\wedge",!0);defineSymbol(math,main,bin,"","\\vee",!0);defineSymbol(math,main,textord,"","\\surd");defineSymbol(math,main,open,"","\\langle",!0);defineSymbol(math,main,open,"","\\lvert");defineSymbol(math,main,open,"","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"","\\rangle",!0);defineSymbol(math,main,close,"","\\rvert");defineSymbol(math,main,close,"","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"","\\approx",!0);defineSymbol(math,main,rel,"","\\cong",!0);defineSymbol(math,main,rel,"","\\ge");defineSymbol(math,main,rel,"","\\geq",!0);defineSymbol(math,main,rel,"","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"","\\subset",!0);defineSymbol(math,main,rel,"","\\supset",!0);defineSymbol(math,main,rel,"","\\subseteq",!0);defineSymbol(math,main,rel,"","\\supseteq",!0);defineSymbol(math,ams,rel,"","\\nsubseteq",!0);defineSymbol(math,ams,rel,"","\\nsupseteq",!0);defineSymbol(math,main,rel,"","\\models");defineSymbol(math,main,rel,"","\\leftarrow",!0);defineSymbol(math,main,rel,"","\\le");defineSymbol(math,main,rel,"","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"","\\rightarrow",!0);defineSymbol(math,main,rel,"","\\to");defineSymbol(math,ams,rel,"","\\ngeq",!0);defineSymbol(math,ams,rel,"","\\nleq",!0);defineSymbol(math,main,spacing,"","\\ ");defineSymbol(math,main,spacing,"","\\space");defineSymbol(math,main,spacing,"","\\nobreakspace");defineSymbol(text$2,main,spacing,"","\\ ");defineSymbol(text$2,main,spacing,""," ");defineSymbol(text$2,main,spacing,"","\\space");defineSymbol(text$2,main,spacing,"","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"","\\barwedge",!0);defineSymbol(math,ams,bin,"","\\veebar",!0);defineSymbol(math,main,bin,"","\\odot",!0);defineSymbol(math,main,bin,"","\\oplus",!0);defineSymbol(math,main,bin,"","\\otimes",!0);defineSymbol(math,main,textord,"","\\partial",!0);defineSymbol(math,main,bin,"","\\oslash",!0);defineSymbol(math,ams,bin,"","\\circledcirc",!0);defineSymbol(math,ams,bin,"","\\boxdot",!0);defineSymbol(math,main,bin,"","\\bigtriangleup");defineSymbol(math,main,bin,"","\\bigtriangledown");defineSymbol(math,main,bin,"","\\dagger");defineSymbol(math,main,bin,"","\\diamond");defineSymbol(math,main,bin,"","\\star");defineSymbol(math,main,bin,"","\\triangleleft");defineSymbol(math,main,bin,"","\\triangleright");defineSymbol(math,main,open,"{","\\{");defineSymbol(text$2,main,textord,"{","\\{");defineSymbol(text$2,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text$2,main,textord,"}","\\}");defineSymbol(text$2,main,textord,"}","\\textbraceright");defineSymbol(math,main,open,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open,"[","\\lbrack",!0);defineSymbol(text$2,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text$2,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text$2,main,textord,"<","\\textless",!0);defineSymbol(text$2,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open,"","\\lfloor",!0);defineSymbol(math,main,close,"","\\rfloor",!0);defineSymbol(math,main,open,"","\\lceil",!0);defineSymbol(math,main,close,"","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"","|");defineSymbol(math,main,textord,"","\\vert");defineSymbol(text$2,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"","\\|");defineSymbol(math,main,textord,"","\\Vert");defineSymbol(text$2,main,textord,"","\\textbardbl");defineSymbol(text$2,main,textord,"~","\\textasciitilde");defineSymbol(text$2,main,textord,"\\","\\textbackslash");defineSymbol(text$2,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"","\\uparrow",!0);defineSymbol(math,main,rel,"","\\Uparrow",!0);defineSymbol(math,main,rel,"","\\downarrow",!0);defineSymbol(math,main,rel,"","\\Downarrow",!0);defineSymbol(math,main,rel,"","\\updownarrow",!0);defineSymbol(math,main,rel,"","\\Updownarrow",!0);defineSymbol(math,main,op,"","\\coprod");defineSymbol(math,main,op,"","\\bigvee");defineSymbol(math,main,op,"","\\bigwedge");defineSymbol(math,main,op,"","\\biguplus");defineSymbol(math,main,op,"","\\bigcap");defineSymbol(math,main,op,"","\\bigcup");defineSymbol(math,main,op,"","\\int");defineSymbol(math,main,op,"","\\intop");defineSymbol(math,main,op,"","\\iint");defineSymbol(math,main,op,"","\\iiint");defineSymbol(math,main,op,"","\\prod");defineSymbol(math,main,op,"","\\sum");defineSymbol(math,main,op,"","\\bigotimes");defineSymbol(math,main,op,"","\\bigoplus");defineSymbol(math,main,op,"","\\bigodot");defineSymbol(math,main,op,"","\\oint");defineSymbol(math,main,op,"","\\oiint");defineSymbol(math,main,op,"","\\oiiint");defineSymbol(math,main,op,"","\\bigsqcup");defineSymbol(math,main,op,"","\\smallint");defineSymbol(text$2,main,inner,"","\\textellipsis");defineSymbol(math,main,inner,"","\\mathellipsis");defineSymbol(text$2,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\@cdots",!0);defineSymbol(math,main,inner,"","\\ddots",!0);defineSymbol(math,main,textord,"","\\varvdots");defineSymbol(text$2,main,textord,"","\\varvdots");defineSymbol(math,main,accent,"","\\acute");defineSymbol(math,main,accent,"","\\grave");defineSymbol(math,main,accent,"","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"","\\bar");defineSymbol(math,main,accent,"","\\breve");defineSymbol(math,main,accent,"","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"","\\vec");defineSymbol(math,main,accent,"","\\dot");defineSymbol(math,main,accent,"","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"","");defineSymbol(math,main,textord,"","");defineSymbol(text$2,main,textord,"","\\i",!0);defineSymbol(text$2,main,textord,"","\\j",!0);defineSymbol(text$2,main,textord,"","\\ss",!0);defineSymbol(text$2,main,textord,"","\\ae",!0);defineSymbol(text$2,main,textord,"","\\oe",!0);defineSymbol(text$2,main,textord,"","\\o",!0);defineSymbol(text$2,main,textord,"","\\AE",!0);defineSymbol(text$2,main,textord,"","\\OE",!0);defineSymbol(text$2,main,textord,"","\\O",!0);defineSymbol(text$2,main,accent,"","\\'");defineSymbol(text$2,main,accent,"","\\`");defineSymbol(text$2,main,accent,"","\\^");defineSymbol(text$2,main,accent,"","\\~");defineSymbol(text$2,main,accent,"","\\=");defineSymbol(text$2,main,accent,"","\\u");defineSymbol(text$2,main,accent,"","\\.");defineSymbol(text$2,main,accent,"","\\c");defineSymbol(text$2,main,accent,"","\\r");defineSymbol(text$2,main,accent,"","\\v");defineSymbol(text$2,main,accent,"",'\\"');defineSymbol(text$2,main,accent,"","\\H");defineSymbol(text$2,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$2,main,textord,"","--",!0);defineSymbol(text$2,main,textord,"","\\textendash");defineSymbol(text$2,main,textord,"","---",!0);defineSymbol(text$2,main,textord,"","\\textemdash");defineSymbol(text$2,main,textord,"","`",!0);defineSymbol(text$2,main,textord,"","\\textquoteleft");defineSymbol(text$2,main,textord,"","'",!0);defineSymbol(text$2,main,textord,"","\\textquoteright");defineSymbol(text$2,main,textord,"","``",!0);defineSymbol(text$2,main,textord,"","\\textquotedblleft");defineSymbol(text$2,main,textord,"","''",!0);defineSymbol(text$2,main,textord,"","\\textquotedblright");defineSymbol(math,main,textord,"","\\degree",!0);defineSymbol(text$2,main,textord,"","\\degree");defineSymbol(text$2,main,textord,"","\\textdegree",!0);defineSymbol(math,main,textord,"","\\pounds");defineSymbol(math,main,textord,"","\\mathsterling",!0);defineSymbol(text$2,main,textord,"","\\pounds");defineSymbol(text$2,main,textord,"","\\textsterling",!0);defineSymbol(math,ams,textord,"","\\maltese");defineSymbol(text$2,ams,textord,"","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$2,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text$2,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","");defineSymbol(text$2,ams,textord,"C","");defineSymbol(math,ams,textord,"H","");defineSymbol(text$2,ams,textord,"H","");defineSymbol(math,ams,textord,"N","");defineSymbol(text$2,ams,textord,"N","");defineSymbol(math,ams,textord,"P","");defineSymbol(text$2,ams,textord,"P","");defineSymbol(math,ams,textord,"Q","");defineSymbol(text$2,ams,textord,"Q","");defineSymbol(math,ams,textord,"R","");defineSymbol(text$2,ams,textord,"R","");defineSymbol(math,ams,textord,"Z","");defineSymbol(text$2,ams,textord,"Z","");defineSymbol(math,main,mathord,"h","");defineSymbol(text$2,main,mathord,"h","");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar))}wideChar="";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text$2,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar)}var extraLatin="";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text$2,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function(e,o){var c=e.charCodeAt(0),et=e.charCodeAt(1),tt=(c-55296)*1024+(et-56320)+65536,nt=o==="math"?0:1;if(119808<=tt&&tt<120484){var rt=Math.floor((tt-119808)/26);return[wideLatinLetterData[rt][2],wideLatinLetterData[rt][nt]]}else if(120782<=tt&&tt<=120831){var mt=Math.floor((tt-120782)/10);return[wideNumeralData[mt][2],wideNumeralData[mt][nt]]}else{if(tt===120485||tt===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][nt]];if(120486<tt&&tt<120782)return["",""];throw new ParseError("Unsupported character: "+e)}},lookupSymbol=function(e,o,c){return symbols[c][e]&&symbols[c][e].replace&&(e=symbols[c][e].replace),{value:e,metrics:getCharacterMetrics(e,o,c)}},makeSymbol=function(e,o,c,et,tt){var nt=lookupSymbol(e,o,c),rt=nt.metrics;e=nt.value;var mt;if(rt){var gt=rt.italic;(c==="text"||et&&et.font==="mathit")&&(gt=0),mt=new SymbolNode(e,rt.height,rt.depth,gt,rt.skew,rt.width,tt)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+o+"' and mode '"+c+"'")),mt=new SymbolNode(e,0,0,0,0,0,tt);if(et){mt.maxFontSize=et.sizeMultiplier,et.style.isTight()&&mt.classes.push("mtight");var yt=et.getColor();yt&&(mt.style.color=yt)}return mt},mathsym=function(e,o,c,et){return et===void 0&&(et=[]),c.font==="boldsymbol"&&lookupSymbol(e,"Main-Bold",o).metrics?makeSymbol(e,"Main-Bold",o,c,et.concat(["mathbf"])):e==="\\"||symbols[o][e].font==="main"?makeSymbol(e,"Main-Regular",o,c,et):makeSymbol(e,"AMS-Regular",o,c,et.concat(["amsrm"]))},boldsymbol=function(e,o,c,et,tt){return tt!=="textord"&&lookupSymbol(e,"Math-BoldItalic",o).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function(e,o,c){var et=e.mode,tt=e.text,nt=["mord"],rt=et==="math"||et==="text"&&o.font,mt=rt?o.font:o.fontFamily,gt="",yt="";if(tt.charCodeAt(0)===55349&&([gt,yt]=wideCharacterFont(tt,et)),gt.length>0)return makeSymbol(tt,gt,et,o,nt.concat(yt));if(mt){var vt,xt;if(mt==="boldsymbol"){var bt=boldsymbol(tt,et,o,nt,c);vt=bt.fontName,xt=[bt.fontClass]}else rt?(vt=fontMap[mt].fontName,xt=[mt]):(vt=retrieveTextFontName(mt,o.fontWeight,o.fontShape),xt=[mt,o.fontWeight,o.fontShape]);if(lookupSymbol(tt,vt,et).metrics)return makeSymbol(tt,vt,et,o,nt.concat(xt));if(ligatures.hasOwnProperty(tt)&&vt.slice(0,10)==="Typewriter"){for(var Et=[],wt=0;wt<tt.length;wt++)Et.push(makeSymbol(tt[wt],vt,et,o,nt.concat(xt)));return makeFragment(Et)}}if(c==="mathord")return makeSymbol(tt,"Math-Italic",et,o,nt.concat(["mathnormal"]));if(c==="textord"){var St=symbols[et][tt]&&symbols[et][tt].font;if(St==="ams"){var Tt=retrieveTextFontName("amsrm",o.fontWeight,o.fontShape);return makeSymbol(tt,Tt,et,o,nt.concat("amsrm",o.fontWeight,o.fontShape))}else if(St==="main"||!St){var kt=retrieveTextFontName("textrm",o.fontWeight,o.fontShape);return makeSymbol(tt,kt,et,o,nt.concat(o.fontWeight,o.fontShape))}else{var _t=retrieveTextFontName(St,o.fontWeight,o.fontShape);return makeSymbol(tt,_t,et,o,nt.concat(_t,o.fontWeight,o.fontShape))}}else throw new Error("unexpected type: "+c+" in makeOrd")},canCombine=(a,e)=>{if(createClass(a.classes)!==createClass(e.classes)||a.skew!==e.skew||a.maxFontSize!==e.maxFontSize)return!1;if(a.classes.length===1){var o=a.classes[0];if(o==="mbin"||o==="mord")return!1}for(var c in a.style)if(a.style.hasOwnProperty(c)&&a.style[c]!==e.style[c])return!1;for(var et in e.style)if(e.style.hasOwnProperty(et)&&a.style[et]!==e.style[et])return!1;return!0},tryCombineChars=a=>{for(var e=0;e<a.length-1;e++){var o=a[e],c=a[e+1];o instanceof SymbolNode&&c instanceof SymbolNode&&canCombine(o,c)&&(o.text+=c.text,o.height=Math.max(o.height,c.height),o.depth=Math.max(o.depth,c.depth),o.italic=c.italic,a.splice(e+1,1),e--)}return a},sizeElementFromChildren=function(e){for(var o=0,c=0,et=0,tt=0;tt<e.children.length;tt++){var nt=e.children[tt];nt.height>o&&(o=nt.height),nt.depth>c&&(c=nt.depth),nt.maxFontSize>et&&(et=nt.maxFontSize)}e.height=o,e.depth=c,e.maxFontSize=et},makeSpan$2=function(e,o,c,et){var tt=new Span(e,o,c,et);return sizeElementFromChildren(tt),tt},makeSvgSpan=(a,e,o,c)=>new Span(a,e,o,c),makeLineSpan=function(e,o,c){var et=makeSpan$2([e],[],o);return et.height=Math.max(c||o.fontMetrics().defaultRuleThickness,o.minRuleThickness),et.style.borderBottomWidth=makeEm(et.height),et.maxFontSize=1,et},makeAnchor=function(e,o,c,et){var tt=new Anchor(e,o,c,et);return sizeElementFromChildren(tt),tt},makeFragment=function(e){var o=new DocumentFragment(e);return sizeElementFromChildren(o),o},wrapFragment=function(e,o){return e instanceof DocumentFragment?makeSpan$2([],[e],o):e},getVListChildrenAndDepth=function(e){if(e.positionType==="individualShift"){for(var o=e.children,c=[o[0]],et=-o[0].shift-o[0].elem.depth,tt=et,nt=1;nt<o.length;nt++){var rt=-o[nt].shift-tt-o[nt].elem.depth,mt=rt-(o[nt-1].elem.height+o[nt-1].elem.depth);tt=tt+rt,c.push({type:"kern",size:mt}),c.push(o[nt])}return{children:c,depth:et}}var gt;if(e.positionType==="top"){for(var yt=e.positionData,vt=0;vt<e.children.length;vt++){var xt=e.children[vt];yt-=xt.type==="kern"?xt.size:xt.elem.height+xt.elem.depth}gt=yt}else if(e.positionType==="bottom")gt=-e.positionData;else{var bt=e.children[0];if(bt.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")gt=-bt.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")gt=-bt.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:gt}},makeVList=function(e,o){for(var{children:c,depth:et}=getVListChildrenAndDepth(e),tt=0,nt=0;nt<c.length;nt++){var rt=c[nt];if(rt.type==="elem"){var mt=rt.elem;tt=Math.max(tt,mt.maxFontSize,mt.height)}}tt+=2;var gt=makeSpan$2(["pstrut"],[]);gt.style.height=makeEm(tt);for(var yt=[],vt=et,xt=et,bt=et,Et=0;Et<c.length;Et++){var wt=c[Et];if(wt.type==="kern")bt+=wt.size;else{var St=wt.elem,Tt=wt.wrapperClasses||[],kt=wt.wrapperStyle||{},_t=makeSpan$2(Tt,[gt,St],void 0,kt);_t.style.top=makeEm(-tt-bt-St.depth),wt.marginLeft&&(_t.style.marginLeft=wt.marginLeft),wt.marginRight&&(_t.style.marginRight=wt.marginRight),yt.push(_t),bt+=St.height+St.depth}vt=Math.min(vt,bt),xt=Math.max(xt,bt)}var Mt=makeSpan$2(["vlist"],yt);Mt.style.height=makeEm(xt);var Pt;if(vt<0){var It=makeSpan$2([],[]),Dt=makeSpan$2(["vlist"],[It]);Dt.style.height=makeEm(-vt);var Ct=makeSpan$2(["vlist-s"],[new SymbolNode("")]);Pt=[makeSpan$2(["vlist-r"],[Mt,Ct]),makeSpan$2(["vlist-r"],[Dt])]}else Pt=[makeSpan$2(["vlist-r"],[Mt])];var At=makeSpan$2(["vlist-t"],Pt);return Pt.length===2&&At.classes.push("vlist-t2"),At.height=xt,At.depth=-vt,At},makeGlue=(a,e)=>{var o=makeSpan$2(["mspace"],[],e),c=calculateSize(a,e);return o.style.marginRight=makeEm(c),o},retrieveTextFontName=function(e,o,c){var et="";switch(e){case"amsrm":et="AMS";break;case"textrm":et="Main";break;case"textsf":et="SansSerif";break;case"texttt":et="Typewriter";break;default:et=e}var tt;return o==="textbf"&&c==="textit"?tt="BoldItalic":o==="textbf"?tt="Bold":o==="textit"?tt="Italic":tt="Regular",et+"-"+tt},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function(e,o){var[c,et,tt]=svgData[e],nt=new PathNode(c),rt=new SvgNode([nt],{width:makeEm(et),height:makeEm(tt),style:"width:"+makeEm(et),viewBox:"0 0 "+1e3*et+" "+1e3*tt,preserveAspectRatio:"xMinYMin"}),mt=makeSvgSpan(["overlay"],[rt],o);return mt.height=tt,mt.style.height=makeEm(tt),mt.style.width=makeEm(et),mt},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(a){for(var{type:e,names:o,props:c,handler:et,htmlBuilder:tt,mathmlBuilder:nt}=a,rt={type:e,numArgs:c.numArgs,argTypes:c.argTypes,allowedInArgument:!!c.allowedInArgument,allowedInText:!!c.allowedInText,allowedInMath:c.allowedInMath===void 0?!0:c.allowedInMath,numOptionalArgs:c.numOptionalArgs||0,infix:!!c.infix,primitive:!!c.primitive,handler:et},mt=0;mt<o.length;++mt)_functions[o[mt]]=rt;e&&(tt&&(_htmlGroupBuilders[e]=tt),nt&&(_mathmlGroupBuilders[e]=nt))}function defineFunctionBuilders(a){var{type:e,htmlBuilder:o,mathmlBuilder:c}=a;defineFunction({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:o,mathmlBuilder:c})}var normalizeArgument=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},ordargument=function(e){return e.type==="ordgroup"?e.body:[e]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function(e,o,c,et){et===void 0&&(et=[null,null]);for(var tt=[],nt=0;nt<e.length;nt++){var rt=buildGroup$1(e[nt],o);if(rt instanceof DocumentFragment){var mt=rt.children;tt.push(...mt)}else tt.push(rt)}if(buildCommon.tryCombineChars(tt),!c)return tt;var gt=o;if(e.length===1){var yt=e[0];yt.type==="sizing"?gt=o.havingSize(yt.size):yt.type==="styling"&&(gt=o.havingStyle(styleMap$1[yt.style]))}var vt=makeSpan$1([et[0]||"leftmost"],[],o),xt=makeSpan$1([et[1]||"rightmost"],[],o),bt=c==="root";return traverseNonSpaceNodes(tt,(Et,wt)=>{var St=wt.classes[0],Tt=Et.classes[0];St==="mbin"&&binRightCanceller.includes(Tt)?wt.classes[0]="mord":Tt==="mbin"&&binLeftCanceller.includes(St)&&(Et.classes[0]="mord")},{node:vt},xt,bt),traverseNonSpaceNodes(tt,(Et,wt)=>{var St=getTypeOfDomTree(wt),Tt=getTypeOfDomTree(Et),kt=St&&Tt?Et.hasClass("mtight")?tightSpacings[St][Tt]:spacings[St][Tt]:null;if(kt)return buildCommon.makeGlue(kt,gt)},{node:vt},xt,bt),tt},traverseNonSpaceNodes=function a(e,o,c,et,tt){et&&e.push(et);for(var nt=0;nt<e.length;nt++){var rt=e[nt],mt=checkPartialGroup(rt);if(mt){a(mt.children,o,c,null,tt);continue}var gt=!rt.hasClass("mspace");if(gt){var yt=o(rt,c.node);yt&&(c.insertAfter?c.insertAfter(yt):(e.unshift(yt),nt++))}gt?c.node=rt:tt&&rt.hasClass("newline")&&(c.node=makeSpan$1(["leftmost"])),c.insertAfter=(vt=>xt=>{e.splice(vt+1,0,xt),nt++})(nt)}et&&e.pop()},checkPartialGroup=function(e){return e instanceof DocumentFragment||e instanceof Anchor||e instanceof Span&&e.hasClass("enclosing")?e:null},getOutermostNode=function a(e,o){var c=checkPartialGroup(e);if(c){var et=c.children;if(et.length){if(o==="right")return a(et[et.length-1],"right");if(o==="left")return a(et[0],"left")}}return e},getTypeOfDomTree=function(e,o){return e?(o&&(e=getOutermostNode(e,o)),DomEnum[e.classes[0]]||null):null},makeNullDelimiter=function(e,o){var c=["nulldelimiter"].concat(e.baseSizingClasses());return makeSpan$1(o.concat(c))},buildGroup$1=function(e,o,c){if(!e)return makeSpan$1();if(_htmlGroupBuilders[e.type]){var et=_htmlGroupBuilders[e.type](e,o);if(c&&o.size!==c.size){et=makeSpan$1(o.sizingClasses(c),[et],o);var tt=o.sizeMultiplier/c.sizeMultiplier;et.height*=tt,et.depth*=tt}return et}else throw new ParseError("Got group of unknown type: '"+e.type+"'")};function buildHTMLUnbreakable(a,e){var o=makeSpan$1(["base"],a,e),c=makeSpan$1(["strut"]);return c.style.height=makeEm(o.height+o.depth),o.depth&&(c.style.verticalAlign=makeEm(-o.depth)),o.children.unshift(c),o}function buildHTML(a,e){var o=null;a.length===1&&a[0].type==="tag"&&(o=a[0].tag,a=a[0].body);var c=buildExpression$1(a,e,"root"),et;c.length===2&&c[1].hasClass("tag")&&(et=c.pop());for(var tt=[],nt=[],rt=0;rt<c.length;rt++)if(nt.push(c[rt]),c[rt].hasClass("mbin")||c[rt].hasClass("mrel")||c[rt].hasClass("allowbreak")){for(var mt=!1;rt<c.length-1&&c[rt+1].hasClass("mspace")&&!c[rt+1].hasClass("newline");)rt++,nt.push(c[rt]),c[rt].hasClass("nobreak")&&(mt=!0);mt||(tt.push(buildHTMLUnbreakable(nt,e)),nt=[])}else c[rt].hasClass("newline")&&(nt.pop(),nt.length>0&&(tt.push(buildHTMLUnbreakable(nt,e)),nt=[]),tt.push(c[rt]));nt.length>0&&tt.push(buildHTMLUnbreakable(nt,e));var gt;o?(gt=buildHTMLUnbreakable(buildExpression$1(o,e,!0)),gt.classes=["tag"],tt.push(gt)):et&&tt.push(et);var yt=makeSpan$1(["katex-html"],tt);if(yt.setAttribute("aria-hidden","true"),gt){var vt=gt.children[0];vt.style.height=makeEm(yt.height+yt.depth),yt.depth&&(vt.style.verticalAlign=makeEm(-yt.depth))}return yt}function newDocumentFragment(a){return new DocumentFragment(a)}class MathNode{constructor(e,o,c){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=o||[],this.classes=c||[]}setAttribute(e,o){this.attributes[e]=o}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&e.setAttribute(o,this.attributes[o]);this.classes.length>0&&(e.className=createClass(this.classes));for(var c=0;c<this.children.length;c++)if(this.children[c]instanceof TextNode&&this.children[c+1]instanceof TextNode){for(var et=this.children[c].toText()+this.children[++c].toText();this.children[c+1]instanceof TextNode;)et+=this.children[++c].toText();e.appendChild(new TextNode(et).toNode())}else e.appendChild(this.children[c].toNode());return e}toMarkup(){var e="<"+this.type;for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&(e+=" "+o+'="',e+=utils.escape(this.attributes[o]),e+='"');this.classes.length>0&&(e+=' class ="'+utils.escape(createClass(this.classes))+'"'),e+=">";for(var c=0;c<this.children.length;c++)e+=this.children[c].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class TextNode{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",makeEm(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function(e,o,c){return symbols[o][e]&&symbols[o][e].replace&&e.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(e)&&c&&(c.fontFamily&&c.fontFamily.slice(4,6)==="tt"||c.font&&c.font.slice(4,6)==="tt"))&&(e=symbols[o][e].replace),new mathMLTree.TextNode(e)},makeRow=function(e){return e.length===1?e[0]:new mathMLTree.MathNode("mrow",e)},getVariant=function(e,o){if(o.fontFamily==="texttt")return"monospace";if(o.fontFamily==="textsf")return o.fontShape==="textit"&&o.fontWeight==="textbf"?"sans-serif-bold-italic":o.fontShape==="textit"?"sans-serif-italic":o.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(o.fontShape==="textit"&&o.fontWeight==="textbf")return"bold-italic";if(o.fontShape==="textit")return"italic";if(o.fontWeight==="textbf")return"bold";var c=o.font;if(!c||c==="mathnormal")return null;var et=e.mode;if(c==="mathit")return"italic";if(c==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(c==="mathbf")return"bold";if(c==="mathbb")return"double-struck";if(c==="mathsfit")return"sans-serif-italic";if(c==="mathfrak")return"fraktur";if(c==="mathscr"||c==="mathcal")return"script";if(c==="mathsf")return"sans-serif";if(c==="mathtt")return"monospace";var tt=e.text;if(["\\imath","\\jmath"].includes(tt))return null;symbols[et][tt]&&symbols[et][tt].replace&&(tt=symbols[et][tt].replace);var nt=buildCommon.fontMap[c].fontName;return getCharacterMetrics(tt,nt,et)?buildCommon.fontMap[c].variant:null};function isNumberPunctuation(a){if(!a)return!1;if(a.type==="mi"&&a.children.length===1){var e=a.children[0];return e instanceof TextNode&&e.text==="."}else if(a.type==="mo"&&a.children.length===1&&a.getAttribute("separator")==="true"&&a.getAttribute("lspace")==="0em"&&a.getAttribute("rspace")==="0em"){var o=a.children[0];return o instanceof TextNode&&o.text===","}else return!1}var buildExpression=function(e,o,c){if(e.length===1){var et=buildGroup(e[0],o);return c&&et instanceof MathNode&&et.type==="mo"&&(et.setAttribute("lspace","0em"),et.setAttribute("rspace","0em")),[et]}for(var tt=[],nt,rt=0;rt<e.length;rt++){var mt=buildGroup(e[rt],o);if(mt instanceof MathNode&&nt instanceof MathNode){if(mt.type==="mtext"&&nt.type==="mtext"&&mt.getAttribute("mathvariant")===nt.getAttribute("mathvariant")){nt.children.push(...mt.children);continue}else if(mt.type==="mn"&&nt.type==="mn"){nt.children.push(...mt.children);continue}else if(isNumberPunctuation(mt)&&nt.type==="mn"){nt.children.push(...mt.children);continue}else if(mt.type==="mn"&&isNumberPunctuation(nt))mt.children=[...nt.children,...mt.children],tt.pop();else if((mt.type==="msup"||mt.type==="msub")&&mt.children.length>=1&&(nt.type==="mn"||isNumberPunctuation(nt))){var gt=mt.children[0];gt instanceof MathNode&&gt.type==="mn"&&(gt.children=[...nt.children,...gt.children],tt.pop())}else if(nt.type==="mi"&&nt.children.length===1){var yt=nt.children[0];if(yt instanceof TextNode&&yt.text===""&&(mt.type==="mo"||mt.type==="mi"||mt.type==="mn")){var vt=mt.children[0];vt instanceof TextNode&&vt.text.length>0&&(vt.text=vt.text.slice(0,1)+""+vt.text.slice(1),tt.pop())}}}tt.push(mt),nt=mt}return tt},buildExpressionRow=function(e,o,c){return makeRow(buildExpression(e,o,c))},buildGroup=function(e,o){if(!e)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[e.type]){var c=_mathmlGroupBuilders[e.type](e,o);return c}else throw new ParseError("Got group of unknown type: '"+e.type+"'")};function buildMathML(a,e,o,c,et){var tt=buildExpression(a,o),nt;tt.length===1&&tt[0]instanceof MathNode&&["mrow","mtable"].includes(tt[0].type)?nt=tt[0]:nt=new mathMLTree.MathNode("mrow",tt);var rt=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(e)]);rt.setAttribute("encoding","application/x-tex");var mt=new mathMLTree.MathNode("semantics",[nt,rt]),gt=new mathMLTree.MathNode("math",[mt]);gt.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),c&&gt.setAttribute("display","block");var yt=et?"katex":"katex-mathml";return buildCommon.makeSpan([yt],[gt])}var optionsFromSettings=function(e){return new Options({style:e.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},displayWrap=function(e,o){if(o.displayMode){var c=["katex-display"];o.leqno&&c.push("leqno"),o.fleqn&&c.push("fleqn"),e=buildCommon.makeSpan(c,[e])}return e},buildTree=function(e,o,c){var et=optionsFromSettings(c),tt;if(c.output==="mathml")return buildMathML(e,o,et,c.displayMode,!0);if(c.output==="html"){var nt=buildHTML(e,et);tt=buildCommon.makeSpan(["katex"],[nt])}else{var rt=buildMathML(e,o,et,c.displayMode,!1),mt=buildHTML(e,et);tt=buildCommon.makeSpan(["katex"],[rt,mt])}return displayWrap(tt,c)},buildHTMLTree=function(e,o,c){var et=optionsFromSettings(c),tt=buildHTML(e,et),nt=buildCommon.makeSpan(["katex"],[tt]);return displayWrap(nt,c)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function(e){var o=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[e.replace(/^\\/,"")])]);return o.setAttribute("stretchy","true"),o},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function(e){return e.type==="ordgroup"?e.body.length:1},svgSpan=function(e,o){function c(){var rt=4e5,mt=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(mt)){var gt=e,yt=groupLength(gt.base),vt,xt,bt;if(yt>5)mt==="widehat"||mt==="widecheck"?(vt=420,rt=2364,bt=.42,xt=mt+"4"):(vt=312,rt=2340,bt=.34,xt="tilde4");else{var Et=[1,1,2,2,3,3][yt];mt==="widehat"||mt==="widecheck"?(rt=[0,1062,2364,2364,2364][Et],vt=[0,239,300,360,420][Et],bt=[0,.24,.3,.3,.36,.42][Et],xt=mt+Et):(rt=[0,600,1033,2339,2340][Et],vt=[0,260,286,306,312][Et],bt=[0,.26,.286,.3,.306,.34][Et],xt="tilde"+Et)}var wt=new PathNode(xt),St=new SvgNode([wt],{width:"100%",height:makeEm(bt),viewBox:"0 0 "+rt+" "+vt,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[St],o),minWidth:0,height:bt}}else{var Tt=[],kt=katexImagesData[mt],[_t,Mt,Pt]=kt,It=Pt/1e3,Dt=_t.length,Ct,At;if(Dt===1){var Lt=kt[3];Ct=["hide-tail"],At=[Lt]}else if(Dt===2)Ct=["halfarrow-left","halfarrow-right"],At=["xMinYMin","xMaxYMin"];else if(Dt===3)Ct=["brace-left","brace-center","brace-right"],At=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Dt+" children.");for(var jt=0;jt<Dt;jt++){var Bt=new PathNode(_t[jt]),zt=new SvgNode([Bt],{width:"400em",height:makeEm(It),viewBox:"0 0 "+rt+" "+Pt,preserveAspectRatio:At[jt]+" slice"}),Yt=buildCommon.makeSvgSpan([Ct[jt]],[zt],o);if(Dt===1)return{span:Yt,minWidth:Mt,height:It};Yt.style.height=makeEm(It),Tt.push(Yt)}return{span:buildCommon.makeSpan(["stretchy"],Tt,o),minWidth:Mt,height:It}}}var{span:et,minWidth:tt,height:nt}=c();return et.height=nt,et.style.height=makeEm(nt),tt>0&&(et.style.minWidth=makeEm(tt)),et},encloseSpan=function(e,o,c,et,tt){var nt,rt=e.height+e.depth+c+et;if(/fbox|color|angl/.test(o)){if(nt=buildCommon.makeSpan(["stretchy",o],[],tt),o==="fbox"){var mt=tt.color&&tt.getColor();mt&&(nt.style.borderColor=mt)}}else{var gt=[];/^[bx]cancel$/.test(o)&&gt.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(o)&&gt.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var yt=new SvgNode(gt,{width:"100%",height:makeEm(rt)});nt=buildCommon.makeSvgSpan([],[yt],tt)}return nt.height=rt,nt.style.height=makeEm(rt),nt},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(a,e){if(!a||a.type!==e)throw new Error("Expected node of type "+e+", but got "+(a?"node of type "+a.type:String(a)));return a}function assertSymbolNodeType(a){var e=checkSymbolNodeType(a);if(!e)throw new Error("Expected node of symbol group type, but got "+(a?"node of type "+a.type:String(a)));return e}function checkSymbolNodeType(a){return a&&(a.type==="atom"||NON_ATOMS.hasOwnProperty(a.type))?a:null}var htmlBuilder$a=(a,e)=>{var o,c,et;a&&a.type==="supsub"?(c=assertNodeType(a.base,"accent"),o=c.base,a.base=o,et=assertSpan(buildGroup$1(a,e)),a.base=c):(c=assertNodeType(a,"accent"),o=c.base);var tt=buildGroup$1(o,e.havingCrampedStyle()),nt=c.isShifty&&utils.isCharacterBox(o),rt=0;if(nt){var mt=utils.getBaseElem(o),gt=buildGroup$1(mt,e.havingCrampedStyle());rt=assertSymbolDomNode(gt).skew}var yt=c.label==="\\c",vt=yt?tt.height+tt.depth:Math.min(tt.height,e.fontMetrics().xHeight),xt;if(c.isStretchy)xt=stretchy.svgSpan(c,e),xt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:tt},{type:"elem",elem:xt,wrapperClasses:["svg-align"],wrapperStyle:rt>0?{width:"calc(100% - "+makeEm(2*rt)+")",marginLeft:makeEm(2*rt)}:void 0}]},e);else{var bt,Et;c.label==="\\vec"?(bt=buildCommon.staticSvg("vec",e),Et=buildCommon.svgData.vec[1]):(bt=buildCommon.makeOrd({mode:c.mode,text:c.label},e,"textord"),bt=assertSymbolDomNode(bt),bt.italic=0,Et=bt.width,yt&&(vt+=bt.depth)),xt=buildCommon.makeSpan(["accent-body"],[bt]);var wt=c.label==="\\textcircled";wt&&(xt.classes.push("accent-full"),vt=tt.height);var St=rt;wt||(St-=Et/2),xt.style.left=makeEm(St),c.label==="\\textcircled"&&(xt.style.top=".2em"),xt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:tt},{type:"kern",size:-vt},{type:"elem",elem:xt}]},e)}var Tt=buildCommon.makeSpan(["mord","accent"],[xt],e);return et?(et.children[0]=Tt,et.height=Math.max(Tt.height,et.height),et.classes[0]="mord",et):Tt},mathmlBuilder$9=(a,e)=>{var o=a.isStretchy?stretchy.mathMLnode(a.label):new mathMLTree.MathNode("mo",[makeText(a.label,a.mode)]),c=new mathMLTree.MathNode("mover",[buildGroup(a.base,e),o]);return c.setAttribute("accent","true"),c},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(a=>"\\"+a).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(a,e)=>{var o=normalizeArgument(e[0]),c=!NON_STRETCHY_ACCENT_REGEX.test(a.funcName),et=!c||a.funcName==="\\widehat"||a.funcName==="\\widetilde"||a.funcName==="\\widecheck";return{type:"accent",mode:a.parser.mode,label:a.funcName,isStretchy:c,isShifty:et,base:o}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(a,e)=>{var o=e[0],c=a.parser.mode;return c==="math"&&(a.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+a.funcName+" works only in text mode"),c="text"),{type:"accent",mode:c,label:a.funcName,isStretchy:!1,isShifty:!0,base:o}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(a,e)=>{var{parser:o,funcName:c}=a,et=e[0];return{type:"accentUnder",mode:o.mode,label:c,base:et}},htmlBuilder:(a,e)=>{var o=buildGroup$1(a.base,e),c=stretchy.svgSpan(a,e),et=a.label==="\\utilde"?.12:0,tt=buildCommon.makeVList({positionType:"top",positionData:o.height,children:[{type:"elem",elem:c,wrapperClasses:["svg-align"]},{type:"kern",size:et},{type:"elem",elem:o}]},e);return buildCommon.makeSpan(["mord","accentunder"],[tt],e)},mathmlBuilder:(a,e)=>{var o=stretchy.mathMLnode(a.label),c=new mathMLTree.MathNode("munder",[buildGroup(a.base,e),o]);return c.setAttribute("accentunder","true"),c}});var paddedNode=a=>{var e=new mathMLTree.MathNode("mpadded",a?[a]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(a,e,o){var{parser:c,funcName:et}=a;return{type:"xArrow",mode:c.mode,label:et,body:e[0],below:o[0]}},htmlBuilder(a,e){var o=e.style,c=e.havingStyle(o.sup()),et=buildCommon.wrapFragment(buildGroup$1(a.body,c,e),e),tt=a.label.slice(0,2)==="\\x"?"x":"cd";et.classes.push(tt+"-arrow-pad");var nt;a.below&&(c=e.havingStyle(o.sub()),nt=buildCommon.wrapFragment(buildGroup$1(a.below,c,e),e),nt.classes.push(tt+"-arrow-pad"));var rt=stretchy.svgSpan(a,e),mt=-e.fontMetrics().axisHeight+.5*rt.height,gt=-e.fontMetrics().axisHeight-.5*rt.height-.111;(et.depth>.25||a.label==="\\xleftequilibrium")&&(gt-=et.depth);var yt;if(nt){var vt=-e.fontMetrics().axisHeight+nt.height+.5*rt.height+.111;yt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:et,shift:gt},{type:"elem",elem:rt,shift:mt},{type:"elem",elem:nt,shift:vt}]},e)}else yt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:et,shift:gt},{type:"elem",elem:rt,shift:mt}]},e);return yt.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[yt],e)},mathmlBuilder(a,e){var o=stretchy.mathMLnode(a.label);o.setAttribute("minsize",a.label.charAt(0)==="x"?"1.75em":"3.0em");var c;if(a.body){var et=paddedNode(buildGroup(a.body,e));if(a.below){var tt=paddedNode(buildGroup(a.below,e));c=new mathMLTree.MathNode("munderover",[o,tt,et])}else c=new mathMLTree.MathNode("mover",[o,et])}else if(a.below){var nt=paddedNode(buildGroup(a.below,e));c=new mathMLTree.MathNode("munder",[o,nt])}else c=paddedNode(),c=new mathMLTree.MathNode("mover",[o,c]);return c}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(a,e){var o=buildExpression$1(a.body,e,!0);return makeSpan([a.mclass],o,e)}function mathmlBuilder$8(a,e){var o,c=buildExpression(a.body,e);return a.mclass==="minner"?o=new mathMLTree.MathNode("mpadded",c):a.mclass==="mord"?a.isCharacterBox?(o=c[0],o.type="mi"):o=new mathMLTree.MathNode("mi",c):(a.isCharacterBox?(o=c[0],o.type="mo"):o=new mathMLTree.MathNode("mo",c),a.mclass==="mbin"?(o.attributes.lspace="0.22em",o.attributes.rspace="0.22em"):a.mclass==="mpunct"?(o.attributes.lspace="0em",o.attributes.rspace="0.17em"):a.mclass==="mopen"||a.mclass==="mclose"?(o.attributes.lspace="0em",o.attributes.rspace="0em"):a.mclass==="minner"&&(o.attributes.lspace="0.0556em",o.attributes.width="+0.1111em")),o}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(a,e){var{parser:o,funcName:c}=a,et=e[0];return{type:"mclass",mode:o.mode,mclass:"m"+c.slice(5),body:ordargument(et),isCharacterBox:utils.isCharacterBox(et)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=a=>{var e=a.type==="ordgroup"&&a.body.length?a.body[0]:a;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(a,e){var{parser:o}=a;return{type:"mclass",mode:o.mode,mclass:binrelClass(e[0]),body:ordargument(e[1]),isCharacterBox:utils.isCharacterBox(e[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(a,e){var{parser:o,funcName:c}=a,et=e[1],tt=e[0],nt;c!=="\\stackrel"?nt=binrelClass(et):nt="mrel";var rt={type:"op",mode:et.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:c!=="\\stackrel",body:ordargument(et)},mt={type:"supsub",mode:tt.mode,base:rt,sup:c==="\\underset"?null:tt,sub:c==="\\underset"?tt:null};return{type:"mclass",mode:o.mode,mclass:nt,body:[mt],isCharacterBox:utils.isCharacterBox(mt)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(a,e){var{parser:o}=a;return{type:"pmb",mode:o.mode,mclass:binrelClass(e[0]),body:ordargument(e[0])}},htmlBuilder(a,e){var o=buildExpression$1(a.body,e,!0),c=buildCommon.makeSpan([a.mclass],o,e);return c.style.textShadow="0.02em 0.01em 0.04px",c},mathmlBuilder(a,e){var o=buildExpression(a.body,e),c=new mathMLTree.MathNode("mstyle",o);return c.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),c}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=a=>a.type==="textord"&&a.text==="@",isLabelEnd=(a,e)=>(a.type==="mathord"||a.type==="atom")&&a.text===e;function cdArrow(a,e,o){var c=cdArrowFunctionName[a];switch(c){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return o.callFunction(c,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var et=o.callFunction("\\\\cdleft",[e[0]],[]),tt={type:"atom",text:c,mode:"math",family:"rel"},nt=o.callFunction("\\Big",[tt],[]),rt=o.callFunction("\\\\cdright",[e[1]],[]),mt={type:"ordgroup",mode:"math",body:[et,nt,rt]};return o.callFunction("\\\\cdparent",[mt],[])}case"\\\\cdlongequal":return o.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var gt={type:"textord",text:"\\Vert",mode:"math"};return o.callFunction("\\Big",[gt],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(a){var e=[];for(a.gullet.beginGroup(),a.gullet.macros.set("\\cr","\\\\\\relax"),a.gullet.beginGroup();;){e.push(a.parseExpression(!1,"\\\\")),a.gullet.endGroup(),a.gullet.beginGroup();var o=a.fetch().text;if(o==="&"||o==="\\\\")a.consume();else if(o==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",a.nextToken)}for(var c=[],et=[c],tt=0;tt<e.length;tt++){for(var nt=e[tt],rt=newCell(),mt=0;mt<nt.length;mt++)if(!isStartOfArrow(nt[mt]))rt.body.push(nt[mt]);else{c.push(rt),mt+=1;var gt=assertSymbolNodeType(nt[mt]).text,yt=new Array(2);if(yt[0]={type:"ordgroup",mode:"math",body:[]},yt[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(gt)>-1))if("<>AV".indexOf(gt)>-1)for(var vt=0;vt<2;vt++){for(var xt=!0,bt=mt+1;bt<nt.length;bt++){if(isLabelEnd(nt[bt],gt)){xt=!1,mt=bt;break}if(isStartOfArrow(nt[bt]))throw new ParseError("Missing a "+gt+" character to complete a CD arrow.",nt[bt]);yt[vt].body.push(nt[bt])}if(xt)throw new ParseError("Missing a "+gt+" character to complete a CD arrow.",nt[mt])}else throw new ParseError('Expected one of "<>AV=|." after @',nt[mt]);var Et=cdArrow(gt,yt,a),wt={type:"styling",body:[Et],mode:"math",style:"display"};c.push(wt),rt=newCell()}tt%2===0?c.push(rt):c.shift(),c=[],et.push(c)}a.gullet.endGroup(),a.gullet.endGroup();var St=new Array(et[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:et,arraystretch:1,addJot:!0,rowGaps:[null],cols:St,colSeparationType:"CD",hLinesBeforeRow:new Array(et.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(a,e){var{parser:o,funcName:c}=a;return{type:"cdlabel",mode:o.mode,side:c.slice(4),label:e[0]}},htmlBuilder(a,e){var o=e.havingStyle(e.style.sup()),c=buildCommon.wrapFragment(buildGroup$1(a.label,o,e),e);return c.classes.push("cd-label-"+a.side),c.style.bottom=makeEm(.8-c.depth),c.height=0,c.depth=0,c},mathmlBuilder(a,e){var o=new mathMLTree.MathNode("mrow",[buildGroup(a.label,e)]);return o=new mathMLTree.MathNode("mpadded",[o]),o.setAttribute("width","0"),a.side==="left"&&o.setAttribute("lspace","-1width"),o.setAttribute("voffset","0.7em"),o=new mathMLTree.MathNode("mstyle",[o]),o.setAttribute("displaystyle","false"),o.setAttribute("scriptlevel","1"),o}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(a,e){var{parser:o}=a;return{type:"cdlabelparent",mode:o.mode,fragment:e[0]}},htmlBuilder(a,e){var o=buildCommon.wrapFragment(buildGroup$1(a.fragment,e),e);return o.classes.push("cd-vert-arrow"),o},mathmlBuilder(a,e){return new mathMLTree.MathNode("mrow",[buildGroup(a.fragment,e)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(a,e){for(var{parser:o}=a,c=assertNodeType(e[0],"ordgroup"),et=c.body,tt="",nt=0;nt<et.length;nt++){var rt=assertNodeType(et[nt],"textord");tt+=rt.text}var mt=parseInt(tt),gt;if(isNaN(mt))throw new ParseError("\\@char has non-numeric argument "+tt);if(mt<0||mt>=1114111)throw new ParseError("\\@char with invalid code point "+tt);return mt<=65535?gt=String.fromCharCode(mt):(mt-=65536,gt=String.fromCharCode((mt>>10)+55296,(mt&1023)+56320)),{type:"textord",mode:o.mode,text:gt}}});var htmlBuilder$8=(a,e)=>{var o=buildExpression$1(a.body,e.withColor(a.color),!1);return buildCommon.makeFragment(o)},mathmlBuilder$7=(a,e)=>{var o=buildExpression(a.body,e.withColor(a.color)),c=new mathMLTree.MathNode("mstyle",o);return c.setAttribute("mathcolor",a.color),c};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(a,e){var{parser:o}=a,c=assertNodeType(e[0],"color-token").color,et=e[1];return{type:"color",mode:o.mode,color:c,body:ordargument(et)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(a,e){var{parser:o,breakOnTokenText:c}=a,et=assertNodeType(e[0],"color-token").color;o.gullet.macros.set("\\current@color",et);var tt=o.parseExpression(!0,c);return{type:"color",mode:o.mode,color:et,body:tt}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(a,e,o){var{parser:c}=a,et=c.gullet.future().text==="["?c.parseSizeGroup(!0):null,tt=!c.settings.displayMode||!c.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:c.mode,newLine:tt,size:et&&assertNodeType(et,"size").value}},htmlBuilder(a,e){var o=buildCommon.makeSpan(["mspace"],[],e);return a.newLine&&(o.classes.push("newline"),a.size&&(o.style.marginTop=makeEm(calculateSize(a.size,e)))),o},mathmlBuilder(a,e){var o=new mathMLTree.MathNode("mspace");return a.newLine&&(o.setAttribute("linebreak","newline"),a.size&&o.setAttribute("height",makeEm(calculateSize(a.size,e)))),o}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=a=>{var e=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ParseError("Expected a control sequence",a);return e},getRHS=a=>{var e=a.gullet.popToken();return e.text==="="&&(e=a.gullet.popToken(),e.text===" "&&(e=a.gullet.popToken())),e},letCommand=(a,e,o,c)=>{var et=a.gullet.macros.get(o.text);et==null&&(o.noexpand=!0,et={tokens:[o],numArgs:0,unexpandable:!a.gullet.isExpandable(o.text)}),a.gullet.macros.set(e,et,c)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(a){var{parser:e,funcName:o}=a;e.consumeSpaces();var c=e.fetch();if(globalMap[c.text])return(o==="\\global"||o==="\\\\globallong")&&(c.text=globalMap[c.text]),assertNodeType(e.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",c)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){var{parser:e,funcName:o}=a,c=e.gullet.popToken(),et=c.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(et))throw new ParseError("Expected a control sequence",c);for(var tt=0,nt,rt=[[]];e.gullet.future().text!=="{";)if(c=e.gullet.popToken(),c.text==="#"){if(e.gullet.future().text==="{"){nt=e.gullet.future(),rt[tt].push("{");break}if(c=e.gullet.popToken(),!/^[1-9]$/.test(c.text))throw new ParseError('Invalid argument number "'+c.text+'"');if(parseInt(c.text)!==tt+1)throw new ParseError('Argument number "'+c.text+'" out of order');tt++,rt.push([])}else{if(c.text==="EOF")throw new ParseError("Expected a macro definition");rt[tt].push(c.text)}var{tokens:mt}=e.gullet.consumeArg();return nt&&mt.unshift(nt),(o==="\\edef"||o==="\\xdef")&&(mt=e.gullet.expandTokens(mt),mt.reverse()),e.gullet.macros.set(et,{tokens:mt,numArgs:tt,delimiters:rt},o===globalMap[o]),{type:"internal",mode:e.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){var{parser:e,funcName:o}=a,c=checkControlSequence(e.gullet.popToken());e.gullet.consumeSpaces();var et=getRHS(e);return letCommand(e,c,et,o==="\\\\globallet"),{type:"internal",mode:e.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){var{parser:e,funcName:o}=a,c=checkControlSequence(e.gullet.popToken()),et=e.gullet.popToken(),tt=e.gullet.popToken();return letCommand(e,c,tt,o==="\\\\globalfuture"),e.gullet.pushToken(tt),e.gullet.pushToken(et),{type:"internal",mode:e.mode}}});var getMetrics=function(e,o,c){var et=symbols.math[e]&&symbols.math[e].replace,tt=getCharacterMetrics(et||e,o,c);if(!tt)throw new Error("Unsupported symbol "+e+" and font size "+o+".");return tt},styleWrap=function(e,o,c,et){var tt=c.havingBaseStyle(o),nt=buildCommon.makeSpan(et.concat(tt.sizingClasses(c)),[e],c),rt=tt.sizeMultiplier/c.sizeMultiplier;return nt.height*=rt,nt.depth*=rt,nt.maxFontSize=tt.sizeMultiplier,nt},centerSpan=function(e,o,c){var et=o.havingBaseStyle(c),tt=(1-o.sizeMultiplier/et.sizeMultiplier)*o.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=makeEm(tt),e.height-=tt,e.depth+=tt},makeSmallDelim=function(e,o,c,et,tt,nt){var rt=buildCommon.makeSymbol(e,"Main-Regular",tt,et),mt=styleWrap(rt,o,et,nt);return c&&centerSpan(mt,et,o),mt},mathrmSize=function(e,o,c,et){return buildCommon.makeSymbol(e,"Size"+o+"-Regular",c,et)},makeLargeDelim=function(e,o,c,et,tt,nt){var rt=mathrmSize(e,o,tt,et),mt=styleWrap(buildCommon.makeSpan(["delimsizing","size"+o],[rt],et),Style$1.TEXT,et,nt);return c&&centerSpan(mt,et,Style$1.TEXT),mt},makeGlyphSpan=function(e,o,c){var et;o==="Size1-Regular"?et="delim-size1":et="delim-size4";var tt=buildCommon.makeSpan(["delimsizinginner",et],[buildCommon.makeSpan([],[buildCommon.makeSymbol(e,o,c)])]);return{type:"elem",elem:tt}},makeInner=function(e,o,c){var et=fontMetricsData["Size4-Regular"][e.charCodeAt(0)]?fontMetricsData["Size4-Regular"][e.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][e.charCodeAt(0)][4],tt=new PathNode("inner",innerPath(e,Math.round(1e3*o))),nt=new SvgNode([tt],{width:makeEm(et),height:makeEm(o),style:"width:"+makeEm(et),viewBox:"0 0 "+1e3*et+" "+Math.round(1e3*o),preserveAspectRatio:"xMinYMin"}),rt=buildCommon.makeSvgSpan([],[nt],c);return rt.height=o,rt.style.height=makeEm(o),rt.style.width=makeEm(et),{type:"elem",elem:rt}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function(e,o,c,et,tt,nt){var rt,mt,gt,yt,vt="",xt=0;rt=gt=yt=e,mt=null;var bt="Size1-Regular";e==="\\uparrow"?gt=yt="":e==="\\Uparrow"?gt=yt="":e==="\\downarrow"?rt=gt="":e==="\\Downarrow"?rt=gt="":e==="\\updownarrow"?(rt="\\uparrow",gt="",yt="\\downarrow"):e==="\\Updownarrow"?(rt="\\Uparrow",gt="",yt="\\Downarrow"):verts.includes(e)?(gt="",vt="vert",xt=333):doubleVerts.includes(e)?(gt="",vt="doublevert",xt=556):e==="["||e==="\\lbrack"?(rt="",gt="",yt="",bt="Size4-Regular",vt="lbrack",xt=667):e==="]"||e==="\\rbrack"?(rt="",gt="",yt="",bt="Size4-Regular",vt="rbrack",xt=667):e==="\\lfloor"||e===""?(gt=rt="",yt="",bt="Size4-Regular",vt="lfloor",xt=667):e==="\\lceil"||e===""?(rt="",gt=yt="",bt="Size4-Regular",vt="lceil",xt=667):e==="\\rfloor"||e===""?(gt=rt="",yt="",bt="Size4-Regular",vt="rfloor",xt=667):e==="\\rceil"||e===""?(rt="",gt=yt="",bt="Size4-Regular",vt="rceil",xt=667):e==="("||e==="\\lparen"?(rt="",gt="",yt="",bt="Size4-Regular",vt="lparen",xt=875):e===")"||e==="\\rparen"?(rt="",gt="",yt="",bt="Size4-Regular",vt="rparen",xt=875):e==="\\{"||e==="\\lbrace"?(rt="",mt="",yt="",gt="",bt="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(rt="",mt="",yt="",gt="",bt="Size4-Regular"):e==="\\lgroup"||e===""?(rt="",yt="",gt="",bt="Size4-Regular"):e==="\\rgroup"||e===""?(rt="",yt="",gt="",bt="Size4-Regular"):e==="\\lmoustache"||e===""?(rt="",yt="",gt="",bt="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(rt="",yt="",gt="",bt="Size4-Regular");var Et=getMetrics(rt,bt,tt),wt=Et.height+Et.depth,St=getMetrics(gt,bt,tt),Tt=St.height+St.depth,kt=getMetrics(yt,bt,tt),_t=kt.height+kt.depth,Mt=0,Pt=1;if(mt!==null){var It=getMetrics(mt,bt,tt);Mt=It.height+It.depth,Pt=2}var Dt=wt+_t+Mt,Ct=Math.max(0,Math.ceil((o-Dt)/(Pt*Tt))),At=Dt+Ct*Pt*Tt,Lt=et.fontMetrics().axisHeight;c&&(Lt*=et.sizeMultiplier);var jt=At/2-Lt,Bt=[];if(vt.length>0){var zt=At-wt-_t,Yt=Math.round(At*1e3),en=tallDelim(vt,Math.round(zt*1e3)),rn=new PathNode(vt,en),on=(xt/1e3).toFixed(3)+"em",Zt=(Yt/1e3).toFixed(3)+"em",an=new SvgNode([rn],{width:on,height:Zt,viewBox:"0 0 "+xt+" "+Yt}),Xt=buildCommon.makeSvgSpan([],[an],et);Xt.height=Yt/1e3,Xt.style.width=on,Xt.style.height=Zt,Bt.push({type:"elem",elem:Xt})}else{if(Bt.push(makeGlyphSpan(yt,bt,tt)),Bt.push(lap),mt===null){var yn=At-wt-_t+2*lapInEms;Bt.push(makeInner(gt,yn,et))}else{var vn=(At-wt-_t-Mt)/2+2*lapInEms;Bt.push(makeInner(gt,vn,et)),Bt.push(lap),Bt.push(makeGlyphSpan(mt,bt,tt)),Bt.push(lap),Bt.push(makeInner(gt,vn,et))}Bt.push(lap),Bt.push(makeGlyphSpan(rt,bt,tt))}var Nt=et.havingBaseStyle(Style$1.TEXT),$t=buildCommon.makeVList({positionType:"bottom",positionData:jt,children:Bt},Nt);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[$t],Nt),Style$1.TEXT,et,nt)},vbPad=80,emPad=.08,sqrtSvg=function(e,o,c,et,tt){var nt=sqrtPath(e,et,c),rt=new PathNode(e,nt),mt=new SvgNode([rt],{width:"400em",height:makeEm(o),viewBox:"0 0 400000 "+c,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[mt],tt)},makeSqrtImage=function(e,o){var c=o.havingBaseSizing(),et=traverseSequence("\\surd",e*c.sizeMultiplier,stackLargeDelimiterSequence,c),tt=c.sizeMultiplier,nt=Math.max(0,o.minRuleThickness-o.fontMetrics().sqrtRuleThickness),rt,mt=0,gt=0,yt=0,vt;return et.type==="small"?(yt=1e3+1e3*nt+vbPad,e<1?tt=1:e<1.4&&(tt=.7),mt=(1+nt+emPad)/tt,gt=(1+nt)/tt,rt=sqrtSvg("sqrtMain",mt,yt,nt,o),rt.style.minWidth="0.853em",vt=.833/tt):et.type==="large"?(yt=(1e3+vbPad)*sizeToMaxHeight[et.size],gt=(sizeToMaxHeight[et.size]+nt)/tt,mt=(sizeToMaxHeight[et.size]+nt+emPad)/tt,rt=sqrtSvg("sqrtSize"+et.size,mt,yt,nt,o),rt.style.minWidth="1.02em",vt=1/tt):(mt=e+nt+emPad,gt=e+nt,yt=Math.floor(1e3*e+nt)+vbPad,rt=sqrtSvg("sqrtTall",mt,yt,nt,o),rt.style.minWidth="0.742em",vt=1.056),rt.height=gt,rt.style.height=makeEm(mt),{span:rt,advanceWidth:vt,ruleWidth:(o.fontMetrics().sqrtRuleThickness+nt)*tt}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function(e,o,c,et,tt){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),stackLargeDelimiters.includes(e)||stackNeverDelimiters.includes(e))return makeLargeDelim(e,o,!1,c,et,tt);if(stackAlwaysDelimiters.includes(e))return makeStackedDelim(e,sizeToMaxHeight[o],!1,c,et,tt);throw new ParseError("Illegal delimiter: '"+e+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},traverseSequence=function(e,o,c,et){for(var tt=Math.min(2,3-et.style.size),nt=tt;nt<c.length&&c[nt].type!=="stack";nt++){var rt=getMetrics(e,delimTypeToFont(c[nt]),"math"),mt=rt.height+rt.depth;if(c[nt].type==="small"){var gt=et.havingBaseStyle(c[nt].style);mt*=gt.sizeMultiplier}if(mt>o)return c[nt]}return c[c.length-1]},makeCustomSizedDelim=function(e,o,c,et,tt,nt){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var rt;stackNeverDelimiters.includes(e)?rt=stackNeverDelimiterSequence:stackLargeDelimiters.includes(e)?rt=stackLargeDelimiterSequence:rt=stackAlwaysDelimiterSequence;var mt=traverseSequence(e,o,rt,et);return mt.type==="small"?makeSmallDelim(e,mt.style,c,et,tt,nt):mt.type==="large"?makeLargeDelim(e,mt.size,c,et,tt,nt):makeStackedDelim(e,o,c,et,tt,nt)},makeLeftRightDelim=function(e,o,c,et,tt,nt){var rt=et.fontMetrics().axisHeight*et.sizeMultiplier,mt=901,gt=5/et.fontMetrics().ptPerEm,yt=Math.max(o-rt,c+rt),vt=Math.max(yt/500*mt,2*yt-gt);return makeCustomSizedDelim(e,vt,!0,et,tt,nt)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(a,e){var o=checkSymbolNodeType(a);if(o&&delimiters.includes(o.text))return o;throw o?new ParseError("Invalid delimiter '"+o.text+"' after '"+e.funcName+"'",a):new ParseError("Invalid delimiter type '"+a.type+"'",a)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(a,e)=>{var o=checkDelimiter(e[0],a);return{type:"delimsizing",mode:a.parser.mode,size:delimiterSizes[a.funcName].size,mclass:delimiterSizes[a.funcName].mclass,delim:o.text}},htmlBuilder:(a,e)=>a.delim==="."?buildCommon.makeSpan([a.mclass]):delimiter.sizedDelim(a.delim,a.size,e,a.mode,[a.mclass]),mathmlBuilder:a=>{var e=[];a.delim!=="."&&e.push(makeText(a.delim,a.mode));var o=new mathMLTree.MathNode("mo",e);a.mclass==="mopen"||a.mclass==="mclose"?o.setAttribute("fence","true"):o.setAttribute("fence","false"),o.setAttribute("stretchy","true");var c=makeEm(delimiter.sizeToMaxHeight[a.size]);return o.setAttribute("minsize",c),o.setAttribute("maxsize",c),o}});function assertParsed(a){if(!a.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(a,e)=>{var o=a.parser.gullet.macros.get("\\current@color");if(o&&typeof o!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:a.parser.mode,delim:checkDelimiter(e[0],a).text,color:o}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(a,e)=>{var o=checkDelimiter(e[0],a),c=a.parser;++c.leftrightDepth;var et=c.parseExpression(!1);--c.leftrightDepth,c.expect("\\right",!1);var tt=assertNodeType(c.parseFunction(),"leftright-right");return{type:"leftright",mode:c.mode,body:et,left:o.text,right:tt.delim,rightColor:tt.color}},htmlBuilder:(a,e)=>{assertParsed(a);for(var o=buildExpression$1(a.body,e,!0,["mopen","mclose"]),c=0,et=0,tt=!1,nt=0;nt<o.length;nt++)o[nt].isMiddle?tt=!0:(c=Math.max(o[nt].height,c),et=Math.max(o[nt].depth,et));c*=e.sizeMultiplier,et*=e.sizeMultiplier;var rt;if(a.left==="."?rt=makeNullDelimiter(e,["mopen"]):rt=delimiter.leftRightDelim(a.left,c,et,e,a.mode,["mopen"]),o.unshift(rt),tt)for(var mt=1;mt<o.length;mt++){var gt=o[mt],yt=gt.isMiddle;yt&&(o[mt]=delimiter.leftRightDelim(yt.delim,c,et,yt.options,a.mode,[]))}var vt;if(a.right===".")vt=makeNullDelimiter(e,["mclose"]);else{var xt=a.rightColor?e.withColor(a.rightColor):e;vt=delimiter.leftRightDelim(a.right,c,et,xt,a.mode,["mclose"])}return o.push(vt),buildCommon.makeSpan(["minner"],o,e)},mathmlBuilder:(a,e)=>{assertParsed(a);var o=buildExpression(a.body,e);if(a.left!=="."){var c=new mathMLTree.MathNode("mo",[makeText(a.left,a.mode)]);c.setAttribute("fence","true"),o.unshift(c)}if(a.right!=="."){var et=new mathMLTree.MathNode("mo",[makeText(a.right,a.mode)]);et.setAttribute("fence","true"),a.rightColor&&et.setAttribute("mathcolor",a.rightColor),o.push(et)}return makeRow(o)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(a,e)=>{var o=checkDelimiter(e[0],a);if(!a.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",o);return{type:"middle",mode:a.parser.mode,delim:o.text}},htmlBuilder:(a,e)=>{var o;if(a.delim===".")o=makeNullDelimiter(e,[]);else{o=delimiter.sizedDelim(a.delim,1,e,a.mode,[]);var c={delim:a.delim,options:e};o.isMiddle=c}return o},mathmlBuilder:(a,e)=>{var o=a.delim==="\\vert"||a.delim==="|"?makeText("|","text"):makeText(a.delim,a.mode),c=new mathMLTree.MathNode("mo",[o]);return c.setAttribute("fence","true"),c.setAttribute("lspace","0.05em"),c.setAttribute("rspace","0.05em"),c}});var htmlBuilder$7=(a,e)=>{var o=buildCommon.wrapFragment(buildGroup$1(a.body,e),e),c=a.label.slice(1),et=e.sizeMultiplier,tt,nt=0,rt=utils.isCharacterBox(a.body);if(c==="sout")tt=buildCommon.makeSpan(["stretchy","sout"]),tt.height=e.fontMetrics().defaultRuleThickness/et,nt=-.5*e.fontMetrics().xHeight;else if(c==="phase"){var mt=calculateSize({number:.6,unit:"pt"},e),gt=calculateSize({number:.35,unit:"ex"},e),yt=e.havingBaseSizing();et=et/yt.sizeMultiplier;var vt=o.height+o.depth+mt+gt;o.style.paddingLeft=makeEm(vt/2+mt);var xt=Math.floor(1e3*vt*et),bt=phasePath(xt),Et=new SvgNode([new PathNode("phase",bt)],{width:"400em",height:makeEm(xt/1e3),viewBox:"0 0 400000 "+xt,preserveAspectRatio:"xMinYMin slice"});tt=buildCommon.makeSvgSpan(["hide-tail"],[Et],e),tt.style.height=makeEm(vt),nt=o.depth+mt+gt}else{/cancel/.test(c)?rt||o.classes.push("cancel-pad"):c==="angl"?o.classes.push("anglpad"):o.classes.push("boxpad");var wt=0,St=0,Tt=0;/box/.test(c)?(Tt=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),wt=e.fontMetrics().fboxsep+(c==="colorbox"?0:Tt),St=wt):c==="angl"?(Tt=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),wt=4*Tt,St=Math.max(0,.25-o.depth)):(wt=rt?.2:0,St=wt),tt=stretchy.encloseSpan(o,c,wt,St,e),/fbox|boxed|fcolorbox/.test(c)?(tt.style.borderStyle="solid",tt.style.borderWidth=makeEm(Tt)):c==="angl"&&Tt!==.049&&(tt.style.borderTopWidth=makeEm(Tt),tt.style.borderRightWidth=makeEm(Tt)),nt=o.depth+St,a.backgroundColor&&(tt.style.backgroundColor=a.backgroundColor,a.borderColor&&(tt.style.borderColor=a.borderColor))}var kt;if(a.backgroundColor)kt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:tt,shift:nt},{type:"elem",elem:o,shift:0}]},e);else{var _t=/cancel|phase/.test(c)?["svg-align"]:[];kt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:tt,shift:nt,wrapperClasses:_t}]},e)}return/cancel/.test(c)&&(kt.height=o.height,kt.depth=o.depth),/cancel/.test(c)&&!rt?buildCommon.makeSpan(["mord","cancel-lap"],[kt],e):buildCommon.makeSpan(["mord"],[kt],e)},mathmlBuilder$6=(a,e)=>{var o=0,c=new mathMLTree.MathNode(a.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(a.body,e)]);switch(a.label){case"\\cancel":c.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":c.setAttribute("notation","downdiagonalstrike");break;case"\\phase":c.setAttribute("notation","phasorangle");break;case"\\sout":c.setAttribute("notation","horizontalstrike");break;case"\\fbox":c.setAttribute("notation","box");break;case"\\angl":c.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(o=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,c.setAttribute("width","+"+2*o+"pt"),c.setAttribute("height","+"+2*o+"pt"),c.setAttribute("lspace",o+"pt"),c.setAttribute("voffset",o+"pt"),a.label==="\\fcolorbox"){var et=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);c.setAttribute("style","border: "+et+"em solid "+String(a.borderColor))}break;case"\\xcancel":c.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return a.backgroundColor&&c.setAttribute("mathbackground",a.backgroundColor),c};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(a,e,o){var{parser:c,funcName:et}=a,tt=assertNodeType(e[0],"color-token").color,nt=e[1];return{type:"enclose",mode:c.mode,label:et,backgroundColor:tt,body:nt}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(a,e,o){var{parser:c,funcName:et}=a,tt=assertNodeType(e[0],"color-token").color,nt=assertNodeType(e[1],"color-token").color,rt=e[2];return{type:"enclose",mode:c.mode,label:et,backgroundColor:nt,borderColor:tt,body:rt}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(a,e){var{parser:o}=a;return{type:"enclose",mode:o.mode,label:"\\fbox",body:e[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(a,e){var{parser:o,funcName:c}=a,et=e[0];return{type:"enclose",mode:o.mode,label:c,body:et}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(a,e){var{parser:o}=a;return{type:"enclose",mode:o.mode,label:"\\angl",body:e[0]}}});var _environments={};function defineEnvironment(a){for(var{type:e,names:o,props:c,handler:et,htmlBuilder:tt,mathmlBuilder:nt}=a,rt={type:e,numArgs:c.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:et},mt=0;mt<o.length;++mt)_environments[o[mt]]=rt;tt&&(_htmlGroupBuilders[e]=tt),nt&&(_mathmlGroupBuilders[e]=nt)}var _macros={};function defineMacro(a,e){_macros[a]=e}function getHLines(a){var e=[];a.consumeSpaces();var o=a.fetch().text;for(o==="\\relax"&&(a.consume(),a.consumeSpaces(),o=a.fetch().text);o==="\\hline"||o==="\\hdashline";)a.consume(),e.push(o==="\\hdashline"),a.consumeSpaces(),o=a.fetch().text;return e}var validateAmsEnvironmentContext=a=>{var e=a.parser.settings;if(!e.displayMode)throw new ParseError("{"+a.envName+"} can be used only in display mode.")};function getAutoTag(a){if(a.indexOf("ed")===-1)return a.indexOf("*")===-1}function parseArray(a,e,o){var{hskipBeforeAndAfter:c,addJot:et,cols:tt,arraystretch:nt,colSeparationType:rt,autoTag:mt,singleRow:gt,emptySingleRow:yt,maxNumCols:vt,leqno:xt}=e;if(a.gullet.beginGroup(),gt||a.gullet.macros.set("\\cr","\\\\\\relax"),!nt){var bt=a.gullet.expandMacroAsText("\\arraystretch");if(bt==null)nt=1;else if(nt=parseFloat(bt),!nt||nt<0)throw new ParseError("Invalid \\arraystretch: "+bt)}a.gullet.beginGroup();var Et=[],wt=[Et],St=[],Tt=[],kt=mt!=null?[]:void 0;function _t(){mt&&a.gullet.macros.set("\\@eqnsw","1",!0)}function Mt(){kt&&(a.gullet.macros.get("\\df@tag")?(kt.push(a.subparse([new Token("\\df@tag")])),a.gullet.macros.set("\\df@tag",void 0,!0)):kt.push(!!mt&&a.gullet.macros.get("\\@eqnsw")==="1"))}for(_t(),Tt.push(getHLines(a));;){var Pt=a.parseExpression(!1,gt?"\\end":"\\\\");a.gullet.endGroup(),a.gullet.beginGroup(),Pt={type:"ordgroup",mode:a.mode,body:Pt},o&&(Pt={type:"styling",mode:a.mode,style:o,body:[Pt]}),Et.push(Pt);var It=a.fetch().text;if(It==="&"){if(vt&&Et.length===vt){if(gt||rt)throw new ParseError("Too many tab characters: &",a.nextToken);a.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}a.consume()}else if(It==="\\end"){Mt(),Et.length===1&&Pt.type==="styling"&&Pt.body[0].body.length===0&&(wt.length>1||!yt)&&wt.pop(),Tt.length<wt.length+1&&Tt.push([]);break}else if(It==="\\\\"){a.consume();var Dt=void 0;a.gullet.future().text!==" "&&(Dt=a.parseSizeGroup(!0)),St.push(Dt?Dt.value:null),Mt(),Tt.push(getHLines(a)),Et=[],wt.push(Et),_t()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",a.nextToken)}return a.gullet.endGroup(),a.gullet.endGroup(),{type:"array",mode:a.mode,addJot:et,arraystretch:nt,body:wt,cols:tt,rowGaps:St,hskipBeforeAndAfter:c,hLinesBeforeRow:Tt,colSeparationType:rt,tags:kt,leqno:xt}}function dCellStyle(a){return a.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function(e,o){var c,et,tt=e.body.length,nt=e.hLinesBeforeRow,rt=0,mt=new Array(tt),gt=[],yt=Math.max(o.fontMetrics().arrayRuleWidth,o.minRuleThickness),vt=1/o.fontMetrics().ptPerEm,xt=5*vt;if(e.colSeparationType&&e.colSeparationType==="small"){var bt=o.havingStyle(Style$1.SCRIPT).sizeMultiplier;xt=.2778*(bt/o.sizeMultiplier)}var Et=e.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},o):12*vt,wt=3*vt,St=e.arraystretch*Et,Tt=.7*St,kt=.3*St,_t=0;function Mt(Gn){for(var rr=0;rr<Gn.length;++rr)rr>0&&(_t+=.25),gt.push({pos:_t,isDashed:Gn[rr]})}for(Mt(nt[0]),c=0;c<e.body.length;++c){var Pt=e.body[c],It=Tt,Dt=kt;rt<Pt.length&&(rt=Pt.length);var Ct=new Array(Pt.length);for(et=0;et<Pt.length;++et){var At=buildGroup$1(Pt[et],o);Dt<At.depth&&(Dt=At.depth),It<At.height&&(It=At.height),Ct[et]=At}var Lt=e.rowGaps[c],jt=0;Lt&&(jt=calculateSize(Lt,o),jt>0&&(jt+=kt,Dt<jt&&(Dt=jt),jt=0)),e.addJot&&(Dt+=wt),Ct.height=It,Ct.depth=Dt,_t+=It,Ct.pos=_t,_t+=Dt+jt,mt[c]=Ct,Mt(nt[c+1])}var Bt=_t/2+o.fontMetrics().axisHeight,zt=e.cols||[],Yt=[],en,rn,on=[];if(e.tags&&e.tags.some(Gn=>Gn))for(c=0;c<tt;++c){var Zt=mt[c],an=Zt.pos-Bt,Xt=e.tags[c],yn=void 0;Xt===!0?yn=buildCommon.makeSpan(["eqn-num"],[],o):Xt===!1?yn=buildCommon.makeSpan([],[],o):yn=buildCommon.makeSpan([],buildExpression$1(Xt,o,!0),o),yn.depth=Zt.depth,yn.height=Zt.height,on.push({type:"elem",elem:yn,shift:an})}for(et=0,rn=0;et<rt||rn<zt.length;++et,++rn){for(var vn=zt[rn]||{},Nt=!0;vn.type==="separator";){if(Nt||(en=buildCommon.makeSpan(["arraycolsep"],[]),en.style.width=makeEm(o.fontMetrics().doubleRuleSep),Yt.push(en)),vn.separator==="|"||vn.separator===":"){var $t=vn.separator==="|"?"solid":"dashed",Ot=buildCommon.makeSpan(["vertical-separator"],[],o);Ot.style.height=makeEm(_t),Ot.style.borderRightWidth=makeEm(yt),Ot.style.borderRightStyle=$t,Ot.style.margin="0 "+makeEm(-yt/2);var Ft=_t-Bt;Ft&&(Ot.style.verticalAlign=makeEm(-Ft)),Yt.push(Ot)}else throw new ParseError("Invalid separator type: "+vn.separator);rn++,vn=zt[rn]||{},Nt=!1}if(!(et>=rt)){var Ut=void 0;(et>0||e.hskipBeforeAndAfter)&&(Ut=utils.deflt(vn.pregap,xt),Ut!==0&&(en=buildCommon.makeSpan(["arraycolsep"],[]),en.style.width=makeEm(Ut),Yt.push(en)));var Gt=[];for(c=0;c<tt;++c){var Vt=mt[c],Kt=Vt[et];if(Kt){var Jt=Vt.pos-Bt;Kt.depth=Vt.depth,Kt.height=Vt.height,Gt.push({type:"elem",elem:Kt,shift:Jt})}}Gt=buildCommon.makeVList({positionType:"individualShift",children:Gt},o),Gt=buildCommon.makeSpan(["col-align-"+(vn.align||"c")],[Gt]),Yt.push(Gt),(et<rt-1||e.hskipBeforeAndAfter)&&(Ut=utils.deflt(vn.postgap,xt),Ut!==0&&(en=buildCommon.makeSpan(["arraycolsep"],[]),en.style.width=makeEm(Ut),Yt.push(en)))}}if(mt=buildCommon.makeSpan(["mtable"],Yt),gt.length>0){for(var nn=buildCommon.makeLineSpan("hline",o,yt),sn=buildCommon.makeLineSpan("hdashline",o,yt),gn=[{type:"elem",elem:mt,shift:0}];gt.length>0;){var fn=gt.pop(),In=fn.pos-Bt;fn.isDashed?gn.push({type:"elem",elem:sn,shift:In}):gn.push({type:"elem",elem:nn,shift:In})}mt=buildCommon.makeVList({positionType:"individualShift",children:gn},o)}if(on.length===0)return buildCommon.makeSpan(["mord"],[mt],o);var Dn=buildCommon.makeVList({positionType:"individualShift",children:on},o);return Dn=buildCommon.makeSpan(["tag"],[Dn],o),buildCommon.makeFragment([mt,Dn])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function(e,o){for(var c=[],et=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),tt=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),nt=0;nt<e.body.length;nt++){for(var rt=e.body[nt],mt=[],gt=0;gt<rt.length;gt++)mt.push(new mathMLTree.MathNode("mtd",[buildGroup(rt[gt],o)]));e.tags&&e.tags[nt]&&(mt.unshift(et),mt.push(et),e.leqno?mt.unshift(tt):mt.push(tt)),c.push(new mathMLTree.MathNode("mtr",mt))}var yt=new mathMLTree.MathNode("mtable",c),vt=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);yt.setAttribute("rowspacing",makeEm(vt));var xt="",bt="";if(e.cols&&e.cols.length>0){var Et=e.cols,wt="",St=!1,Tt=0,kt=Et.length;Et[0].type==="separator"&&(xt+="top ",Tt=1),Et[Et.length-1].type==="separator"&&(xt+="bottom ",kt-=1);for(var _t=Tt;_t<kt;_t++)Et[_t].type==="align"?(bt+=alignMap[Et[_t].align],St&&(wt+="none "),St=!0):Et[_t].type==="separator"&&St&&(wt+=Et[_t].separator==="|"?"solid ":"dashed ",St=!1);yt.setAttribute("columnalign",bt.trim()),/[sd]/.test(wt)&&yt.setAttribute("columnlines",wt.trim())}if(e.colSeparationType==="align"){for(var Mt=e.cols||[],Pt="",It=1;It<Mt.length;It++)Pt+=It%2?"0em ":"1em ";yt.setAttribute("columnspacing",Pt.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?yt.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?yt.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?yt.setAttribute("columnspacing","0.5em"):yt.setAttribute("columnspacing","1em");var Dt="",Ct=e.hLinesBeforeRow;xt+=Ct[0].length>0?"left ":"",xt+=Ct[Ct.length-1].length>0?"right ":"";for(var At=1;At<Ct.length-1;At++)Dt+=Ct[At].length===0?"none ":Ct[At][0]?"dashed ":"solid ";return/[sd]/.test(Dt)&&yt.setAttribute("rowlines",Dt.trim()),xt!==""&&(yt=new mathMLTree.MathNode("menclose",[yt]),yt.setAttribute("notation",xt.trim())),e.arraystretch&&e.arraystretch<1&&(yt=new mathMLTree.MathNode("mstyle",[yt]),yt.setAttribute("scriptlevel","1")),yt},alignedHandler=function(e,o){e.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(e);var c=[],et=e.envName.indexOf("at")>-1?"alignat":"align",tt=e.envName==="split",nt=parseArray(e.parser,{cols:c,addJot:!0,autoTag:tt?void 0:getAutoTag(e.envName),emptySingleRow:!0,colSeparationType:et,maxNumCols:tt?2:void 0,leqno:e.parser.settings.leqno},"display"),rt,mt=0,gt={type:"ordgroup",mode:e.mode,body:[]};if(o[0]&&o[0].type==="ordgroup"){for(var yt="",vt=0;vt<o[0].body.length;vt++){var xt=assertNodeType(o[0].body[vt],"textord");yt+=xt.text}rt=Number(yt),mt=rt*2}var bt=!mt;nt.body.forEach(function(Tt){for(var kt=1;kt<Tt.length;kt+=2){var _t=assertNodeType(Tt[kt],"styling"),Mt=assertNodeType(_t.body[0],"ordgroup");Mt.body.unshift(gt)}if(bt)mt<Tt.length&&(mt=Tt.length);else{var Pt=Tt.length/2;if(rt<Pt)throw new ParseError("Too many math in a row: "+("expected "+rt+", but got "+Pt),Tt[0])}});for(var Et=0;Et<mt;++Et){var wt="r",St=0;Et%2===1?wt="l":Et>0&&bt&&(St=1),c[Et]={type:"align",align:wt,pregap:St,postgap:0}}return nt.colSeparationType=bt?"align":"alignat",nt};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(a,e){var o=checkSymbolNodeType(e[0]),c=o?[e[0]]:assertNodeType(e[0],"ordgroup").body,et=c.map(function(nt){var rt=assertSymbolNodeType(nt),mt=rt.text;if("lcr".indexOf(mt)!==-1)return{type:"align",align:mt};if(mt==="|")return{type:"separator",separator:"|"};if(mt===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+mt,nt)}),tt={cols:et,hskipBeforeAndAfter:!0,maxNumCols:et.length};return parseArray(a.parser,tt,dCellStyle(a.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(a){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[a.envName.replace("*","")],o="c",c={hskipBeforeAndAfter:!1,cols:[{type:"align",align:o}]};if(a.envName.charAt(a.envName.length-1)==="*"){var et=a.parser;if(et.consumeSpaces(),et.fetch().text==="["){if(et.consume(),et.consumeSpaces(),o=et.fetch().text,"lcr".indexOf(o)===-1)throw new ParseError("Expected l or c or r",et.nextToken);et.consume(),et.consumeSpaces(),et.expect("]"),et.consume(),c.cols=[{type:"align",align:o}]}}var tt=parseArray(a.parser,c,dCellStyle(a.envName)),nt=Math.max(0,...tt.body.map(rt=>rt.length));return tt.cols=new Array(nt).fill({type:"align",align:o}),e?{type:"leftright",mode:a.mode,body:[tt],left:e[0],right:e[1],rightColor:void 0}:tt},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(a){var e={arraystretch:.5},o=parseArray(a.parser,e,"script");return o.colSeparationType="small",o},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(a,e){var o=checkSymbolNodeType(e[0]),c=o?[e[0]]:assertNodeType(e[0],"ordgroup").body,et=c.map(function(nt){var rt=assertSymbolNodeType(nt),mt=rt.text;if("lc".indexOf(mt)!==-1)return{type:"align",align:mt};throw new ParseError("Unknown column alignment: "+mt,nt)});if(et.length>1)throw new ParseError("{subarray} can contain only one column");var tt={cols:et,hskipBeforeAndAfter:!1,arraystretch:.5};if(tt=parseArray(a.parser,tt,"script"),tt.body.length>0&&tt.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return tt},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(a){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},o=parseArray(a.parser,e,dCellStyle(a.envName));return{type:"leftright",mode:a.mode,body:[o],left:a.envName.indexOf("r")>-1?".":"\\{",right:a.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(a){["gather","gather*"].includes(a.envName)&&validateAmsEnvironmentContext(a);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(a.envName),emptySingleRow:!0,leqno:a.parser.settings.leqno};return parseArray(a.parser,e,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(a){validateAmsEnvironmentContext(a);var e={autoTag:getAutoTag(a.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:a.parser.settings.leqno};return parseArray(a.parser,e,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(a){return validateAmsEnvironmentContext(a),parseCD(a.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(a,e){throw new ParseError(a.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(a,e){var{parser:o,funcName:c}=a,et=e[0];if(et.type!=="ordgroup")throw new ParseError("Invalid environment name",et);for(var tt="",nt=0;nt<et.body.length;++nt)tt+=assertNodeType(et.body[nt],"textord").text;if(c==="\\begin"){if(!environments.hasOwnProperty(tt))throw new ParseError("No such environment: "+tt,et);var rt=environments[tt],{args:mt,optArgs:gt}=o.parseArguments("\\begin{"+tt+"}",rt),yt={mode:o.mode,envName:tt,parser:o},vt=rt.handler(yt,mt,gt);o.expect("\\end",!1);var xt=o.nextToken,bt=assertNodeType(o.parseFunction(),"environment");if(bt.name!==tt)throw new ParseError("Mismatch: \\begin{"+tt+"} matched by \\end{"+bt.name+"}",xt);return vt}return{type:"environment",mode:o.mode,name:tt,nameGroup:et}}});var htmlBuilder$5=(a,e)=>{var o=a.font,c=e.withFont(o);return buildGroup$1(a.body,c)},mathmlBuilder$4=(a,e)=>{var o=a.font,c=e.withFont(o);return buildGroup(a.body,c)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(a,e)=>{var{parser:o,funcName:c}=a,et=normalizeArgument(e[0]),tt=c;return tt in fontAliases&&(tt=fontAliases[tt]),{type:"font",mode:o.mode,font:tt.slice(1),body:et}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(a,e)=>{var{parser:o}=a,c=e[0],et=utils.isCharacterBox(c);return{type:"mclass",mode:o.mode,mclass:binrelClass(c),body:[{type:"font",mode:o.mode,font:"boldsymbol",body:c}],isCharacterBox:et}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(a,e)=>{var{parser:o,funcName:c,breakOnTokenText:et}=a,{mode:tt}=o,nt=o.parseExpression(!0,et),rt="math"+c.slice(1);return{type:"font",mode:tt,font:rt,body:{type:"ordgroup",mode:o.mode,body:nt}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(a,e)=>{var o=e;return a==="display"?o=o.id>=Style$1.SCRIPT.id?o.text():Style$1.DISPLAY:a==="text"&&o.size===Style$1.DISPLAY.size?o=Style$1.TEXT:a==="script"?o=Style$1.SCRIPT:a==="scriptscript"&&(o=Style$1.SCRIPTSCRIPT),o},htmlBuilder$4=(a,e)=>{var o=adjustStyle(a.size,e.style),c=o.fracNum(),et=o.fracDen(),tt;tt=e.havingStyle(c);var nt=buildGroup$1(a.numer,tt,e);if(a.continued){var rt=8.5/e.fontMetrics().ptPerEm,mt=3.5/e.fontMetrics().ptPerEm;nt.height=nt.height<rt?rt:nt.height,nt.depth=nt.depth<mt?mt:nt.depth}tt=e.havingStyle(et);var gt=buildGroup$1(a.denom,tt,e),yt,vt,xt;a.hasBarLine?(a.barSize?(vt=calculateSize(a.barSize,e),yt=buildCommon.makeLineSpan("frac-line",e,vt)):yt=buildCommon.makeLineSpan("frac-line",e),vt=yt.height,xt=yt.height):(yt=null,vt=0,xt=e.fontMetrics().defaultRuleThickness);var bt,Et,wt;o.size===Style$1.DISPLAY.size||a.size==="display"?(bt=e.fontMetrics().num1,vt>0?Et=3*xt:Et=7*xt,wt=e.fontMetrics().denom1):(vt>0?(bt=e.fontMetrics().num2,Et=xt):(bt=e.fontMetrics().num3,Et=3*xt),wt=e.fontMetrics().denom2);var St;if(yt){var kt=e.fontMetrics().axisHeight;bt-nt.depth-(kt+.5*vt)<Et&&(bt+=Et-(bt-nt.depth-(kt+.5*vt))),kt-.5*vt-(gt.height-wt)<Et&&(wt+=Et-(kt-.5*vt-(gt.height-wt)));var _t=-(kt-.5*vt);St=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:gt,shift:wt},{type:"elem",elem:yt,shift:_t},{type:"elem",elem:nt,shift:-bt}]},e)}else{var Tt=bt-nt.depth-(gt.height-wt);Tt<Et&&(bt+=.5*(Et-Tt),wt+=.5*(Et-Tt)),St=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:gt,shift:wt},{type:"elem",elem:nt,shift:-bt}]},e)}tt=e.havingStyle(o),St.height*=tt.sizeMultiplier/e.sizeMultiplier,St.depth*=tt.sizeMultiplier/e.sizeMultiplier;var Mt;o.size===Style$1.DISPLAY.size?Mt=e.fontMetrics().delim1:o.size===Style$1.SCRIPTSCRIPT.size?Mt=e.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:Mt=e.fontMetrics().delim2;var Pt,It;return a.leftDelim==null?Pt=makeNullDelimiter(e,["mopen"]):Pt=delimiter.customSizedDelim(a.leftDelim,Mt,!0,e.havingStyle(o),a.mode,["mopen"]),a.continued?It=buildCommon.makeSpan([]):a.rightDelim==null?It=makeNullDelimiter(e,["mclose"]):It=delimiter.customSizedDelim(a.rightDelim,Mt,!0,e.havingStyle(o),a.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(tt.sizingClasses(e)),[Pt,buildCommon.makeSpan(["mfrac"],[St]),It],e)},mathmlBuilder$3=(a,e)=>{var o=new mathMLTree.MathNode("mfrac",[buildGroup(a.numer,e),buildGroup(a.denom,e)]);if(!a.hasBarLine)o.setAttribute("linethickness","0px");else if(a.barSize){var c=calculateSize(a.barSize,e);o.setAttribute("linethickness",makeEm(c))}var et=adjustStyle(a.size,e.style);if(et.size!==e.style.size){o=new mathMLTree.MathNode("mstyle",[o]);var tt=et.size===Style$1.DISPLAY.size?"true":"false";o.setAttribute("displaystyle",tt),o.setAttribute("scriptlevel","0")}if(a.leftDelim!=null||a.rightDelim!=null){var nt=[];if(a.leftDelim!=null){var rt=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(a.leftDelim.replace("\\",""))]);rt.setAttribute("fence","true"),nt.push(rt)}if(nt.push(o),a.rightDelim!=null){var mt=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(a.rightDelim.replace("\\",""))]);mt.setAttribute("fence","true"),nt.push(mt)}return makeRow(nt)}return o};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(a,e)=>{var{parser:o,funcName:c}=a,et=e[0],tt=e[1],nt,rt=null,mt=null,gt="auto";switch(c){case"\\dfrac":case"\\frac":case"\\tfrac":nt=!0;break;case"\\\\atopfrac":nt=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":nt=!1,rt="(",mt=")";break;case"\\\\bracefrac":nt=!1,rt="\\{",mt="\\}";break;case"\\\\brackfrac":nt=!1,rt="[",mt="]";break;default:throw new Error("Unrecognized genfrac command")}switch(c){case"\\dfrac":case"\\dbinom":gt="display";break;case"\\tfrac":case"\\tbinom":gt="text";break}return{type:"genfrac",mode:o.mode,continued:!1,numer:et,denom:tt,hasBarLine:nt,leftDelim:rt,rightDelim:mt,size:gt,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(a,e)=>{var{parser:o,funcName:c}=a,et=e[0],tt=e[1];return{type:"genfrac",mode:o.mode,continued:!0,numer:et,denom:tt,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(a){var{parser:e,funcName:o,token:c}=a,et;switch(o){case"\\over":et="\\frac";break;case"\\choose":et="\\binom";break;case"\\atop":et="\\\\atopfrac";break;case"\\brace":et="\\\\bracefrac";break;case"\\brack":et="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:et,token:c}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function(e){var o=null;return e.length>0&&(o=e,o=o==="."?null:o),o};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(a,e){var{parser:o}=a,c=e[4],et=e[5],tt=normalizeArgument(e[0]),nt=tt.type==="atom"&&tt.family==="open"?delimFromValue(tt.text):null,rt=normalizeArgument(e[1]),mt=rt.type==="atom"&&rt.family==="close"?delimFromValue(rt.text):null,gt=assertNodeType(e[2],"size"),yt,vt=null;gt.isBlank?yt=!0:(vt=gt.value,yt=vt.number>0);var xt="auto",bt=e[3];if(bt.type==="ordgroup"){if(bt.body.length>0){var Et=assertNodeType(bt.body[0],"textord");xt=stylArray[Number(Et.text)]}}else bt=assertNodeType(bt,"textord"),xt=stylArray[Number(bt.text)];return{type:"genfrac",mode:o.mode,numer:c,denom:et,continued:!1,hasBarLine:yt,barSize:vt,leftDelim:nt,rightDelim:mt,size:xt}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(a,e){var{parser:o,funcName:c,token:et}=a;return{type:"infix",mode:o.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(e[0],"size").value,token:et}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(a,e)=>{var{parser:o,funcName:c}=a,et=e[0],tt=assert(assertNodeType(e[1],"infix").size),nt=e[2],rt=tt.number>0;return{type:"genfrac",mode:o.mode,numer:et,denom:nt,continued:!1,hasBarLine:rt,barSize:tt,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(a,e)=>{var o=e.style,c,et;a.type==="supsub"?(c=a.sup?buildGroup$1(a.sup,e.havingStyle(o.sup()),e):buildGroup$1(a.sub,e.havingStyle(o.sub()),e),et=assertNodeType(a.base,"horizBrace")):et=assertNodeType(a,"horizBrace");var tt=buildGroup$1(et.base,e.havingBaseStyle(Style$1.DISPLAY)),nt=stretchy.svgSpan(et,e),rt;if(et.isOver?(rt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:tt},{type:"kern",size:.1},{type:"elem",elem:nt}]},e),rt.children[0].children[0].children[1].classes.push("svg-align")):(rt=buildCommon.makeVList({positionType:"bottom",positionData:tt.depth+.1+nt.height,children:[{type:"elem",elem:nt},{type:"kern",size:.1},{type:"elem",elem:tt}]},e),rt.children[0].children[0].children[0].classes.push("svg-align")),c){var mt=buildCommon.makeSpan(["mord",et.isOver?"mover":"munder"],[rt],e);et.isOver?rt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:mt},{type:"kern",size:.2},{type:"elem",elem:c}]},e):rt=buildCommon.makeVList({positionType:"bottom",positionData:mt.depth+.2+c.height+c.depth,children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:mt}]},e)}return buildCommon.makeSpan(["mord",et.isOver?"mover":"munder"],[rt],e)},mathmlBuilder$2=(a,e)=>{var o=stretchy.mathMLnode(a.label);return new mathMLTree.MathNode(a.isOver?"mover":"munder",[buildGroup(a.base,e),o])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(a,e){var{parser:o,funcName:c}=a;return{type:"horizBrace",mode:o.mode,label:c,isOver:/^\\over/.test(c),base:e[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(a,e)=>{var{parser:o}=a,c=e[1],et=assertNodeType(e[0],"url").url;return o.settings.isTrusted({command:"\\href",url:et})?{type:"href",mode:o.mode,href:et,body:ordargument(c)}:o.formatUnsupportedCmd("\\href")},htmlBuilder:(a,e)=>{var o=buildExpression$1(a.body,e,!1);return buildCommon.makeAnchor(a.href,[],o,e)},mathmlBuilder:(a,e)=>{var o=buildExpressionRow(a.body,e);return o instanceof MathNode||(o=new MathNode("mrow",[o])),o.setAttribute("href",a.href),o}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(a,e)=>{var{parser:o}=a,c=assertNodeType(e[0],"url").url;if(!o.settings.isTrusted({command:"\\url",url:c}))return o.formatUnsupportedCmd("\\url");for(var et=[],tt=0;tt<c.length;tt++){var nt=c[tt];nt==="~"&&(nt="\\textasciitilde"),et.push({type:"textord",mode:"text",text:nt})}var rt={type:"text",mode:o.mode,font:"\\texttt",body:et};return{type:"href",mode:o.mode,href:c,body:ordargument(rt)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(a,e){var{parser:o}=a;return{type:"hbox",mode:o.mode,body:ordargument(e[0])}},htmlBuilder(a,e){var o=buildExpression$1(a.body,e,!1);return buildCommon.makeFragment(o)},mathmlBuilder(a,e){return new mathMLTree.MathNode("mrow",buildExpression(a.body,e))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(a,e)=>{var{parser:o,funcName:c,token:et}=a,tt=assertNodeType(e[0],"raw").string,nt=e[1];o.settings.strict&&o.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var rt,mt={};switch(c){case"\\htmlClass":mt.class=tt,rt={command:"\\htmlClass",class:tt};break;case"\\htmlId":mt.id=tt,rt={command:"\\htmlId",id:tt};break;case"\\htmlStyle":mt.style=tt,rt={command:"\\htmlStyle",style:tt};break;case"\\htmlData":{for(var gt=tt.split(","),yt=0;yt<gt.length;yt++){var vt=gt[yt].split("=");if(vt.length!==2)throw new ParseError("Error parsing key-value for \\htmlData");mt["data-"+vt[0].trim()]=vt[1].trim()}rt={command:"\\htmlData",attributes:mt};break}default:throw new Error("Unrecognized html command")}return o.settings.isTrusted(rt)?{type:"html",mode:o.mode,attributes:mt,body:ordargument(nt)}:o.formatUnsupportedCmd(c)},htmlBuilder:(a,e)=>{var o=buildExpression$1(a.body,e,!1),c=["enclosing"];a.attributes.class&&c.push(...a.attributes.class.trim().split(/\s+/));var et=buildCommon.makeSpan(c,o,e);for(var tt in a.attributes)tt!=="class"&&a.attributes.hasOwnProperty(tt)&&et.setAttribute(tt,a.attributes[tt]);return et},mathmlBuilder:(a,e)=>buildExpressionRow(a.body,e)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(a,e)=>{var{parser:o}=a;return{type:"htmlmathml",mode:o.mode,html:ordargument(e[0]),mathml:ordargument(e[1])}},htmlBuilder:(a,e)=>{var o=buildExpression$1(a.html,e,!1);return buildCommon.makeFragment(o)},mathmlBuilder:(a,e)=>buildExpressionRow(a.mathml,e)});var sizeData=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!o)throw new ParseError("Invalid size: '"+e+"' in \\includegraphics");var c={number:+(o[1]+o[2]),unit:o[3]};if(!validUnit(c))throw new ParseError("Invalid unit: '"+c.unit+"' in \\includegraphics.");return c};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(a,e,o)=>{var{parser:c}=a,et={number:0,unit:"em"},tt={number:.9,unit:"em"},nt={number:0,unit:"em"},rt="";if(o[0])for(var mt=assertNodeType(o[0],"raw").string,gt=mt.split(","),yt=0;yt<gt.length;yt++){var vt=gt[yt].split("=");if(vt.length===2){var xt=vt[1].trim();switch(vt[0].trim()){case"alt":rt=xt;break;case"width":et=sizeData(xt);break;case"height":tt=sizeData(xt);break;case"totalheight":nt=sizeData(xt);break;default:throw new ParseError("Invalid key: '"+vt[0]+"' in \\includegraphics.")}}}var bt=assertNodeType(e[0],"url").url;return rt===""&&(rt=bt,rt=rt.replace(/^.*[\\/]/,""),rt=rt.substring(0,rt.lastIndexOf("."))),c.settings.isTrusted({command:"\\includegraphics",url:bt})?{type:"includegraphics",mode:c.mode,alt:rt,width:et,height:tt,totalheight:nt,src:bt}:c.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(a,e)=>{var o=calculateSize(a.height,e),c=0;a.totalheight.number>0&&(c=calculateSize(a.totalheight,e)-o);var et=0;a.width.number>0&&(et=calculateSize(a.width,e));var tt={height:makeEm(o+c)};et>0&&(tt.width=makeEm(et)),c>0&&(tt.verticalAlign=makeEm(-c));var nt=new Img(a.src,a.alt,tt);return nt.height=o,nt.depth=c,nt},mathmlBuilder:(a,e)=>{var o=new mathMLTree.MathNode("mglyph",[]);o.setAttribute("alt",a.alt);var c=calculateSize(a.height,e),et=0;if(a.totalheight.number>0&&(et=calculateSize(a.totalheight,e)-c,o.setAttribute("valign",makeEm(-et))),o.setAttribute("height",makeEm(c+et)),a.width.number>0){var tt=calculateSize(a.width,e);o.setAttribute("width",makeEm(tt))}return o.setAttribute("src",a.src),o}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(a,e){var{parser:o,funcName:c}=a,et=assertNodeType(e[0],"size");if(o.settings.strict){var tt=c[1]==="m",nt=et.value.unit==="mu";tt?(nt||o.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+c+" supports only mu units, "+("not "+et.value.unit+" units")),o.mode!=="math"&&o.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+c+" works only in math mode")):nt&&o.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+c+" doesn't support mu units")}return{type:"kern",mode:o.mode,dimension:et.value}},htmlBuilder(a,e){return buildCommon.makeGlue(a.dimension,e)},mathmlBuilder(a,e){var o=calculateSize(a.dimension,e);return new mathMLTree.SpaceNode(o)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(a,e)=>{var{parser:o,funcName:c}=a,et=e[0];return{type:"lap",mode:o.mode,alignment:c.slice(5),body:et}},htmlBuilder:(a,e)=>{var o;a.alignment==="clap"?(o=buildCommon.makeSpan([],[buildGroup$1(a.body,e)]),o=buildCommon.makeSpan(["inner"],[o],e)):o=buildCommon.makeSpan(["inner"],[buildGroup$1(a.body,e)]);var c=buildCommon.makeSpan(["fix"],[]),et=buildCommon.makeSpan([a.alignment],[o,c],e),tt=buildCommon.makeSpan(["strut"]);return tt.style.height=makeEm(et.height+et.depth),et.depth&&(tt.style.verticalAlign=makeEm(-et.depth)),et.children.unshift(tt),et=buildCommon.makeSpan(["thinbox"],[et],e),buildCommon.makeSpan(["mord","vbox"],[et],e)},mathmlBuilder:(a,e)=>{var o=new mathMLTree.MathNode("mpadded",[buildGroup(a.body,e)]);if(a.alignment!=="rlap"){var c=a.alignment==="llap"?"-1":"-0.5";o.setAttribute("lspace",c+"width")}return o.setAttribute("width","0px"),o}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,e){var{funcName:o,parser:c}=a,et=c.mode;c.switchMode("math");var tt=o==="\\("?"\\)":"$",nt=c.parseExpression(!1,tt);return c.expect(tt),c.switchMode(et),{type:"styling",mode:c.mode,style:"text",body:nt}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,e){throw new ParseError("Mismatched "+a.funcName)}});var chooseMathStyle=(a,e)=>{switch(e.style.size){case Style$1.DISPLAY.size:return a.display;case Style$1.TEXT.size:return a.text;case Style$1.SCRIPT.size:return a.script;case Style$1.SCRIPTSCRIPT.size:return a.scriptscript;default:return a.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(a,e)=>{var{parser:o}=a;return{type:"mathchoice",mode:o.mode,display:ordargument(e[0]),text:ordargument(e[1]),script:ordargument(e[2]),scriptscript:ordargument(e[3])}},htmlBuilder:(a,e)=>{var o=chooseMathStyle(a,e),c=buildExpression$1(o,e,!1);return buildCommon.makeFragment(c)},mathmlBuilder:(a,e)=>{var o=chooseMathStyle(a,e);return buildExpressionRow(o,e)}});var assembleSupSub=(a,e,o,c,et,tt,nt)=>{a=buildCommon.makeSpan([],[a]);var rt=o&&utils.isCharacterBox(o),mt,gt;if(e){var yt=buildGroup$1(e,c.havingStyle(et.sup()),c);gt={elem:yt,kern:Math.max(c.fontMetrics().bigOpSpacing1,c.fontMetrics().bigOpSpacing3-yt.depth)}}if(o){var vt=buildGroup$1(o,c.havingStyle(et.sub()),c);mt={elem:vt,kern:Math.max(c.fontMetrics().bigOpSpacing2,c.fontMetrics().bigOpSpacing4-vt.height)}}var xt;if(gt&&mt){var bt=c.fontMetrics().bigOpSpacing5+mt.elem.height+mt.elem.depth+mt.kern+a.depth+nt;xt=buildCommon.makeVList({positionType:"bottom",positionData:bt,children:[{type:"kern",size:c.fontMetrics().bigOpSpacing5},{type:"elem",elem:mt.elem,marginLeft:makeEm(-tt)},{type:"kern",size:mt.kern},{type:"elem",elem:a},{type:"kern",size:gt.kern},{type:"elem",elem:gt.elem,marginLeft:makeEm(tt)},{type:"kern",size:c.fontMetrics().bigOpSpacing5}]},c)}else if(mt){var Et=a.height-nt;xt=buildCommon.makeVList({positionType:"top",positionData:Et,children:[{type:"kern",size:c.fontMetrics().bigOpSpacing5},{type:"elem",elem:mt.elem,marginLeft:makeEm(-tt)},{type:"kern",size:mt.kern},{type:"elem",elem:a}]},c)}else if(gt){var wt=a.depth+nt;xt=buildCommon.makeVList({positionType:"bottom",positionData:wt,children:[{type:"elem",elem:a},{type:"kern",size:gt.kern},{type:"elem",elem:gt.elem,marginLeft:makeEm(tt)},{type:"kern",size:c.fontMetrics().bigOpSpacing5}]},c)}else return a;var St=[xt];if(mt&&tt!==0&&!rt){var Tt=buildCommon.makeSpan(["mspace"],[],c);Tt.style.marginRight=makeEm(tt),St.unshift(Tt)}return buildCommon.makeSpan(["mop","op-limits"],St,c)},noSuccessor=["\\smallint"],htmlBuilder$2=(a,e)=>{var o,c,et=!1,tt;a.type==="supsub"?(o=a.sup,c=a.sub,tt=assertNodeType(a.base,"op"),et=!0):tt=assertNodeType(a,"op");var nt=e.style,rt=!1;nt.size===Style$1.DISPLAY.size&&tt.symbol&&!noSuccessor.includes(tt.name)&&(rt=!0);var mt;if(tt.symbol){var gt=rt?"Size2-Regular":"Size1-Regular",yt="";if((tt.name==="\\oiint"||tt.name==="\\oiiint")&&(yt=tt.name.slice(1),tt.name=yt==="oiint"?"\\iint":"\\iiint"),mt=buildCommon.makeSymbol(tt.name,gt,"math",e,["mop","op-symbol",rt?"large-op":"small-op"]),yt.length>0){var vt=mt.italic,xt=buildCommon.staticSvg(yt+"Size"+(rt?"2":"1"),e);mt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:mt,shift:0},{type:"elem",elem:xt,shift:rt?.08:0}]},e),tt.name="\\"+yt,mt.classes.unshift("mop"),mt.italic=vt}}else if(tt.body){var bt=buildExpression$1(tt.body,e,!0);bt.length===1&&bt[0]instanceof SymbolNode?(mt=bt[0],mt.classes[0]="mop"):mt=buildCommon.makeSpan(["mop"],bt,e)}else{for(var Et=[],wt=1;wt<tt.name.length;wt++)Et.push(buildCommon.mathsym(tt.name[wt],tt.mode,e));mt=buildCommon.makeSpan(["mop"],Et,e)}var St=0,Tt=0;return(mt instanceof SymbolNode||tt.name==="\\oiint"||tt.name==="\\oiiint")&&!tt.suppressBaseShift&&(St=(mt.height-mt.depth)/2-e.fontMetrics().axisHeight,Tt=mt.italic),et?assembleSupSub(mt,o,c,e,nt,Tt,St):(St&&(mt.style.position="relative",mt.style.top=makeEm(St)),mt)},mathmlBuilder$1=(a,e)=>{var o;if(a.symbol)o=new MathNode("mo",[makeText(a.name,a.mode)]),noSuccessor.includes(a.name)&&o.setAttribute("largeop","false");else if(a.body)o=new MathNode("mo",buildExpression(a.body,e));else{o=new MathNode("mi",[new TextNode(a.name.slice(1))]);var c=new MathNode("mo",[makeText("","text")]);a.parentIsSupSub?o=new MathNode("mrow",[o,c]):o=newDocumentFragment([o,c])}return o},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(a,e)=>{var{parser:o,funcName:c}=a,et=c;return et.length===1&&(et=singleCharBigOps[et]),{type:"op",mode:o.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:et}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(a,e)=>{var{parser:o}=a,c=e[0];return{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(c)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(a){var{parser:e,funcName:o}=a;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:o}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(a){var{parser:e,funcName:o}=a;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:o}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(a){var{parser:e,funcName:o}=a,c=o;return c.length===1&&(c=singleCharIntegrals[c]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:c}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(a,e)=>{var o,c,et=!1,tt;a.type==="supsub"?(o=a.sup,c=a.sub,tt=assertNodeType(a.base,"operatorname"),et=!0):tt=assertNodeType(a,"operatorname");var nt;if(tt.body.length>0){for(var rt=tt.body.map(vt=>{var xt=vt.text;return typeof xt=="string"?{type:"textord",mode:vt.mode,text:xt}:vt}),mt=buildExpression$1(rt,e.withFont("mathrm"),!0),gt=0;gt<mt.length;gt++){var yt=mt[gt];yt instanceof SymbolNode&&(yt.text=yt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}nt=buildCommon.makeSpan(["mop"],mt,e)}else nt=buildCommon.makeSpan(["mop"],[],e);return et?assembleSupSub(nt,o,c,e,e.style,0,0):nt},mathmlBuilder=(a,e)=>{for(var o=buildExpression(a.body,e.withFont("mathrm")),c=!0,et=0;et<o.length;et++){var tt=o[et];if(!(tt instanceof mathMLTree.SpaceNode))if(tt instanceof mathMLTree.MathNode)switch(tt.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var nt=tt.children[0];tt.children.length===1&&nt instanceof mathMLTree.TextNode?nt.text=nt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):c=!1;break}default:c=!1}else c=!1}if(c){var rt=o.map(yt=>yt.toText()).join("");o=[new mathMLTree.TextNode(rt)]}var mt=new mathMLTree.MathNode("mi",o);mt.setAttribute("mathvariant","normal");var gt=new mathMLTree.MathNode("mo",[makeText("","text")]);return a.parentIsSupSub?new mathMLTree.MathNode("mrow",[mt,gt]):mathMLTree.newDocumentFragment([mt,gt])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(a,e)=>{var{parser:o,funcName:c}=a,et=e[0];return{type:"operatorname",mode:o.mode,body:ordargument(et),alwaysHandleSupSub:c==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(a,e){return a.semisimple?buildCommon.makeFragment(buildExpression$1(a.body,e,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(a.body,e,!0),e)},mathmlBuilder(a,e){return buildExpressionRow(a.body,e,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(a,e){var{parser:o}=a,c=e[0];return{type:"overline",mode:o.mode,body:c}},htmlBuilder(a,e){var o=buildGroup$1(a.body,e.havingCrampedStyle()),c=buildCommon.makeLineSpan("overline-line",e),et=e.fontMetrics().defaultRuleThickness,tt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:3*et},{type:"elem",elem:c},{type:"kern",size:et}]},e);return buildCommon.makeSpan(["mord","overline"],[tt],e)},mathmlBuilder(a,e){var o=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);o.setAttribute("stretchy","true");var c=new mathMLTree.MathNode("mover",[buildGroup(a.body,e),o]);return c.setAttribute("accent","true"),c}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(a,e)=>{var{parser:o}=a,c=e[0];return{type:"phantom",mode:o.mode,body:ordargument(c)}},htmlBuilder:(a,e)=>{var o=buildExpression$1(a.body,e.withPhantom(),!1);return buildCommon.makeFragment(o)},mathmlBuilder:(a,e)=>{var o=buildExpression(a.body,e);return new mathMLTree.MathNode("mphantom",o)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,e)=>{var{parser:o}=a,c=e[0];return{type:"hphantom",mode:o.mode,body:c}},htmlBuilder:(a,e)=>{var o=buildCommon.makeSpan([],[buildGroup$1(a.body,e.withPhantom())]);if(o.height=0,o.depth=0,o.children)for(var c=0;c<o.children.length;c++)o.children[c].height=0,o.children[c].depth=0;return o=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o}]},e),buildCommon.makeSpan(["mord"],[o],e)},mathmlBuilder:(a,e)=>{var o=buildExpression(ordargument(a.body),e),c=new mathMLTree.MathNode("mphantom",o),et=new mathMLTree.MathNode("mpadded",[c]);return et.setAttribute("height","0px"),et.setAttribute("depth","0px"),et}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,e)=>{var{parser:o}=a,c=e[0];return{type:"vphantom",mode:o.mode,body:c}},htmlBuilder:(a,e)=>{var o=buildCommon.makeSpan(["inner"],[buildGroup$1(a.body,e.withPhantom())]),c=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[o,c],e)},mathmlBuilder:(a,e)=>{var o=buildExpression(ordargument(a.body),e),c=new mathMLTree.MathNode("mphantom",o),et=new mathMLTree.MathNode("mpadded",[c]);return et.setAttribute("width","0px"),et}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(a,e){var{parser:o}=a,c=assertNodeType(e[0],"size").value,et=e[1];return{type:"raisebox",mode:o.mode,dy:c,body:et}},htmlBuilder(a,e){var o=buildGroup$1(a.body,e),c=calculateSize(a.dy,e);return buildCommon.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o}]},e)},mathmlBuilder(a,e){var o=new mathMLTree.MathNode("mpadded",[buildGroup(a.body,e)]),c=a.dy.number+a.dy.unit;return o.setAttribute("voffset",c),o}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(a){var{parser:e}=a;return{type:"internal",mode:e.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(a,e,o){var{parser:c}=a,et=o[0],tt=assertNodeType(e[0],"size"),nt=assertNodeType(e[1],"size");return{type:"rule",mode:c.mode,shift:et&&assertNodeType(et,"size").value,width:tt.value,height:nt.value}},htmlBuilder(a,e){var o=buildCommon.makeSpan(["mord","rule"],[],e),c=calculateSize(a.width,e),et=calculateSize(a.height,e),tt=a.shift?calculateSize(a.shift,e):0;return o.style.borderRightWidth=makeEm(c),o.style.borderTopWidth=makeEm(et),o.style.bottom=makeEm(tt),o.width=c,o.height=et+tt,o.depth=-tt,o.maxFontSize=et*1.125*e.sizeMultiplier,o},mathmlBuilder(a,e){var o=calculateSize(a.width,e),c=calculateSize(a.height,e),et=a.shift?calculateSize(a.shift,e):0,tt=e.color&&e.getColor()||"black",nt=new mathMLTree.MathNode("mspace");nt.setAttribute("mathbackground",tt),nt.setAttribute("width",makeEm(o)),nt.setAttribute("height",makeEm(c));var rt=new mathMLTree.MathNode("mpadded",[nt]);return et>=0?rt.setAttribute("height",makeEm(et)):(rt.setAttribute("height",makeEm(et)),rt.setAttribute("depth",makeEm(-et))),rt.setAttribute("voffset",makeEm(et)),rt}});function sizingGroup(a,e,o){for(var c=buildExpression$1(a,e,!1),et=e.sizeMultiplier/o.sizeMultiplier,tt=0;tt<c.length;tt++){var nt=c[tt].classes.indexOf("sizing");nt<0?Array.prototype.push.apply(c[tt].classes,e.sizingClasses(o)):c[tt].classes[nt+1]==="reset-size"+e.size&&(c[tt].classes[nt+1]="reset-size"+o.size),c[tt].height*=et,c[tt].depth*=et}return buildCommon.makeFragment(c)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(a,e)=>{var o=e.havingSize(a.size);return sizingGroup(a.body,o,e)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(a,e)=>{var{breakOnTokenText:o,funcName:c,parser:et}=a,tt=et.parseExpression(!1,o);return{type:"sizing",mode:et.mode,size:sizeFuncs.indexOf(c)+1,body:tt}},htmlBuilder,mathmlBuilder:(a,e)=>{var o=e.havingSize(a.size),c=buildExpression(a.body,o),et=new mathMLTree.MathNode("mstyle",c);return et.setAttribute("mathsize",makeEm(o.sizeMultiplier)),et}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(a,e,o)=>{var{parser:c}=a,et=!1,tt=!1,nt=o[0]&&assertNodeType(o[0],"ordgroup");if(nt)for(var rt="",mt=0;mt<nt.body.length;++mt){var gt=nt.body[mt];if(rt=gt.text,rt==="t")et=!0;else if(rt==="b")tt=!0;else{et=!1,tt=!1;break}}else et=!0,tt=!0;var yt=e[0];return{type:"smash",mode:c.mode,body:yt,smashHeight:et,smashDepth:tt}},htmlBuilder:(a,e)=>{var o=buildCommon.makeSpan([],[buildGroup$1(a.body,e)]);if(!a.smashHeight&&!a.smashDepth)return o;if(a.smashHeight&&(o.height=0,o.children))for(var c=0;c<o.children.length;c++)o.children[c].height=0;if(a.smashDepth&&(o.depth=0,o.children))for(var et=0;et<o.children.length;et++)o.children[et].depth=0;var tt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o}]},e);return buildCommon.makeSpan(["mord"],[tt],e)},mathmlBuilder:(a,e)=>{var o=new mathMLTree.MathNode("mpadded",[buildGroup(a.body,e)]);return a.smashHeight&&o.setAttribute("height","0px"),a.smashDepth&&o.setAttribute("depth","0px"),o}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(a,e,o){var{parser:c}=a,et=o[0],tt=e[0];return{type:"sqrt",mode:c.mode,body:tt,index:et}},htmlBuilder(a,e){var o=buildGroup$1(a.body,e.havingCrampedStyle());o.height===0&&(o.height=e.fontMetrics().xHeight),o=buildCommon.wrapFragment(o,e);var c=e.fontMetrics(),et=c.defaultRuleThickness,tt=et;e.style.id<Style$1.TEXT.id&&(tt=e.fontMetrics().xHeight);var nt=et+tt/4,rt=o.height+o.depth+nt+et,{span:mt,ruleWidth:gt,advanceWidth:yt}=delimiter.sqrtImage(rt,e),vt=mt.height-gt;vt>o.height+o.depth+nt&&(nt=(nt+vt-o.height-o.depth)/2);var xt=mt.height-o.height-nt-gt;o.style.paddingLeft=makeEm(yt);var bt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o,wrapperClasses:["svg-align"]},{type:"kern",size:-(o.height+xt)},{type:"elem",elem:mt},{type:"kern",size:gt}]},e);if(a.index){var Et=e.havingStyle(Style$1.SCRIPTSCRIPT),wt=buildGroup$1(a.index,Et,e),St=.6*(bt.height-bt.depth),Tt=buildCommon.makeVList({positionType:"shift",positionData:-St,children:[{type:"elem",elem:wt}]},e),kt=buildCommon.makeSpan(["root"],[Tt]);return buildCommon.makeSpan(["mord","sqrt"],[kt,bt],e)}else return buildCommon.makeSpan(["mord","sqrt"],[bt],e)},mathmlBuilder(a,e){var{body:o,index:c}=a;return c?new mathMLTree.MathNode("mroot",[buildGroup(o,e),buildGroup(c,e)]):new mathMLTree.MathNode("msqrt",[buildGroup(o,e)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a,e){var{breakOnTokenText:o,funcName:c,parser:et}=a,tt=et.parseExpression(!0,o),nt=c.slice(1,c.length-5);return{type:"styling",mode:et.mode,style:nt,body:tt}},htmlBuilder(a,e){var o=styleMap[a.style],c=e.havingStyle(o).withFont("");return sizingGroup(a.body,c,e)},mathmlBuilder(a,e){var o=styleMap[a.style],c=e.havingStyle(o),et=buildExpression(a.body,c),tt=new mathMLTree.MathNode("mstyle",et),nt={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},rt=nt[a.style];return tt.setAttribute("scriptlevel",rt[0]),tt.setAttribute("displaystyle",rt[1]),tt}});var htmlBuilderDelegate=function(e,o){var c=e.base;if(c)if(c.type==="op"){var et=c.limits&&(o.style.size===Style$1.DISPLAY.size||c.alwaysHandleSupSub);return et?htmlBuilder$2:null}else if(c.type==="operatorname"){var tt=c.alwaysHandleSupSub&&(o.style.size===Style$1.DISPLAY.size||c.limits);return tt?htmlBuilder$1:null}else{if(c.type==="accent")return utils.isCharacterBox(c.base)?htmlBuilder$a:null;if(c.type==="horizBrace"){var nt=!e.sub;return nt===c.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(a,e){var o=htmlBuilderDelegate(a,e);if(o)return o(a,e);var{base:c,sup:et,sub:tt}=a,nt=buildGroup$1(c,e),rt,mt,gt=e.fontMetrics(),yt=0,vt=0,xt=c&&utils.isCharacterBox(c);if(et){var bt=e.havingStyle(e.style.sup());rt=buildGroup$1(et,bt,e),xt||(yt=nt.height-bt.fontMetrics().supDrop*bt.sizeMultiplier/e.sizeMultiplier)}if(tt){var Et=e.havingStyle(e.style.sub());mt=buildGroup$1(tt,Et,e),xt||(vt=nt.depth+Et.fontMetrics().subDrop*Et.sizeMultiplier/e.sizeMultiplier)}var wt;e.style===Style$1.DISPLAY?wt=gt.sup1:e.style.cramped?wt=gt.sup3:wt=gt.sup2;var St=e.sizeMultiplier,Tt=makeEm(.5/gt.ptPerEm/St),kt=null;if(mt){var _t=a.base&&a.base.type==="op"&&a.base.name&&(a.base.name==="\\oiint"||a.base.name==="\\oiiint");(nt instanceof SymbolNode||_t)&&(kt=makeEm(-nt.italic))}var Mt;if(rt&&mt){yt=Math.max(yt,wt,rt.depth+.25*gt.xHeight),vt=Math.max(vt,gt.sub2);var Pt=gt.defaultRuleThickness,It=4*Pt;if(yt-rt.depth-(mt.height-vt)<It){vt=It-(yt-rt.depth)+mt.height;var Dt=.8*gt.xHeight-(yt-rt.depth);Dt>0&&(yt+=Dt,vt-=Dt)}var Ct=[{type:"elem",elem:mt,shift:vt,marginRight:Tt,marginLeft:kt},{type:"elem",elem:rt,shift:-yt,marginRight:Tt}];Mt=buildCommon.makeVList({positionType:"individualShift",children:Ct},e)}else if(mt){vt=Math.max(vt,gt.sub1,mt.height-.8*gt.xHeight);var At=[{type:"elem",elem:mt,marginLeft:kt,marginRight:Tt}];Mt=buildCommon.makeVList({positionType:"shift",positionData:vt,children:At},e)}else if(rt)yt=Math.max(yt,wt,rt.depth+.25*gt.xHeight),Mt=buildCommon.makeVList({positionType:"shift",positionData:-yt,children:[{type:"elem",elem:rt,marginRight:Tt}]},e);else throw new Error("supsub must have either sup or sub.");var Lt=getTypeOfDomTree(nt,"right")||"mord";return buildCommon.makeSpan([Lt],[nt,buildCommon.makeSpan(["msupsub"],[Mt])],e)},mathmlBuilder(a,e){var o=!1,c,et;a.base&&a.base.type==="horizBrace"&&(et=!!a.sup,et===a.base.isOver&&(o=!0,c=a.base.isOver)),a.base&&(a.base.type==="op"||a.base.type==="operatorname")&&(a.base.parentIsSupSub=!0);var tt=[buildGroup(a.base,e)];a.sub&&tt.push(buildGroup(a.sub,e)),a.sup&&tt.push(buildGroup(a.sup,e));var nt;if(o)nt=c?"mover":"munder";else if(a.sub)if(a.sup){var gt=a.base;gt&&gt.type==="op"&&gt.limits&&e.style===Style$1.DISPLAY||gt&&gt.type==="operatorname"&&gt.alwaysHandleSupSub&&(e.style===Style$1.DISPLAY||gt.limits)?nt="munderover":nt="msubsup"}else{var mt=a.base;mt&&mt.type==="op"&&mt.limits&&(e.style===Style$1.DISPLAY||mt.alwaysHandleSupSub)||mt&&mt.type==="operatorname"&&mt.alwaysHandleSupSub&&(mt.limits||e.style===Style$1.DISPLAY)?nt="munder":nt="msub"}else{var rt=a.base;rt&&rt.type==="op"&&rt.limits&&(e.style===Style$1.DISPLAY||rt.alwaysHandleSupSub)||rt&&rt.type==="operatorname"&&rt.alwaysHandleSupSub&&(rt.limits||e.style===Style$1.DISPLAY)?nt="mover":nt="msup"}return new mathMLTree.MathNode(nt,tt)}});defineFunctionBuilders({type:"atom",htmlBuilder(a,e){return buildCommon.mathsym(a.text,a.mode,e,["m"+a.family])},mathmlBuilder(a,e){var o=new mathMLTree.MathNode("mo",[makeText(a.text,a.mode)]);if(a.family==="bin"){var c=getVariant(a,e);c==="bold-italic"&&o.setAttribute("mathvariant",c)}else a.family==="punct"?o.setAttribute("separator","true"):(a.family==="open"||a.family==="close")&&o.setAttribute("stretchy","false");return o}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(a,e){return buildCommon.makeOrd(a,e,"mathord")},mathmlBuilder(a,e){var o=new mathMLTree.MathNode("mi",[makeText(a.text,a.mode,e)]),c=getVariant(a,e)||"italic";return c!==defaultVariant[o.type]&&o.setAttribute("mathvariant",c),o}});defineFunctionBuilders({type:"textord",htmlBuilder(a,e){return buildCommon.makeOrd(a,e,"textord")},mathmlBuilder(a,e){var o=makeText(a.text,a.mode,e),c=getVariant(a,e)||"normal",et;return a.mode==="text"?et=new mathMLTree.MathNode("mtext",[o]):/[0-9]/.test(a.text)?et=new mathMLTree.MathNode("mn",[o]):a.text==="\\prime"?et=new mathMLTree.MathNode("mo",[o]):et=new mathMLTree.MathNode("mi",[o]),c!==defaultVariant[et.type]&&et.setAttribute("mathvariant",c),et}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(a,e){if(regularSpace.hasOwnProperty(a.text)){var o=regularSpace[a.text].className||"";if(a.mode==="text"){var c=buildCommon.makeOrd(a,e,"textord");return c.classes.push(o),c}else return buildCommon.makeSpan(["mspace",o],[buildCommon.mathsym(a.text,a.mode,e)],e)}else{if(cssSpace.hasOwnProperty(a.text))return buildCommon.makeSpan(["mspace",cssSpace[a.text]],[],e);throw new ParseError('Unknown type of space "'+a.text+'"')}},mathmlBuilder(a,e){var o;if(regularSpace.hasOwnProperty(a.text))o=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")]);else{if(cssSpace.hasOwnProperty(a.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+a.text+'"')}return o}});var pad=()=>{var a=new mathMLTree.MathNode("mtd",[]);return a.setAttribute("width","50%"),a};defineFunctionBuilders({type:"tag",mathmlBuilder(a,e){var o=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(a.body,e)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(a.tag,e)])])]);return o.setAttribute("width","100%"),o}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(a,e)=>{var o=a.font;if(o){if(textFontFamilies[o])return e.withTextFontFamily(textFontFamilies[o]);if(textFontWeights[o])return e.withTextFontWeight(textFontWeights[o]);if(o==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(textFontShapes[o])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(a,e){var{parser:o,funcName:c}=a,et=e[0];return{type:"text",mode:o.mode,body:ordargument(et),font:c}},htmlBuilder(a,e){var o=optionsWithFont(a,e),c=buildExpression$1(a.body,o,!0);return buildCommon.makeSpan(["mord","text"],c,o)},mathmlBuilder(a,e){var o=optionsWithFont(a,e);return buildExpressionRow(a.body,o)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(a,e){var{parser:o}=a;return{type:"underline",mode:o.mode,body:e[0]}},htmlBuilder(a,e){var o=buildGroup$1(a.body,e),c=buildCommon.makeLineSpan("underline-line",e),et=e.fontMetrics().defaultRuleThickness,tt=buildCommon.makeVList({positionType:"top",positionData:o.height,children:[{type:"kern",size:et},{type:"elem",elem:c},{type:"kern",size:3*et},{type:"elem",elem:o}]},e);return buildCommon.makeSpan(["mord","underline"],[tt],e)},mathmlBuilder(a,e){var o=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);o.setAttribute("stretchy","true");var c=new mathMLTree.MathNode("munder",[buildGroup(a.body,e),o]);return c.setAttribute("accentunder","true"),c}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(a,e){var{parser:o}=a;return{type:"vcenter",mode:o.mode,body:e[0]}},htmlBuilder(a,e){var o=buildGroup$1(a.body,e),c=e.fontMetrics().axisHeight,et=.5*(o.height-c-(o.depth+c));return buildCommon.makeVList({positionType:"shift",positionData:et,children:[{type:"elem",elem:o}]},e)},mathmlBuilder(a,e){return new mathMLTree.MathNode("mpadded",[buildGroup(a.body,e)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(a,e,o){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(a,e){for(var o=makeVerb(a),c=[],et=e.havingStyle(e.style.text()),tt=0;tt<o.length;tt++){var nt=o[tt];nt==="~"&&(nt="\\textasciitilde"),c.push(buildCommon.makeSymbol(nt,"Typewriter-Regular",a.mode,et,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(et.sizingClasses(e)),buildCommon.tryCombineChars(c),et)},mathmlBuilder(a,e){var o=new mathMLTree.TextNode(makeVerb(a)),c=new mathMLTree.MathNode("mtext",[o]);return c.setAttribute("mathvariant","monospace"),c}});var makeVerb=a=>a.body.replace(/ /g,a.star?"":""),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]---]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(e,o){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=o,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,o){this.catcodes[e]=o}lex(){var e=this.input,o=this.tokenRegex.lastIndex;if(o===e.length)return new Token("EOF",new SourceLocation(this,o,o));var c=this.tokenRegex.exec(e);if(c===null||c.index!==o)throw new ParseError("Unexpected character: '"+e[o]+"'",new Token(e[o],new SourceLocation(this,o,o+1)));var et=c[6]||c[3]||(c[2]?"\\ ":" ");if(this.catcodes[et]===14){var tt=e.indexOf(`
`,this.tokenRegex.lastIndex);return tt===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=tt+1,this.lex()}return new Token(et,new SourceLocation(this,o,this.tokenRegex.lastIndex))}}class Namespace{constructor(e,o){e===void 0&&(e={}),o===void 0&&(o={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=o,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var o in e)e.hasOwnProperty(o)&&(e[o]==null?delete this.current[o]:this.current[o]=e[o])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,o,c){if(c===void 0&&(c=!1),c){for(var et=0;et<this.undefStack.length;et++)delete this.undefStack[et][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=o)}else{var tt=this.undefStack[this.undefStack.length-1];tt&&!tt.hasOwnProperty(e)&&(tt[e]=this.current[e])}o==null?delete this.current[e]:this.current[e]=o}}var macros=_macros;defineMacro("\\noexpand",function(a){var e=a.popToken();return a.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});defineMacro("\\expandafter",function(a){var e=a.popToken();return a.expandOnce(!0),{tokens:[e],numArgs:0}});defineMacro("\\@firstoftwo",function(a){var e=a.consumeArgs(2);return{tokens:e[0],numArgs:0}});defineMacro("\\@secondoftwo",function(a){var e=a.consumeArgs(2);return{tokens:e[1],numArgs:0}});defineMacro("\\@ifnextchar",function(a){var e=a.consumeArgs(3);a.consumeSpaces();var o=a.future();return e[0].length===1&&e[0][0].text===o.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(a){var e=a.consumeArgs(2);return a.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(a){var e=a.popToken(),o,c="";if(e.text==="'")o=8,e=a.popToken();else if(e.text==='"')o=16,e=a.popToken();else if(e.text==="`")if(e=a.popToken(),e.text[0]==="\\")c=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ParseError("\\char` missing argument");c=e.text.charCodeAt(0)}else o=10;if(o){if(c=digitToNumber[e.text],c==null||c>=o)throw new ParseError("Invalid base-"+o+" digit "+e.text);for(var et;(et=digitToNumber[a.future().text])!=null&&et<o;)c*=o,c+=et,a.popToken()}return"\\@char{"+c+"}"});var newcommand=(a,e,o,c)=>{var et=a.consumeArg().tokens;if(et.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var tt=et[0].text,nt=a.isDefined(tt);if(nt&&!e)throw new ParseError("\\newcommand{"+tt+"} attempting to redefine "+(tt+"; use \\renewcommand"));if(!nt&&!o)throw new ParseError("\\renewcommand{"+tt+"} when command "+tt+" does not yet exist; use \\newcommand");var rt=0;if(et=a.consumeArg().tokens,et.length===1&&et[0].text==="["){for(var mt="",gt=a.expandNextToken();gt.text!=="]"&&gt.text!=="EOF";)mt+=gt.text,gt=a.expandNextToken();if(!mt.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+mt);rt=parseInt(mt),et=a.consumeArg().tokens}return nt&&c||a.macros.set(tt,{tokens:et,numArgs:rt}),""};defineMacro("\\newcommand",a=>newcommand(a,!1,!0,!1));defineMacro("\\renewcommand",a=>newcommand(a,!0,!1,!1));defineMacro("\\providecommand",a=>newcommand(a,!0,!0,!0));defineMacro("\\message",a=>{var e=a.consumeArgs(1)[0];return console.log(e.reverse().map(o=>o.text).join("")),""});defineMacro("\\errmessage",a=>{var e=a.consumeArgs(1)[0];return console.error(e.reverse().map(o=>o.text).join("")),""});defineMacro("\\show",a=>{var e=a.popToken(),o=e.text;return console.log(e,a.macros.get(o),functions[o],symbols.math[o],symbols.text[o]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");defineMacro("","\\mathscr{B}");defineMacro("","\\mathscr{E}");defineMacro("","\\mathscr{F}");defineMacro("","\\mathscr{H}");defineMacro("","\\mathscr{I}");defineMacro("","\\mathscr{L}");defineMacro("","\\mathscr{M}");defineMacro("","\\mathscr{R}");defineMacro("","\\mathfrak{C}");defineMacro("","\\mathfrak{H}");defineMacro("","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");defineMacro("\\ne","\\neq");defineMacro("","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");defineMacro("","\\notin");defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");defineMacro("","\\perp");defineMacro("","\\mathclose{!\\mkern-0.8mu!}");defineMacro("","\\notni");defineMacro("","\\ulcorner");defineMacro("","\\urcorner");defineMacro("","\\llcorner");defineMacro("","\\lrcorner");defineMacro("","\\copyright");defineMacro("","\\textregistered");defineMacro("","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(a){var e="\\dotso",o=a.expandAfterFuture().text;return o in dotsByToken?e=dotsByToken[o]:(o.slice(0,4)==="\\not"||o in symbols.math&&["bin","rel"].includes(symbols.math[o].group))&&(e="\\dotsb"),e});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(a){var e=a.future().text;return e in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(a){var e=a.future().text;return e in spaceAfterDots&&e!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(a){var e=a.future().text;return e in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",a=>{if(a.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("","\\dblcolon");defineMacro("","\\eqcolon");defineMacro("","\\coloneqq");defineMacro("","\\eqqcolon");defineMacro("","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");defineMacro("\\imath","\\html@mathml{\\@imath}{}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");defineMacro("","\\llbracket");defineMacro("","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");defineMacro("","\\lBrace");defineMacro("","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");defineMacro("","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=a=>e=>{var o=e.consumeArg().tokens,c=e.consumeArg().tokens,et=e.consumeArg().tokens,tt=e.consumeArg().tokens,nt=e.macros.get("|"),rt=e.macros.get("\\|");e.macros.beginGroup();var mt=vt=>xt=>{a&&(xt.macros.set("|",nt),et.length&&xt.macros.set("\\|",rt));var bt=vt;if(!vt&&et.length){var Et=xt.future();Et.text==="|"&&(xt.popToken(),bt=!0)}return{tokens:bt?et:c,numArgs:0}};e.macros.set("|",mt(!1)),et.length&&e.macros.set("\\|",mt(!0));var gt=e.consumeArg().tokens,yt=e.expandTokens([...tt,...gt,...o]);return e.macros.endGroup(),{tokens:yt.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(e,o,c){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=o,this.expansionCount=0,this.feed(e),this.macros=new Namespace(macros,o.macros),this.mode=c,this.stack=[]}feed(e){this.lexer=new Lexer(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var o,c,et;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;o=this.popToken(),{tokens:et,end:c}=this.consumeArg(["]"])}else({tokens:et,start:o,end:c}=this.consumeArg());return this.pushToken(new Token("EOF",c.loc)),this.pushTokens(et),new Token("",SourceLocation.range(o,c))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var o=[],c=e&&e.length>0;c||this.consumeSpaces();var et=this.future(),tt,nt=0,rt=0;do{if(tt=this.popToken(),o.push(tt),tt.text==="{")++nt;else if(tt.text==="}"){if(--nt,nt===-1)throw new ParseError("Extra }",tt)}else if(tt.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(e&&c?e[rt]:"}")+"'",tt);if(e&&c)if((nt===0||nt===1&&e[rt]==="{")&&tt.text===e[rt]){if(++rt,rt===e.length){o.splice(-rt,rt);break}}else rt=0}while(nt!==0||c);return et.text==="{"&&o[o.length-1].text==="}"&&(o.pop(),o.shift()),o.reverse(),{tokens:o,start:et,end:tt}}consumeArgs(e,o){if(o){if(o.length!==e+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var c=o[0],et=0;et<c.length;et++){var tt=this.popToken();if(c[et]!==tt.text)throw new ParseError("Use of the macro doesn't match its definition",tt)}}for(var nt=[],rt=0;rt<e;rt++)nt.push(this.consumeArg(o&&o[rt+1]).tokens);return nt}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var o=this.popToken(),c=o.text,et=o.noexpand?null:this._getExpansion(c);if(et==null||e&&et.unexpandable){if(e&&et==null&&c[0]==="\\"&&!this.isDefined(c))throw new ParseError("Undefined control sequence: "+c);return this.pushToken(o),!1}this.countExpansion(1);var tt=et.tokens,nt=this.consumeArgs(et.numArgs,et.delimiters);if(et.numArgs){tt=tt.slice();for(var rt=tt.length-1;rt>=0;--rt){var mt=tt[rt];if(mt.text==="#"){if(rt===0)throw new ParseError("Incomplete placeholder at end of macro body",mt);if(mt=tt[--rt],mt.text==="#")tt.splice(rt+1,1);else if(/^[1-9]$/.test(mt.text))tt.splice(rt,2,...nt[+mt.text-1]);else throw new ParseError("Not a valid argument number",mt)}}}return this.pushTokens(tt),tt.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Token(e)]):void 0}expandTokens(e){var o=[],c=this.stack.length;for(this.pushTokens(e);this.stack.length>c;)if(this.expandOnce(!0)===!1){var et=this.stack.pop();et.treatAsRelax&&(et.noexpand=!1,et.treatAsRelax=!1),o.push(et)}return this.countExpansion(o.length),o}expandMacroAsText(e){var o=this.expandMacro(e);return o&&o.map(c=>c.text).join("")}_getExpansion(e){var o=this.macros.get(e);if(o==null)return o;if(e.length===1){var c=this.lexer.catcodes[e];if(c!=null&&c!==13)return}var et=typeof o=="function"?o(this):o;if(typeof et=="string"){var tt=0;if(et.indexOf("#")!==-1)for(var nt=et.replace(/##/g,"");nt.indexOf("#"+(tt+1))!==-1;)++tt;for(var rt=new Lexer(et,this.settings),mt=[],gt=rt.lex();gt.text!=="EOF";)mt.push(gt),gt=rt.lex();mt.reverse();var yt={tokens:mt,numArgs:tt};return yt}return et}isDefined(e){return this.macros.has(e)||functions.hasOwnProperty(e)||symbols.math.hasOwnProperty(e)||symbols.text.hasOwnProperty(e)||implicitCommands.hasOwnProperty(e)}isExpandable(e){var o=this.macros.get(e);return o!=null?typeof o=="string"||typeof o=="function"||!o.unexpandable:functions.hasOwnProperty(e)&&!functions[e].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Parser{constructor(e,o){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(e,o,this.mode),this.settings=o,this.leftrightDepth=0}expect(e,o){if(o===void 0&&(o=!0),this.fetch().text!==e)throw new ParseError("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());o&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var o=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(e);var c=this.parseExpression(!1);return this.expect("}"),this.nextToken=o,c}parseExpression(e,o){for(var c=[];;){this.mode==="math"&&this.consumeSpaces();var et=this.fetch();if(Parser.endOfExpression.indexOf(et.text)!==-1||o&&et.text===o||e&&functions[et.text]&&functions[et.text].infix)break;var tt=this.parseAtom(o);if(tt){if(tt.type==="internal")continue}else break;c.push(tt)}return this.mode==="text"&&this.formLigatures(c),this.handleInfixNodes(c)}handleInfixNodes(e){for(var o=-1,c,et=0;et<e.length;et++)if(e[et].type==="infix"){if(o!==-1)throw new ParseError("only one infix operator per group",e[et].token);o=et,c=e[et].replaceWith}if(o!==-1&&c){var tt,nt,rt=e.slice(0,o),mt=e.slice(o+1);rt.length===1&&rt[0].type==="ordgroup"?tt=rt[0]:tt={type:"ordgroup",mode:this.mode,body:rt},mt.length===1&&mt[0].type==="ordgroup"?nt=mt[0]:nt={type:"ordgroup",mode:this.mode,body:mt};var gt;return c==="\\\\abovefrac"?gt=this.callFunction(c,[tt,e[o],nt],[]):gt=this.callFunction(c,[tt,nt],[]),[gt]}else return e}handleSupSubscript(e){var o=this.fetch(),c=o.text;this.consume(),this.consumeSpaces();var et;do{var tt;et=this.parseGroup(e)}while(((tt=et)==null?void 0:tt.type)==="internal");if(!et)throw new ParseError("Expected group after '"+c+"'",o);return et}formatUnsupportedCmd(e){for(var o=[],c=0;c<e.length;c++)o.push({type:"textord",mode:"text",text:e[c]});var et={type:"text",mode:this.mode,body:o},tt={type:"color",mode:this.mode,color:this.settings.errorColor,body:[et]};return tt}parseAtom(e){var o=this.parseGroup("atom",e);if((o==null?void 0:o.type)==="internal"||this.mode==="text")return o;for(var c,et;;){this.consumeSpaces();var tt=this.fetch();if(tt.text==="\\limits"||tt.text==="\\nolimits"){if(o&&o.type==="op"){var nt=tt.text==="\\limits";o.limits=nt,o.alwaysHandleSupSub=!0}else if(o&&o.type==="operatorname")o.alwaysHandleSupSub&&(o.limits=tt.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",tt);this.consume()}else if(tt.text==="^"){if(c)throw new ParseError("Double superscript",tt);c=this.handleSupSubscript("superscript")}else if(tt.text==="_"){if(et)throw new ParseError("Double subscript",tt);et=this.handleSupSubscript("subscript")}else if(tt.text==="'"){if(c)throw new ParseError("Double superscript",tt);var rt={type:"textord",mode:this.mode,text:"\\prime"},mt=[rt];for(this.consume();this.fetch().text==="'";)mt.push(rt),this.consume();this.fetch().text==="^"&&mt.push(this.handleSupSubscript("superscript")),c={type:"ordgroup",mode:this.mode,body:mt}}else if(uSubsAndSups[tt.text]){var gt=unicodeSubRegEx.test(tt.text),yt=[];for(yt.push(new Token(uSubsAndSups[tt.text])),this.consume();;){var vt=this.fetch().text;if(!uSubsAndSups[vt]||unicodeSubRegEx.test(vt)!==gt)break;yt.unshift(new Token(uSubsAndSups[vt])),this.consume()}var xt=this.subparse(yt);gt?et={type:"ordgroup",mode:"math",body:xt}:c={type:"ordgroup",mode:"math",body:xt}}else break}return c||et?{type:"supsub",mode:this.mode,base:o,sup:c,sub:et}:o}parseFunction(e,o){var c=this.fetch(),et=c.text,tt=functions[et];if(!tt)return null;if(this.consume(),o&&o!=="atom"&&!tt.allowedInArgument)throw new ParseError("Got function '"+et+"' with no arguments"+(o?" as "+o:""),c);if(this.mode==="text"&&!tt.allowedInText)throw new ParseError("Can't use function '"+et+"' in text mode",c);if(this.mode==="math"&&tt.allowedInMath===!1)throw new ParseError("Can't use function '"+et+"' in math mode",c);var{args:nt,optArgs:rt}=this.parseArguments(et,tt);return this.callFunction(et,nt,rt,c,e)}callFunction(e,o,c,et,tt){var nt={funcName:e,parser:this,token:et,breakOnTokenText:tt},rt=functions[e];if(rt&&rt.handler)return rt.handler(nt,o,c);throw new ParseError("No function handler for "+e)}parseArguments(e,o){var c=o.numArgs+o.numOptionalArgs;if(c===0)return{args:[],optArgs:[]};for(var et=[],tt=[],nt=0;nt<c;nt++){var rt=o.argTypes&&o.argTypes[nt],mt=nt<o.numOptionalArgs;(o.primitive&&rt==null||o.type==="sqrt"&&nt===1&&tt[0]==null)&&(rt="primitive");var gt=this.parseGroupOfType("argument to '"+e+"'",rt,mt);if(mt)tt.push(gt);else if(gt!=null)et.push(gt);else throw new ParseError("Null argument, please report this as a bug")}return{args:et,optArgs:tt}}parseGroupOfType(e,o,c){switch(o){case"color":return this.parseColorGroup(c);case"size":return this.parseSizeGroup(c);case"url":return this.parseUrlGroup(c);case"math":case"text":return this.parseArgumentGroup(c,o);case"hbox":{var et=this.parseArgumentGroup(c,"text");return et!=null?{type:"styling",mode:et.mode,body:[et],style:"text"}:null}case"raw":{var tt=this.parseStringGroup("raw",c);return tt!=null?{type:"raw",mode:"text",string:tt.text}:null}case"primitive":{if(c)throw new ParseError("A primitive argument cannot be optional");var nt=this.parseGroup(e);if(nt==null)throw new ParseError("Expected group as "+e,this.fetch());return nt}case"original":case null:case void 0:return this.parseArgumentGroup(c);default:throw new ParseError("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,o){var c=this.gullet.scanArgument(o);if(c==null)return null;for(var et="",tt;(tt=this.fetch()).text!=="EOF";)et+=tt.text,this.consume();return this.consume(),c.text=et,c}parseRegexGroup(e,o){for(var c=this.fetch(),et=c,tt="",nt;(nt=this.fetch()).text!=="EOF"&&e.test(tt+nt.text);)et=nt,tt+=et.text,this.consume();if(tt==="")throw new ParseError("Invalid "+o+": '"+c.text+"'",c);return c.range(et,tt)}parseColorGroup(e){var o=this.parseStringGroup("color",e);if(o==null)return null;var c=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(o.text);if(!c)throw new ParseError("Invalid color: '"+o.text+"'",o);var et=c[0];return/^[0-9a-f]{6}$/i.test(et)&&(et="#"+et),{type:"color-token",mode:this.mode,color:et}}parseSizeGroup(e){var o,c=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?o=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):o=this.parseStringGroup("size",e),!o)return null;!e&&o.text.length===0&&(o.text="0pt",c=!0);var et=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(o.text);if(!et)throw new ParseError("Invalid size: '"+o.text+"'",o);var tt={number:+(et[1]+et[2]),unit:et[3]};if(!validUnit(tt))throw new ParseError("Invalid unit: '"+tt.unit+"'",o);return{type:"size",mode:this.mode,value:tt,isBlank:c}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var o=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),o==null)return null;var c=o.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:c}}parseArgumentGroup(e,o){var c=this.gullet.scanArgument(e);if(c==null)return null;var et=this.mode;o&&this.switchMode(o),this.gullet.beginGroup();var tt=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var nt={type:"ordgroup",mode:this.mode,loc:c.loc,body:tt};return o&&this.switchMode(et),nt}parseGroup(e,o){var c=this.fetch(),et=c.text,tt;if(et==="{"||et==="\\begingroup"){this.consume();var nt=et==="{"?"}":"\\endgroup";this.gullet.beginGroup();var rt=this.parseExpression(!1,nt),mt=this.fetch();this.expect(nt),this.gullet.endGroup(),tt={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(c,mt),body:rt,semisimple:et==="\\begingroup"||void 0}}else if(tt=this.parseFunction(o,e)||this.parseSymbol(),tt==null&&et[0]==="\\"&&!implicitCommands.hasOwnProperty(et)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+et,c);tt=this.formatUnsupportedCmd(et),this.consume()}return tt}formLigatures(e){for(var o=e.length-1,c=0;c<o;++c){var et=e[c],tt=et.text;tt==="-"&&e[c+1].text==="-"&&(c+1<o&&e[c+2].text==="-"?(e.splice(c,3,{type:"textord",mode:"text",loc:SourceLocation.range(et,e[c+2]),text:"---"}),o-=2):(e.splice(c,2,{type:"textord",mode:"text",loc:SourceLocation.range(et,e[c+1]),text:"--"}),o-=1)),(tt==="'"||tt==="`")&&e[c+1].text===tt&&(e.splice(c,2,{type:"textord",mode:"text",loc:SourceLocation.range(et,e[c+1]),text:tt+tt}),o-=1)}}parseSymbol(){var e=this.fetch(),o=e.text;if(/^\\verb[^a-zA-Z]/.test(o)){this.consume();var c=o.slice(5),et=c.charAt(0)==="*";if(et&&(c=c.slice(1)),c.length<2||c.charAt(0)!==c.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return c=c.slice(1,-1),{type:"verb",mode:"text",body:c,star:et}}unicodeSymbols.hasOwnProperty(o[0])&&!symbols[this.mode][o[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+o[0]+'" used in math mode',e),o=unicodeSymbols[o[0]]+o.slice(1));var tt=combiningDiacriticalMarksEndRegex.exec(o);tt&&(o=o.substring(0,tt.index),o==="i"?o="":o==="j"&&(o=""));var nt;if(symbols[this.mode][o]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(o)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+o[0]+'" used in math mode',e);var rt=symbols[this.mode][o].group,mt=SourceLocation.range(e),gt;if(ATOMS.hasOwnProperty(rt)){var yt=rt;gt={type:"atom",mode:this.mode,family:yt,loc:mt,text:o}}else gt={type:rt,mode:this.mode,loc:mt,text:o};nt=gt}else if(o.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(o.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+o[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+o[0]+'"'+(" ("+o.charCodeAt(0)+")"),e)),nt={type:"textord",mode:"text",loc:SourceLocation.range(e),text:o};else return null;if(this.consume(),tt)for(var vt=0;vt<tt[0].length;vt++){var xt=tt[0][vt];if(!unicodeAccents[xt])throw new ParseError("Unknown accent ' "+xt+"'",e);var bt=unicodeAccents[xt][this.mode]||unicodeAccents[xt].text;if(!bt)throw new ParseError("Accent "+xt+" unsupported in "+this.mode+" mode",e);nt={type:"accent",mode:this.mode,loc:SourceLocation.range(e),label:bt,isStretchy:!1,isShifty:!0,base:nt}}return nt}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function(e,o){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var c=new Parser(e,o);delete c.gullet.macros.current["\\df@tag"];var et=c.parse();if(delete c.gullet.macros.current["\\current@color"],delete c.gullet.macros.current["\\color"],c.gullet.macros.get("\\df@tag")){if(!o.displayMode)throw new ParseError("\\tag works only in display equations");et=[{type:"tag",mode:"text",body:et,tag:c.subparse([new Token("\\df@tag")])}]}return et},render=function(e,o,c){o.textContent="";var et=renderToDomTree(e,c).toNode();o.appendChild(et)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function(e,o){var c=renderToDomTree(e,o).toMarkup();return c},generateParseTree=function(e,o){var c=new Settings$1(o);return parseTree(e,c)},renderError=function(e,o,c){if(c.throwOnError||!(e instanceof ParseError))throw e;var et=buildCommon.makeSpan(["katex-error"],[new SymbolNode(o)]);return et.setAttribute("title",e.toString()),et.setAttribute("style","color:"+c.errorColor),et},renderToDomTree=function(e,o){var c=new Settings$1(o);try{var et=parseTree(e,c);return buildTree(et,e,c)}catch(tt){return renderError(tt,e,c)}},renderToHTMLTree=function(e,o){var c=new Settings$1(o);try{var et=parseTree(e,c);return buildHTMLTree(et,e,c)}catch(tt){return renderError(tt,e,c)}},version="0.16.25",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const emptyOptions$1={};function remarkMath(a){const e=this,o=a||emptyOptions$1,c=e.data(),et=c.micromarkExtensions||(c.micromarkExtensions=[]),tt=c.fromMarkdownExtensions||(c.fromMarkdownExtensions=[]),nt=c.toMarkdownExtensions||(c.toMarkdownExtensions=[]);et.push(math$1(o)),tt.push(mathFromMarkdown()),nt.push(mathToMarkdown(o))}const search=/[#.]/g;function parseSelector(a,e){const o=a||"",c={};let et=0,tt,nt;for(;et<o.length;){search.lastIndex=et;const rt=search.exec(o),mt=o.slice(et,rt?rt.index:o.length);mt&&(tt?tt==="#"?c.id=mt:Array.isArray(c.className)?c.className.push(mt):c.className=[mt]:nt=mt,et+=mt.length),rt&&(tt=rt[0],et++)}return{type:"element",tagName:nt||e||"div",properties:c,children:[]}}function createH(a,e,o){const c=o?createAdjustMap(o):void 0;function et(tt,nt,...rt){let mt;if(tt==null){mt={type:"root",children:[]};const gt=nt;rt.unshift(gt)}else{mt=parseSelector(tt,e);const gt=mt.tagName.toLowerCase(),yt=c?c.get(gt):void 0;if(mt.tagName=yt||gt,isChild(nt))rt.unshift(nt);else for(const[vt,xt]of Object.entries(nt))addProperty(a,mt.properties,vt,xt)}for(const gt of rt)addChild(mt.children,gt);return mt.type==="element"&&mt.tagName==="template"&&(mt.content={type:"root",children:mt.children},mt.children=[]),mt}return et}function isChild(a){if(a===null||typeof a!="object"||Array.isArray(a))return!0;if(typeof a.type!="string")return!1;const e=a,o=Object.keys(a);for(const c of o){const et=e[c];if(et&&typeof et=="object"){if(!Array.isArray(et))return!0;const tt=et;for(const nt of tt)if(typeof nt!="number"&&typeof nt!="string")return!0}}return!!("children"in a&&Array.isArray(a.children))}function addProperty(a,e,o,c){const et=find(a,o);let tt;if(c!=null){if(typeof c=="number"){if(Number.isNaN(c))return;tt=c}else typeof c=="boolean"?tt=c:typeof c=="string"?et.spaceSeparated?tt=parse$2(c):et.commaSeparated?tt=parse$3(c):et.commaOrSpaceSeparated?tt=parse$2(parse$3(c).join(" ")):tt=parsePrimitive(et,et.property,c):Array.isArray(c)?tt=[...c]:tt=et.property==="style"?style(c):String(c);if(Array.isArray(tt)){const nt=[];for(const rt of tt)nt.push(parsePrimitive(et,et.property,rt));tt=nt}et.property==="className"&&Array.isArray(e.className)&&(tt=e.className.concat(tt)),e[et.property]=tt}}function addChild(a,e){if(e!=null)if(typeof e=="number"||typeof e=="string")a.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const o of e)addChild(a,o);else if(typeof e=="object"&&"type"in e)e.type==="root"?addChild(a,e.children):a.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function parsePrimitive(a,e,o){if(typeof o=="string"){if(a.number&&o&&!Number.isNaN(Number(o)))return Number(o);if((a.boolean||a.overloadedBoolean)&&(o===""||normalize$1(o)===normalize$1(e)))return!0}return o}function style(a){const e=[];for(const[o,c]of Object.entries(a))e.push([o,c].join(": "));return e.join("; ")}function createAdjustMap(a){const e=new Map;for(const o of a)e.set(o.toLowerCase(),o);return e}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$2,"div"),s$1=createH(svg,"g",svgCaseSensitiveTagNames),webNamespaces={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fromDom(a,e){return transform(a,{})||{type:"root",children:[]}}function transform(a,e){const o=one(a,e);return o&&e.afterTransform&&e.afterTransform(a,o),o}function one(a,e){switch(a.nodeType){case 1:return element$1(a,e);case 3:return text(a);case 8:return comment(a);case 9:return root(a,e);case 10:return doctype();case 11:return root(a,e);default:return}}function root(a,e){return{type:"root",children:all(a,e)}}function doctype(){return{type:"doctype"}}function text(a){return{type:"text",value:a.nodeValue||""}}function comment(a){return{type:"comment",value:a.nodeValue||""}}function element$1(a,e){const o=a.namespaceURI,c=o===webNamespaces.svg?s$1:h,et=o===webNamespaces.html?a.tagName.toLowerCase():a.tagName,tt=o===webNamespaces.html&&et==="template"?a.content:a,nt=a.getAttributeNames(),rt={};let mt=-1;for(;++mt<nt.length;)rt[nt[mt]]=a.getAttribute(nt[mt])||"";return c(et,rt,all(tt,e))}function all(a,e){const o=a.childNodes,c=[];let et=-1;for(;++et<o.length;){const tt=transform(o[et],e);tt!==void 0&&c.push(tt)}return c}new DOMParser;function fromHtmlIsomorphic(a,e){const o=parseFragment(a);return fromDom(o)}function parseFragment(a){const e=document.createElement("template");return e.innerHTML=a,e.content}const findAfter=function(a,e,o){const c=convert(o);if(!a||!a.type||!a.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=a.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<a.children.length;)if(c(a.children[e],e,a))return a.children[e]},convertElement=function(a){if(a==null)return element;if(typeof a=="string")return tagNameFactory(a);if(typeof a=="object")return anyFactory(a);if(typeof a=="function")return castFactory(a);throw new Error("Expected function, string, or array as `test`")};function anyFactory(a){const e=[];let o=-1;for(;++o<a.length;)e[o]=convertElement(a[o]);return castFactory(c);function c(...et){let tt=-1;for(;++tt<e.length;)if(e[tt].apply(this,et))return!0;return!1}}function tagNameFactory(a){return castFactory(e);function e(o){return o.tagName===a}}function castFactory(a){return e;function e(o,c,et){return!!(looksLikeAnElement(o)&&a.call(this,o,typeof c=="number"?c:void 0,et||void 0))}}function element(a){return!!(a&&typeof a=="object"&&"type"in a&&a.type==="element"&&"tagName"in a&&typeof a.tagName=="string")}function looksLikeAnElement(a){return a!==null&&typeof a=="object"&&"type"in a&&"tagName"in a}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(a,e){const o=e||{},c="children"in a?a.children:[],et=blockOrCaption(a),tt=inferWhitespace(a,{whitespace:o.whitespace||"normal",breakBefore:!1,breakAfter:!1}),nt=[];(a.type==="text"||a.type==="comment")&&nt.push(...collectText(a,{whitespace:tt,breakBefore:!0,breakAfter:!0}));let rt=-1;for(;++rt<c.length;)nt.push(...renderedTextCollection(c[rt],a,{whitespace:tt,breakBefore:rt?void 0:et,breakAfter:rt<c.length-1?br(c[rt+1]):et}));const mt=[];let gt;for(rt=-1;++rt<nt.length;){const yt=nt[rt];typeof yt=="number"?gt!==void 0&&yt>gt&&(gt=yt):yt&&(gt!==void 0&&gt>-1&&mt.push(`
`.repeat(gt)||" "),gt=-1,mt.push(yt))}return mt.join("")}function renderedTextCollection(a,e,o){return a.type==="element"?collectElement(a,e,o):a.type==="text"?o.whitespace==="normal"?collectText(a,o):collectPreText(a):[]}function collectElement(a,e,o){const c=inferWhitespace(a,o),et=a.children||[];let tt=-1,nt=[];if(notRendered(a))return nt;let rt,mt;for(br(a)||row(a)&&findAfter(e,a,row)?mt=`
`:p(a)?(rt=2,mt=2):blockOrCaption(a)&&(rt=1,mt=1);++tt<et.length;)nt=nt.concat(renderedTextCollection(et[tt],a,{whitespace:c,breakBefore:tt?void 0:rt,breakAfter:tt<et.length-1?br(et[tt+1]):mt}));return cell(a)&&findAfter(e,a,cell)&&nt.push("	"),rt&&nt.unshift(rt),mt&&nt.push(mt),nt}function collectText(a,e){const o=String(a.value),c=[],et=[];let tt=0;for(;tt<=o.length;){searchLineFeeds.lastIndex=tt;const mt=searchLineFeeds.exec(o),gt=mt&&"index"in mt?mt.index:o.length;c.push(trimAndCollapseSpacesAndTabs(o.slice(tt,gt).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),tt===0?e.breakBefore:!0,gt===o.length?e.breakAfter:!0)),tt=gt+1}let nt=-1,rt;for(;++nt<c.length;)c[nt].charCodeAt(c[nt].length-1)===8203||nt<c.length-1&&c[nt+1].charCodeAt(0)===8203?(et.push(c[nt]),rt=void 0):c[nt]?(typeof rt=="number"&&et.push(rt),et.push(c[nt]),rt=0):(nt===0||nt===c.length-1)&&et.push(0);return et}function collectPreText(a){return[String(a.value)]}function trimAndCollapseSpacesAndTabs(a,e,o){const c=[];let et=0,tt;for(;et<a.length;){searchTabOrSpaces.lastIndex=et;const nt=searchTabOrSpaces.exec(a);tt=nt?nt.index:a.length,!et&&!tt&&nt&&!e&&c.push(""),et!==tt&&c.push(a.slice(et,tt)),et=nt?tt+nt[0].length:tt}return et!==tt&&!o&&c.push(""),c.join(" ")}function inferWhitespace(a,e){if(a.type==="element"){const o=a.properties||{};switch(a.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return o.wrap?"pre-wrap":"pre";case"td":case"th":return o.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function hidden(a){return!!(a.properties||{}).hidden}function isCell(a){return a.tagName==="td"||a.tagName==="th"}function closedDialog(a){return a.tagName==="dialog"&&!(a.properties||{}).open}const emptyOptions={},emptyClasses=[];function rehypeKatex(a){const e=a||emptyOptions;return function(o,c){visitParents(o,"element",function(et,tt){const nt=Array.isArray(et.properties.className)?et.properties.className:emptyClasses,rt=nt.includes("language-math"),mt=nt.includes("math-display"),gt=nt.includes("math-inline");let yt=mt;if(!rt&&!mt&&!gt)return;let vt=tt[tt.length-1],xt=et;if(et.tagName==="code"&&rt&&vt&&vt.type==="element"&&vt.tagName==="pre"&&(xt=vt,vt=tt[tt.length-2],yt=!0),!vt)return;const bt=toText(xt,{whitespace:"pre"});let Et;try{Et=katex.renderToString(bt,{...e,displayMode:yt,throwOnError:!0})}catch(St){const Tt=St,kt=Tt.name.toLowerCase();c.message("Could not render math with KaTeX",{ancestors:[...tt,et],cause:Tt,place:et.position,ruleId:kt,source:"rehype-katex"});try{Et=katex.renderToString(bt,{...e,displayMode:yt,strict:"ignore",throwOnError:!1})}catch{Et=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(St)},children:[{type:"text",value:bt}]}]}}typeof Et=="string"&&(Et=fromHtmlIsomorphic(Et).children);const wt=vt.children.indexOf(xt);return vt.children.splice(wt,1,...Et),SKIP})}}function extractCitationKeysFromMarkdown(a){return new Set(extractCitationKeysInOrder(a))}function extractCitationKeysInOrder(a){const e=[],o=new Set;if(!a)return e;const c=mt=>{mt&&(o.has(mt)||(o.add(mt),e.push(mt)))},et=(mt,gt,yt)=>{const vt=Number(gt),xt=Number(yt);if(!Number.isFinite(vt)||!Number.isFinite(xt))return;const bt=vt<=xt?1:-1;for(let Et=vt;bt>0?Et<=xt:Et>=xt;Et+=bt)c(`${mt}${Et}`)},tt=mt=>{if(!mt)return;const gt=/([LAW])\s*(\d+)(?:\s*[-\u2013\u2014]\s*([LAW])?\s*(\d+))?/g;let yt;for(;(yt=gt.exec(mt))!==null;){const vt=yt[1],xt=yt[2],bt=yt[3]||vt,Et=yt[4];Et&&bt===vt?et(vt,xt,Et):(c(`${vt}${xt}`),Et&&c(`${bt}${Et}`))}},nt=/\[([LAW])(\d+)\]\s*[-\u2013\u2014]\s*\[\1(\d+)\]|\[([^\]]+)\]/g;let rt;for(;(rt=nt.exec(a))!==null;){if(rt[1]&&rt[2]&&rt[3]){et(rt[1],rt[2],rt[3]);continue}const mt=rt[4];tt(mt)}return e}function normalizeLooseLists(a){if(!a)return"";let e=a;return e=e.replace(/\n[ \t]+\n/g,`

`),e=e.replace(/\n{3,}/g,`

`),e=e.replace(/\n{2,}(?=\d+\.\s)/g,`
`),e=e.replace(/\n{2,}(?=-\s)/g,`
`),e}function normalizeMarkdown(a){if(!a)return"";let e=normalizeMathDelimiters(a);return e=normalizeLooseLists(e),e}function normalizeMathDelimiters(a){if(!a)return"";const e=c=>c.replace(/\|/g,"\\vert ");let o=a;return o=o.replace(/\\{1,2}\[([\s\S]*?)\\{1,2}\]/g,(c,et)=>`

$$
${e(et.trim())}
$$

`),o=o.replace(/\\{1,2}\(([\s\S]*?)\\{1,2}\)/g,(c,et)=>`$${e(et.trim())}$`),o}function stripOpenAIUtmParams(a){return!a||typeof a!="string"?a:a.replace(/\?utm_source=openai/g,"")}function normalizeSourceDescriptor(a,e){if(!a)return null;if(typeof a=="string"){const tt=a.trim();if(/^https?:\/\//i.test(tt)){let rt=tt;try{rt=new URL(tt).hostname.replace(/^www\./,"")}catch{}return{id:`s-${e}`,sourceType:"web",url:tt,title:tt,site:rt,displayLabel:rt,citationKey:null}}return{id:`s-${e}`,sourceType:"other",title:tt,displayLabel:tt,citationKey:null}}const o={...a},c=a.sourceType||a.kind||a.type||(a.url?"web":"library"),et=a.citationKey||a.label||a.key||null;if(o.id||(o.id=a.id||a.sourceId||a.chunkId||a.key||`s-${e}`),c==="web"){const tt=a.url||a.href||null,nt=tt?stripOpenAIUtmParams(tt):null;let rt=a.site||null;if(!rt&&nt)try{rt=new URL(nt).hostname.replace(/^www\./,"")}catch{}const mt=a.snippet||a.chunkText||a.text||"",gt=stripOpenAIUtmParams(mt);return{...o,sourceType:"web",citationKey:et,url:nt,site:rt,title:a.title||a.key||nt||"Web reference",snippet:gt,chunkText:gt,displayLabel:a.title||rt||"Web"}}if(c==="library"){const tt=a.bookTitle||a.sourceTitle||a.title||"Library source";return{...o,sourceType:"library",citationKey:et,bookTitle:tt,pageNumber:a.pageNumber??null,chunkText:a.chunkText||a.text||a.snippet||"",downloadUrl:a.downloadUrl||null,displayLabel:tt+(a.pageNumber!=null?` (p. ${a.pageNumber})`:"")}}if(c==="attachment"){const tt=a.title||"Attachment";return{...o,sourceType:"attachment",citationKey:et,title:tt,chunkText:a.excerpt||a.text||a.snippet||"",downloadUrl:a.downloadUrl||null,displayLabel:a.label||a.key||tt}}return{...o,sourceType:c,citationKey:et,displayLabel:a.title||a.key||"Source"}}const ModalOverlay$2=pt.div`
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.6);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 40;
`,ModalCard$2=pt.div`
  background: #020617;
  border-radius: 16px;
  border: 1px solid #1f2937;
  padding: 24px 28px;
  width: 100%;
  max-width: ${({$wide:a})=>a?"720px":"420px"};
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.45);
`,ModalTitle$2=pt.h2`
  margin: 0;
  font-size: 20px;
  font-weight: 600;
  color: #e5e7eb;

  /* NEW: prevent long strings from overflowing the card */
  max-width: 100%;
  overflow-wrap: anywhere;
  word-break: break-word;
`,ModalSubtitle$1=pt.p`
  margin: 6px 0 16px;
  font-size: 15px;
  color: #9ca3af;

  /* NEW: prevent long filenames from overflowing the card */
  max-width: 100%;
  overflow-wrap: anywhere;
  word-break: break-word;
`,ModalActions$2=pt.div`
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 6px;
`,ModalSecondaryButton$1=pt.button`
  border: none;
  border-radius: 999px;
  padding: 6px 14px;
  font-size: 15px; /* was 13px */
  background: transparent;
  color: #9ca3af;
  cursor: pointer;

  &:hover {
    background: #303030;
  }
`,ModalPrimaryButton$1=pt.button`
  border-radius: 999px;
  padding: 6px 16px;
  font-size: 15px; /* was 13px */
  background: #ffffff;
  color: #000000;
  border: 1px solid #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #f3f4f6;
  }

  &:disabled {
    opacity: 0.5;
    cursor: default;
  }
`;pt.button`
  border: none;
  border-radius: 999px;
  padding: 4px 10px; //
  font-size: 14px; /* was 12px */
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: #303030;
  color: #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #1f2937;
  }

  &:disabled {
    opacity: 0.5;
    cursor: default;
  }
`;pt.button`
  width: 100%;
  border: none;
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 15px;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  background: ${a=>a.$active?"#303030":"transparent"};
  color: #e5e7eb;
  min-width: 0;
  position: relative; /* allow absolute three dot button */

  &:hover {
    background: #303030;
  }

  svg {
    flex-shrink: 0;
  }
`;ft`
  to {
    transform: rotate(360deg);
  }
`;pt.div`
  font-size: 14px;
  color: #9ca3af;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 2px;
`;pt.button`
  width: 100%;
  border: none;
  border-radius: 6px;
  padding: 4px 8px;
  font-size: 14px;
  text-align: left;
  background: ${a=>a.$active?"#303030":"transparent"};
  color: ${a=>a.$active?"#e5e7eb":"#9ca3af"};
  cursor: pointer;

  /* IMPORTANT: make it flex so we can control child width */
  display: flex;
  align-items: center;
  position: relative; /* for the three-dot button */

  &:hover {
    background: #303030;
    color: #e5e7eb;
  }
`;pt.button`
  width: 100%;
  border: none;
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 15px;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  background: ${a=>a.$active?"#303030":"transparent"};
  color: #e5e7eb;
  min-width: 0;
  position: relative;

  &:hover {
    background: #303030;
  }

  svg {
    flex-shrink: 0;
  }
`;pt.div`
  display: inline-block;
  max-width: 100%;
  padding: 10px 12px;
  border-radius: 14px;
  font-size: 17px;
  background: ${a=>a.$role==="user"?"#303030":"transparent"};
  color: #e5e7eb;
  word-wrap: break-word;
  overflow-wrap: break-word;
  line-height: 1.6;

  /* key change */
  white-space: ${a=>a.$role==="user"?"pre-wrap":"normal"};
`;ft`
  0%, 100% { opacity: 0.4; transform: translateY(0); }
  50% { opacity: 1; transform: translateY(-1px); }
`;pt.div`
  position: absolute;
  width: 260px;
  background: #303030;
  border-radius: 16px;
  border: 1px solid #424242;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
  padding: 6px 0;
  z-index: 30;

  ${a=>a.$direction==="down"?`
        top: 48px;
        left: 0;
      `:`
        bottom: 48px;
        left: 0;
      `}
`;pt.button`
  width: 100%;
  border: none;
  background: transparent;
  padding: 8px 14px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #333333;
  }

  svg {
    flex-shrink: 0;
  }
`;const MarkdownWrapper=pt.div`
  /* Base typography */
  font-size: 17px;
  line-height: 1.6;

  /* Give every direct block a little breathing room */
  & > * {
    margin: 0 0 10px 0;
  }
  & > *:last-child {
    margin-bottom: 0;
  }

  /* Paragraphs */
  & p {
    margin: 0 0 12px 0;
  }

  /* Headings */
  & h1,
  & h2,
  & h3,
  & h4,
  & h5,
  & h6 {
    font-weight: 600;
    margin: 14px 0 8px 0;
    line-height: 1.3;
  }

  & h1:first-child,
  & h2:first-child,
  & h3:first-child {
    margin-top: 0;
  }

  /* Title scale */
  & h1 {
    font-size: 1.55rem;
  }
  & h2 {
    font-size: 1.32rem;
  }
  & h3 {
    font-size: 1.25rem;
  } /* <-- this makes "Clinical Summary" bigger */
  & h4 {
    font-size: 1.08rem;
  }
  & h5 {
    font-size: 1.02rem;
  }
  & h6 {
    font-size: 0.98rem;
  }

  /* Lists */
  & ul,
  & ol {
    margin: 8px 0 10px 0;
    padding-left: 1.4rem;
  }
  & li {
    margin: 4px 0;
  }

  /* Links */
  & a {
    color: #93c5fd;
    text-decoration: underline;
  }

  /* Blockquote */
  & blockquote {
    border-left: 3px solid #4b5563;
    margin: 12px 0;
    padding-left: 10px;
    color: #9ca3af;
    font-style: italic;
  }

  /* Horizontal rule */
  & hr {
    border: none;
    border-top: 1px solid #374151;
    margin: 14px 0;
  }

  /* Inline code */
  & code {
    background: #020617;
    padding: 2px 4px;
    border-radius: 4px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      "Liberation Mono", "Courier New", monospace;
    font-size: 0.9em;
  }

  /* Code blocks */
  & pre {
    background: #171717;
    padding: 10px 12px;
    border-radius: 8px;
    overflow-x: auto;
    margin: 12px 0;
    font-size: 0.92em;
  }
  & pre code {
    background: transparent;
    padding: 0;
  }

  /* Tables */
  & table {
    border-collapse: collapse;
    width: 100%;
    font-size: 0.95em;
    margin: 12px 0;
  }
  & th,
  & td {
    border: 1px solid #374151;
    padding: 6px 8px;
    vertical-align: top;
  }
  & th {
    background: #111827;
    font-weight: 600;
  }
  /* Math (KaTeX) */
  & .katex-display {
    margin: 25px 0; // 25px top/bottom for display math
  }

  /* Optional: give inline math a tiny breathing room */
  & .katex {
    line-height: 1.4;
  }
`,ModalMarkdownWrapper=pt(MarkdownWrapper)`
  font-size: 15px;
`,CodeBlock=pt.div`
  margin: 8px 0 10px;
  border-radius: 8px;
  background-color: #171717;
  overflow: hidden;
`,CodeHeader=pt.div`
  padding: 6px 10px;
  font-size: 0.75rem;
  color: #9ca3af;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #222222;
`,SourcesRow=pt.div`
  margin-top: 8px;
  font-size: 0.8rem;
  color: #9ca3af;
  border-top: 1px solid #374151;
  padding-top: 6px;

  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
`,SourcesLabel=pt.span`
  font-weight: 500;
  margin-right: 4px;
`,SourcePills=pt.div`
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
`,SourcePill=pt.button`
  border: none;
  border-radius: 999px;
  padding: 4px 8px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: #111827;
  color: #e5e7eb;
  font-size: 12px;
  cursor: pointer;

  &:hover {
    background: #1f2937;
  }

  svg {
    flex-shrink: 0;
  }
`,SourceChunkBody=pt.div`
  margin-top: 10px;
  max-height: 360px;
  overflow-y: auto;
  font-size: 14px;
  color: #f5f5f5;
  text-align: left;

  /* key change */
  white-space: normal;

  a {
    color: #4ea3ff;
    text-decoration: underline;
  }
`,CitationBadge=pt.span`
  font-size: 12px;
  font-weight: 700;
  line-height: 1;
  padding: 2px 6px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.16);
  color: #e5e7eb;
`;function AssistantMessageBubble({message:a}){const{content:e,sources:o}=a||{},c=normalizeMarkdown(e||"");console.log("Normalized assistant message content:",JSON.stringify(c,null,2));const[et,tt]=reactExports.useState(null),nt=extractCitationKeysFromMarkdown(c),rt=extractCitationKeysInOrder(c),mt=new Map(rt.map((bt,Et)=>[bt,Et])),gt=nt.size>0,vt=(Array.isArray(o)?o.map((bt,Et)=>normalizeSourceDescriptor(bt,Et)).filter(Boolean):[]).filter(bt=>!bt||!gt||!bt.citationKey?!1:nt.has(bt.citationKey)).sort((bt,Et)=>{const wt=mt.has(bt.citationKey)?mt.get(bt.citationKey):9999,St=mt.has(Et.citationKey)?mt.get(Et.citationKey):9999;return wt-St}),xt=bt=>{if(bt){if(bt.sourceType==="web"&&bt.url){window.open(bt.url,"_blank","noopener,noreferrer");return}if(bt.sourceType==="library"||bt.sourceType==="attachment"||bt.sourceType==="web"&&!bt.url){tt(bt);return}bt.url&&window.open(bt.url,"_blank","noopener,noreferrer")}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MarkdownWrapper,{children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],components:{code({node:bt,inline:Et,className:wt,children:St,...Tt}){const kt=/language-(\w+)/.exec(wt||""),_t=kt==null?void 0:kt[1];return Et?jsxRuntimeExports.jsx("code",{...Tt,children:St}):jsxRuntimeExports.jsxs(CodeBlock,{children:[jsxRuntimeExports.jsx(CodeHeader,{children:jsxRuntimeExports.jsx("span",{children:_t||"code"})}),jsxRuntimeExports.jsx("pre",{children:jsxRuntimeExports.jsx("code",{...Tt,children:St})})]})}},children:c})}),vt.length>0&&jsxRuntimeExports.jsxs(SourcesRow,{children:[jsxRuntimeExports.jsx(SourcesLabel,{children:"References"}),jsxRuntimeExports.jsx(SourcePills,{children:vt.map(bt=>jsxRuntimeExports.jsxs(SourcePill,{type:"button",onClick:()=>xt(bt),title:`${bt.citationKey||""} ${bt.sourceType==="library"?bt.bookTitle:bt.title||bt.url||bt.displayLabel}`.trim(),children:[jsxRuntimeExports.jsx(CitationBadge,{children:bt.citationKey}),bt.sourceType==="web"?jsxRuntimeExports.jsx(FiGlobe,{size:12}):jsxRuntimeExports.jsx(FiFileText,{size:12}),jsxRuntimeExports.jsx("span",{children:bt.displayLabel})]},bt.id))})]}),et&&(et.sourceType==="library"||et.sourceType==="attachment"||et.sourceType==="web"&&!et.url)&&jsxRuntimeExports.jsx(ModalOverlay$2,{onClick:()=>{tt(null)},children:jsxRuntimeExports.jsxs(ModalCard$2,{onClick:bt=>{bt.stopPropagation()},children:[jsxRuntimeExports.jsx(ModalTitle$2,{children:et.bookTitle||et.title||et.site||"Reference"}),et.pageNumber!=null&&jsxRuntimeExports.jsxs(ModalSubtitle$1,{children:["Page ",et.pageNumber]}),jsxRuntimeExports.jsx(SourceChunkBody,{children:(()=>{const bt=et.chunkText||et.text||et.snippet||"No text snippet is available for this reference.",Et=stripOpenAIUtmParams(bt),wt=normalizeLooseLists(Et);return jsxRuntimeExports.jsx(ModalMarkdownWrapper,{children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],components:{a:({node:St,...Tt})=>jsxRuntimeExports.jsx("a",{...Tt,target:"_blank",rel:"noopener noreferrer"})},children:wt})})})()}),jsxRuntimeExports.jsxs(ModalActions$2,{children:[et.downloadUrl&&jsxRuntimeExports.jsx(ModalPrimaryButton$1,{type:"button",onClick:()=>window.open(et.downloadUrl,"_blank","noopener,noreferrer"),children:"Open PDF"}),jsxRuntimeExports.jsx(ModalSecondaryButton$1,{type:"button",onClick:()=>tt(null),children:"Close"})]})]})})]})}function useClickOutside(a,e,o=!0){reactExports.useEffect(()=>{if(!o)return;const c=et=>{const tt=a==null?void 0:a.current;tt&&(tt.contains(et.target)||e==null||e(et))};return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0)}},[a,e,o])}function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var path2dPolyfill_esm={},hasRequiredPath2dPolyfill_esm;function requirePath2dPolyfill_esm(){if(hasRequiredPath2dPolyfill_esm)return path2dPolyfill_esm;hasRequiredPath2dPolyfill_esm=1;function a(Et,wt,St){for(var Tt=0,kt=wt.length,_t;Tt<kt;Tt++)(_t||!(Tt in wt))&&(_t||(_t=Array.prototype.slice.call(wt,0,Tt)),_t[Tt]=wt[Tt]);return Et.concat(_t||Array.prototype.slice.call(wt))}var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=/([astvzqmhlc])([^astvzqmhlc]*)/gi,c=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function et(Et){var wt=Et.match(c);return wt?wt.map(Number):[]}function tt(Et){var wt=[],St=String(Et).trim();return St[0]!=="M"&&St[0]!=="m"||St.replace(o,function(Tt,kt,_t){var Mt=et(_t),Pt=kt.toLowerCase(),It=kt;if(Pt==="m"&&Mt.length>2&&(wt.push(a([It],Mt.splice(0,2))),Pt="l",It=It==="m"?"l":"L"),Mt.length<e[Pt])return"";for(wt.push(a([It],Mt.splice(0,e[Pt])));Mt.length>=e[Pt]&&Mt.length&&e[Pt];)wt.push(a([It],Mt.splice(0,e[Pt])));return""}),wt}function nt(Et,wt){var St=Et.x*Math.cos(wt)-Et.y*Math.sin(wt),Tt=Et.y*Math.cos(wt)+Et.x*Math.sin(wt);Et.x=St,Et.y=Tt}function rt(Et,wt,St){Et.x+=wt,Et.y+=St}function mt(Et,wt){Et.x*=wt,Et.y*=wt}var gt=function(){function Et(wt){var St;this.commands=[],wt&&wt instanceof Et?(St=this.commands).push.apply(St,wt.commands):wt&&(this.commands=tt(wt))}return Et.prototype.addPath=function(wt){var St;wt&&wt instanceof Et&&(St=this.commands).push.apply(St,wt.commands)},Et.prototype.moveTo=function(wt,St){this.commands.push(["M",wt,St])},Et.prototype.lineTo=function(wt,St){this.commands.push(["L",wt,St])},Et.prototype.arc=function(wt,St,Tt,kt,_t,Mt){this.commands.push(["AC",wt,St,Tt,kt,_t,!!Mt])},Et.prototype.arcTo=function(wt,St,Tt,kt,_t){this.commands.push(["AT",wt,St,Tt,kt,_t])},Et.prototype.ellipse=function(wt,St,Tt,kt,_t,Mt,Pt,It){this.commands.push(["E",wt,St,Tt,kt,_t,Mt,Pt,!!It])},Et.prototype.closePath=function(){this.commands.push(["Z"])},Et.prototype.bezierCurveTo=function(wt,St,Tt,kt,_t,Mt){this.commands.push(["C",wt,St,Tt,kt,_t,Mt])},Et.prototype.quadraticCurveTo=function(wt,St,Tt,kt){this.commands.push(["Q",wt,St,Tt,kt])},Et.prototype.rect=function(wt,St,Tt,kt){this.commands.push(["R",wt,St,Tt,kt])},Et.prototype.roundRect=function(wt,St,Tt,kt,_t){typeof _t>"u"?this.commands.push(["RR",wt,St,Tt,kt,0]):this.commands.push(["RR",wt,St,Tt,kt,_t])},Et}();function yt(Et,wt){var St=0,Tt=0,kt,_t,Mt,Pt,It,Dt,Ct,At,Lt,jt,Bt,zt,Yt,en,rn,on,Zt,an,Xt,yn,vn,Nt=null,$t=null,Ot=null,Ft=null,Ut=null,Gt=null;Et.beginPath();for(var Vt=0;Vt<wt.length;++Vt){an=wt[Vt][0],an!=="S"&&an!=="s"&&an!=="C"&&an!=="c"&&(Nt=null,$t=null),an!=="T"&&an!=="t"&&an!=="Q"&&an!=="q"&&(Ot=null,Ft=null);var Kt=void 0;switch(an){case"m":case"M":Kt=wt[Vt],an==="m"?(St+=Kt[1],Tt+=Kt[2]):(St=Kt[1],Tt=Kt[2]),(an==="M"||!Ut)&&(Ut={x:St,y:Tt}),Et.moveTo(St,Tt);break;case"l":Kt=wt[Vt],St+=Kt[1],Tt+=Kt[2],Et.lineTo(St,Tt);break;case"L":Kt=wt[Vt],St=Kt[1],Tt=Kt[2],Et.lineTo(St,Tt);break;case"H":Kt=wt[Vt],St=Kt[1],Et.lineTo(St,Tt);break;case"h":Kt=wt[Vt],St+=Kt[1],Et.lineTo(St,Tt);break;case"V":Kt=wt[Vt],Tt=Kt[1],Et.lineTo(St,Tt);break;case"v":Kt=wt[Vt],Tt+=Kt[1],Et.lineTo(St,Tt);break;case"a":case"A":if(Kt=wt[Vt],Gt===null)throw new Error("This should never happen");an==="a"?(St+=Kt[6],Tt+=Kt[7]):(St=Kt[6],Tt=Kt[7]),en=Kt[1],rn=Kt[2],Ct=Kt[3]*Math.PI/180,Mt=!!Kt[4],Pt=!!Kt[5],It={x:St,y:Tt},Dt={x:(Gt.x-It.x)/2,y:(Gt.y-It.y)/2},nt(Dt,-Ct),At=Dt.x*Dt.x/(en*en)+Dt.y*Dt.y/(rn*rn),At>1&&(At=Math.sqrt(At),en*=At,rn*=At),Xt={x:en*Dt.y/rn,y:-(rn*Dt.x)/en},Lt=en*en*rn*rn,jt=en*en*Dt.y*Dt.y+rn*rn*Dt.x*Dt.x,Pt!==Mt?mt(Xt,Math.sqrt((Lt-jt)/jt)||0):mt(Xt,-Math.sqrt((Lt-jt)/jt)||0),_t=Math.atan2((Dt.y-Xt.y)/rn,(Dt.x-Xt.x)/en),kt=Math.atan2(-(Dt.y+Xt.y)/rn,-(Dt.x+Xt.x)/en),nt(Xt,Ct),rt(Xt,(It.x+Gt.x)/2,(It.y+Gt.y)/2),Et.save(),Et.translate(Xt.x,Xt.y),Et.rotate(Ct),Et.scale(en,rn),Et.arc(0,0,1,_t,kt,!Pt),Et.restore();break;case"C":Kt=wt[Vt],Nt=Kt[3],$t=Kt[4],St=Kt[5],Tt=Kt[6],Et.bezierCurveTo(Kt[1],Kt[2],Nt,$t,St,Tt);break;case"c":Kt=wt[Vt],Et.bezierCurveTo(Kt[1]+St,Kt[2]+Tt,Kt[3]+St,Kt[4]+Tt,Kt[5]+St,Kt[6]+Tt),Nt=Kt[3]+St,$t=Kt[4]+Tt,St+=Kt[5],Tt+=Kt[6];break;case"S":Kt=wt[Vt],(Nt===null||$t===null)&&(Nt=St,$t=Tt),Et.bezierCurveTo(2*St-Nt,2*Tt-$t,Kt[1],Kt[2],Kt[3],Kt[4]),Nt=Kt[1],$t=Kt[2],St=Kt[3],Tt=Kt[4];break;case"s":Kt=wt[Vt],(Nt===null||$t===null)&&(Nt=St,$t=Tt),Et.bezierCurveTo(2*St-Nt,2*Tt-$t,Kt[1]+St,Kt[2]+Tt,Kt[3]+St,Kt[4]+Tt),Nt=Kt[1]+St,$t=Kt[2]+Tt,St+=Kt[3],Tt+=Kt[4];break;case"Q":Kt=wt[Vt],Ot=Kt[1],Ft=Kt[2],St=Kt[3],Tt=Kt[4],Et.quadraticCurveTo(Ot,Ft,St,Tt);break;case"q":Kt=wt[Vt],Ot=Kt[1]+St,Ft=Kt[2]+Tt,St+=Kt[3],Tt+=Kt[4],Et.quadraticCurveTo(Ot,Ft,St,Tt);break;case"T":Kt=wt[Vt],(Ot===null||Ft===null)&&(Ot=St,Ft=Tt),Ot=2*St-Ot,Ft=2*Tt-Ft,St=Kt[1],Tt=Kt[2],Et.quadraticCurveTo(Ot,Ft,St,Tt);break;case"t":Kt=wt[Vt],(Ot===null||Ft===null)&&(Ot=St,Ft=Tt),Ot=2*St-Ot,Ft=2*Tt-Ft,St+=Kt[1],Tt+=Kt[2],Et.quadraticCurveTo(Ot,Ft,St,Tt);break;case"z":case"Z":Ut&&(St=Ut.x,Tt=Ut.y),Ut=null,Et.closePath();break;case"AC":Kt=wt[Vt],St=Kt[1],Tt=Kt[2],Yt=Kt[3],_t=Kt[4],kt=Kt[5],yn=Kt[6],Et.arc(St,Tt,Yt,_t,kt,yn);break;case"AT":Kt=wt[Vt],Bt=Kt[1],zt=Kt[2],St=Kt[3],Tt=Kt[4],Yt=Kt[5],Et.arcTo(Bt,zt,St,Tt,Yt);break;case"E":Kt=wt[Vt],St=Kt[1],Tt=Kt[2],en=Kt[3],rn=Kt[4],Ct=Kt[5],_t=Kt[6],kt=Kt[7],yn=Kt[8],Et.save(),Et.translate(St,Tt),Et.rotate(Ct),Et.scale(en,rn),Et.arc(0,0,1,_t,kt,yn),Et.restore();break;case"R":Kt=wt[Vt],St=Kt[1],Tt=Kt[2],on=Kt[3],Zt=Kt[4],Ut={x:St,y:Tt},Et.rect(St,Tt,on,Zt);break;case"RR":Kt=wt[Vt],St=Kt[1],Tt=Kt[2],on=Kt[3],Zt=Kt[4],vn=Kt[5],Ut={x:St,y:Tt},Et.roundRect(St,Tt,on,Zt,vn);break}Gt?(Gt.x=St,Gt.y=Tt):Gt={x:St,y:Tt}}}function vt(Et){if(!(!Et||!Et.CanvasRenderingContext2D||Et.Path2D)){var wt=Et.CanvasRenderingContext2D,St=wt.prototype.fill,Tt=wt.prototype.stroke,kt=wt.prototype.isPointInPath;wt.prototype.fill=function(){for(var Mt=[],Pt=0;Pt<arguments.length;Pt++)Mt[Pt]=arguments[Pt];if(Mt[0]instanceof gt){var It=Mt[0],Dt=Mt[1]||"nonzero";yt(this,It.commands),St.apply(this,[Dt])}else{var Dt=Mt[0]||"nonzero";return St.apply(this,[Dt])}},wt.prototype.stroke=function(Mt){Mt&&yt(this,Mt.commands),Tt.apply(this)},wt.prototype.isPointInPath=function(){for(var Mt=[],Pt=0;Pt<arguments.length;Pt++)Mt[Pt]=arguments[Pt];if(Mt[0]instanceof gt){var It=Mt[0],Dt=Mt[1],Ct=Mt[2],At=Mt[3]||"nonzero";return yt(this,It.commands),kt.apply(this,[Dt,Ct,At])}else return kt.apply(this,Mt)},Et.Path2D=gt}}function xt(Et,wt,St,Tt,kt){var _t=this;if(kt===void 0&&(kt=0),typeof kt=="number"&&(kt=[kt]),Array.isArray(kt)){if(kt.length===0||kt.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(kt.length," radii provided. Between one and four radii are necessary."));kt.forEach(function(At){if(At<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(_t.constructor.name,"': Radius value ").concat(At," is negative."))})}else return;if(kt.length===1&&kt[0]===0)return this.rect(Et,wt,St,Tt);var Mt=Math.min(St,Tt)/2,Pt,It,Dt,Ct=Pt=It=Dt=Math.min(Mt,kt[0]);kt.length===2&&(Pt=Dt=Math.min(Mt,kt[1])),kt.length===3&&(Pt=Dt=Math.min(Mt,kt[1]),It=Math.min(Mt,kt[2])),kt.length===4&&(Pt=Math.min(Mt,kt[1]),It=Math.min(Mt,kt[2]),Dt=Math.min(Mt,kt[3])),this.moveTo(Et,wt+Tt-Dt),this.arcTo(Et,wt,Et+Ct,wt,Ct),this.arcTo(Et+St,wt,Et+St,wt+Pt,Pt),this.arcTo(Et+St,wt+Tt,Et+St-It,wt+Tt,It),this.arcTo(Et,wt+Tt,Et,wt+Tt-Dt,Dt),this.moveTo(Et,wt)}function bt(Et){if(!(!Et||!Et.CanvasRenderingContext2D)){var wt=Et.CanvasRenderingContext2D,St=Et.Path2D;wt&&!wt.prototype.roundRect&&(wt.prototype.roundRect=xt),St&&!St.prototype.roundRect&&(St.prototype.roundRect=xt)}}return vt(window),bt(window),path2dPolyfill_esm}(function(module,exports){(function(e,o){module.exports=e.pdfjsLib=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(a,e,o)=>{var lr;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Xt,e.bytesToString=nn,e.createValidAbsoluteUrl=vn,e.getModificationDate=Kn,e.getUuid=Xn,e.getVerbosityLevel=rn,e.info=on,e.isArrayBuffer=pn,e.isArrayEqual=Rn,e.isNodeJS=void 0,e.normalizeUnicode=Qn,e.objectFromMap=In,e.objectSize=fn,e.setVerbosityLevel=en,e.shadow=Nt,e.string32=gn,e.stringToBytes=sn,e.stringToPDFString=xn,e.stringToUTF8String=wn,e.unreachable=an,e.utf8StringToString=jn,e.warn=Zt,o(2),o(84),o(86),o(87),o(89),o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123);const c=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=c;const et=[1,0,0,1,0,0];e.IDENTITY_MATRIX=et;const tt=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=tt;const nt=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=nt;const rt=1.35;e.LINE_FACTOR=rt;const mt=.35;e.LINE_DESCENT_FACTOR=mt;const gt=mt/rt;e.BASELINE_FACTOR=gt;const yt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=yt;const vt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=vt;const xt="pdfjs_internal_editor_";e.AnnotationEditorPrefix=xt;const bt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=bt;const Et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=Et;const wt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=wt;const St={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=St;const Tt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=Tt;const kt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=kt;const _t={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=_t;const Mt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=Mt;const Pt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=Pt;const It={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=It;const Dt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=Dt;const Ct={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=Ct;const At={O:"PageOpen",C:"PageClose"};e.PageActionEventType=At;const Lt={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=Lt;const jt={NONE:0,BINARY:1};e.CMapCompressionType=jt;const Bt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=Bt;const zt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=zt;let Yt=Lt.WARNINGS;function en(Un){Number.isInteger(Un)&&(Yt=Un)}function rn(){return Yt}function on(Un){Yt>=Lt.INFOS&&console.log(`Info: ${Un}`)}function Zt(Un){Yt>=Lt.WARNINGS&&console.log(`Warning: ${Un}`)}function an(Un){throw new Error(Un)}function Xt(Un,En){Un||an(En)}function yn(Un){switch(Un==null?void 0:Un.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function vn(Un){let En=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,mn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Un)return null;try{if(mn&&typeof Un=="string"){if(mn.addDefaultProtocol&&Un.startsWith("www.")){const gr=Un.match(/\./g);(gr==null?void 0:gr.length)>=2&&(Un=`http://${Un}`)}if(mn.tryConvertEncoding)try{Un=wn(Un)}catch{}}const Fn=En?new URL(Un,En):new URL(Un);if(yn(Fn))return Fn}catch{}return null}function Nt(Un,En,mn){let Fn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(Un,En,{value:mn,enumerable:!Fn,configurable:!0,writable:!1}),mn}const $t=function(){function En(mn,Fn){this.constructor===En&&an("Cannot initialize BaseException."),this.message=mn,this.name=Fn}return En.prototype=new Error,En.constructor=En,En}();e.BaseException=$t;class Ot extends $t{constructor(En,mn){super(En,"PasswordException"),this.code=mn}}e.PasswordException=Ot;class Ft extends $t{constructor(En,mn){super(En,"UnknownErrorException"),this.details=mn}}e.UnknownErrorException=Ft;class Ut extends $t{constructor(En){super(En,"InvalidPDFException")}}e.InvalidPDFException=Ut;class Gt extends $t{constructor(En){super(En,"MissingPDFException")}}e.MissingPDFException=Gt;class Vt extends $t{constructor(En,mn){super(En,"UnexpectedResponseException"),this.status=mn}}e.UnexpectedResponseException=Vt;class Kt extends $t{constructor(En){super(En,"FormatError")}}e.FormatError=Kt;class Jt extends $t{constructor(En){super(En,"AbortException")}}e.AbortException=Jt;function nn(Un){(typeof Un!="object"||(Un==null?void 0:Un.length)===void 0)&&an("Invalid argument for bytesToString");const En=Un.length,mn=8192;if(En<mn)return String.fromCharCode.apply(null,Un);const Fn=[];for(let gr=0;gr<En;gr+=mn){const Ln=Math.min(gr+mn,En),dn=Un.subarray(gr,Ln);Fn.push(String.fromCharCode.apply(null,dn))}return Fn.join("")}function sn(Un){typeof Un!="string"&&an("Invalid argument for stringToBytes");const En=Un.length,mn=new Uint8Array(En);for(let Fn=0;Fn<En;++Fn)mn[Fn]=Un.charCodeAt(Fn)&255;return mn}function gn(Un){return String.fromCharCode(Un>>24&255,Un>>16&255,Un>>8&255,Un&255)}function fn(Un){return Object.keys(Un).length}function In(Un){const En=Object.create(null);for(const[mn,Fn]of Un)En[mn]=Fn;return En}function Dn(){const Un=new Uint8Array(4);return Un[0]=1,new Uint32Array(Un.buffer,0,1)[0]===1}function Gn(){try{return new Function(""),!0}catch{return!1}}class rr{static get isLittleEndian(){return Nt(this,"isLittleEndian",Dn())}static get isEvalSupported(){return Nt(this,"isEvalSupported",Gn())}static get isOffscreenCanvasSupported(){return Nt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Nt(this,"platform",{isWin:!1,isMac:!1}):Nt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var En,mn;return Nt(this,"isCSSRoundSupported",(mn=(En=globalThis.CSS)==null?void 0:En.supports)==null?void 0:mn.call(En,"width: round(1.5px, 1px)"))}}e.FeatureTest=rr;const Bn=[...Array(256).keys()].map(Un=>Un.toString(16).padStart(2,"0"));class An{static makeHexColor(En,mn,Fn){return`#${Bn[En]}${Bn[mn]}${Bn[Fn]}`}static scaleMinMax(En,mn){let Fn;En[0]?(En[0]<0&&(Fn=mn[0],mn[0]=mn[1],mn[1]=Fn),mn[0]*=En[0],mn[1]*=En[0],En[3]<0&&(Fn=mn[2],mn[2]=mn[3],mn[3]=Fn),mn[2]*=En[3],mn[3]*=En[3]):(Fn=mn[0],mn[0]=mn[2],mn[2]=Fn,Fn=mn[1],mn[1]=mn[3],mn[3]=Fn,En[1]<0&&(Fn=mn[2],mn[2]=mn[3],mn[3]=Fn),mn[2]*=En[1],mn[3]*=En[1],En[2]<0&&(Fn=mn[0],mn[0]=mn[1],mn[1]=Fn),mn[0]*=En[2],mn[1]*=En[2]),mn[0]+=En[4],mn[1]+=En[4],mn[2]+=En[5],mn[3]+=En[5]}static transform(En,mn){return[En[0]*mn[0]+En[2]*mn[1],En[1]*mn[0]+En[3]*mn[1],En[0]*mn[2]+En[2]*mn[3],En[1]*mn[2]+En[3]*mn[3],En[0]*mn[4]+En[2]*mn[5]+En[4],En[1]*mn[4]+En[3]*mn[5]+En[5]]}static applyTransform(En,mn){const Fn=En[0]*mn[0]+En[1]*mn[2]+mn[4],gr=En[0]*mn[1]+En[1]*mn[3]+mn[5];return[Fn,gr]}static applyInverseTransform(En,mn){const Fn=mn[0]*mn[3]-mn[1]*mn[2],gr=(En[0]*mn[3]-En[1]*mn[2]+mn[2]*mn[5]-mn[4]*mn[3])/Fn,Ln=(-En[0]*mn[1]+En[1]*mn[0]+mn[4]*mn[1]-mn[5]*mn[0])/Fn;return[gr,Ln]}static getAxialAlignedBoundingBox(En,mn){const Fn=this.applyTransform(En,mn),gr=this.applyTransform(En.slice(2,4),mn),Ln=this.applyTransform([En[0],En[3]],mn),dn=this.applyTransform([En[2],En[1]],mn);return[Math.min(Fn[0],gr[0],Ln[0],dn[0]),Math.min(Fn[1],gr[1],Ln[1],dn[1]),Math.max(Fn[0],gr[0],Ln[0],dn[0]),Math.max(Fn[1],gr[1],Ln[1],dn[1])]}static inverseTransform(En){const mn=En[0]*En[3]-En[1]*En[2];return[En[3]/mn,-En[1]/mn,-En[2]/mn,En[0]/mn,(En[2]*En[5]-En[4]*En[3])/mn,(En[4]*En[1]-En[5]*En[0])/mn]}static singularValueDecompose2dScale(En){const mn=[En[0],En[2],En[1],En[3]],Fn=En[0]*mn[0]+En[1]*mn[2],gr=En[0]*mn[1]+En[1]*mn[3],Ln=En[2]*mn[0]+En[3]*mn[2],dn=En[2]*mn[1]+En[3]*mn[3],zn=(Fn+dn)/2,Yn=Math.sqrt((Fn+dn)**2-4*(Fn*dn-Ln*gr))/2,hn=zn+Yn||1,Pn=zn-Yn||1;return[Math.sqrt(hn),Math.sqrt(Pn)]}static normalizeRect(En){const mn=En.slice(0);return En[0]>En[2]&&(mn[0]=En[2],mn[2]=En[0]),En[1]>En[3]&&(mn[1]=En[3],mn[3]=En[1]),mn}static intersect(En,mn){const Fn=Math.max(Math.min(En[0],En[2]),Math.min(mn[0],mn[2])),gr=Math.min(Math.max(En[0],En[2]),Math.max(mn[0],mn[2]));if(Fn>gr)return null;const Ln=Math.max(Math.min(En[1],En[3]),Math.min(mn[1],mn[3])),dn=Math.min(Math.max(En[1],En[3]),Math.max(mn[1],mn[3]));return Ln>dn?null:[Fn,Ln,gr,dn]}static bezierBoundingBox(En,mn,Fn,gr,Ln,dn,zn,Yn){const hn=[],Pn=[[],[]];let Tn,Zn,$n,qn,Wn,cn,qt,tn;for(let Nn=0;Nn<2;++Nn){if(Nn===0?(Zn=6*En-12*Fn+6*Ln,Tn=-3*En+9*Fn-9*Ln+3*zn,$n=3*Fn-3*En):(Zn=6*mn-12*gr+6*dn,Tn=-3*mn+9*gr-9*dn+3*Yn,$n=3*gr-3*mn),Math.abs(Tn)<1e-12){if(Math.abs(Zn)<1e-12)continue;qn=-$n/Zn,0<qn&&qn<1&&hn.push(qn);continue}qt=Zn*Zn-4*$n*Tn,tn=Math.sqrt(qt),!(qt<0)&&(Wn=(-Zn+tn)/(2*Tn),0<Wn&&Wn<1&&hn.push(Wn),cn=(-Zn-tn)/(2*Tn),0<cn&&cn<1&&hn.push(cn))}let un=hn.length,kn;const Cn=un;for(;un--;)qn=hn[un],kn=1-qn,Pn[0][un]=kn*kn*kn*En+3*kn*kn*qn*Fn+3*kn*qn*qn*Ln+qn*qn*qn*zn,Pn[1][un]=kn*kn*kn*mn+3*kn*kn*qn*gr+3*kn*qn*qn*dn+qn*qn*qn*Yn;return Pn[0][Cn]=En,Pn[1][Cn]=mn,Pn[0][Cn+1]=zn,Pn[1][Cn+1]=Yn,Pn[0].length=Pn[1].length=Cn+2,[Math.min(...Pn[0]),Math.min(...Pn[1]),Math.max(...Pn[0]),Math.max(...Pn[1])]}}e.Util=An;const Sn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function xn(Un){if(Un[0]>=""){let mn;if(Un[0]===""&&Un[1]===""?mn="utf-16be":Un[0]===""&&Un[1]===""?mn="utf-16le":Un[0]===""&&Un[1]===""&&Un[2]===""&&(mn="utf-8"),mn)try{const Fn=new TextDecoder(mn,{fatal:!0}),gr=sn(Un);return Fn.decode(gr)}catch(Fn){Zt(`stringToPDFString: "${Fn}".`)}}const En=[];for(let mn=0,Fn=Un.length;mn<Fn;mn++){const gr=Sn[Un.charCodeAt(mn)];En.push(gr?String.fromCharCode(gr):Un.charAt(mn))}return En.join("")}function wn(Un){return decodeURIComponent(escape(Un))}function jn(Un){return unescape(encodeURIComponent(Un))}function pn(Un){return typeof Un=="object"&&(Un==null?void 0:Un.byteLength)!==void 0}function Rn(Un,En){if(Un.length!==En.length)return!1;for(let mn=0,Fn=Un.length;mn<Fn;mn++)if(Un[mn]!==En[mn])return!1;return!0}function Kn(){let Un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Un.getUTCFullYear().toString(),(Un.getUTCMonth()+1).toString().padStart(2,"0"),Un.getUTCDate().toString().padStart(2,"0"),Un.getUTCHours().toString().padStart(2,"0"),Un.getUTCMinutes().toString().padStart(2,"0"),Un.getUTCSeconds().toString().padStart(2,"0")].join("")}class tr{constructor(){bn(this,lr,!1);this.promise=new Promise((En,mn)=>{this.resolve=Fn=>{Vn(this,lr,!0),En(Fn)},this.reject=Fn=>{Vn(this,lr,!0),mn(Fn)}})}get settled(){return Wt(this,lr)}}lr=new WeakMap,e.PromiseCapability=tr;let ir=null,On=null;function Qn(Un){return ir||(ir=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,On=new Map([["","t"]])),Un.replaceAll(ir,(En,mn,Fn)=>mn?mn.normalize("NFKC"):On.get(Fn))}function Xn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Un=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Un);else for(let En=0;En<32;En++)Un[En]=Math.floor(Math.random()*255);return nn(Un)}const or="pdfjs_internal_id_";e.AnnotationPrefix=or},(a,e,o)=>{var c=o(3),et=o(4),tt=o(69),nt=o(70),rt="WebAssembly",mt=et[rt],gt=Error("e",{cause:7}).cause!==7,yt=function(xt,bt){var Et={};Et[xt]=nt(xt,bt,gt),c({global:!0,constructor:!0,arity:1,forced:gt},Et)},vt=function(xt,bt){if(mt&&mt[xt]){var Et={};Et[xt]=nt(rt+"."+xt,bt,gt),c({target:rt,stat:!0,constructor:!0,arity:1,forced:gt},Et)}};yt("Error",function(xt){return function(Et){return tt(xt,this,arguments)}}),yt("EvalError",function(xt){return function(Et){return tt(xt,this,arguments)}}),yt("RangeError",function(xt){return function(Et){return tt(xt,this,arguments)}}),yt("ReferenceError",function(xt){return function(Et){return tt(xt,this,arguments)}}),yt("SyntaxError",function(xt){return function(Et){return tt(xt,this,arguments)}}),yt("TypeError",function(xt){return function(Et){return tt(xt,this,arguments)}}),yt("URIError",function(xt){return function(Et){return tt(xt,this,arguments)}}),vt("CompileError",function(xt){return function(Et){return tt(xt,this,arguments)}}),vt("LinkError",function(xt){return function(Et){return tt(xt,this,arguments)}}),vt("RuntimeError",function(xt){return function(Et){return tt(xt,this,arguments)}})},(a,e,o)=>{var c=o(4),et=o(5).f,tt=o(44),nt=o(48),rt=o(38),mt=o(56),gt=o(68);a.exports=function(yt,vt){var xt=yt.target,bt=yt.global,Et=yt.stat,wt,St,Tt,kt,_t,Mt;if(bt?St=c:Et?St=c[xt]||rt(xt,{}):St=(c[xt]||{}).prototype,St)for(Tt in vt){if(_t=vt[Tt],yt.dontCallGetSet?(Mt=et(St,Tt),kt=Mt&&Mt.value):kt=St[Tt],wt=gt(bt?Tt:xt+(Et?".":"#")+Tt,yt.forced),!wt&&kt!==void 0){if(typeof _t==typeof kt)continue;mt(_t,kt)}(yt.sham||kt&&kt.sham)&&tt(_t,"sham",!0),nt(St,Tt,_t,yt)}}},function(a){var e=function(o){return o&&o.Math===Math&&o};a.exports=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||function(){return this}()||this||Function("return this")()},(a,e,o)=>{var c=o(6),et=o(8),tt=o(10),nt=o(11),rt=o(12),mt=o(18),gt=o(39),yt=o(42),vt=Object.getOwnPropertyDescriptor;e.f=c?vt:function(bt,Et){if(bt=rt(bt),Et=mt(Et),yt)try{return vt(bt,Et)}catch{}if(gt(bt,Et))return nt(!et(tt.f,bt,Et),bt[Et])}},(a,e,o)=>{var c=o(7);a.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},a=>{a.exports=function(e){try{return!!e()}catch{return!0}}},(a,e,o)=>{var c=o(9),et=Function.prototype.call;a.exports=c?et.bind(et):function(){return et.apply(et,arguments)}},(a,e,o)=>{var c=o(7);a.exports=!c(function(){var et=(function(){}).bind();return typeof et!="function"||et.hasOwnProperty("prototype")})},(a,e)=>{var o={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,et=c&&!o.call({1:2},1);e.f=et?function(nt){var rt=c(this,nt);return!!rt&&rt.enumerable}:o},a=>{a.exports=function(e,o){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:o}}},(a,e,o)=>{var c=o(13),et=o(16);a.exports=function(tt){return c(et(tt))}},(a,e,o)=>{var c=o(14),et=o(7),tt=o(15),nt=Object,rt=c("".split);a.exports=et(function(){return!nt("z").propertyIsEnumerable(0)})?function(mt){return tt(mt)==="String"?rt(mt,""):nt(mt)}:nt},(a,e,o)=>{var c=o(9),et=Function.prototype,tt=et.call,nt=c&&et.bind.bind(tt,tt);a.exports=c?nt:function(rt){return function(){return tt.apply(rt,arguments)}}},(a,e,o)=>{var c=o(14),et=c({}.toString),tt=c("".slice);a.exports=function(nt){return tt(et(nt),8,-1)}},(a,e,o)=>{var c=o(17),et=TypeError;a.exports=function(tt){if(c(tt))throw et("Can't call method on "+tt);return tt}},a=>{a.exports=function(e){return e==null}},(a,e,o)=>{var c=o(19),et=o(23);a.exports=function(tt){var nt=c(tt,"string");return et(nt)?nt:nt+""}},(a,e,o)=>{var c=o(8),et=o(20),tt=o(23),nt=o(30),rt=o(33),mt=o(34),gt=TypeError,yt=mt("toPrimitive");a.exports=function(vt,xt){if(!et(vt)||tt(vt))return vt;var bt=nt(vt,yt),Et;if(bt){if(xt===void 0&&(xt="default"),Et=c(bt,vt,xt),!et(Et)||tt(Et))return Et;throw gt("Can't convert object to primitive value")}return xt===void 0&&(xt="number"),rt(vt,xt)}},(a,e,o)=>{var c=o(21),et=o(22),tt=et.all;a.exports=et.IS_HTMLDDA?function(nt){return typeof nt=="object"?nt!==null:c(nt)||nt===tt}:function(nt){return typeof nt=="object"?nt!==null:c(nt)}},(a,e,o)=>{var c=o(22),et=c.all;a.exports=c.IS_HTMLDDA?function(tt){return typeof tt=="function"||tt===et}:function(tt){return typeof tt=="function"}},a=>{var e=typeof document=="object"&&document.all,o=typeof e>"u"&&e!==void 0;a.exports={all:e,IS_HTMLDDA:o}},(a,e,o)=>{var c=o(24),et=o(21),tt=o(25),nt=o(26),rt=Object;a.exports=nt?function(mt){return typeof mt=="symbol"}:function(mt){var gt=c("Symbol");return et(gt)&&tt(gt.prototype,rt(mt))}},(a,e,o)=>{var c=o(4),et=o(21),tt=function(nt){return et(nt)?nt:void 0};a.exports=function(nt,rt){return arguments.length<2?tt(c[nt]):c[nt]&&c[nt][rt]}},(a,e,o)=>{var c=o(14);a.exports=c({}.isPrototypeOf)},(a,e,o)=>{var c=o(27);a.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(a,e,o)=>{var c=o(28),et=o(7),tt=o(4),nt=tt.String;a.exports=!!Object.getOwnPropertySymbols&&!et(function(){var rt=Symbol("symbol detection");return!nt(rt)||!(Object(rt)instanceof Symbol)||!Symbol.sham&&c&&c<41})},(a,e,o)=>{var c=o(4),et=o(29),tt=c.process,nt=c.Deno,rt=tt&&tt.versions||nt&&nt.version,mt=rt&&rt.v8,gt,yt;mt&&(gt=mt.split("."),yt=gt[0]>0&&gt[0]<4?1:+(gt[0]+gt[1])),!yt&&et&&(gt=et.match(/Edge\/(\d+)/),(!gt||gt[1]>=74)&&(gt=et.match(/Chrome\/(\d+)/),gt&&(yt=+gt[1]))),a.exports=yt},a=>{a.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},(a,e,o)=>{var c=o(31),et=o(17);a.exports=function(tt,nt){var rt=tt[nt];return et(rt)?void 0:c(rt)}},(a,e,o)=>{var c=o(21),et=o(32),tt=TypeError;a.exports=function(nt){if(c(nt))return nt;throw tt(et(nt)+" is not a function")}},a=>{var e=String;a.exports=function(o){try{return e(o)}catch{return"Object"}}},(a,e,o)=>{var c=o(8),et=o(21),tt=o(20),nt=TypeError;a.exports=function(rt,mt){var gt,yt;if(mt==="string"&&et(gt=rt.toString)&&!tt(yt=c(gt,rt))||et(gt=rt.valueOf)&&!tt(yt=c(gt,rt))||mt!=="string"&&et(gt=rt.toString)&&!tt(yt=c(gt,rt)))return yt;throw nt("Can't convert object to primitive value")}},(a,e,o)=>{var c=o(4),et=o(35),tt=o(39),nt=o(41),rt=o(27),mt=o(26),gt=c.Symbol,yt=et("wks"),vt=mt?gt.for||gt:gt&&gt.withoutSetter||nt;a.exports=function(xt){return tt(yt,xt)||(yt[xt]=rt&&tt(gt,xt)?gt[xt]:vt("Symbol."+xt)),yt[xt]}},(a,e,o)=>{var c=o(36),et=o(37);(a.exports=function(tt,nt){return et[tt]||(et[tt]=nt!==void 0?nt:{})})("versions",[]).push({version:"3.32.2",mode:c?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})},a=>{a.exports=!1},(a,e,o)=>{var c=o(4),et=o(38),tt="__core-js_shared__",nt=c[tt]||et(tt,{});a.exports=nt},(a,e,o)=>{var c=o(4),et=Object.defineProperty;a.exports=function(tt,nt){try{et(c,tt,{value:nt,configurable:!0,writable:!0})}catch{c[tt]=nt}return nt}},(a,e,o)=>{var c=o(14),et=o(40),tt=c({}.hasOwnProperty);a.exports=Object.hasOwn||function(rt,mt){return tt(et(rt),mt)}},(a,e,o)=>{var c=o(16),et=Object;a.exports=function(tt){return et(c(tt))}},(a,e,o)=>{var c=o(14),et=0,tt=Math.random(),nt=c(1 .toString);a.exports=function(rt){return"Symbol("+(rt===void 0?"":rt)+")_"+nt(++et+tt,36)}},(a,e,o)=>{var c=o(6),et=o(7),tt=o(43);a.exports=!c&&!et(function(){return Object.defineProperty(tt("div"),"a",{get:function(){return 7}}).a!==7})},(a,e,o)=>{var c=o(4),et=o(20),tt=c.document,nt=et(tt)&&et(tt.createElement);a.exports=function(rt){return nt?tt.createElement(rt):{}}},(a,e,o)=>{var c=o(6),et=o(45),tt=o(11);a.exports=c?function(nt,rt,mt){return et.f(nt,rt,tt(1,mt))}:function(nt,rt,mt){return nt[rt]=mt,nt}},(a,e,o)=>{var c=o(6),et=o(42),tt=o(46),nt=o(47),rt=o(18),mt=TypeError,gt=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,vt="enumerable",xt="configurable",bt="writable";e.f=c?tt?function(wt,St,Tt){if(nt(wt),St=rt(St),nt(Tt),typeof wt=="function"&&St==="prototype"&&"value"in Tt&&bt in Tt&&!Tt[bt]){var kt=yt(wt,St);kt&&kt[bt]&&(wt[St]=Tt.value,Tt={configurable:xt in Tt?Tt[xt]:kt[xt],enumerable:vt in Tt?Tt[vt]:kt[vt],writable:!1})}return gt(wt,St,Tt)}:gt:function(wt,St,Tt){if(nt(wt),St=rt(St),nt(Tt),et)try{return gt(wt,St,Tt)}catch{}if("get"in Tt||"set"in Tt)throw mt("Accessors not supported");return"value"in Tt&&(wt[St]=Tt.value),wt}},(a,e,o)=>{var c=o(6),et=o(7);a.exports=c&&et(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},(a,e,o)=>{var c=o(20),et=String,tt=TypeError;a.exports=function(nt){if(c(nt))return nt;throw tt(et(nt)+" is not an object")}},(a,e,o)=>{var c=o(21),et=o(45),tt=o(49),nt=o(38);a.exports=function(rt,mt,gt,yt){yt||(yt={});var vt=yt.enumerable,xt=yt.name!==void 0?yt.name:mt;if(c(gt)&&tt(gt,xt,yt),yt.global)vt?rt[mt]=gt:nt(mt,gt);else{try{yt.unsafe?rt[mt]&&(vt=!0):delete rt[mt]}catch{}vt?rt[mt]=gt:et.f(rt,mt,{value:gt,enumerable:!1,configurable:!yt.nonConfigurable,writable:!yt.nonWritable})}return rt}},(a,e,o)=>{var c=o(14),et=o(7),tt=o(21),nt=o(39),rt=o(6),mt=o(50).CONFIGURABLE,gt=o(51),yt=o(52),vt=yt.enforce,xt=yt.get,bt=String,Et=Object.defineProperty,wt=c("".slice),St=c("".replace),Tt=c([].join),kt=rt&&!et(function(){return Et(function(){},"length",{value:8}).length!==8}),_t=String(String).split("String"),Mt=a.exports=function(Pt,It,Dt){wt(bt(It),0,7)==="Symbol("&&(It="["+St(bt(It),/^Symbol\(([^)]*)\)/,"$1")+"]"),Dt&&Dt.getter&&(It="get "+It),Dt&&Dt.setter&&(It="set "+It),(!nt(Pt,"name")||mt&&Pt.name!==It)&&(rt?Et(Pt,"name",{value:It,configurable:!0}):Pt.name=It),kt&&Dt&&nt(Dt,"arity")&&Pt.length!==Dt.arity&&Et(Pt,"length",{value:Dt.arity});try{Dt&&nt(Dt,"constructor")&&Dt.constructor?rt&&Et(Pt,"prototype",{writable:!1}):Pt.prototype&&(Pt.prototype=void 0)}catch{}var Ct=vt(Pt);return nt(Ct,"source")||(Ct.source=Tt(_t,typeof It=="string"?It:"")),Pt};Function.prototype.toString=Mt(function(){return tt(this)&&xt(this).source||gt(this)},"toString")},(a,e,o)=>{var c=o(6),et=o(39),tt=Function.prototype,nt=c&&Object.getOwnPropertyDescriptor,rt=et(tt,"name"),mt=rt&&(function(){}).name==="something",gt=rt&&(!c||c&&nt(tt,"name").configurable);a.exports={EXISTS:rt,PROPER:mt,CONFIGURABLE:gt}},(a,e,o)=>{var c=o(14),et=o(21),tt=o(37),nt=c(Function.toString);et(tt.inspectSource)||(tt.inspectSource=function(rt){return nt(rt)}),a.exports=tt.inspectSource},(a,e,o)=>{var c=o(53),et=o(4),tt=o(20),nt=o(44),rt=o(39),mt=o(37),gt=o(54),yt=o(55),vt="Object already initialized",xt=et.TypeError,bt=et.WeakMap,Et,wt,St,Tt=function(Pt){return St(Pt)?wt(Pt):Et(Pt,{})},kt=function(Pt){return function(It){var Dt;if(!tt(It)||(Dt=wt(It)).type!==Pt)throw xt("Incompatible receiver, "+Pt+" required");return Dt}};if(c||mt.state){var _t=mt.state||(mt.state=new bt);_t.get=_t.get,_t.has=_t.has,_t.set=_t.set,Et=function(Pt,It){if(_t.has(Pt))throw xt(vt);return It.facade=Pt,_t.set(Pt,It),It},wt=function(Pt){return _t.get(Pt)||{}},St=function(Pt){return _t.has(Pt)}}else{var Mt=gt("state");yt[Mt]=!0,Et=function(Pt,It){if(rt(Pt,Mt))throw xt(vt);return It.facade=Pt,nt(Pt,Mt,It),It},wt=function(Pt){return rt(Pt,Mt)?Pt[Mt]:{}},St=function(Pt){return rt(Pt,Mt)}}a.exports={set:Et,get:wt,has:St,enforce:Tt,getterFor:kt}},(a,e,o)=>{var c=o(4),et=o(21),tt=c.WeakMap;a.exports=et(tt)&&/native code/.test(String(tt))},(a,e,o)=>{var c=o(35),et=o(41),tt=c("keys");a.exports=function(nt){return tt[nt]||(tt[nt]=et(nt))}},a=>{a.exports={}},(a,e,o)=>{var c=o(39),et=o(57),tt=o(5),nt=o(45);a.exports=function(rt,mt,gt){for(var yt=et(mt),vt=nt.f,xt=tt.f,bt=0;bt<yt.length;bt++){var Et=yt[bt];!c(rt,Et)&&!(gt&&c(gt,Et))&&vt(rt,Et,xt(mt,Et))}}},(a,e,o)=>{var c=o(24),et=o(14),tt=o(58),nt=o(67),rt=o(47),mt=et([].concat);a.exports=c("Reflect","ownKeys")||function(yt){var vt=tt.f(rt(yt)),xt=nt.f;return xt?mt(vt,xt(yt)):vt}},(a,e,o)=>{var c=o(59),et=o(66),tt=et.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(rt){return c(rt,tt)}},(a,e,o)=>{var c=o(14),et=o(39),tt=o(12),nt=o(60).indexOf,rt=o(55),mt=c([].push);a.exports=function(gt,yt){var vt=tt(gt),xt=0,bt=[],Et;for(Et in vt)!et(rt,Et)&&et(vt,Et)&&mt(bt,Et);for(;yt.length>xt;)et(vt,Et=yt[xt++])&&(~nt(bt,Et)||mt(bt,Et));return bt}},(a,e,o)=>{var c=o(12),et=o(61),tt=o(64),nt=function(rt){return function(mt,gt,yt){var vt=c(mt),xt=tt(vt),bt=et(yt,xt),Et;if(rt&&gt!==gt){for(;xt>bt;)if(Et=vt[bt++],Et!==Et)return!0}else for(;xt>bt;bt++)if((rt||bt in vt)&&vt[bt]===gt)return rt||bt||0;return!rt&&-1}};a.exports={includes:nt(!0),indexOf:nt(!1)}},(a,e,o)=>{var c=o(62),et=Math.max,tt=Math.min;a.exports=function(nt,rt){var mt=c(nt);return mt<0?et(mt+rt,0):tt(mt,rt)}},(a,e,o)=>{var c=o(63);a.exports=function(et){var tt=+et;return tt!==tt||tt===0?0:c(tt)}},a=>{var e=Math.ceil,o=Math.floor;a.exports=Math.trunc||function(et){var tt=+et;return(tt>0?o:e)(tt)}},(a,e,o)=>{var c=o(65);a.exports=function(et){return c(et.length)}},(a,e,o)=>{var c=o(62),et=Math.min;a.exports=function(tt){return tt>0?et(c(tt),9007199254740991):0}},a=>{a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(a,e)=>{e.f=Object.getOwnPropertySymbols},(a,e,o)=>{var c=o(7),et=o(21),tt=/#|\.prototype\./,nt=function(vt,xt){var bt=mt[rt(vt)];return bt===yt?!0:bt===gt?!1:et(xt)?c(xt):!!xt},rt=nt.normalize=function(vt){return String(vt).replace(tt,".").toLowerCase()},mt=nt.data={},gt=nt.NATIVE="N",yt=nt.POLYFILL="P";a.exports=nt},(a,e,o)=>{var c=o(9),et=Function.prototype,tt=et.apply,nt=et.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(c?nt.bind(tt):function(){return nt.apply(tt,arguments)})},(a,e,o)=>{var c=o(24),et=o(39),tt=o(44),nt=o(25),rt=o(71),mt=o(56),gt=o(74),yt=o(75),vt=o(76),xt=o(80),bt=o(81),Et=o(6),wt=o(36);a.exports=function(St,Tt,kt,_t){var Mt="stackTraceLimit",Pt=_t?2:1,It=St.split("."),Dt=It[It.length-1],Ct=c.apply(null,It);if(Ct){var At=Ct.prototype;if(!wt&&et(At,"cause")&&delete At.cause,!kt)return Ct;var Lt=c("Error"),jt=Tt(function(Bt,zt){var Yt=vt(_t?zt:Bt,void 0),en=_t?new Ct(Bt):new Ct;return Yt!==void 0&&tt(en,"message",Yt),bt(en,jt,en.stack,2),this&&nt(At,this)&&yt(en,this,jt),arguments.length>Pt&&xt(en,arguments[Pt]),en});if(jt.prototype=At,Dt!=="Error"?rt?rt(jt,Lt):mt(jt,Lt,{name:!0}):Et&&Mt in Ct&&(gt(jt,Ct,Mt),gt(jt,Ct,"prepareStackTrace")),mt(jt,Ct),!wt)try{At.name!==Dt&&tt(At,"name",Dt),At.constructor=jt}catch{}return jt}}},(a,e,o)=>{var c=o(72),et=o(47),tt=o(73);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var nt=!1,rt={},mt;try{mt=c(Object.prototype,"__proto__","set"),mt(rt,[]),nt=rt instanceof Array}catch{}return function(yt,vt){return et(yt),tt(vt),nt?mt(yt,vt):yt.__proto__=vt,yt}}():void 0)},(a,e,o)=>{var c=o(14),et=o(31);a.exports=function(tt,nt,rt){try{return c(et(Object.getOwnPropertyDescriptor(tt,nt)[rt]))}catch{}}},(a,e,o)=>{var c=o(21),et=String,tt=TypeError;a.exports=function(nt){if(typeof nt=="object"||c(nt))return nt;throw tt("Can't set "+et(nt)+" as a prototype")}},(a,e,o)=>{var c=o(45).f;a.exports=function(et,tt,nt){nt in et||c(et,nt,{configurable:!0,get:function(){return tt[nt]},set:function(rt){tt[nt]=rt}})}},(a,e,o)=>{var c=o(21),et=o(20),tt=o(71);a.exports=function(nt,rt,mt){var gt,yt;return tt&&c(gt=rt.constructor)&&gt!==mt&&et(yt=gt.prototype)&&yt!==mt.prototype&&tt(nt,yt),nt}},(a,e,o)=>{var c=o(77);a.exports=function(et,tt){return et===void 0?arguments.length<2?"":tt:c(et)}},(a,e,o)=>{var c=o(78),et=String;a.exports=function(tt){if(c(tt)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return et(tt)}},(a,e,o)=>{var c=o(79),et=o(21),tt=o(15),nt=o(34),rt=nt("toStringTag"),mt=Object,gt=tt(function(){return arguments}())==="Arguments",yt=function(vt,xt){try{return vt[xt]}catch{}};a.exports=c?tt:function(vt){var xt,bt,Et;return vt===void 0?"Undefined":vt===null?"Null":typeof(bt=yt(xt=mt(vt),rt))=="string"?bt:gt?tt(xt):(Et=tt(xt))==="Object"&&et(xt.callee)?"Arguments":Et}},(a,e,o)=>{var c=o(34),et=c("toStringTag"),tt={};tt[et]="z",a.exports=String(tt)==="[object z]"},(a,e,o)=>{var c=o(20),et=o(44);a.exports=function(tt,nt){c(nt)&&"cause"in nt&&et(tt,"cause",nt.cause)}},(a,e,o)=>{var c=o(44),et=o(82),tt=o(83),nt=Error.captureStackTrace;a.exports=function(rt,mt,gt,yt){tt&&(nt?nt(rt,mt):c(rt,"stack",et(gt,yt)))}},(a,e,o)=>{var c=o(14),et=Error,tt=c("".replace),nt=function(gt){return String(et(gt).stack)}("zxcasd"),rt=/\n\s*at [^:]*:[^\n]*/,mt=rt.test(nt);a.exports=function(gt,yt){if(mt&&typeof gt=="string"&&!et.prepareStackTrace)for(;yt--;)gt=tt(gt,rt,"");return gt}},(a,e,o)=>{var c=o(7),et=o(11);a.exports=!c(function(){var tt=Error("a");return"stack"in tt?(Object.defineProperty(tt,"stack",et(1,7)),tt.stack!==7):!0})},(a,e,o)=>{var c=o(48),et=o(14),tt=o(77),nt=o(85),rt=URLSearchParams,mt=rt.prototype,gt=et(mt.append),yt=et(mt.delete),vt=et(mt.forEach),xt=et([].push),bt=new rt("a=1&a=2&b=3");bt.delete("a",1),bt.delete("b",void 0),bt+""!="a=2"&&c(mt,"delete",function(Et){var wt=arguments.length,St=wt<2?void 0:arguments[1];if(wt&&St===void 0)return yt(this,Et);var Tt=[];vt(this,function(At,Lt){xt(Tt,{key:Lt,value:At})}),nt(wt,1);for(var kt=tt(Et),_t=tt(St),Mt=0,Pt=0,It=!1,Dt=Tt.length,Ct;Mt<Dt;)Ct=Tt[Mt++],It||Ct.key===kt?(It=!0,yt(this,Ct.key)):Pt++;for(;Pt<Dt;)Ct=Tt[Pt++],Ct.key===kt&&Ct.value===_t||gt(this,Ct.key,Ct.value)},{enumerable:!0,unsafe:!0})},a=>{var e=TypeError;a.exports=function(o,c){if(o<c)throw e("Not enough arguments");return o}},(a,e,o)=>{var c=o(48),et=o(14),tt=o(77),nt=o(85),rt=URLSearchParams,mt=rt.prototype,gt=et(mt.getAll),yt=et(mt.has),vt=new rt("a=1");(vt.has("a",2)||!vt.has("a",void 0))&&c(mt,"has",function(bt){var Et=arguments.length,wt=Et<2?void 0:arguments[1];if(Et&&wt===void 0)return yt(this,bt);var St=gt(this,bt);nt(Et,1);for(var Tt=tt(wt),kt=0;kt<St.length;)if(St[kt++]===Tt)return!0;return!1},{enumerable:!0,unsafe:!0})},(a,e,o)=>{var c=o(6),et=o(14),tt=o(88),nt=URLSearchParams.prototype,rt=et(nt.forEach);c&&!("size"in nt)&&tt(nt,"size",{get:function(){var gt=0;return rt(this,function(){gt++}),gt},configurable:!0,enumerable:!0})},(a,e,o)=>{var c=o(49),et=o(45);a.exports=function(tt,nt,rt){return rt.get&&c(rt.get,nt,{getter:!0}),rt.set&&c(rt.set,nt,{setter:!0}),et.f(tt,nt,rt)}},(a,e,o)=>{var c=o(3),et=o(40),tt=o(64),nt=o(90),rt=o(92),mt=o(7),gt=mt(function(){return[].push.call({length:4294967296},1)!==4294967297}),yt=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(xt){return xt instanceof TypeError}},vt=gt||!yt();c({target:"Array",proto:!0,arity:1,forced:vt},{push:function(bt){var Et=et(this),wt=tt(Et),St=arguments.length;rt(wt+St);for(var Tt=0;Tt<St;Tt++)Et[wt]=arguments[Tt],wt++;return nt(Et,wt),wt}})},(a,e,o)=>{var c=o(6),et=o(91),tt=TypeError,nt=Object.getOwnPropertyDescriptor,rt=c&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(mt){return mt instanceof TypeError}}();a.exports=rt?function(mt,gt){if(et(mt)&&!nt(mt,"length").writable)throw tt("Cannot set read only .length");return mt.length=gt}:function(mt,gt){return mt.length=gt}},(a,e,o)=>{var c=o(15);a.exports=Array.isArray||function(tt){return c(tt)==="Array"}},a=>{var e=TypeError,o=9007199254740991;a.exports=function(c){if(c>o)throw e("Maximum allowed index exceeded");return c}},(a,e,o)=>{var c=o(94),et=o(98).findLast,tt=c.aTypedArray,nt=c.exportTypedArrayMethod;nt("findLast",function(mt){return et(tt(this),mt,arguments.length>1?arguments[1]:void 0)})},(a,e,o)=>{var c=o(95),et=o(6),tt=o(4),nt=o(21),rt=o(20),mt=o(39),gt=o(78),yt=o(32),vt=o(44),xt=o(48),bt=o(88),Et=o(25),wt=o(96),St=o(71),Tt=o(34),kt=o(41),_t=o(52),Mt=_t.enforce,Pt=_t.get,It=tt.Int8Array,Dt=It&&It.prototype,Ct=tt.Uint8ClampedArray,At=Ct&&Ct.prototype,Lt=It&&wt(It),jt=Dt&&wt(Dt),Bt=Object.prototype,zt=tt.TypeError,Yt=Tt("toStringTag"),en=kt("TYPED_ARRAY_TAG"),rn="TypedArrayConstructor",on=c&&!!St&&gt(tt.opera)!=="Opera",Zt=!1,an,Xt,yn,vn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Nt={BigInt64Array:8,BigUint64Array:8},$t=function(nn){if(!rt(nn))return!1;var sn=gt(nn);return sn==="DataView"||mt(vn,sn)||mt(Nt,sn)},Ot=function(Jt){var nn=wt(Jt);if(rt(nn)){var sn=Pt(nn);return sn&&mt(sn,rn)?sn[rn]:Ot(nn)}},Ft=function(Jt){if(!rt(Jt))return!1;var nn=gt(Jt);return mt(vn,nn)||mt(Nt,nn)},Ut=function(Jt){if(Ft(Jt))return Jt;throw zt("Target is not a typed array")},Gt=function(Jt){if(nt(Jt)&&(!St||Et(Lt,Jt)))return Jt;throw zt(yt(Jt)+" is not a typed array constructor")},Vt=function(Jt,nn,sn,gn){if(et){if(sn)for(var fn in vn){var In=tt[fn];if(In&&mt(In.prototype,Jt))try{delete In.prototype[Jt]}catch{try{In.prototype[Jt]=nn}catch{}}}(!jt[Jt]||sn)&&xt(jt,Jt,sn?nn:on&&Dt[Jt]||nn,gn)}},Kt=function(Jt,nn,sn){var gn,fn;if(et){if(St){if(sn){for(gn in vn)if(fn=tt[gn],fn&&mt(fn,Jt))try{delete fn[Jt]}catch{}}if(!Lt[Jt]||sn)try{return xt(Lt,Jt,sn?nn:on&&Lt[Jt]||nn)}catch{}else return}for(gn in vn)fn=tt[gn],fn&&(!fn[Jt]||sn)&&xt(fn,Jt,nn)}};for(an in vn)Xt=tt[an],yn=Xt&&Xt.prototype,yn?Mt(yn)[rn]=Xt:on=!1;for(an in Nt)Xt=tt[an],yn=Xt&&Xt.prototype,yn&&(Mt(yn)[rn]=Xt);if((!on||!nt(Lt)||Lt===Function.prototype)&&(Lt=function(){throw zt("Incorrect invocation")},on))for(an in vn)tt[an]&&St(tt[an],Lt);if((!on||!jt||jt===Bt)&&(jt=Lt.prototype,on))for(an in vn)tt[an]&&St(tt[an].prototype,jt);if(on&&wt(At)!==jt&&St(At,jt),et&&!mt(jt,Yt)){Zt=!0,bt(jt,Yt,{configurable:!0,get:function(){return rt(this)?this[en]:void 0}});for(an in vn)tt[an]&&vt(tt[an],en,an)}a.exports={NATIVE_ARRAY_BUFFER_VIEWS:on,TYPED_ARRAY_TAG:Zt&&en,aTypedArray:Ut,aTypedArrayConstructor:Gt,exportTypedArrayMethod:Vt,exportTypedArrayStaticMethod:Kt,getTypedArrayConstructor:Ot,isView:$t,isTypedArray:Ft,TypedArray:Lt,TypedArrayPrototype:jt}},a=>{a.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(a,e,o)=>{var c=o(39),et=o(21),tt=o(40),nt=o(54),rt=o(97),mt=nt("IE_PROTO"),gt=Object,yt=gt.prototype;a.exports=rt?gt.getPrototypeOf:function(vt){var xt=tt(vt);if(c(xt,mt))return xt[mt];var bt=xt.constructor;return et(bt)&&xt instanceof bt?bt.prototype:xt instanceof gt?yt:null}},(a,e,o)=>{var c=o(7);a.exports=!c(function(){function et(){}return et.prototype.constructor=null,Object.getPrototypeOf(new et)!==et.prototype})},(a,e,o)=>{var c=o(99),et=o(13),tt=o(40),nt=o(64),rt=function(mt){var gt=mt===1;return function(yt,vt,xt){for(var bt=tt(yt),Et=et(bt),wt=c(vt,xt),St=nt(Et),Tt,kt;St-- >0;)if(Tt=Et[St],kt=wt(Tt,St,bt),kt)switch(mt){case 0:return Tt;case 1:return St}return gt?-1:void 0}};a.exports={findLast:rt(0),findLastIndex:rt(1)}},(a,e,o)=>{var c=o(100),et=o(31),tt=o(9),nt=c(c.bind);a.exports=function(rt,mt){return et(rt),mt===void 0?rt:tt?nt(rt,mt):function(){return rt.apply(mt,arguments)}}},(a,e,o)=>{var c=o(15),et=o(14);a.exports=function(tt){if(c(tt)==="Function")return et(tt)}},(a,e,o)=>{var c=o(94),et=o(98).findLastIndex,tt=c.aTypedArray,nt=c.exportTypedArrayMethod;nt("findLastIndex",function(mt){return et(tt(this),mt,arguments.length>1?arguments[1]:void 0)})},(a,e,o)=>{var c=o(4),et=o(8),tt=o(94),nt=o(64),rt=o(103),mt=o(40),gt=o(7),yt=c.RangeError,vt=c.Int8Array,xt=vt&&vt.prototype,bt=xt&&xt.set,Et=tt.aTypedArray,wt=tt.exportTypedArrayMethod,St=!gt(function(){var kt=new Uint8ClampedArray(2);return et(bt,kt,{length:1,0:3},1),kt[1]!==3}),Tt=St&&tt.NATIVE_ARRAY_BUFFER_VIEWS&&gt(function(){var kt=new vt(2);return kt.set(1),kt.set("2",1),kt[0]!==0||kt[1]!==2});wt("set",function(_t){Et(this);var Mt=rt(arguments.length>1?arguments[1]:void 0,1),Pt=mt(_t);if(St)return et(bt,this,Pt,Mt);var It=this.length,Dt=nt(Pt),Ct=0;if(Dt+Mt>It)throw yt("Wrong length");for(;Ct<Dt;)this[Mt+Ct]=Pt[Ct++]},!St||Tt)},(a,e,o)=>{var c=o(104),et=RangeError;a.exports=function(tt,nt){var rt=c(tt);if(rt%nt)throw et("Wrong offset");return rt}},(a,e,o)=>{var c=o(62),et=RangeError;a.exports=function(tt){var nt=c(tt);if(nt<0)throw et("The argument can't be less than 0");return nt}},(a,e,o)=>{var c=o(106),et=o(94),tt=et.aTypedArray,nt=et.exportTypedArrayMethod,rt=et.getTypedArrayConstructor;nt("toReversed",function(){return c(tt(this),rt(this))})},(a,e,o)=>{var c=o(64);a.exports=function(et,tt){for(var nt=c(et),rt=new tt(nt),mt=0;mt<nt;mt++)rt[mt]=et[nt-mt-1];return rt}},(a,e,o)=>{var c=o(94),et=o(14),tt=o(31),nt=o(108),rt=c.aTypedArray,mt=c.getTypedArrayConstructor,gt=c.exportTypedArrayMethod,yt=et(c.TypedArrayPrototype.sort);gt("toSorted",function(xt){xt!==void 0&&tt(xt);var bt=rt(this),Et=nt(mt(bt),bt);return yt(Et,xt)})},(a,e,o)=>{var c=o(64);a.exports=function(et,tt){for(var nt=0,rt=c(tt),mt=new et(rt);rt>nt;)mt[nt]=tt[nt++];return mt}},(a,e,o)=>{var c=o(110),et=o(94),tt=o(111),nt=o(62),rt=o(112),mt=et.aTypedArray,gt=et.getTypedArrayConstructor,yt=et.exportTypedArrayMethod,vt=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(xt){return xt===8}}();yt("with",function(xt,bt){var Et=mt(this),wt=nt(xt),St=tt(Et)?rt(bt):+bt;return c(Et,gt(Et),wt,St)},!vt)},(a,e,o)=>{var c=o(64),et=o(62),tt=RangeError;a.exports=function(nt,rt,mt,gt){var yt=c(nt),vt=et(mt),xt=vt<0?yt+vt:vt;if(xt>=yt||xt<0)throw tt("Incorrect index");for(var bt=new rt(yt),Et=0;Et<yt;Et++)bt[Et]=Et===xt?gt:nt[Et];return bt}},(a,e,o)=>{var c=o(78);a.exports=function(et){var tt=c(et);return tt==="BigInt64Array"||tt==="BigUint64Array"}},(a,e,o)=>{var c=o(19),et=TypeError;a.exports=function(tt){var nt=c(tt,"number");if(typeof nt=="number")throw et("Can't convert number to bigint");return BigInt(nt)}},(a,e,o)=>{var c=o(6),et=o(88),tt=o(114),nt=ArrayBuffer.prototype;c&&!("detached"in nt)&&et(nt,"detached",{configurable:!0,get:function(){return tt(this)}})},(a,e,o)=>{var c=o(14),et=o(115),tt=c(ArrayBuffer.prototype.slice);a.exports=function(nt){if(et(nt)!==0)return!1;try{return tt(nt,0,0),!1}catch{return!0}}},(a,e,o)=>{var c=o(72),et=o(15),tt=TypeError;a.exports=c(ArrayBuffer.prototype,"byteLength","get")||function(nt){if(et(nt)!=="ArrayBuffer")throw tt("ArrayBuffer expected");return nt.byteLength}},(a,e,o)=>{var c=o(3),et=o(117);et&&c({target:"ArrayBuffer",proto:!0},{transfer:function(){return et(this,arguments.length?arguments[0]:void 0,!0)}})},(a,e,o)=>{var c=o(4),et=o(14),tt=o(72),nt=o(118),rt=o(114),mt=o(115),gt=o(119),yt=c.TypeError,vt=c.structuredClone,xt=c.ArrayBuffer,bt=c.DataView,Et=Math.min,wt=xt.prototype,St=bt.prototype,Tt=et(wt.slice),kt=tt(wt,"resizable","get"),_t=tt(wt,"maxByteLength","get"),Mt=et(St.getInt8),Pt=et(St.setInt8);a.exports=gt&&function(It,Dt,Ct){var At=mt(It),Lt=Dt===void 0?At:nt(Dt),jt=!kt||!kt(It);if(rt(It))throw yt("ArrayBuffer is detached");var Bt=vt(It,{transfer:[It]});if(At===Lt&&(Ct||jt))return Bt;if(At>=Lt&&(!Ct||jt))return Tt(Bt,0,Lt);for(var zt=Ct&&!jt&&_t?{maxByteLength:_t(Bt)}:void 0,Yt=new xt(Lt,zt),en=new bt(Bt),rn=new bt(Yt),on=Et(Lt,At),Zt=0;Zt<on;Zt++)Pt(rn,Zt,Mt(en,Zt));return Yt}},(a,e,o)=>{var c=o(62),et=o(65),tt=RangeError;a.exports=function(nt){if(nt===void 0)return 0;var rt=c(nt),mt=et(rt);if(rt!==mt)throw tt("Wrong length or index");return mt}},(a,e,o)=>{var c=o(4),et=o(7),tt=o(28),nt=o(120),rt=o(121),mt=o(122),gt=c.structuredClone;a.exports=!!gt&&!et(function(){if(rt&&tt>92||mt&&tt>94||nt&&tt>97)return!1;var yt=new ArrayBuffer(8),vt=gt(yt,{transfer:[yt]});return yt.byteLength!==0||vt.byteLength!==8})},(a,e,o)=>{var c=o(121),et=o(122);a.exports=!c&&!et&&typeof window=="object"&&typeof document=="object"},a=>{a.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(a,e,o)=>{var c=o(4),et=o(15);a.exports=et(c.process)==="process"},(a,e,o)=>{var c=o(3),et=o(117);et&&c({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return et(this,arguments.length?arguments[0]:void 0,!1)}})},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var a,o,c,et,Jr,nt,As,mt,gt,yt,vt,xt,bt,Et,wt,St,Rs,kt,_t,qs,Pt,It;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0,__w_pdfjs_require__(84),__w_pdfjs_require__(86),__w_pdfjs_require__(87),__w_pdfjs_require__(2),__w_pdfjs_require__(93),__w_pdfjs_require__(101),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(107),__w_pdfjs_require__(109),__w_pdfjs_require__(113),__w_pdfjs_require__(116),__w_pdfjs_require__(123),__w_pdfjs_require__(89),__w_pdfjs_require__(125),__w_pdfjs_require__(136),__w_pdfjs_require__(138),__w_pdfjs_require__(141),__w_pdfjs_require__(143),__w_pdfjs_require__(145),__w_pdfjs_require__(147),__w_pdfjs_require__(149),__w_pdfjs_require__(152);var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(163),_display_utils=__w_pdfjs_require__(168),_font_loader=__w_pdfjs_require__(171),_displayNode_utils=__w_pdfjs_require__(172),_canvas=__w_pdfjs_require__(173),_worker_options=__w_pdfjs_require__(176),_message_handler=__w_pdfjs_require__(177),_metadata=__w_pdfjs_require__(178),_optional_content_config=__w_pdfjs_require__(179),_transport_stream=__w_pdfjs_require__(180),_displayFetch_stream=__w_pdfjs_require__(181),_displayNetwork=__w_pdfjs_require__(184),_displayNode_stream=__w_pdfjs_require__(185),_displaySvg=__w_pdfjs_require__(186),_xfa_text=__w_pdfjs_require__(194);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Ct){if(typeof Ct=="string"||Ct instanceof URL?Ct={url:Ct}:(0,_util.isArrayBuffer)(Ct)&&(Ct={data:Ct}),typeof Ct!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Ct.url&&!Ct.data&&!Ct.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const At=new PDFDocumentLoadingTask,{docId:Lt}=At,jt=Ct.url?getUrlProp(Ct.url):null,Bt=Ct.data?getDataProp(Ct.data):null,zt=Ct.httpHeaders||null,Yt=Ct.withCredentials===!0,en=Ct.password??null,rn=Ct.range instanceof PDFDataRangeTransport?Ct.range:null,on=Number.isInteger(Ct.rangeChunkSize)&&Ct.rangeChunkSize>0?Ct.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Zt=Ct.worker instanceof PDFWorker?Ct.worker:null;const an=Ct.verbosity,Xt=typeof Ct.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Ct.docBaseUrl)?Ct.docBaseUrl:null,yn=typeof Ct.cMapUrl=="string"?Ct.cMapUrl:null,vn=Ct.cMapPacked!==!1,Nt=Ct.CMapReaderFactory||DefaultCMapReaderFactory,$t=typeof Ct.standardFontDataUrl=="string"?Ct.standardFontDataUrl:null,Ot=Ct.StandardFontDataFactory||DefaultStandardFontDataFactory,Ft=Ct.stopAtErrors!==!0,Ut=Number.isInteger(Ct.maxImageSize)&&Ct.maxImageSize>-1?Ct.maxImageSize:-1,Gt=Ct.isEvalSupported!==!1,Vt=typeof Ct.isOffscreenCanvasSupported=="boolean"?Ct.isOffscreenCanvasSupported:!_util.isNodeJS,Kt=Number.isInteger(Ct.canvasMaxAreaInBytes)?Ct.canvasMaxAreaInBytes:-1,Jt=typeof Ct.disableFontFace=="boolean"?Ct.disableFontFace:_util.isNodeJS,nn=Ct.fontExtraProperties===!0,sn=Ct.enableXfa===!0,gn=Ct.ownerDocument||globalThis.document,fn=Ct.disableRange===!0,In=Ct.disableStream===!0,Dn=Ct.disableAutoFetch===!0,Gn=Ct.pdfBug===!0,rr=rn?rn.length:Ct.length??NaN,Bn=typeof Ct.useSystemFonts=="boolean"?Ct.useSystemFonts:!_util.isNodeJS&&!Jt,An=typeof Ct.useWorkerFetch=="boolean"?Ct.useWorkerFetch:Nt===_display_utils.DOMCMapReaderFactory&&Ot===_display_utils.DOMStandardFontDataFactory&&yn&&$t&&(0,_display_utils.isValidFetchUrl)(yn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)($t,document.baseURI),Sn=Ct.canvasFactory||new DefaultCanvasFactory({ownerDocument:gn}),xn=Ct.filterFactory||new DefaultFilterFactory({docId:Lt,ownerDocument:gn}),wn=null;(0,_util.setVerbosityLevel)(an);const jn={canvasFactory:Sn,filterFactory:xn};if(An||(jn.cMapReaderFactory=new Nt({baseUrl:yn,isCompressed:vn}),jn.standardFontDataFactory=new Ot({baseUrl:$t})),!Zt){const Kn={verbosity:an,port:_worker_options.GlobalWorkerOptions.workerPort};Zt=Kn.port?PDFWorker.fromPort(Kn):new PDFWorker(Kn),At._worker=Zt}const pn={docId:Lt,apiVersion:"3.11.174",data:Bt,password:en,disableAutoFetch:Dn,rangeChunkSize:on,length:rr,docBaseUrl:Xt,enableXfa:sn,evaluatorOptions:{maxImageSize:Ut,disableFontFace:Jt,ignoreErrors:Ft,isEvalSupported:Gt,isOffscreenCanvasSupported:Vt,canvasMaxAreaInBytes:Kt,fontExtraProperties:nn,useSystemFonts:Bn,cMapUrl:An?yn:null,standardFontDataUrl:An?$t:null}},Rn={ignoreErrors:Ft,isEvalSupported:Gt,disableFontFace:Jt,fontExtraProperties:nn,enableXfa:sn,ownerDocument:gn,disableAutoFetch:Dn,pdfBug:Gn,styleElement:wn};return Zt.promise.then(function(){if(At.destroyed)throw new Error("Loading aborted");const Kn=_fetchDocument(Zt,pn),tr=new Promise(function(ir){let On;rn?On=new _transport_stream.PDFDataTransportStream({length:rr,initialData:rn.initialData,progressiveDone:rn.progressiveDone,contentDispositionFilename:rn.contentDispositionFilename,disableRange:fn,disableStream:In},rn):Bt||(On=(Xn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Xn):(0,_display_utils.isValidFetchUrl)(Xn.url)?new _displayFetch_stream.PDFFetchStream(Xn):new _displayNetwork.PDFNetworkStream(Xn))({url:jt,length:rr,httpHeaders:zt,withCredentials:Yt,rangeChunkSize:on,disableRange:fn,disableStream:In})),ir(On)});return Promise.all([Kn,tr]).then(function(ir){let[On,Qn]=ir;if(At.destroyed)throw new Error("Loading aborted");const Xn=new _message_handler.MessageHandler(Lt,On,Zt.port),or=new WorkerTransport(Xn,At,Qn,Rn,jn);At._transport=or,Xn.send("Ready",null)})}).catch(At._capability.reject),At}async function _fetchDocument(Ct,At){if(Ct.destroyed)throw new Error("Worker was destroyed");const Lt=await Ct.messageHandler.sendWithPromise("GetDocRequest",At,At.data?[At.data.buffer]:null);if(Ct.destroyed)throw new Error("Worker was destroyed");return Lt}function getUrlProp(Ct){if(Ct instanceof URL)return Ct.href;try{return new URL(Ct,window.location).href}catch{if(_util.isNodeJS&&typeof Ct=="string")return Ct}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Ct){if(_util.isNodeJS&&typeof Buffer<"u"&&Ct instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Ct instanceof Uint8Array&&Ct.byteLength===Ct.buffer.byteLength)return Ct;if(typeof Ct=="string")return(0,_util.stringToBytes)(Ct);if(typeof Ct=="object"&&!isNaN(Ct==null?void 0:Ct.length)||(0,_util.isArrayBuffer)(Ct))return new Uint8Array(Ct);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${os(e,a)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var At,Lt,jt;this.destroyed=!0;try{(At=this._worker)!=null&&At.port&&(this._worker._pendingDestroy=!0),await((Lt=this._transport)==null?void 0:Lt.destroy())}catch(Bt){throw(jt=this._worker)!=null&&jt.port&&delete this._worker._pendingDestroy,Bt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};a=new WeakMap,bn(e,a,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(At,Lt){let jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Bt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=At,this.initialData=Lt,this.progressiveDone=jt,this.contentDispositionFilename=Bt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(At){this._rangeListeners.push(At)}addProgressListener(At){this._progressListeners.push(At)}addProgressiveReadListener(At){this._progressiveReadListeners.push(At)}addProgressiveDoneListener(At){this._progressiveDoneListeners.push(At)}onDataRange(At,Lt){for(const jt of this._rangeListeners)jt(At,Lt)}onDataProgress(At,Lt){this._readyCapability.promise.then(()=>{for(const jt of this._progressListeners)jt(At,Lt)})}onDataProgressiveRead(At){this._readyCapability.promise.then(()=>{for(const Lt of this._progressiveReadListeners)Lt(At)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const At of this._progressiveDoneListeners)At()})}transportReady(){this._readyCapability.resolve()}requestDataRange(At,Lt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(At,Lt){this._pdfInfo=At,this._transport=Lt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(jt=>{if(!jt)return jt;const Bt=[];for(const zt in jt)Bt.push(...jt[zt]);return Bt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(At){return this._transport.getPage(At)}getPageIndex(At){return this._transport.getPageIndex(At)}getDestinations(){return this._transport.getDestinations()}getDestination(At){return this._transport.getDestination(At)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(At||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(At,Lt,jt){bn(this,et);bn(this,nt);bn(this,o,null);bn(this,c,!1);let Bt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._pageIndex=At,this._pageInfo=Lt,this._transport=jt,this._stats=Bt?new _display_utils.StatTimer:null,this._pdfBug=Bt,this.commonObjs=jt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:At,rotation:Lt=this.rotate,offsetX:jt=0,offsetY:Bt=0,dontFlip:zt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:At,rotation:Lt,offsetX:jt,offsetY:Bt,dontFlip:zt})}getAnnotations(){let{intent:At="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Lt=this._transport.getRenderingIntent(At);return this._transport.getAnnotations(this._pageIndex,Lt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var At;return((At=this._transport._htmlForXfa)==null?void 0:At.children[this._pageIndex])||null}render(At){var Ft,Ut;let{canvasContext:Lt,viewport:jt,intent:Bt="display",annotationMode:zt=_util.AnnotationMode.ENABLE,transform:Yt=null,background:en=null,optionalContentConfigPromise:rn=null,annotationCanvasMap:on=null,pageColors:Zt=null,printAnnotationStorage:an=null}=At;(Ft=this._stats)==null||Ft.time("Overall");const Xt=this._transport.getRenderingIntent(Bt,zt,an);Vn(this,c,!1),Mn(this,nt,As).call(this),rn||(rn=this._transport.getOptionalContentConfig());let yn=this._intentStates.get(Xt.cacheKey);yn||(yn=Object.create(null),this._intentStates.set(Xt.cacheKey,yn)),yn.streamReaderCancelTimeout&&(clearTimeout(yn.streamReaderCancelTimeout),yn.streamReaderCancelTimeout=null);const vn=!!(Xt.renderingIntent&_util.RenderingIntentFlag.PRINT);yn.displayReadyCapability||(yn.displayReadyCapability=new _util.PromiseCapability,yn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ut=this._stats)==null||Ut.time("Page Request"),this._pumpOperatorList(Xt));const Nt=Gt=>{var Vt,Kt;yn.renderTasks.delete($t),(this._maybeCleanupAfterRender||vn)&&Vn(this,c,!0),Mn(this,et,Jr).call(this,!vn),Gt?($t.capability.reject(Gt),this._abortOperatorList({intentState:yn,reason:Gt instanceof Error?Gt:new Error(Gt)})):$t.capability.resolve(),(Vt=this._stats)==null||Vt.timeEnd("Rendering"),(Kt=this._stats)==null||Kt.timeEnd("Overall")},$t=new InternalRenderTask({callback:Nt,params:{canvasContext:Lt,viewport:jt,transform:Yt,background:en},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:on,operatorList:yn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!vn,pdfBug:this._pdfBug,pageColors:Zt});(yn.renderTasks||(yn.renderTasks=new Set)).add($t);const Ot=$t.task;return Promise.all([yn.displayReadyCapability.promise,rn]).then(Gt=>{var Jt;let[Vt,Kt]=Gt;if(this.destroyed){Nt();return}(Jt=this._stats)==null||Jt.time("Rendering"),$t.initializeGraphics({transparency:Vt,optionalContentConfig:Kt}),$t.operatorListChanged()}).catch(Nt),Ot}getOperatorList(){var rn;let{intent:At="display",annotationMode:Lt=_util.AnnotationMode.ENABLE,printAnnotationStorage:jt=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Bt(){Yt.operatorList.lastChunk&&(Yt.opListReadCapability.resolve(Yt.operatorList),Yt.renderTasks.delete(en))}const zt=this._transport.getRenderingIntent(At,Lt,jt,!0);let Yt=this._intentStates.get(zt.cacheKey);Yt||(Yt=Object.create(null),this._intentStates.set(zt.cacheKey,Yt));let en;return Yt.opListReadCapability||(en=Object.create(null),en.operatorListChanged=Bt,Yt.opListReadCapability=new _util.PromiseCapability,(Yt.renderTasks||(Yt.renderTasks=new Set)).add(en),Yt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(rn=this._stats)==null||rn.time("Page Request"),this._pumpOperatorList(zt)),Yt.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:At=!1,disableNormalization:Lt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:At===!0,disableNormalization:Lt===!0},{highWaterMark:100,size(Bt){return Bt.items.length}})}getTextContent(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(jt=>_xfa_text.XfaText.textContent(jt));const Lt=this.streamTextContent(At);return new Promise(function(jt,Bt){function zt(){Yt.read().then(function(rn){let{value:on,done:Zt}=rn;if(Zt){jt(en);return}Object.assign(en.styles,on.styles),en.items.push(...on.items),zt()},Bt)}const Yt=Lt.getReader(),en={items:[],styles:Object.create(null)};zt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const At=[];for(const Lt of this._intentStates.values())if(this._abortOperatorList({intentState:Lt,reason:new Error("Page was destroyed."),force:!0}),!Lt.opListReadCapability)for(const jt of Lt.renderTasks)At.push(jt.completed),jt.cancel();return this.objs.clear(),Vn(this,c,!1),Mn(this,nt,As).call(this),Promise.all(At)}cleanup(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Vn(this,c,!0);const Lt=Mn(this,et,Jr).call(this,!1);return At&&Lt&&this._stats&&(this._stats=new _display_utils.StatTimer),Lt}_startRenderPage(At,Lt){var Bt,zt;const jt=this._intentStates.get(Lt);jt&&((Bt=this._stats)==null||Bt.timeEnd("Page Request"),(zt=jt.displayReadyCapability)==null||zt.resolve(At))}_renderPageChunk(At,Lt){for(let jt=0,Bt=At.length;jt<Bt;jt++)Lt.operatorList.fnArray.push(At.fnArray[jt]),Lt.operatorList.argsArray.push(At.argsArray[jt]);Lt.operatorList.lastChunk=At.lastChunk,Lt.operatorList.separateAnnots=At.separateAnnots;for(const jt of Lt.renderTasks)jt.operatorListChanged();At.lastChunk&&Mn(this,et,Jr).call(this,!0)}_pumpOperatorList(At){let{renderingIntent:Lt,cacheKey:jt,annotationStorageSerializable:Bt}=At;const{map:zt,transfers:Yt}=Bt,rn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Lt,cacheKey:jt,annotationStorage:zt},Yt).getReader(),on=this._intentStates.get(jt);on.streamReader=rn;const Zt=()=>{rn.read().then(an=>{let{value:Xt,done:yn}=an;if(yn){on.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Xt,on),Zt())},an=>{if(on.streamReader=null,!this._transport.destroyed){if(on.operatorList){on.operatorList.lastChunk=!0;for(const Xt of on.renderTasks)Xt.operatorListChanged();Mn(this,et,Jr).call(this,!0)}if(on.displayReadyCapability)on.displayReadyCapability.reject(an);else if(on.opListReadCapability)on.opListReadCapability.reject(an);else throw an}})};Zt()}_abortOperatorList(At){let{intentState:Lt,reason:jt,force:Bt=!1}=At;if(Lt.streamReader){if(Lt.streamReaderCancelTimeout&&(clearTimeout(Lt.streamReaderCancelTimeout),Lt.streamReaderCancelTimeout=null),!Bt){if(Lt.renderTasks.size>0)return;if(jt instanceof _display_utils.RenderingCancelledException){let zt=RENDERING_CANCELLED_TIMEOUT;jt.extraDelay>0&&jt.extraDelay<1e3&&(zt+=jt.extraDelay),Lt.streamReaderCancelTimeout=setTimeout(()=>{Lt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Lt,reason:jt,force:!0})},zt);return}}if(Lt.streamReader.cancel(new _util.AbortException(jt.message)).catch(()=>{}),Lt.streamReader=null,!this._transport.destroyed){for(const[zt,Yt]of this._intentStates)if(Yt===Lt){this._intentStates.delete(zt);break}this.cleanup()}}}get stats(){return this._stats}}o=new WeakMap,c=new WeakMap,et=new WeakSet,Jr=function(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Mn(this,nt,As).call(this),!Wt(this,c)||this.destroyed)return!1;if(At)return Vn(this,o,setTimeout(()=>{Vn(this,o,null),Mn(this,et,Jr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Lt,operatorList:jt}of this._intentStates.values())if(Lt.size>0||!jt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Vn(this,c,!1),!0},nt=new WeakSet,As=function(){Wt(this,o)&&(clearTimeout(Wt(this,o)),Vn(this,o,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){bn(this,mt,new Set);bn(this,gt,Promise.resolve())}postMessage(At,Lt){const jt={data:structuredClone(At,null)};Wt(this,gt).then(()=>{for(const Bt of Wt(this,mt))Bt.call(this,jt)})}addEventListener(At,Lt){Wt(this,mt).add(Lt)}removeEventListener(At,Lt){Wt(this,mt).delete(Lt)}terminate(){Wt(this,mt).clear()}}mt=new WeakMap,gt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Ct=(yt=document==null?void 0:document.currentScript)==null?void 0:yt.src;Ct&&(PDFWorkerUtil.fallbackWorkerSrc=Ct.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ct,At){let Lt;try{if(Lt=new URL(Ct),!Lt.origin||Lt.origin==="null")return!1}catch{return!1}const jt=new URL(At,Lt);return Lt.origin===jt.origin},PDFWorkerUtil.createCDNWrapper=function(Ct){const At=`importScripts("${Ct}");`;return URL.createObjectURL(new Blob([At]))}}const _PDFWorker=class _PDFWorker{constructor(){var jt;let{name:Ct=null,port:At=null,verbosity:Lt=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.name=Ct,this.destroyed=!1,this.verbosity=Lt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,At){if((jt=Wt(_PDFWorker,vt))!=null&&jt.has(At))throw new Error("Cannot use more than one PDFWorker per port.");(Wt(_PDFWorker,vt)||Vn(_PDFWorker,vt,new WeakMap)).set(At,this),this._initializeFromPort(At);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ct){this._port=Ct,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ct),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Ct}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ct)||(Ct=PDFWorkerUtil.createCDNWrapper(new URL(Ct,window.location).href));const At=new Worker(Ct),Lt=new _message_handler.MessageHandler("main","worker",At),jt=()=>{At.removeEventListener("error",Bt),Lt.destroy(),At.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Bt=()=>{this._webWorker||jt()};At.addEventListener("error",Bt),Lt.on("test",Yt=>{if(At.removeEventListener("error",Bt),this.destroyed){jt();return}Yt?(this._messageHandler=Lt,this._port=At,this._webWorker=At,this._readyCapability.resolve(),Lt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Lt.destroy(),At.terminate())}),Lt.on("ready",Yt=>{if(At.removeEventListener("error",Bt),this.destroyed){jt();return}try{zt()}catch{this._setupFakeWorker()}});const zt=()=>{const Yt=new Uint8Array;Lt.send("test",Yt,[Yt.buffer])};zt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Ct=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const At=new LoopbackPort;this._port=At;const Lt=`fake${PDFWorkerUtil.fakeWorkerId++}`,jt=new _message_handler.MessageHandler(Lt+"_worker",Lt,At);Ct.setup(jt,At);const Bt=new _message_handler.MessageHandler(Lt,Lt+"_worker",At);this._messageHandler=Bt,this._readyCapability.resolve(),Bt.send("configure",{verbosity:this.verbosity})}).catch(Ct=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ct.message}".`))})}destroy(){var Ct;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Ct=Wt(_PDFWorker,vt))==null||Ct.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ct){var Lt;if(!(Ct!=null&&Ct.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const At=(Lt=Wt(this,vt))==null?void 0:Lt.get(Ct.port);if(At){if(At._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return At}return new _PDFWorker(Ct)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Ct;try{return((Ct=globalThis.pdfjsWorker)==null?void 0:Ct.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};vt=new WeakMap,bn(_PDFWorker,vt,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(At,Lt,jt,Bt,zt){bn(this,St);bn(this,xt,new Map);bn(this,bt,new Map);bn(this,Et,new Map);bn(this,wt,null);this.messageHandler=At,this.loadingTask=Lt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Bt.ownerDocument,styleElement:Bt.styleElement}),this._params=Bt,this.canvasFactory=zt.canvasFactory,this.filterFactory=zt.filterFactory,this.cMapReaderFactory=zt.cMapReaderFactory,this.standardFontDataFactory=zt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=jt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(At){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Bt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,zt=_util.RenderingIntentFlag.DISPLAY,Yt=_annotation_storage.SerializableEmpty;switch(At){case"any":zt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":zt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${At}`)}switch(Lt){case _util.AnnotationMode.DISABLE:zt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:zt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:zt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Yt=(zt&_util.RenderingIntentFlag.PRINT&&jt instanceof _annotation_storage.PrintAnnotationStorage?jt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Lt}`)}return Bt&&(zt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:zt,cacheKey:`${zt}_${Yt.hash}`,annotationStorageSerializable:Yt}}destroy(){var jt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(jt=Wt(this,wt))==null||jt.reject(new Error("Worker was destroyed during onPassword callback"));const At=[];for(const Bt of Wt(this,bt).values())At.push(Bt._destroy());Wt(this,bt).clear(),Wt(this,Et).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Lt=this.messageHandler.sendWithPromise("Terminate",null);return At.push(Lt),Promise.all(At).then(()=>{var Bt;this.commonObjs.clear(),this.fontLoader.clear(),Wt(this,xt).clear(),this.filterFactory.destroy(),(Bt=this._networkStream)==null||Bt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:At,loadingTask:Lt}=this;At.on("GetReader",(jt,Bt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=zt=>{this._lastProgress={loaded:zt.loaded,total:zt.total}},Bt.onPull=()=>{this._fullReader.read().then(function(zt){let{value:Yt,done:en}=zt;if(en){Bt.close();return}(0,_util.assert)(Yt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Bt.enqueue(new Uint8Array(Yt),1,[Yt])}).catch(zt=>{Bt.error(zt)})},Bt.onCancel=zt=>{this._fullReader.cancel(zt),Bt.ready.catch(Yt=>{if(!this.destroyed)throw Yt})}}),At.on("ReaderHeadersReady",jt=>{const Bt=new _util.PromiseCapability,zt=this._fullReader;return zt.headersReady.then(()=>{var Yt;(!zt.isStreamingSupported||!zt.isRangeSupported)&&(this._lastProgress&&((Yt=Lt.onProgress)==null||Yt.call(Lt,this._lastProgress)),zt.onProgress=en=>{var rn;(rn=Lt.onProgress)==null||rn.call(Lt,{loaded:en.loaded,total:en.total})}),Bt.resolve({isStreamingSupported:zt.isStreamingSupported,isRangeSupported:zt.isRangeSupported,contentLength:zt.contentLength})},Bt.reject),Bt.promise}),At.on("GetRangeReader",(jt,Bt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const zt=this._networkStream.getRangeReader(jt.begin,jt.end);if(!zt){Bt.close();return}Bt.onPull=()=>{zt.read().then(function(Yt){let{value:en,done:rn}=Yt;if(rn){Bt.close();return}(0,_util.assert)(en instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Bt.enqueue(new Uint8Array(en),1,[en])}).catch(Yt=>{Bt.error(Yt)})},Bt.onCancel=Yt=>{zt.cancel(Yt),Bt.ready.catch(en=>{if(!this.destroyed)throw en})}}),At.on("GetDoc",jt=>{let{pdfInfo:Bt}=jt;this._numPages=Bt.numPages,this._htmlForXfa=Bt.htmlForXfa,delete Bt.htmlForXfa,Lt._capability.resolve(new PDFDocumentProxy(Bt,this))}),At.on("DocException",function(jt){let Bt;switch(jt.name){case"PasswordException":Bt=new _util.PasswordException(jt.message,jt.code);break;case"InvalidPDFException":Bt=new _util.InvalidPDFException(jt.message);break;case"MissingPDFException":Bt=new _util.MissingPDFException(jt.message);break;case"UnexpectedResponseException":Bt=new _util.UnexpectedResponseException(jt.message,jt.status);break;case"UnknownErrorException":Bt=new _util.UnknownErrorException(jt.message,jt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Lt._capability.reject(Bt)}),At.on("PasswordRequest",jt=>{if(Vn(this,wt,new _util.PromiseCapability),Lt.onPassword){const Bt=zt=>{zt instanceof Error?Wt(this,wt).reject(zt):Wt(this,wt).resolve({password:zt})};try{Lt.onPassword(Bt,jt.code)}catch(zt){Wt(this,wt).reject(zt)}}else Wt(this,wt).reject(new _util.PasswordException(jt.message,jt.code));return Wt(this,wt).promise}),At.on("DataLoaded",jt=>{var Bt;(Bt=Lt.onProgress)==null||Bt.call(Lt,{loaded:jt.length,total:jt.length}),this.downloadInfoCapability.resolve(jt)}),At.on("StartRenderPage",jt=>{if(this.destroyed)return;Wt(this,bt).get(jt.pageIndex)._startRenderPage(jt.transparency,jt.cacheKey)}),At.on("commonobj",jt=>{var en;let[Bt,zt,Yt]=jt;if(!this.destroyed&&!this.commonObjs.has(Bt))switch(zt){case"Font":const rn=this._params;if("error"in Yt){const an=Yt.error;(0,_util.warn)(`Error during font loading: ${an}`),this.commonObjs.resolve(Bt,an);break}const on=rn.pdfBug&&((en=globalThis.FontInspector)!=null&&en.enabled)?(an,Xt)=>globalThis.FontInspector.fontAdded(an,Xt):null,Zt=new _font_loader.FontFaceObject(Yt,{isEvalSupported:rn.isEvalSupported,disableFontFace:rn.disableFontFace,ignoreErrors:rn.ignoreErrors,inspectFont:on});this.fontLoader.bind(Zt).catch(an=>At.sendWithPromise("FontFallback",{id:Bt})).finally(()=>{!rn.fontExtraProperties&&Zt.data&&(Zt.data=null),this.commonObjs.resolve(Bt,Zt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Bt,Yt);break;default:throw new Error(`Got unknown common object type ${zt}`)}}),At.on("obj",jt=>{var on;let[Bt,zt,Yt,en]=jt;if(this.destroyed)return;const rn=Wt(this,bt).get(zt);if(!rn.objs.has(Bt))switch(Yt){case"Image":if(rn.objs.resolve(Bt,en),en){let Zt;if(en.bitmap){const{width:an,height:Xt}=en;Zt=an*Xt*4}else Zt=((on=en.data)==null?void 0:on.length)||0;Zt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(rn._maybeCleanupAfterRender=!0)}break;case"Pattern":rn.objs.resolve(Bt,en);break;default:throw new Error(`Got unknown object type ${Yt}`)}}),At.on("DocProgress",jt=>{var Bt;this.destroyed||(Bt=Lt.onProgress)==null||Bt.call(Lt,{loaded:jt.loaded,total:jt.total})}),At.on("FetchBuiltInCMap",jt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(jt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),At.on("FetchStandardFontData",jt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(jt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var jt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:At,transfers:Lt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:At,filename:((jt=this._fullReader)==null?void 0:jt.filename)??null},Lt).finally(()=>{this.annotationStorage.resetModified()})}getPage(At){if(!Number.isInteger(At)||At<=0||At>this._numPages)return Promise.reject(new Error("Invalid page request."));const Lt=At-1,jt=Wt(this,Et).get(Lt);if(jt)return jt;const Bt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Lt}).then(zt=>{if(this.destroyed)throw new Error("Transport destroyed");const Yt=new PDFPageProxy(Lt,zt,this,this._params.pdfBug);return Wt(this,bt).set(Lt,Yt),Yt});return Wt(this,Et).set(Lt,Bt),Bt}getPageIndex(At){return typeof At!="object"||At===null||!Number.isInteger(At.num)||At.num<0||!Number.isInteger(At.gen)||At.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:At.num,gen:At.gen})}getAnnotations(At,Lt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:At,intent:Lt})}getFieldObjects(){return Mn(this,St,Rs).call(this,"GetFieldObjects")}hasJSActions(){return Mn(this,St,Rs).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(At){return typeof At!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:At})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Mn(this,St,Rs).call(this,"GetDocJSActions")}getPageJSActions(At){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:At})}getStructTree(At){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:At})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(At=>new _optional_content_config.OptionalContentConfig(At))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const At="GetMetadata",Lt=Wt(this,xt).get(At);if(Lt)return Lt;const jt=this.messageHandler.sendWithPromise(At,null).then(Bt=>{var zt,Yt;return{info:Bt[0],metadata:Bt[1]?new _metadata.Metadata(Bt[1]):null,contentDispositionFilename:((zt=this._fullReader)==null?void 0:zt.filename)??null,contentLength:((Yt=this._fullReader)==null?void 0:Yt.contentLength)??null}});return Wt(this,xt).set(At,jt),jt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Lt of Wt(this,bt).values())if(!Lt.cleanup())throw new Error(`startCleanup: Page ${Lt.pageNumber} is currently rendering.`);this.commonObjs.clear(),At||this.fontLoader.clear(),Wt(this,xt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:At,enableXfa:Lt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:At,enableXfa:Lt})}}xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,wt=new WeakMap,St=new WeakSet,Rs=function(At){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const jt=Wt(this,xt).get(At);if(jt)return jt;const Bt=this.messageHandler.sendWithPromise(At,Lt);return Wt(this,xt).set(At,Bt),Bt};class PDFObjects{constructor(){bn(this,_t);bn(this,kt,Object.create(null))}get(At){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Lt){const Bt=Mn(this,_t,qs).call(this,At);return Bt.capability.promise.then(()=>Lt(Bt.data)),null}const jt=Wt(this,kt)[At];if(!(jt!=null&&jt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${At}.`);return jt.data}has(At){const Lt=Wt(this,kt)[At];return(Lt==null?void 0:Lt.capability.settled)||!1}resolve(At){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const jt=Mn(this,_t,qs).call(this,At);jt.data=Lt,jt.capability.resolve()}clear(){var At;for(const Lt in Wt(this,kt)){const{data:jt}=Wt(this,kt)[Lt];(At=jt==null?void 0:jt.bitmap)==null||At.close()}Vn(this,kt,Object.create(null))}}kt=new WeakMap,_t=new WeakSet,qs=function(At){var Lt;return(Lt=Wt(this,kt))[At]||(Lt[At]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(At){bn(this,Pt,null);Vn(this,Pt,At),this.onContinue=null}get promise(){return Wt(this,Pt).capability.promise}cancel(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;Wt(this,Pt).cancel(null,At)}get separateAnnots(){const{separateAnnots:At}=Wt(this,Pt).operatorList;if(!At)return!1;const{annotationCanvasMap:Lt}=Wt(this,Pt);return At.form||At.canvas&&(Lt==null?void 0:Lt.size)>0}}Pt=new WeakMap,exports.RenderTask=RenderTask;const Dt=class Dt{constructor(At){let{callback:Lt,params:jt,objs:Bt,commonObjs:zt,annotationCanvasMap:Yt,operatorList:en,pageIndex:rn,canvasFactory:on,filterFactory:Zt,useRequestAnimationFrame:an=!1,pdfBug:Xt=!1,pageColors:yn=null}=At;this.callback=Lt,this.params=jt,this.objs=Bt,this.commonObjs=zt,this.annotationCanvasMap=Yt,this.operatorListIdx=null,this.operatorList=en,this._pageIndex=rn,this.canvasFactory=on,this.filterFactory=Zt,this._pdfBug=Xt,this.pageColors=yn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=an===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=jt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(At){var rn,on;let{transparency:Lt=!1,optionalContentConfig:jt}=At;if(this.cancelled)return;if(this._canvas){if(Wt(Dt,It).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Wt(Dt,It).add(this._canvas)}this._pdfBug&&((rn=globalThis.StepperManager)!=null&&rn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Bt,viewport:zt,transform:Yt,background:en}=this.params;this.gfx=new _canvas.CanvasGraphics(Bt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:jt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Yt,viewport:zt,transparency:Lt,background:en}),this.operatorListIdx=0,this.graphicsReady=!0,(on=this.graphicsReadyCallback)==null||on.call(this)}cancel(){var jt;let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,(jt=this.gfx)==null||jt.endDrawing(),Wt(Dt,It).delete(this._canvas),this.callback(At||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Lt))}operatorListChanged(){var At;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(At=this.stepper)==null||At.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Wt(Dt,It).delete(this._canvas),this.callback())))}};It=new WeakMap,bn(Dt,It,new WeakSet);let InternalRenderTask=Dt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(a,e,o)=>{var c=o(3),et=o(126),tt=o(135);c({target:"Set",proto:!0,real:!0,forced:!tt("difference")},{difference:et})},(a,e,o)=>{var c=o(127),et=o(128),tt=o(129),nt=o(132),rt=o(133),mt=o(130),gt=o(131),yt=et.has,vt=et.remove;a.exports=function(bt){var Et=c(this),wt=rt(bt),St=tt(Et);return nt(Et)<=wt.size?mt(Et,function(Tt){wt.includes(Tt)&&vt(St,Tt)}):gt(wt.getIterator(),function(Tt){yt(Et,Tt)&&vt(St,Tt)}),St}},(a,e,o)=>{var c=o(128).has;a.exports=function(et){return c(et),et}},(a,e,o)=>{var c=o(14),et=Set.prototype;a.exports={Set,add:c(et.add),has:c(et.has),remove:c(et.delete),proto:et}},(a,e,o)=>{var c=o(128),et=o(130),tt=c.Set,nt=c.add;a.exports=function(rt){var mt=new tt;return et(rt,function(gt){nt(mt,gt)}),mt}},(a,e,o)=>{var c=o(14),et=o(131),tt=o(128),nt=tt.Set,rt=tt.proto,mt=c(rt.forEach),gt=c(rt.keys),yt=gt(new nt).next;a.exports=function(vt,xt,bt){return bt?et({iterator:gt(vt),next:yt},xt):mt(vt,xt)}},(a,e,o)=>{var c=o(8);a.exports=function(et,tt,nt){for(var rt=nt?et:et.iterator,mt=et.next,gt,yt;!(gt=c(mt,rt)).done;)if(yt=tt(gt.value),yt!==void 0)return yt}},(a,e,o)=>{var c=o(72),et=o(128);a.exports=c(et.proto,"size","get")||function(tt){return tt.size}},(a,e,o)=>{var c=o(31),et=o(47),tt=o(8),nt=o(62),rt=o(134),mt="Invalid size",gt=RangeError,yt=TypeError,vt=Math.max,xt=function(bt,Et,wt,St){this.set=bt,this.size=Et,this.has=wt,this.keys=St};xt.prototype={getIterator:function(){return rt(et(tt(this.keys,this.set)))},includes:function(bt){return tt(this.has,this.set,bt)}},a.exports=function(bt){et(bt);var Et=+bt.size;if(Et!==Et)throw yt(mt);var wt=nt(Et);if(wt<0)throw gt(mt);return new xt(bt,vt(wt,0),c(bt.has),c(bt.keys))}},a=>{a.exports=function(e){return{iterator:e,next:e.next,done:!1}}},(a,e,o)=>{var c=o(24),et=function(tt){return{size:tt,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};a.exports=function(tt){var nt=c("Set");try{new nt()[tt](et(0));try{return new nt()[tt](et(-1)),!1}catch{return!0}}catch{return!1}}},(a,e,o)=>{var c=o(3),et=o(7),tt=o(137),nt=o(135),rt=!nt("intersection")||et(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});c({target:"Set",proto:!0,real:!0,forced:rt},{intersection:tt})},(a,e,o)=>{var c=o(127),et=o(128),tt=o(132),nt=o(133),rt=o(130),mt=o(131),gt=et.Set,yt=et.add,vt=et.has;a.exports=function(bt){var Et=c(this),wt=nt(bt),St=new gt;return tt(Et)>wt.size?mt(wt.getIterator(),function(Tt){vt(Et,Tt)&&yt(St,Tt)}):rt(Et,function(Tt){wt.includes(Tt)&&yt(St,Tt)}),St}},(a,e,o)=>{var c=o(3),et=o(139),tt=o(135);c({target:"Set",proto:!0,real:!0,forced:!tt("isDisjointFrom")},{isDisjointFrom:et})},(a,e,o)=>{var c=o(127),et=o(128).has,tt=o(132),nt=o(133),rt=o(130),mt=o(131),gt=o(140);a.exports=function(vt){var xt=c(this),bt=nt(vt);if(tt(xt)<=bt.size)return rt(xt,function(wt){if(bt.includes(wt))return!1},!0)!==!1;var Et=bt.getIterator();return mt(Et,function(wt){if(et(xt,wt))return gt(Et,"normal",!1)})!==!1}},(a,e,o)=>{var c=o(8),et=o(47),tt=o(30);a.exports=function(nt,rt,mt){var gt,yt;et(nt);try{if(gt=tt(nt,"return"),!gt){if(rt==="throw")throw mt;return mt}gt=c(gt,nt)}catch(vt){yt=!0,gt=vt}if(rt==="throw")throw mt;if(yt)throw gt;return et(gt),mt}},(a,e,o)=>{var c=o(3),et=o(142),tt=o(135);c({target:"Set",proto:!0,real:!0,forced:!tt("isSubsetOf")},{isSubsetOf:et})},(a,e,o)=>{var c=o(127),et=o(132),tt=o(130),nt=o(133);a.exports=function(mt){var gt=c(this),yt=nt(mt);return et(gt)>yt.size?!1:tt(gt,function(vt){if(!yt.includes(vt))return!1},!0)!==!1}},(a,e,o)=>{var c=o(3),et=o(144),tt=o(135);c({target:"Set",proto:!0,real:!0,forced:!tt("isSupersetOf")},{isSupersetOf:et})},(a,e,o)=>{var c=o(127),et=o(128).has,tt=o(132),nt=o(133),rt=o(131),mt=o(140);a.exports=function(yt){var vt=c(this),xt=nt(yt);if(tt(vt)<xt.size)return!1;var bt=xt.getIterator();return rt(bt,function(Et){if(!et(vt,Et))return mt(bt,"normal",!1)})!==!1}},(a,e,o)=>{var c=o(3),et=o(146),tt=o(135);c({target:"Set",proto:!0,real:!0,forced:!tt("symmetricDifference")},{symmetricDifference:et})},(a,e,o)=>{var c=o(127),et=o(128),tt=o(129),nt=o(133),rt=o(131),mt=et.add,gt=et.has,yt=et.remove;a.exports=function(xt){var bt=c(this),Et=nt(xt).getIterator(),wt=tt(bt);return rt(Et,function(St){gt(bt,St)?yt(wt,St):mt(wt,St)}),wt}},(a,e,o)=>{var c=o(3),et=o(148),tt=o(135);c({target:"Set",proto:!0,real:!0,forced:!tt("union")},{union:et})},(a,e,o)=>{var c=o(127),et=o(128).add,tt=o(129),nt=o(133),rt=o(131);a.exports=function(gt){var yt=c(this),vt=nt(gt).getIterator(),xt=tt(yt);return rt(vt,function(bt){et(xt,bt)}),xt}},(a,e,o)=>{var c=o(3),et=o(4),tt=o(24),nt=o(11),rt=o(45).f,mt=o(39),gt=o(150),yt=o(75),vt=o(76),xt=o(151),bt=o(82),Et=o(6),wt=o(36),St="DOMException",Tt=tt("Error"),kt=tt(St),_t=function(){gt(this,Mt);var rn=arguments.length,on=vt(rn<1?void 0:arguments[0]),Zt=vt(rn<2?void 0:arguments[1],"Error"),an=new kt(on,Zt),Xt=Tt(on);return Xt.name=St,rt(an,"stack",nt(1,bt(Xt.stack,1))),yt(an,this,_t),an},Mt=_t.prototype=kt.prototype,Pt="stack"in Tt(St),It="stack"in new kt(1,2),Dt=kt&&Et&&Object.getOwnPropertyDescriptor(et,St),Ct=!!Dt&&!(Dt.writable&&Dt.configurable),At=Pt&&!Ct&&!It;c({global:!0,constructor:!0,forced:wt||At},{DOMException:At?_t:kt});var Lt=tt(St),jt=Lt.prototype;if(jt.constructor!==Lt){wt||rt(jt,"constructor",nt(1,Lt));for(var Bt in xt)if(mt(xt,Bt)){var zt=xt[Bt],Yt=zt.s;mt(Lt,Yt)||rt(Lt,Yt,nt(6,zt.c))}}},(a,e,o)=>{var c=o(25),et=TypeError;a.exports=function(tt,nt){if(c(nt,tt))return tt;throw et("Incorrect invocation")}},a=>{a.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},(a,e,o)=>{var c=o(36),et=o(3),tt=o(4),nt=o(24),rt=o(14),mt=o(7),gt=o(41),yt=o(21),vt=o(153),xt=o(17),bt=o(20),Et=o(23),wt=o(154),St=o(47),Tt=o(78),kt=o(39),_t=o(159),Mt=o(44),Pt=o(64),It=o(85),Dt=o(160),Ct=o(162),At=o(128),Lt=o(83),jt=o(119),Bt=tt.Object,zt=tt.Array,Yt=tt.Date,en=tt.Error,rn=tt.EvalError,on=tt.RangeError,Zt=tt.ReferenceError,an=tt.SyntaxError,Xt=tt.TypeError,yn=tt.URIError,vn=tt.PerformanceMark,Nt=tt.WebAssembly,$t=Nt&&Nt.CompileError||en,Ot=Nt&&Nt.LinkError||en,Ft=Nt&&Nt.RuntimeError||en,Ut=nt("DOMException"),Gt=Ct.Map,Vt=Ct.has,Kt=Ct.get,Jt=Ct.set,nn=At.Set,sn=At.add,gn=nt("Object","keys"),fn=rt([].push),In=rt((!0).valueOf),Dn=rt(1 .valueOf),Gn=rt("".valueOf),rr=rt(Yt.prototype.getTime),Bn=gt("structuredClone"),An="DataCloneError",Sn="Transferring",xn=function(Ln){return!mt(function(){var dn=new tt.Set([7]),zn=Ln(dn),Yn=Ln(Bt(7));return zn===dn||!zn.has(7)||typeof Yn!="object"||+Yn!=7})&&Ln},wn=function(Ln,dn){return!mt(function(){var zn=new dn,Yn=Ln({a:zn,b:zn});return!(Yn&&Yn.a===Yn.b&&Yn.a instanceof dn&&Yn.a.stack===zn.stack)})},jn=function(Ln){return!mt(function(){var dn=Ln(new tt.AggregateError([1],Bn,{cause:3}));return dn.name!=="AggregateError"||dn.errors[0]!==1||dn.message!==Bn||dn.cause!==3})},pn=tt.structuredClone,Rn=c||!wn(pn,en)||!wn(pn,Ut)||!jn(pn),Kn=!pn&&xn(function(Ln){return new vn(Bn,{detail:Ln}).detail}),tr=xn(pn)||Kn,ir=function(Ln){throw new Ut("Uncloneable type: "+Ln,An)},On=function(Ln,dn){throw new Ut((dn||"Cloning")+" of "+Ln+" cannot be properly polyfilled in this engine",An)},Qn=function(Ln,dn){return tr||On(dn),tr(Ln)},Xn=function(){var Ln;try{Ln=new tt.DataTransfer}catch{try{Ln=new tt.ClipboardEvent("").clipboardData}catch{}}return Ln&&Ln.items&&Ln.files?Ln:null},or=function(Ln,dn,zn){if(Vt(dn,Ln))return Kt(dn,Ln);var Yn=zn||Tt(Ln),hn,Pn,Tn,Zn,$n,qn;if(Yn==="SharedArrayBuffer")tr?hn=tr(Ln):hn=Ln;else{var Wn=tt.DataView;!Wn&&typeof Ln.slice!="function"&&On("ArrayBuffer");try{if(typeof Ln.slice=="function"&&!Ln.resizable)hn=Ln.slice(0);else for(Pn=Ln.byteLength,Tn=("maxByteLength"in Ln)?{maxByteLength:Ln.maxByteLength}:void 0,hn=new ArrayBuffer(Pn,Tn),Zn=new Wn(Ln),$n=new Wn(hn),qn=0;qn<Pn;qn++)$n.setUint8(qn,Zn.getUint8(qn))}catch{throw new Ut("ArrayBuffer is detached",An)}}return Jt(dn,Ln,hn),hn},lr=function(Ln,dn,zn,Yn,hn){var Pn=tt[dn];return bt(Pn)||On(dn),new Pn(or(Ln.buffer,hn),zn,Yn)},Un=function(Ln,dn,zn){this.object=Ln,this.type=dn,this.metadata=zn},En=function(Ln,dn,zn){if(Et(Ln)&&ir("Symbol"),!bt(Ln))return Ln;if(dn){if(Vt(dn,Ln))return Kt(dn,Ln)}else dn=new Gt;var Yn=Tt(Ln),hn,Pn,Tn,Zn,$n,qn,Wn,cn;switch(Yn){case"Array":Tn=zt(Pt(Ln));break;case"Object":Tn={};break;case"Map":Tn=new Gt;break;case"Set":Tn=new nn;break;case"RegExp":Tn=new RegExp(Ln.source,Dt(Ln));break;case"Error":switch(Pn=Ln.name,Pn){case"AggregateError":Tn=nt("AggregateError")([]);break;case"EvalError":Tn=rn();break;case"RangeError":Tn=on();break;case"ReferenceError":Tn=Zt();break;case"SyntaxError":Tn=an();break;case"TypeError":Tn=Xt();break;case"URIError":Tn=yn();break;case"CompileError":Tn=$t();break;case"LinkError":Tn=Ot();break;case"RuntimeError":Tn=Ft();break;default:Tn=en()}break;case"DOMException":Tn=new Ut(Ln.message,Ln.name);break;case"ArrayBuffer":case"SharedArrayBuffer":Tn=zn?new Un(Ln,Yn):or(Ln,dn,Yn);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":qn=Yn==="DataView"?Ln.byteLength:Ln.length,Tn=zn?new Un(Ln,Yn,{offset:Ln.byteOffset,length:qn}):lr(Ln,Yn,Ln.byteOffset,qn,dn);break;case"DOMQuad":try{Tn=new DOMQuad(En(Ln.p1,dn,zn),En(Ln.p2,dn,zn),En(Ln.p3,dn,zn),En(Ln.p4,dn,zn))}catch{Tn=Qn(Ln,Yn)}break;case"File":if(tr)try{Tn=tr(Ln),Tt(Tn)!==Yn&&(Tn=void 0)}catch{}if(!Tn)try{Tn=new File([Ln],Ln.name,Ln)}catch{}Tn||On(Yn);break;case"FileList":if(Zn=Xn(),Zn){for($n=0,qn=Pt(Ln);$n<qn;$n++)Zn.items.add(En(Ln[$n],dn,zn));Tn=Zn.files}else Tn=Qn(Ln,Yn);break;case"ImageData":try{Tn=new ImageData(En(Ln.data,dn,zn),Ln.width,Ln.height,{colorSpace:Ln.colorSpace})}catch{Tn=Qn(Ln,Yn)}break;default:if(tr)Tn=tr(Ln);else switch(Yn){case"BigInt":Tn=Bt(Ln.valueOf());break;case"Boolean":Tn=Bt(In(Ln));break;case"Number":Tn=Bt(Dn(Ln));break;case"String":Tn=Bt(Gn(Ln));break;case"Date":Tn=new Yt(rr(Ln));break;case"Blob":try{Tn=Ln.slice(0,Ln.size,Ln.type)}catch{On(Yn)}break;case"DOMPoint":case"DOMPointReadOnly":hn=tt[Yn];try{Tn=hn.fromPoint?hn.fromPoint(Ln):new hn(Ln.x,Ln.y,Ln.z,Ln.w)}catch{On(Yn)}break;case"DOMRect":case"DOMRectReadOnly":hn=tt[Yn];try{Tn=hn.fromRect?hn.fromRect(Ln):new hn(Ln.x,Ln.y,Ln.width,Ln.height)}catch{On(Yn)}break;case"DOMMatrix":case"DOMMatrixReadOnly":hn=tt[Yn];try{Tn=hn.fromMatrix?hn.fromMatrix(Ln):new hn(Ln)}catch{On(Yn)}break;case"AudioData":case"VideoFrame":yt(Ln.clone)||On(Yn);try{Tn=Ln.clone()}catch{ir(Yn)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":On(Yn);default:ir(Yn)}}switch(Jt(dn,Ln,Tn),Yn){case"Array":case"Object":for(Wn=gn(Ln),$n=0,qn=Pt(Wn);$n<qn;$n++)cn=Wn[$n],_t(Tn,cn,En(Ln[cn],dn,zn));break;case"Map":Ln.forEach(function(qt,tn){Jt(Tn,En(tn,dn,zn),En(qt,dn,zn))});break;case"Set":Ln.forEach(function(qt){sn(Tn,En(qt,dn,zn))});break;case"Error":Mt(Tn,"message",En(Ln.message,dn,zn)),kt(Ln,"cause")&&Mt(Tn,"cause",En(Ln.cause,dn,zn)),Pn==="AggregateError"&&(Tn.errors=En(Ln.errors,dn,zn));case"DOMException":Lt&&Mt(Tn,"stack",En(Ln.stack,dn,zn))}return Tn},mn=function(Ln,dn){if(!bt(Ln))return Ln;if(Vt(dn,Ln))return Kt(dn,Ln);var zn,Yn,hn,Pn,Tn,Zn,$n,qn;if(Ln instanceof Un)switch(zn=Ln.type,Yn=Ln.object,zn){case"ArrayBuffer":case"SharedArrayBuffer":qn=or(Yn,dn,zn);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":hn=Ln.metadata,qn=lr(Yn,zn,hn.offset,hn.length,dn)}else switch(Tt(Ln)){case"Array":case"Object":for(Zn=gn(Ln),Pn=0,Tn=Pt(Zn);Pn<Tn;Pn++)$n=Zn[Pn],Ln[$n]=mn(Ln[$n],dn);break;case"Map":qn=new Gt,Ln.forEach(function(Wn,cn){Jt(qn,mn(cn,dn),mn(Wn,dn))});break;case"Set":qn=new nn,Ln.forEach(function(Wn){sn(qn,mn(Wn,dn))});break;case"Error":Ln.message=mn(Ln.message,dn),kt(Ln,"cause")&&(Ln.cause=mn(Ln.cause,dn)),Ln.name==="AggregateError"&&(Ln.errors=mn(Ln.errors,dn));case"DOMException":Lt&&(Ln.stack=mn(Ln.stack,dn))}return Jt(dn,Ln,qn||Ln),qn||Ln},Fn=function(Ln,dn){if(!bt(Ln))throw Xt("Transfer option cannot be converted to a sequence");var zn=[];wt(Ln,function(qt){fn(zn,St(qt))});for(var Yn=0,hn=Pt(zn),Pn=[],Tn,Zn,$n,qn,Wn,cn;Yn<hn;){if(Tn=zn[Yn++],Zn=Tt(Tn),Zn==="ArrayBuffer"){fn(Pn,Tn);continue}if(Vt(dn,Tn))throw new Ut("Duplicate transferable",An);if(jt)qn=pn(Tn,{transfer:[Tn]});else switch(Zn){case"ImageBitmap":$n=tt.OffscreenCanvas,vt($n)||On(Zn,Sn);try{Wn=new $n(Tn.width,Tn.height),cn=Wn.getContext("bitmaprenderer"),cn.transferFromImageBitmap(Tn),qn=Wn.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!yt(Tn.clone)||!yt(Tn.close))&&On(Zn,Sn);try{qn=Tn.clone(),Tn.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":On(Zn,Sn)}if(qn===void 0)throw new Ut("This object cannot be transferred: "+Zn,An);Jt(dn,Tn,qn)}return Pn},gr=function(Ln,dn){for(var zn=0,Yn=Pt(Ln),hn,Pn;zn<Yn;){if(hn=Ln[zn++],Vt(dn,hn))throw new Ut("Duplicate transferable",An);jt?Pn=pn(hn,{transfer:[hn]}):(yt(hn.transfer)||On("ArrayBuffer",Sn),Pn=hn.transfer()),Jt(dn,hn,Pn)}};et({global:!0,enumerable:!0,sham:!jt,forced:Rn},{structuredClone:function(dn){var zn=It(arguments.length,1)>1&&!xt(arguments[1])?St(arguments[1]):void 0,Yn=zn?zn.transfer:void 0,hn=!1,Pn,Tn;Yn!==void 0&&(Pn=new Gt,Tn=Fn(Yn,Pn),hn=!!Pt(Tn));var Zn=En(dn,Pn,hn);return hn&&(Pn=new Gt,gr(Yn,Pn),Zn=mn(Zn,Pn)),Zn}})},(a,e,o)=>{var c=o(14),et=o(7),tt=o(21),nt=o(78),rt=o(24),mt=o(51),gt=function(){},yt=[],vt=rt("Reflect","construct"),xt=/^\s*(?:class|function)\b/,bt=c(xt.exec),Et=!xt.exec(gt),wt=function(kt){if(!tt(kt))return!1;try{return vt(gt,yt,kt),!0}catch{return!1}},St=function(kt){if(!tt(kt))return!1;switch(nt(kt)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Et||!!bt(xt,mt(kt))}catch{return!0}};St.sham=!0,a.exports=!vt||et(function(){var Tt;return wt(wt.call)||!wt(Object)||!wt(function(){Tt=!0})||Tt})?St:wt},(a,e,o)=>{var c=o(99),et=o(8),tt=o(47),nt=o(32),rt=o(155),mt=o(64),gt=o(25),yt=o(157),vt=o(158),xt=o(140),bt=TypeError,Et=function(St,Tt){this.stopped=St,this.result=Tt},wt=Et.prototype;a.exports=function(St,Tt,kt){var _t=kt&&kt.that,Mt=!!(kt&&kt.AS_ENTRIES),Pt=!!(kt&&kt.IS_RECORD),It=!!(kt&&kt.IS_ITERATOR),Dt=!!(kt&&kt.INTERRUPTED),Ct=c(Tt,_t),At,Lt,jt,Bt,zt,Yt,en,rn=function(Zt){return At&&xt(At,"normal",Zt),new Et(!0,Zt)},on=function(Zt){return Mt?(tt(Zt),Dt?Ct(Zt[0],Zt[1],rn):Ct(Zt[0],Zt[1])):Dt?Ct(Zt,rn):Ct(Zt)};if(Pt)At=St.iterator;else if(It)At=St;else{if(Lt=vt(St),!Lt)throw bt(nt(St)+" is not iterable");if(rt(Lt)){for(jt=0,Bt=mt(St);Bt>jt;jt++)if(zt=on(St[jt]),zt&&gt(wt,zt))return zt;return new Et(!1)}At=yt(St,Lt)}for(Yt=Pt?St.next:At.next;!(en=et(Yt,At)).done;){try{zt=on(en.value)}catch(Zt){xt(At,"throw",Zt)}if(typeof zt=="object"&&zt&&gt(wt,zt))return zt}return new Et(!1)}},(a,e,o)=>{var c=o(34),et=o(156),tt=c("iterator"),nt=Array.prototype;a.exports=function(rt){return rt!==void 0&&(et.Array===rt||nt[tt]===rt)}},a=>{a.exports={}},(a,e,o)=>{var c=o(8),et=o(31),tt=o(47),nt=o(32),rt=o(158),mt=TypeError;a.exports=function(gt,yt){var vt=arguments.length<2?rt(gt):yt;if(et(vt))return tt(c(vt,gt));throw mt(nt(gt)+" is not iterable")}},(a,e,o)=>{var c=o(78),et=o(30),tt=o(17),nt=o(156),rt=o(34),mt=rt("iterator");a.exports=function(gt){if(!tt(gt))return et(gt,mt)||et(gt,"@@iterator")||nt[c(gt)]}},(a,e,o)=>{var c=o(18),et=o(45),tt=o(11);a.exports=function(nt,rt,mt){var gt=c(rt);gt in nt?et.f(nt,gt,tt(0,mt)):nt[gt]=mt}},(a,e,o)=>{var c=o(8),et=o(39),tt=o(25),nt=o(161),rt=RegExp.prototype;a.exports=function(mt){var gt=mt.flags;return gt===void 0&&!("flags"in rt)&&!et(mt,"flags")&&tt(rt,mt)?c(nt,mt):gt}},(a,e,o)=>{var c=o(47);a.exports=function(){var et=c(this),tt="";return et.hasIndices&&(tt+="d"),et.global&&(tt+="g"),et.ignoreCase&&(tt+="i"),et.multiline&&(tt+="m"),et.dotAll&&(tt+="s"),et.unicode&&(tt+="u"),et.unicodeSets&&(tt+="v"),et.sticky&&(tt+="y"),tt}},(a,e,o)=>{var c=o(14),et=Map.prototype;a.exports={Map,set:c(et.set),get:c(et.get),has:c(et.has),remove:c(et.delete),proto:et}},(a,e,o)=>{var gt,yt,vt,Tl,bt;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0,o(89),o(149),o(152);var c=o(1),et=o(164),tt=o(170);const nt=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=nt;class rt{constructor(){bn(this,vt);bn(this,gt,!1);bn(this,yt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(wt,St){const Tt=Wt(this,yt).get(wt);return Tt===void 0?St:Object.assign(St,Tt)}getRawValue(wt){return Wt(this,yt).get(wt)}remove(wt){if(Wt(this,yt).delete(wt),Wt(this,yt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const St of Wt(this,yt).values())if(St instanceof et.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(wt,St){const Tt=Wt(this,yt).get(wt);let kt=!1;if(Tt!==void 0)for(const[_t,Mt]of Object.entries(St))Tt[_t]!==Mt&&(kt=!0,Tt[_t]=Mt);else kt=!0,Wt(this,yt).set(wt,St);kt&&Mn(this,vt,Tl).call(this),St instanceof et.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(St.constructor._type)}has(wt){return Wt(this,yt).has(wt)}getAll(){return Wt(this,yt).size>0?(0,c.objectFromMap)(Wt(this,yt)):null}setAll(wt){for(const[St,Tt]of Object.entries(wt))this.setValue(St,Tt)}get size(){return Wt(this,yt).size}resetModified(){Wt(this,gt)&&(Vn(this,gt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new mt(this)}get serializable(){if(Wt(this,yt).size===0)return nt;const wt=new Map,St=new tt.MurmurHash3_64,Tt=[],kt=Object.create(null);let _t=!1;for(const[Mt,Pt]of Wt(this,yt)){const It=Pt instanceof et.AnnotationEditor?Pt.serialize(!1,kt):Pt;It&&(wt.set(Mt,It),St.update(`${Mt}:${JSON.stringify(It)}`),_t||(_t=!!It.bitmap))}if(_t)for(const Mt of wt.values())Mt.bitmap&&Tt.push(Mt.bitmap);return wt.size>0?{map:wt,hash:St.hexdigest(),transfers:Tt}:nt}}gt=new WeakMap,yt=new WeakMap,vt=new WeakSet,Tl=function(){Wt(this,gt)||(Vn(this,gt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=rt;class mt extends rt{constructor(St){super();bn(this,bt,void 0);const{map:Tt,hash:kt,transfers:_t}=St.serializable,Mt=structuredClone(Tt,null);Vn(this,bt,{map:Mt,hash:kt,transfers:_t})}get print(){(0,c.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Wt(this,bt)}}bt=new WeakMap,e.PrintAnnotationStorage=mt},(a,e,o)=>{var mt,gt,yt,vt,xt,bt,Et,wt,St,Tt,kt,_t,Mt,Pt,It,Ks,Ct,Ys,Lt,Xs,Bt,Qs,Yt,Al,rn,Rl,Zt,_l,Xt,Zs,vn,Cl;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0,o(89),o(2);var c=o(165),et=o(1),tt=o(168);const $t=class $t{constructor(Ft){bn(this,It);bn(this,Ct);bn(this,Bt);bn(this,Yt);bn(this,rn);bn(this,Zt);bn(this,Xt);bn(this,vn);bn(this,mt,"");bn(this,gt,!1);bn(this,yt,null);bn(this,vt,null);bn(this,xt,null);bn(this,bt,!1);bn(this,Et,null);bn(this,wt,this.focusin.bind(this));bn(this,St,this.focusout.bind(this));bn(this,Tt,!1);bn(this,kt,!1);bn(this,_t,!1);Tr(this,"_initialOptions",Object.create(null));Tr(this,"_uiManager",null);Tr(this,"_focusEventsAllowed",!0);Tr(this,"_l10nPromise",null);bn(this,Mt,!1);bn(this,Pt,$t._zIndex++);this.constructor===$t&&(0,et.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Ft.parent,this.id=Ft.id,this.width=this.height=null,this.pageIndex=Ft.parent.pageIndex,this.name=Ft.name,this.div=null,this._uiManager=Ft.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Ft.isCentered,this._structTreeParentId=null;const{rotation:Ut,rawDims:{pageWidth:Gt,pageHeight:Vt,pageX:Kt,pageY:Jt}}=this.parent.viewport;this.rotation=Ut,this.pageRotation=(360+Ut-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Gt,Vt],this.pageTranslation=[Kt,Jt];const[nn,sn]=this.parentDimensions;this.x=Ft.x/nn,this.y=Ft.y/sn,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,et.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Ft){const Ut=new rt({id:Ft.parent.getNextId(),parent:Ft.parent,uiManager:Ft._uiManager});Ut.annotationElementId=Ft.annotationElementId,Ut.deleted=!0,Ut._uiManager.addToAnnotationStorage(Ut)}static initialize(Ft){let Ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if($t._l10nPromise||($t._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Vt=>[Vt,Ft.get(Vt)]))),Ut!=null&&Ut.strings)for(const Vt of Ut.strings)$t._l10nPromise.set(Vt,Ft.get(Vt));if($t._borderLineWidth!==-1)return;const Gt=getComputedStyle(document.documentElement);$t._borderLineWidth=parseFloat(Gt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Ft,Ut){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Ft){return!1}static paste(Ft,Ut){(0,et.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Wt(this,Mt)}set _isDraggable(Ft){var Ut;Vn(this,Mt,Ft),(Ut=this.div)==null||Ut.classList.toggle("draggable",Ft)}center(){const[Ft,Ut]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Ut/(Ft*2),this.y+=this.width*Ft/(Ut*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Ut/(Ft*2),this.y-=this.width*Ft/(Ut*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Ft){this._uiManager.addCommands(Ft)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Wt(this,Pt)}setParent(Ft){Ft!==null&&(this.pageIndex=Ft.pageIndex,this.pageDimensions=Ft.pageDimensions),this.parent=Ft}focusin(Ft){this._focusEventsAllowed&&(Wt(this,Tt)?Vn(this,Tt,!1):this.parent.setSelected(this))}focusout(Ft){var Gt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Ut=Ft.relatedTarget;Ut!=null&&Ut.closest(`#${this.id}`)||(Ft.preventDefault(),(Gt=this.parent)!=null&&Gt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Ft,Ut,Gt,Vt){const[Kt,Jt]=this.parentDimensions;[Gt,Vt]=this.screenToPageTranslation(Gt,Vt),this.x=(Ft+Gt)/Kt,this.y=(Ut+Vt)/Jt,this.fixAndSetPosition()}translate(Ft,Ut){Mn(this,It,Ks).call(this,this.parentDimensions,Ft,Ut)}translateInPage(Ft,Ut){Mn(this,It,Ks).call(this,this.pageDimensions,Ft,Ut),this.div.scrollIntoView({block:"nearest"})}drag(Ft,Ut){const[Gt,Vt]=this.parentDimensions;if(this.x+=Ft/Gt,this.y+=Ut/Vt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:gn,y:fn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,gn,fn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Kt,y:Jt}=this;const[nn,sn]=Mn(this,Ct,Ys).call(this);Kt+=nn,Jt+=sn,this.div.style.left=`${(100*Kt).toFixed(2)}%`,this.div.style.top=`${(100*Jt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Ft,Ut]=this.pageDimensions;let{x:Gt,y:Vt,width:Kt,height:Jt}=this;switch(Kt*=Ft,Jt*=Ut,Gt*=Ft,Vt*=Ut,this.rotation){case 0:Gt=Math.max(0,Math.min(Ft-Kt,Gt)),Vt=Math.max(0,Math.min(Ut-Jt,Vt));break;case 90:Gt=Math.max(0,Math.min(Ft-Jt,Gt)),Vt=Math.min(Ut,Math.max(Kt,Vt));break;case 180:Gt=Math.min(Ft,Math.max(Kt,Gt)),Vt=Math.min(Ut,Math.max(Jt,Vt));break;case 270:Gt=Math.min(Ft,Math.max(Jt,Gt)),Vt=Math.max(0,Math.min(Ut-Kt,Vt));break}this.x=Gt/=Ft,this.y=Vt/=Ut;const[nn,sn]=Mn(this,Ct,Ys).call(this);Gt+=nn,Vt+=sn;const{style:gn}=this.div;gn.left=`${(100*Gt).toFixed(2)}%`,gn.top=`${(100*Vt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Ft,Ut){var Gt;return Mn(Gt=$t,Lt,Xs).call(Gt,Ft,Ut,this.parentRotation)}pageTranslationToScreen(Ft,Ut){var Gt;return Mn(Gt=$t,Lt,Xs).call(Gt,Ft,Ut,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Ft,pageDimensions:[Ut,Gt]}=this,Vt=Ut*Ft,Kt=Gt*Ft;return et.FeatureTest.isCSSRoundSupported?[Math.round(Vt),Math.round(Kt)]:[Vt,Kt]}setDims(Ft,Ut){var Kt;const[Gt,Vt]=this.parentDimensions;this.div.style.width=`${(100*Ft/Gt).toFixed(2)}%`,Wt(this,bt)||(this.div.style.height=`${(100*Ut/Vt).toFixed(2)}%`),(Kt=Wt(this,yt))==null||Kt.classList.toggle("small",Ft<$t.SMALL_EDITOR_SIZE||Ut<$t.SMALL_EDITOR_SIZE)}fixDims(){const{style:Ft}=this.div,{height:Ut,width:Gt}=Ft,Vt=Gt.endsWith("%"),Kt=!Wt(this,bt)&&Ut.endsWith("%");if(Vt&&Kt)return;const[Jt,nn]=this.parentDimensions;Vt||(Ft.width=`${(100*parseFloat(Gt)/Jt).toFixed(2)}%`),!Wt(this,bt)&&!Kt&&(Ft.height=`${(100*parseFloat(Ut)/nn).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Wt(this,yt))return;const Ft=Vn(this,yt,document.createElement("button"));Ft.className="altText";const Ut=await $t._l10nPromise.get("editor_alt_text_button_label");Ft.textContent=Ut,Ft.setAttribute("aria-label",Ut),Ft.tabIndex="0",Ft.addEventListener("contextmenu",tt.noContextMenu),Ft.addEventListener("pointerdown",Gt=>Gt.stopPropagation()),Ft.addEventListener("click",Gt=>{Gt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Ft.addEventListener("keydown",Gt=>{Gt.target===Ft&&Gt.key==="Enter"&&(Gt.preventDefault(),this._uiManager.editAltText(this))}),Mn(this,Xt,Zs).call(this),this.div.append(Ft),$t.SMALL_EDITOR_SIZE||($t.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Ft.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Wt(this,mt),decorative:Wt(this,gt)}}set altTextData(Ft){let{altText:Ut,decorative:Gt}=Ft;Wt(this,mt)===Ut&&Wt(this,gt)===Gt||(Vn(this,mt,Ut),Vn(this,gt,Gt),Mn(this,Xt,Zs).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Wt(this,wt)),this.div.addEventListener("focusout",Wt(this,St));const[Ft,Ut]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Ut/Ft).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Ft/Ut).toFixed(2)}%`);const[Gt,Vt]=this.getInitialTranslation();return this.translate(Gt,Vt),(0,c.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Ft){const{isMac:Ut}=et.FeatureTest.platform;if(Ft.button!==0||Ft.ctrlKey&&Ut){Ft.preventDefault();return}Vn(this,Tt,!0),Mn(this,vn,Cl).call(this,Ft)}moveInDOM(){var Ft;(Ft=this.parent)==null||Ft.moveEditorInDOM(this)}_setParentAndPosition(Ft,Ut,Gt){Ft.changeParent(this),this.x=Ut,this.y=Gt,this.fixAndSetPosition()}getRect(Ft,Ut){const Gt=this.parentScale,[Vt,Kt]=this.pageDimensions,[Jt,nn]=this.pageTranslation,sn=Ft/Gt,gn=Ut/Gt,fn=this.x*Vt,In=this.y*Kt,Dn=this.width*Vt,Gn=this.height*Kt;switch(this.rotation){case 0:return[fn+sn+Jt,Kt-In-gn-Gn+nn,fn+sn+Dn+Jt,Kt-In-gn+nn];case 90:return[fn+gn+Jt,Kt-In+sn+nn,fn+gn+Gn+Jt,Kt-In+sn+Dn+nn];case 180:return[fn-sn-Dn+Jt,Kt-In+gn+nn,fn-sn+Jt,Kt-In+gn+Gn+nn];case 270:return[fn-gn-Gn+Jt,Kt-In-sn-Dn+nn,fn-gn+Jt,Kt-In-sn+nn];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Ft,Ut){const[Gt,Vt,Kt,Jt]=Ft,nn=Kt-Gt,sn=Jt-Vt;switch(this.rotation){case 0:return[Gt,Ut-Jt,nn,sn];case 90:return[Gt,Ut-Vt,sn,nn];case 180:return[Kt,Ut-Vt,nn,sn];case 270:return[Kt,Ut-Jt,sn,nn];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Vn(this,_t,!0)}disableEditMode(){Vn(this,_t,!1)}isInEditMode(){return Wt(this,_t)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Ft,Ut;(Ft=this.div)==null||Ft.addEventListener("focusin",Wt(this,wt)),(Ut=this.div)==null||Ut.addEventListener("focusout",Wt(this,St))}serialize(){(0,et.unreachable)("An editor must be serializable")}static deserialize(Ft,Ut,Gt){const Vt=new this.prototype.constructor({parent:Ut,id:Ut.getNextId(),uiManager:Gt});Vt.rotation=Ft.rotation;const[Kt,Jt]=Vt.pageDimensions,[nn,sn,gn,fn]=Vt.getRectInCurrentCoords(Ft.rect,Jt);return Vt.x=nn/Kt,Vt.y=sn/Jt,Vt.width=gn/Kt,Vt.height=fn/Jt,Vt}remove(){var Ft;this.div.removeEventListener("focusin",Wt(this,wt)),this.div.removeEventListener("focusout",Wt(this,St)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Ft=Wt(this,yt))==null||Ft.remove(),Vn(this,yt,null),Vn(this,vt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Mn(this,Yt,Al).call(this),Wt(this,Et).classList.remove("hidden"))}select(){var Ft;this.makeResizable(),(Ft=this.div)==null||Ft.classList.add("selectedEditor")}unselect(){var Ft,Ut,Gt;(Ft=Wt(this,Et))==null||Ft.classList.add("hidden"),(Ut=this.div)==null||Ut.classList.remove("selectedEditor"),(Gt=this.div)!=null&&Gt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Ft,Ut){}disableEditing(){Wt(this,yt)&&(Wt(this,yt).hidden=!0)}enableEditing(){Wt(this,yt)&&(Wt(this,yt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Wt(this,kt)}set isEditing(Ft){Vn(this,kt,Ft),this.parent&&(Ft?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Ft,Ut){Vn(this,bt,!0);const Gt=Ft/Ut,{style:Vt}=this.div;Vt.aspectRatio=Gt,Vt.height="auto"}static get MIN_SIZE(){return 16}};mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,vt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,wt=new WeakMap,St=new WeakMap,Tt=new WeakMap,kt=new WeakMap,_t=new WeakMap,Mt=new WeakMap,Pt=new WeakMap,It=new WeakSet,Ks=function(Ft,Ut,Gt){let[Vt,Kt]=Ft;[Ut,Gt]=this.screenToPageTranslation(Ut,Gt),this.x+=Ut/Vt,this.y+=Gt/Kt,this.fixAndSetPosition()},Ct=new WeakSet,Ys=function(){const[Ft,Ut]=this.parentDimensions,{_borderLineWidth:Gt}=$t,Vt=Gt/Ft,Kt=Gt/Ut;switch(this.rotation){case 90:return[-Vt,Kt];case 180:return[Vt,Kt];case 270:return[Vt,-Kt];default:return[-Vt,-Kt]}},Lt=new WeakSet,Xs=function(Ft,Ut,Gt){switch(Gt){case 90:return[Ut,-Ft];case 180:return[-Ft,-Ut];case 270:return[-Ut,Ft];default:return[Ft,Ut]}},Bt=new WeakSet,Qs=function(Ft){switch(Ft){case 90:{const[Ut,Gt]=this.pageDimensions;return[0,-Ut/Gt,Gt/Ut,0]}case 180:return[-1,0,0,-1];case 270:{const[Ut,Gt]=this.pageDimensions;return[0,Ut/Gt,-Gt/Ut,0]}default:return[1,0,0,1]}},Yt=new WeakSet,Al=function(){if(Wt(this,Et))return;Vn(this,Et,document.createElement("div")),Wt(this,Et).classList.add("resizers");const Ft=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Ft.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ut of Ft){const Gt=document.createElement("div");Wt(this,Et).append(Gt),Gt.classList.add("resizer",Ut),Gt.addEventListener("pointerdown",Mn(this,rn,Rl).bind(this,Ut)),Gt.addEventListener("contextmenu",tt.noContextMenu)}this.div.prepend(Wt(this,Et))},rn=new WeakSet,Rl=function(Ft,Ut){Ut.preventDefault();const{isMac:Gt}=et.FeatureTest.platform;if(Ut.button!==0||Ut.ctrlKey&&Gt)return;const Vt=Mn(this,Zt,_l).bind(this,Ft),Kt=this._isDraggable;this._isDraggable=!1;const Jt={passive:!0,capture:!0};window.addEventListener("pointermove",Vt,Jt);const nn=this.x,sn=this.y,gn=this.width,fn=this.height,In=this.parent.div.style.cursor,Dn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ut.target).cursor;const Gn=()=>{this._isDraggable=Kt,window.removeEventListener("pointerup",Gn),window.removeEventListener("blur",Gn),window.removeEventListener("pointermove",Vt,Jt),this.parent.div.style.cursor=In,this.div.style.cursor=Dn;const rr=this.x,Bn=this.y,An=this.width,Sn=this.height;rr===nn&&Bn===sn&&An===gn&&Sn===fn||this.addCommands({cmd:()=>{this.width=An,this.height=Sn,this.x=rr,this.y=Bn;const[xn,wn]=this.parentDimensions;this.setDims(xn*An,wn*Sn),this.fixAndSetPosition()},undo:()=>{this.width=gn,this.height=fn,this.x=nn,this.y=sn;const[xn,wn]=this.parentDimensions;this.setDims(xn*gn,wn*fn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Gn),window.addEventListener("blur",Gn)},Zt=new WeakSet,_l=function(Ft,Ut){const[Gt,Vt]=this.parentDimensions,Kt=this.x,Jt=this.y,nn=this.width,sn=this.height,gn=$t.MIN_SIZE/Gt,fn=$t.MIN_SIZE/Vt,In=mn=>Math.round(mn*1e4)/1e4,Dn=Mn(this,Bt,Qs).call(this,this.rotation),Gn=(mn,Fn)=>[Dn[0]*mn+Dn[2]*Fn,Dn[1]*mn+Dn[3]*Fn],rr=Mn(this,Bt,Qs).call(this,360-this.rotation),Bn=(mn,Fn)=>[rr[0]*mn+rr[2]*Fn,rr[1]*mn+rr[3]*Fn];let An,Sn,xn=!1,wn=!1;switch(Ft){case"topLeft":xn=!0,An=(mn,Fn)=>[0,0],Sn=(mn,Fn)=>[mn,Fn];break;case"topMiddle":An=(mn,Fn)=>[mn/2,0],Sn=(mn,Fn)=>[mn/2,Fn];break;case"topRight":xn=!0,An=(mn,Fn)=>[mn,0],Sn=(mn,Fn)=>[0,Fn];break;case"middleRight":wn=!0,An=(mn,Fn)=>[mn,Fn/2],Sn=(mn,Fn)=>[0,Fn/2];break;case"bottomRight":xn=!0,An=(mn,Fn)=>[mn,Fn],Sn=(mn,Fn)=>[0,0];break;case"bottomMiddle":An=(mn,Fn)=>[mn/2,Fn],Sn=(mn,Fn)=>[mn/2,0];break;case"bottomLeft":xn=!0,An=(mn,Fn)=>[0,Fn],Sn=(mn,Fn)=>[mn,0];break;case"middleLeft":wn=!0,An=(mn,Fn)=>[0,Fn/2],Sn=(mn,Fn)=>[mn,Fn/2];break}const jn=An(nn,sn),pn=Sn(nn,sn);let Rn=Gn(...pn);const Kn=In(Kt+Rn[0]),tr=In(Jt+Rn[1]);let ir=1,On=1,[Qn,Xn]=this.screenToPageTranslation(Ut.movementX,Ut.movementY);if([Qn,Xn]=Bn(Qn/Gt,Xn/Vt),xn){const mn=Math.hypot(nn,sn);ir=On=Math.max(Math.min(Math.hypot(pn[0]-jn[0]-Qn,pn[1]-jn[1]-Xn)/mn,1/nn,1/sn),gn/nn,fn/sn)}else wn?ir=Math.max(gn,Math.min(1,Math.abs(pn[0]-jn[0]-Qn)))/nn:On=Math.max(fn,Math.min(1,Math.abs(pn[1]-jn[1]-Xn)))/sn;const or=In(nn*ir),lr=In(sn*On);Rn=Gn(...Sn(or,lr));const Un=Kn-Rn[0],En=tr-Rn[1];this.width=or,this.height=lr,this.x=Un,this.y=En,this.setDims(Gt*or,Vt*lr),this.fixAndSetPosition()},Xt=new WeakSet,Zs=async function(){var Gt;const Ft=Wt(this,yt);if(!Ft)return;if(!Wt(this,mt)&&!Wt(this,gt)){Ft.classList.remove("done"),(Gt=Wt(this,vt))==null||Gt.remove();return}$t._l10nPromise.get("editor_alt_text_edit_button_label").then(Vt=>{Ft.setAttribute("aria-label",Vt)});let Ut=Wt(this,vt);if(!Ut){Vn(this,vt,Ut=document.createElement("span")),Ut.className="tooltip",Ut.setAttribute("role","tooltip");const Vt=Ut.id=`alt-text-tooltip-${this.id}`;Ft.setAttribute("aria-describedby",Vt);const Kt=100;Ft.addEventListener("mouseenter",()=>{Vn(this,xt,setTimeout(()=>{Vn(this,xt,null),Wt(this,vt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Kt))}),Ft.addEventListener("mouseleave",()=>{var Jt;clearTimeout(Wt(this,xt)),Vn(this,xt,null),(Jt=Wt(this,vt))==null||Jt.classList.remove("show")})}Ft.classList.add("done"),Ut.innerText=Wt(this,gt)?await $t._l10nPromise.get("editor_alt_text_decorative_tooltip"):Wt(this,mt),Ut.parentNode||Ft.append(Ut)},vn=new WeakSet,Cl=function(Ft){if(!this._isDraggable)return;const Ut=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Gt,Vt;Ut&&(Gt={passive:!0,capture:!0},Vt=Jt=>{const[nn,sn]=this.screenToPageTranslation(Jt.movementX,Jt.movementY);this._uiManager.dragSelectedEditors(nn,sn)},window.addEventListener("pointermove",Vt,Gt));const Kt=()=>{if(window.removeEventListener("pointerup",Kt),window.removeEventListener("blur",Kt),Ut&&window.removeEventListener("pointermove",Vt,Gt),Vn(this,Tt,!1),!this._uiManager.endDragSession()){const{isMac:Jt}=et.FeatureTest.platform;Ft.ctrlKey&&!Jt||Ft.shiftKey||Ft.metaKey&&Jt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Kt),window.addEventListener("blur",Kt)},bn($t,Lt),Tr($t,"_borderLineWidth",-1),Tr($t,"_colorManager",new c.ColorManager),Tr($t,"_zIndex",1),Tr($t,"SMALL_EDITOR_SIZE",0);let nt=$t;e.AnnotationEditor=nt;class rt extends nt{constructor(Ft){super(Ft),this.annotationElementId=Ft.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(a,e,o)=>{var bt,Et,wt,St,Tt,Js,Mt,Pt,It,Dt,Ct,Pl,jt,Bt,zt,Yt,en,rn,on,Zt,an,Xt,yn,vn,Nt,$t,Ot,Ft,Ut,Gt,Vt,Kt,Jt,nn,sn,gn,fn,In,Dn,Gn,rr,Bn,An,Sn,xn,wn,jn,Il,Rn,eo,tr,to,On,_s,Xn,no,lr,ro,En,Nr,Fn,ls,Ln,Ml,zn,Dl,hn,io,Tn,cs,$n,ao;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=tt,e.opacityToHex=nt,o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123),o(2),o(89),o(125),o(136),o(138),o(141),o(143),o(145),o(147),o(166);var c=o(1),et=o(168);function tt(cn,qt,tn){for(const un of tn)qt.addEventListener(un,cn[un].bind(cn))}function nt(cn){return Math.round(Math.min(255,Math.max(1,255*cn))).toString(16).padStart(2,"0")}class rt{constructor(){bn(this,bt,0)}getId(){return`${c.AnnotationEditorPrefix}${os(this,bt)._++}`}}bt=new WeakMap;const _t=class _t{constructor(){bn(this,Tt);bn(this,Et,(0,c.getUuid)());bn(this,wt,0);bn(this,St,null)}static get _isSVGFittingCanvas(){const qt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',un=new OffscreenCanvas(1,3).getContext("2d"),kn=new Image;kn.src=qt;const Cn=kn.decode().then(()=>(un.drawImage(kn,0,0,1,1,0,0,1,3),new Uint32Array(un.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,c.shadow)(this,"_isSVGFittingCanvas",Cn)}async getFromFile(qt){const{lastModified:tn,name:un,size:kn,type:Cn}=qt;return Mn(this,Tt,Js).call(this,`${tn}_${un}_${kn}_${Cn}`,qt)}async getFromUrl(qt){return Mn(this,Tt,Js).call(this,qt,qt)}async getFromId(qt){Wt(this,St)||Vn(this,St,new Map);const tn=Wt(this,St).get(qt);return tn?tn.bitmap?(tn.refCounter+=1,tn):tn.file?this.getFromFile(tn.file):this.getFromUrl(tn.url):null}getSvgUrl(qt){const tn=Wt(this,St).get(qt);return tn!=null&&tn.isSvg?tn.svgUrl:null}deleteId(qt){Wt(this,St)||Vn(this,St,new Map);const tn=Wt(this,St).get(qt);tn&&(tn.refCounter-=1,tn.refCounter===0&&(tn.bitmap=null))}isValidId(qt){return qt.startsWith(`image_${Wt(this,Et)}_`)}};Et=new WeakMap,wt=new WeakMap,St=new WeakMap,Tt=new WeakSet,Js=async function(qt,tn){Wt(this,St)||Vn(this,St,new Map);let un=Wt(this,St).get(qt);if(un===null)return null;if(un!=null&&un.bitmap)return un.refCounter+=1,un;try{un||(un={bitmap:null,id:`image_${Wt(this,Et)}_${os(this,wt)._++}`,refCounter:0,isSvg:!1});let kn;if(typeof tn=="string"){un.url=tn;const Cn=await fetch(tn);if(!Cn.ok)throw new Error(Cn.statusText);kn=await Cn.blob()}else kn=un.file=tn;if(kn.type==="image/svg+xml"){const Cn=_t._isSVGFittingCanvas,Nn=new FileReader,er=new Image,sr=new Promise((ar,yr)=>{er.onload=()=>{un.bitmap=er,un.isSvg=!0,ar()},Nn.onload=async()=>{const cr=un.svgUrl=Nn.result;er.src=await Cn?`${cr}#svgView(preserveAspectRatio(none))`:cr},er.onerror=Nn.onerror=yr});Nn.readAsDataURL(kn),await sr}else un.bitmap=await createImageBitmap(kn);un.refCounter=1}catch(kn){console.error(kn),un=null}return Wt(this,St).set(qt,un),un&&Wt(this,St).set(un.id,un),un};let mt=_t;class gt{constructor(){bn(this,Mt,[]);bn(this,Pt,!1);bn(this,It,void 0);bn(this,Dt,-1);let qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;Vn(this,It,qt)}add(qt){let{cmd:tn,undo:un,mustExec:kn,type:Cn=NaN,overwriteIfSameType:Nn=!1,keepUndo:er=!1}=qt;if(kn&&tn(),Wt(this,Pt))return;const sr={cmd:tn,undo:un,type:Cn};if(Wt(this,Dt)===-1){Wt(this,Mt).length>0&&(Wt(this,Mt).length=0),Vn(this,Dt,0),Wt(this,Mt).push(sr);return}if(Nn&&Wt(this,Mt)[Wt(this,Dt)].type===Cn){er&&(sr.undo=Wt(this,Mt)[Wt(this,Dt)].undo),Wt(this,Mt)[Wt(this,Dt)]=sr;return}const ar=Wt(this,Dt)+1;ar===Wt(this,It)?Wt(this,Mt).splice(0,1):(Vn(this,Dt,ar),ar<Wt(this,Mt).length&&Wt(this,Mt).splice(ar)),Wt(this,Mt).push(sr)}undo(){Wt(this,Dt)!==-1&&(Vn(this,Pt,!0),Wt(this,Mt)[Wt(this,Dt)].undo(),Vn(this,Pt,!1),Vn(this,Dt,Wt(this,Dt)-1))}redo(){Wt(this,Dt)<Wt(this,Mt).length-1&&(Vn(this,Dt,Wt(this,Dt)+1),Vn(this,Pt,!0),Wt(this,Mt)[Wt(this,Dt)].cmd(),Vn(this,Pt,!1))}hasSomethingToUndo(){return Wt(this,Dt)!==-1}hasSomethingToRedo(){return Wt(this,Dt)<Wt(this,Mt).length-1}destroy(){Vn(this,Mt,null)}}Mt=new WeakMap,Pt=new WeakMap,It=new WeakMap,Dt=new WeakMap,e.CommandManager=gt;class yt{constructor(qt){bn(this,Ct);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:tn}=c.FeatureTest.platform;for(const[un,kn,Cn={}]of qt)for(const Nn of un){const er=Nn.startsWith("mac+");tn&&er?(this.callbacks.set(Nn.slice(4),{callback:kn,options:Cn}),this.allKeys.add(Nn.split("+").at(-1))):!tn&&!er&&(this.callbacks.set(Nn,{callback:kn,options:Cn}),this.allKeys.add(Nn.split("+").at(-1)))}}exec(qt,tn){if(!this.allKeys.has(tn.key))return;const un=this.callbacks.get(Mn(this,Ct,Pl).call(this,tn));if(!un)return;const{callback:kn,options:{bubbles:Cn=!1,args:Nn=[],checker:er=null}}=un;er&&!er(qt,tn)||(kn.bind(qt,...Nn)(),Cn||(tn.stopPropagation(),tn.preventDefault()))}}Ct=new WeakSet,Pl=function(qt){qt.altKey&&this.buffer.push("alt"),qt.ctrlKey&&this.buffer.push("ctrl"),qt.metaKey&&this.buffer.push("meta"),qt.shiftKey&&this.buffer.push("shift"),this.buffer.push(qt.key);const tn=this.buffer.join("+");return this.buffer.length=0,tn},e.KeyboardManager=yt;const Lt=class Lt{get _colors(){const qt=new Map([["CanvasText",null],["Canvas",null]]);return(0,et.getColorValues)(qt),(0,c.shadow)(this,"_colors",qt)}convert(qt){const tn=(0,et.getRGB)(qt);if(!window.matchMedia("(forced-colors: active)").matches)return tn;for(const[un,kn]of this._colors)if(kn.every((Cn,Nn)=>Cn===tn[Nn]))return Lt._colorsMapping.get(un);return tn}getHexCode(qt){const tn=this._colors.get(qt);return tn?c.Util.makeHexColor(...tn):qt}};Tr(Lt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let vt=Lt;e.ColorManager=vt;const Wn=class Wn{constructor(qt,tn,un,kn,Cn,Nn){bn(this,jn);bn(this,Rn);bn(this,tr);bn(this,On);bn(this,Xn);bn(this,lr);bn(this,En);bn(this,Fn);bn(this,Ln);bn(this,zn);bn(this,hn);bn(this,Tn);bn(this,$n);bn(this,jt,null);bn(this,Bt,new Map);bn(this,zt,new Map);bn(this,Yt,null);bn(this,en,null);bn(this,rn,new gt);bn(this,on,0);bn(this,Zt,new Set);bn(this,an,null);bn(this,Xt,null);bn(this,yn,new Set);bn(this,vn,null);bn(this,Nt,new rt);bn(this,$t,!1);bn(this,Ot,!1);bn(this,Ft,null);bn(this,Ut,c.AnnotationEditorType.NONE);bn(this,Gt,new Set);bn(this,Vt,null);bn(this,Kt,this.blur.bind(this));bn(this,Jt,this.focus.bind(this));bn(this,nn,this.copy.bind(this));bn(this,sn,this.cut.bind(this));bn(this,gn,this.paste.bind(this));bn(this,fn,this.keydown.bind(this));bn(this,In,this.onEditingAction.bind(this));bn(this,Dn,this.onPageChanging.bind(this));bn(this,Gn,this.onScaleChanging.bind(this));bn(this,rr,this.onRotationChanging.bind(this));bn(this,Bn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});bn(this,An,[0,0]);bn(this,Sn,null);bn(this,xn,null);bn(this,wn,null);Vn(this,xn,qt),Vn(this,wn,tn),Vn(this,Yt,un),this._eventBus=kn,this._eventBus._on("editingaction",Wt(this,In)),this._eventBus._on("pagechanging",Wt(this,Dn)),this._eventBus._on("scalechanging",Wt(this,Gn)),this._eventBus._on("rotationchanging",Wt(this,rr)),Vn(this,en,Cn.annotationStorage),Vn(this,vn,Cn.filterFactory),Vn(this,Vt,Nn),this.viewParameters={realScale:et.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const qt=Wn.prototype,tn=Cn=>{const{activeElement:Nn}=document;return Nn&&Wt(Cn,xn).contains(Nn)&&Cn.hasSomethingToControl()},un=this.TRANSLATE_SMALL,kn=this.TRANSLATE_BIG;return(0,c.shadow)(this,"_keyboardManager",new yt([[["ctrl+a","mac+meta+a"],qt.selectAll],[["ctrl+z","mac+meta+z"],qt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],qt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],qt.delete],[["Escape","mac+Escape"],qt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],qt.translateSelectedEditors,{args:[-un,0],checker:tn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],qt.translateSelectedEditors,{args:[-kn,0],checker:tn}],[["ArrowRight","mac+ArrowRight"],qt.translateSelectedEditors,{args:[un,0],checker:tn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],qt.translateSelectedEditors,{args:[kn,0],checker:tn}],[["ArrowUp","mac+ArrowUp"],qt.translateSelectedEditors,{args:[0,-un],checker:tn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],qt.translateSelectedEditors,{args:[0,-kn],checker:tn}],[["ArrowDown","mac+ArrowDown"],qt.translateSelectedEditors,{args:[0,un],checker:tn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],qt.translateSelectedEditors,{args:[0,kn],checker:tn}]]))}destroy(){Mn(this,On,_s).call(this),Mn(this,Rn,eo).call(this),this._eventBus._off("editingaction",Wt(this,In)),this._eventBus._off("pagechanging",Wt(this,Dn)),this._eventBus._off("scalechanging",Wt(this,Gn)),this._eventBus._off("rotationchanging",Wt(this,rr));for(const qt of Wt(this,zt).values())qt.destroy();Wt(this,zt).clear(),Wt(this,Bt).clear(),Wt(this,yn).clear(),Vn(this,jt,null),Wt(this,Gt).clear(),Wt(this,rn).destroy(),Wt(this,Yt).destroy()}get hcmFilter(){return(0,c.shadow)(this,"hcmFilter",Wt(this,Vt)?Wt(this,vn).addHCMFilter(Wt(this,Vt).foreground,Wt(this,Vt).background):"none")}get direction(){return(0,c.shadow)(this,"direction",getComputedStyle(Wt(this,xn)).direction)}editAltText(qt){var tn;(tn=Wt(this,Yt))==null||tn.editAltText(this,qt)}onPageChanging(qt){let{pageNumber:tn}=qt;Vn(this,on,tn-1)}focusMainContainer(){Wt(this,xn).focus()}findParent(qt,tn){for(const un of Wt(this,zt).values()){const{x:kn,y:Cn,width:Nn,height:er}=un.div.getBoundingClientRect();if(qt>=kn&&qt<=kn+Nn&&tn>=Cn&&tn<=Cn+er)return un}return null}disableUserSelect(){let qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Wt(this,wn).classList.toggle("noUserSelect",qt)}addShouldRescale(qt){Wt(this,yn).add(qt)}removeShouldRescale(qt){Wt(this,yn).delete(qt)}onScaleChanging(qt){let{scale:tn}=qt;this.commitOrRemove(),this.viewParameters.realScale=tn*et.PixelsPerInch.PDF_TO_CSS_UNITS;for(const un of Wt(this,yn))un.onScaleChanging()}onRotationChanging(qt){let{pagesRotation:tn}=qt;this.commitOrRemove(),this.viewParameters.rotation=tn}addToAnnotationStorage(qt){!qt.isEmpty()&&Wt(this,en)&&!Wt(this,en).has(qt.id)&&Wt(this,en).setValue(qt.id,qt)}blur(){if(!this.hasSelection)return;const{activeElement:qt}=document;for(const tn of Wt(this,Gt))if(tn.div.contains(qt)){Vn(this,Ft,[tn,qt]),tn._focusEventsAllowed=!1;break}}focus(){if(!Wt(this,Ft))return;const[qt,tn]=Wt(this,Ft);Vn(this,Ft,null),tn.addEventListener("focusin",()=>{qt._focusEventsAllowed=!0},{once:!0}),tn.focus()}addEditListeners(){Mn(this,tr,to).call(this),Mn(this,Xn,no).call(this)}removeEditListeners(){Mn(this,On,_s).call(this),Mn(this,lr,ro).call(this)}copy(qt){var un;if(qt.preventDefault(),(un=Wt(this,jt))==null||un.commitOrRemove(),!this.hasSelection)return;const tn=[];for(const kn of Wt(this,Gt)){const Cn=kn.serialize(!0);Cn&&tn.push(Cn)}tn.length!==0&&qt.clipboardData.setData("application/pdfjs",JSON.stringify(tn))}cut(qt){this.copy(qt),this.delete()}paste(qt){qt.preventDefault();const{clipboardData:tn}=qt;for(const Cn of tn.items)for(const Nn of Wt(this,Xt))if(Nn.isHandlingMimeForPasting(Cn.type)){Nn.paste(Cn,this.currentLayer);return}let un=tn.getData("application/pdfjs");if(!un)return;try{un=JSON.parse(un)}catch(Cn){(0,c.warn)(`paste: "${Cn.message}".`);return}if(!Array.isArray(un))return;this.unselectAll();const kn=this.currentLayer;try{const Cn=[];for(const sr of un){const ar=kn.deserialize(sr);if(!ar)return;Cn.push(ar)}const Nn=()=>{for(const sr of Cn)Mn(this,hn,io).call(this,sr);Mn(this,$n,ao).call(this,Cn)},er=()=>{for(const sr of Cn)sr.remove()};this.addCommands({cmd:Nn,undo:er,mustExec:!0})}catch(Cn){(0,c.warn)(`paste: "${Cn.message}".`)}}keydown(qt){var tn;(tn=this.getActive())!=null&&tn.shouldGetKeyboardEvents()||Wn._keyboardManager.exec(this,qt)}onEditingAction(qt){["undo","redo","delete","selectAll"].includes(qt.name)&&this[qt.name]()}setEditingState(qt){qt?(Mn(this,jn,Il).call(this),Mn(this,tr,to).call(this),Mn(this,Xn,no).call(this),Mn(this,En,Nr).call(this,{isEditing:Wt(this,Ut)!==c.AnnotationEditorType.NONE,isEmpty:Mn(this,Tn,cs).call(this),hasSomethingToUndo:Wt(this,rn).hasSomethingToUndo(),hasSomethingToRedo:Wt(this,rn).hasSomethingToRedo(),hasSelectedEditor:!1})):(Mn(this,Rn,eo).call(this),Mn(this,On,_s).call(this),Mn(this,lr,ro).call(this),Mn(this,En,Nr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(qt){if(!Wt(this,Xt)){Vn(this,Xt,qt);for(const tn of Wt(this,Xt))Mn(this,Fn,ls).call(this,tn.defaultPropertiesToUpdate)}}getId(){return Wt(this,Nt).getId()}get currentLayer(){return Wt(this,zt).get(Wt(this,on))}getLayer(qt){return Wt(this,zt).get(qt)}get currentPageIndex(){return Wt(this,on)}addLayer(qt){Wt(this,zt).set(qt.pageIndex,qt),Wt(this,$t)?qt.enable():qt.disable()}removeLayer(qt){Wt(this,zt).delete(qt.pageIndex)}updateMode(qt){let tn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Wt(this,Ut)!==qt){if(Vn(this,Ut,qt),qt===c.AnnotationEditorType.NONE){this.setEditingState(!1),Mn(this,zn,Dl).call(this);return}this.setEditingState(!0),Mn(this,Ln,Ml).call(this),this.unselectAll();for(const un of Wt(this,zt).values())un.updateMode(qt);if(tn){for(const un of Wt(this,Bt).values())if(un.annotationElementId===tn){this.setSelected(un),un.enterInEditMode();break}}}}updateToolbar(qt){qt!==Wt(this,Ut)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:qt})}updateParams(qt,tn){if(Wt(this,Xt)){if(qt===c.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(qt);return}for(const un of Wt(this,Gt))un.updateParams(qt,tn);for(const un of Wt(this,Xt))un.updateDefaultParams(qt,tn)}}enableWaiting(){let qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Wt(this,Ot)!==qt){Vn(this,Ot,qt);for(const tn of Wt(this,zt).values())qt?tn.disableClick():tn.enableClick(),tn.div.classList.toggle("waiting",qt)}}getEditors(qt){const tn=[];for(const un of Wt(this,Bt).values())un.pageIndex===qt&&tn.push(un);return tn}getEditor(qt){return Wt(this,Bt).get(qt)}addEditor(qt){Wt(this,Bt).set(qt.id,qt)}removeEditor(qt){var tn;Wt(this,Bt).delete(qt.id),this.unselect(qt),(!qt.annotationElementId||!Wt(this,Zt).has(qt.annotationElementId))&&((tn=Wt(this,en))==null||tn.remove(qt.id))}addDeletedAnnotationElement(qt){Wt(this,Zt).add(qt.annotationElementId),qt.deleted=!0}isDeletedAnnotationElement(qt){return Wt(this,Zt).has(qt)}removeDeletedAnnotationElement(qt){Wt(this,Zt).delete(qt.annotationElementId),qt.deleted=!1}setActiveEditor(qt){Wt(this,jt)!==qt&&(Vn(this,jt,qt),qt&&Mn(this,Fn,ls).call(this,qt.propertiesToUpdate))}toggleSelected(qt){if(Wt(this,Gt).has(qt)){Wt(this,Gt).delete(qt),qt.unselect(),Mn(this,En,Nr).call(this,{hasSelectedEditor:this.hasSelection});return}Wt(this,Gt).add(qt),qt.select(),Mn(this,Fn,ls).call(this,qt.propertiesToUpdate),Mn(this,En,Nr).call(this,{hasSelectedEditor:!0})}setSelected(qt){for(const tn of Wt(this,Gt))tn!==qt&&tn.unselect();Wt(this,Gt).clear(),Wt(this,Gt).add(qt),qt.select(),Mn(this,Fn,ls).call(this,qt.propertiesToUpdate),Mn(this,En,Nr).call(this,{hasSelectedEditor:!0})}isSelected(qt){return Wt(this,Gt).has(qt)}unselect(qt){qt.unselect(),Wt(this,Gt).delete(qt),Mn(this,En,Nr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Wt(this,Gt).size!==0}undo(){Wt(this,rn).undo(),Mn(this,En,Nr).call(this,{hasSomethingToUndo:Wt(this,rn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Mn(this,Tn,cs).call(this)})}redo(){Wt(this,rn).redo(),Mn(this,En,Nr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Wt(this,rn).hasSomethingToRedo(),isEmpty:Mn(this,Tn,cs).call(this)})}addCommands(qt){Wt(this,rn).add(qt),Mn(this,En,Nr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Mn(this,Tn,cs).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const qt=[...Wt(this,Gt)],tn=()=>{for(const kn of qt)kn.remove()},un=()=>{for(const kn of qt)Mn(this,hn,io).call(this,kn)};this.addCommands({cmd:tn,undo:un,mustExec:!0})}commitOrRemove(){var qt;(qt=Wt(this,jt))==null||qt.commitOrRemove()}hasSomethingToControl(){return Wt(this,jt)||this.hasSelection}selectAll(){for(const qt of Wt(this,Gt))qt.commit();Mn(this,$n,ao).call(this,Wt(this,Bt).values())}unselectAll(){if(Wt(this,jt)){Wt(this,jt).commitOrRemove();return}if(this.hasSelection){for(const qt of Wt(this,Gt))qt.unselect();Wt(this,Gt).clear(),Mn(this,En,Nr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(qt,tn){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)||this.commitOrRemove(),!this.hasSelection)return;Wt(this,An)[0]+=qt,Wt(this,An)[1]+=tn;const[kn,Cn]=Wt(this,An),Nn=[...Wt(this,Gt)],er=1e3;Wt(this,Sn)&&clearTimeout(Wt(this,Sn)),Vn(this,Sn,setTimeout(()=>{Vn(this,Sn,null),Wt(this,An)[0]=Wt(this,An)[1]=0,this.addCommands({cmd:()=>{for(const sr of Nn)Wt(this,Bt).has(sr.id)&&sr.translateInPage(kn,Cn)},undo:()=>{for(const sr of Nn)Wt(this,Bt).has(sr.id)&&sr.translateInPage(-kn,-Cn)},mustExec:!1})},er));for(const sr of Nn)sr.translateInPage(qt,tn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Vn(this,an,new Map);for(const qt of Wt(this,Gt))Wt(this,an).set(qt,{savedX:qt.x,savedY:qt.y,savedPageIndex:qt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Wt(this,an))return!1;this.disableUserSelect(!1);const qt=Wt(this,an);Vn(this,an,null);let tn=!1;for(const[{x:kn,y:Cn,pageIndex:Nn},er]of qt)er.newX=kn,er.newY=Cn,er.newPageIndex=Nn,tn||(tn=kn!==er.savedX||Cn!==er.savedY||Nn!==er.savedPageIndex);if(!tn)return!1;const un=(kn,Cn,Nn,er)=>{if(Wt(this,Bt).has(kn.id)){const sr=Wt(this,zt).get(er);sr?kn._setParentAndPosition(sr,Cn,Nn):(kn.pageIndex=er,kn.x=Cn,kn.y=Nn)}};return this.addCommands({cmd:()=>{for(const[kn,{newX:Cn,newY:Nn,newPageIndex:er}]of qt)un(kn,Cn,Nn,er)},undo:()=>{for(const[kn,{savedX:Cn,savedY:Nn,savedPageIndex:er}]of qt)un(kn,Cn,Nn,er)},mustExec:!0}),!0}dragSelectedEditors(qt,tn){if(Wt(this,an))for(const un of Wt(this,an).keys())un.drag(qt,tn)}rebuild(qt){if(qt.parent===null){const tn=this.getLayer(qt.pageIndex);tn?(tn.changeParent(qt),tn.addOrRebuild(qt)):(this.addEditor(qt),this.addToAnnotationStorage(qt),qt.rebuild())}else qt.parent.addOrRebuild(qt)}isActive(qt){return Wt(this,jt)===qt}getActive(){return Wt(this,jt)}getMode(){return Wt(this,Ut)}get imageManager(){return(0,c.shadow)(this,"imageManager",new mt)}};jt=new WeakMap,Bt=new WeakMap,zt=new WeakMap,Yt=new WeakMap,en=new WeakMap,rn=new WeakMap,on=new WeakMap,Zt=new WeakMap,an=new WeakMap,Xt=new WeakMap,yn=new WeakMap,vn=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Ot=new WeakMap,Ft=new WeakMap,Ut=new WeakMap,Gt=new WeakMap,Vt=new WeakMap,Kt=new WeakMap,Jt=new WeakMap,nn=new WeakMap,sn=new WeakMap,gn=new WeakMap,fn=new WeakMap,In=new WeakMap,Dn=new WeakMap,Gn=new WeakMap,rr=new WeakMap,Bn=new WeakMap,An=new WeakMap,Sn=new WeakMap,xn=new WeakMap,wn=new WeakMap,jn=new WeakSet,Il=function(){window.addEventListener("focus",Wt(this,Jt)),window.addEventListener("blur",Wt(this,Kt))},Rn=new WeakSet,eo=function(){window.removeEventListener("focus",Wt(this,Jt)),window.removeEventListener("blur",Wt(this,Kt))},tr=new WeakSet,to=function(){window.addEventListener("keydown",Wt(this,fn),{capture:!0})},On=new WeakSet,_s=function(){window.removeEventListener("keydown",Wt(this,fn),{capture:!0})},Xn=new WeakSet,no=function(){document.addEventListener("copy",Wt(this,nn)),document.addEventListener("cut",Wt(this,sn)),document.addEventListener("paste",Wt(this,gn))},lr=new WeakSet,ro=function(){document.removeEventListener("copy",Wt(this,nn)),document.removeEventListener("cut",Wt(this,sn)),document.removeEventListener("paste",Wt(this,gn))},En=new WeakSet,Nr=function(qt){Object.entries(qt).some(un=>{let[kn,Cn]=un;return Wt(this,Bn)[kn]!==Cn})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Wt(this,Bn),qt)})},Fn=new WeakSet,ls=function(qt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:qt})},Ln=new WeakSet,Ml=function(){if(!Wt(this,$t)){Vn(this,$t,!0);for(const qt of Wt(this,zt).values())qt.enable()}},zn=new WeakSet,Dl=function(){if(this.unselectAll(),Wt(this,$t)){Vn(this,$t,!1);for(const qt of Wt(this,zt).values())qt.disable()}},hn=new WeakSet,io=function(qt){const tn=Wt(this,zt).get(qt.pageIndex);tn?tn.addOrRebuild(qt):this.addEditor(qt)},Tn=new WeakSet,cs=function(){if(Wt(this,Bt).size===0)return!0;if(Wt(this,Bt).size===1)for(const qt of Wt(this,Bt).values())return qt.isEmpty();return!1},$n=new WeakSet,ao=function(qt){Wt(this,Gt).clear();for(const tn of qt)tn.isEmpty()||(Wt(this,Gt).add(tn),tn.select());Mn(this,En,Nr).call(this,{hasSelectedEditor:!0})},Tr(Wn,"TRANSLATE_SMALL",1),Tr(Wn,"TRANSLATE_BIG",10);let xt=Wn;e.AnnotationEditorUIManager=xt},(a,e,o)=>{var c=o(3),et=o(6),tt=o(4),nt=o(24),rt=o(14),mt=o(8),gt=o(21),yt=o(20),vt=o(91),xt=o(39),bt=o(77),Et=o(64),wt=o(159),St=o(7),Tt=o(167),kt=o(27),_t=tt.JSON,Mt=tt.Number,Pt=tt.SyntaxError,It=_t&&_t.parse,Dt=nt("Object","keys"),Ct=Object.getOwnPropertyDescriptor,At=rt("".charAt),Lt=rt("".slice),jt=rt(/./.exec),Bt=rt([].push),zt=/^\d$/,Yt=/^[1-9]$/,en=/^(?:-|\d)$/,rn=/^[\t\n\r ]$/,on=0,Zt=1,an=function(Ft,Ut){Ft=bt(Ft);var Gt=new Nt(Ft,0),Vt=Gt.parse(),Kt=Vt.value,Jt=Gt.skip(rn,Vt.end);if(Jt<Ft.length)throw Pt('Unexpected extra character: "'+At(Ft,Jt)+'" after the parsed data at: '+Jt);return gt(Ut)?Xt({"":Kt},"",Ut,Vt):Kt},Xt=function(Ft,Ut,Gt,Vt){var Kt=Ft[Ut],Jt=Vt&&Kt===Vt.value,nn=Jt&&typeof Vt.source=="string"?{source:Vt.source}:{},sn,gn,fn,In,Dn;if(yt(Kt)){var Gn=vt(Kt),rr=Jt?Vt.nodes:Gn?[]:{};if(Gn)for(sn=rr.length,fn=Et(Kt),In=0;In<fn;In++)yn(Kt,In,Xt(Kt,""+In,Gt,In<sn?rr[In]:void 0));else for(gn=Dt(Kt),fn=Et(gn),In=0;In<fn;In++)Dn=gn[In],yn(Kt,Dn,Xt(Kt,Dn,Gt,xt(rr,Dn)?rr[Dn]:void 0))}return mt(Gt,Ft,Ut,Kt,nn)},yn=function(Ft,Ut,Gt){if(et){var Vt=Ct(Ft,Ut);if(Vt&&!Vt.configurable)return}Gt===void 0?delete Ft[Ut]:wt(Ft,Ut,Gt)},vn=function(Ft,Ut,Gt,Vt){this.value=Ft,this.end=Ut,this.source=Gt,this.nodes=Vt},Nt=function(Ft,Ut){this.source=Ft,this.index=Ut};Nt.prototype={fork:function(Ft){return new Nt(this.source,Ft)},parse:function(){var Ft=this.source,Ut=this.skip(rn,this.index),Gt=this.fork(Ut),Vt=At(Ft,Ut);if(jt(en,Vt))return Gt.number();switch(Vt){case"{":return Gt.object();case"[":return Gt.array();case'"':return Gt.string();case"t":return Gt.keyword(!0);case"f":return Gt.keyword(!1);case"n":return Gt.keyword(null)}throw Pt('Unexpected character: "'+Vt+'" at: '+Ut)},node:function(Ft,Ut,Gt,Vt,Kt){return new vn(Ut,Vt,Ft?null:Lt(this.source,Gt,Vt),Kt)},object:function(){for(var Ft=this.source,Ut=this.index+1,Gt=!1,Vt={},Kt={};Ut<Ft.length;){if(Ut=this.until(['"',"}"],Ut),At(Ft,Ut)==="}"&&!Gt){Ut++;break}var Jt=this.fork(Ut).string(),nn=Jt.value;Ut=Jt.end,Ut=this.until([":"],Ut)+1,Ut=this.skip(rn,Ut),Jt=this.fork(Ut).parse(),wt(Kt,nn,Jt),wt(Vt,nn,Jt.value),Ut=this.until([",","}"],Jt.end);var sn=At(Ft,Ut);if(sn===",")Gt=!0,Ut++;else if(sn==="}"){Ut++;break}}return this.node(Zt,Vt,this.index,Ut,Kt)},array:function(){for(var Ft=this.source,Ut=this.index+1,Gt=!1,Vt=[],Kt=[];Ut<Ft.length;){if(Ut=this.skip(rn,Ut),At(Ft,Ut)==="]"&&!Gt){Ut++;break}var Jt=this.fork(Ut).parse();if(Bt(Kt,Jt),Bt(Vt,Jt.value),Ut=this.until([",","]"],Jt.end),At(Ft,Ut)===",")Gt=!0,Ut++;else if(At(Ft,Ut)==="]"){Ut++;break}}return this.node(Zt,Vt,this.index,Ut,Kt)},string:function(){var Ft=this.index,Ut=Tt(this.source,this.index+1);return this.node(on,Ut.value,Ft,Ut.end)},number:function(){var Ft=this.source,Ut=this.index,Gt=Ut;if(At(Ft,Gt)==="-"&&Gt++,At(Ft,Gt)==="0")Gt++;else if(jt(Yt,At(Ft,Gt)))Gt=this.skip(zt,++Gt);else throw Pt("Failed to parse number at: "+Gt);if(At(Ft,Gt)==="."&&(Gt=this.skip(zt,++Gt)),At(Ft,Gt)==="e"||At(Ft,Gt)==="E"){Gt++,(At(Ft,Gt)==="+"||At(Ft,Gt)==="-")&&Gt++;var Vt=Gt;if(Gt=this.skip(zt,Gt),Vt===Gt)throw Pt("Failed to parse number's exponent value at: "+Gt)}return this.node(on,Mt(Lt(Ft,Ut,Gt)),Ut,Gt)},keyword:function(Ft){var Ut=""+Ft,Gt=this.index,Vt=Gt+Ut.length;if(Lt(this.source,Gt,Vt)!==Ut)throw Pt("Failed to parse value at: "+Gt);return this.node(on,Ft,Gt,Vt)},skip:function(Ft,Ut){for(var Gt=this.source;Ut<Gt.length&&jt(Ft,At(Gt,Ut));Ut++);return Ut},until:function(Ft,Ut){Ut=this.skip(rn,Ut);for(var Gt=At(this.source,Ut),Vt=0;Vt<Ft.length;Vt++)if(Ft[Vt]===Gt)return Ut;throw Pt('Unexpected character: "'+Gt+'" at: '+Ut)}};var $t=St(function(){var Ft="9007199254740993",Ut;return It(Ft,function(Gt,Vt,Kt){Ut=Kt.source}),Ut!==Ft}),Ot=kt&&!St(function(){return 1/It("-0 	")!==-1/0});c({target:"JSON",stat:!0,forced:$t},{parse:function(Ut,Gt){return Ot&&!gt(Gt)?It(Ut):an(Ut,Gt)}})},(a,e,o)=>{var c=o(14),et=o(39),tt=SyntaxError,nt=parseInt,rt=String.fromCharCode,mt=c("".charAt),gt=c("".slice),yt=c(/./.exec),vt={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},xt=/^[\da-f]{4}$/i,bt=/^[\u0000-\u001F]$/;a.exports=function(Et,wt){for(var St=!0,Tt="";wt<Et.length;){var kt=mt(Et,wt);if(kt==="\\"){var _t=gt(Et,wt,wt+2);if(et(vt,_t))Tt+=vt[_t],wt+=2;else if(_t==="\\u"){wt+=2;var Mt=gt(Et,wt,wt+4);if(!yt(xt,Mt))throw tt("Bad Unicode escape at: "+wt);Tt+=rt(nt(Mt,16)),wt+=4}else throw tt('Unknown escape sequence: "'+_t+'"')}else if(kt==='"'){St=!1,wt++;break}else{if(yt(bt,kt))throw tt("Bad control character in string literal at: "+wt);Tt+=kt,wt++}}if(St)throw tt("Unterminated string at: "+wt);return{value:Tt,end:wt}}},(a,e,o)=>{var on,Zt,an,Xt,yn,vn,Nt,$t,Ot,Ft,Ut,Gt,na,Kt,ga,nn,so,gn,Cs,In,Ps,Gn,us,Bn,ds;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=Dt,e.getColorValues=Bt,e.getCurrentTransform=zt,e.getCurrentTransformInverse=Yt,e.getFilenameFromUrl=Tt,e.getPdfFilenameFromUrl=kt,e.getRGB=jt,e.getXfaPageViewport=Lt,e.isDataScheme=wt,e.isPdfFile=St,e.isValidFetchUrl=Mt,e.loadScript=It,e.noContextMenu=Pt,e.setLayerDimensions=en,o(2),o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123),o(89),o(84),o(86),o(87);var c=o(169),et=o(1);const tt="http://www.w3.org/2000/svg",rn=class rn{};Tr(rn,"CSS",96),Tr(rn,"PDF",72),Tr(rn,"PDF_TO_CSS_UNITS",rn.CSS/rn.PDF);let nt=rn;e.PixelsPerInch=nt;class rt extends c.BaseFilterFactory{constructor(){let{docId:wn,ownerDocument:jn=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super();bn(this,Gt);bn(this,Kt);bn(this,nn);bn(this,gn);bn(this,In);bn(this,Gn);bn(this,Bn);bn(this,on,void 0);bn(this,Zt,void 0);bn(this,an,void 0);bn(this,Xt,void 0);bn(this,yn,void 0);bn(this,vn,void 0);bn(this,Nt,void 0);bn(this,$t,void 0);bn(this,Ot,void 0);bn(this,Ft,void 0);bn(this,Ut,0);Vn(this,an,wn),Vn(this,Xt,jn)}addFilter(wn){if(!wn)return"none";let jn=Wt(this,Gt,na).get(wn);if(jn)return jn;let pn,Rn,Kn,tr;if(wn.length===1){const Xn=wn[0],or=new Array(256);for(let lr=0;lr<256;lr++)or[lr]=Xn[lr]/255;tr=pn=Rn=Kn=or.join(",")}else{const[Xn,or,lr]=wn,Un=new Array(256),En=new Array(256),mn=new Array(256);for(let Fn=0;Fn<256;Fn++)Un[Fn]=Xn[Fn]/255,En[Fn]=or[Fn]/255,mn[Fn]=lr[Fn]/255;pn=Un.join(","),Rn=En.join(","),Kn=mn.join(","),tr=`${pn}${Rn}${Kn}`}if(jn=Wt(this,Gt,na).get(tr),jn)return Wt(this,Gt,na).set(wn,jn),jn;const ir=`g_${Wt(this,an)}_transfer_map_${os(this,Ut)._++}`,On=`url(#${ir})`;Wt(this,Gt,na).set(wn,On),Wt(this,Gt,na).set(tr,On);const Qn=Mn(this,gn,Cs).call(this,ir);return Mn(this,Gn,us).call(this,pn,Rn,Kn,Qn),On}addHCMFilter(wn,jn){var or;const pn=`${wn}-${jn}`;if(Wt(this,vn)===pn)return Wt(this,Nt);if(Vn(this,vn,pn),Vn(this,Nt,"none"),(or=Wt(this,yn))==null||or.remove(),!wn||!jn)return Wt(this,Nt);const Rn=Mn(this,Bn,ds).call(this,wn);wn=et.Util.makeHexColor(...Rn);const Kn=Mn(this,Bn,ds).call(this,jn);if(jn=et.Util.makeHexColor(...Kn),Wt(this,Kt,ga).style.color="",wn==="#000000"&&jn==="#ffffff"||wn===jn)return Wt(this,Nt);const tr=new Array(256);for(let lr=0;lr<=255;lr++){const Un=lr/255;tr[lr]=Un<=.03928?Un/12.92:((Un+.055)/1.055)**2.4}const ir=tr.join(","),On=`g_${Wt(this,an)}_hcm_filter`,Qn=Vn(this,$t,Mn(this,gn,Cs).call(this,On));Mn(this,Gn,us).call(this,ir,ir,ir,Qn),Mn(this,nn,so).call(this,Qn);const Xn=(lr,Un)=>{const En=Rn[lr]/255,mn=Kn[lr]/255,Fn=new Array(Un+1);for(let gr=0;gr<=Un;gr++)Fn[gr]=En+gr/Un*(mn-En);return Fn.join(",")};return Mn(this,Gn,us).call(this,Xn(0,5),Xn(1,5),Xn(2,5),Qn),Vn(this,Nt,`url(#${On})`),Wt(this,Nt)}addHighlightHCMFilter(wn,jn,pn,Rn){var mn;const Kn=`${wn}-${jn}-${pn}-${Rn}`;if(Wt(this,Ot)===Kn)return Wt(this,Ft);if(Vn(this,Ot,Kn),Vn(this,Ft,"none"),(mn=Wt(this,$t))==null||mn.remove(),!wn||!jn)return Wt(this,Ft);const[tr,ir]=[wn,jn].map(Mn(this,Bn,ds).bind(this));let On=Math.round(.2126*tr[0]+.7152*tr[1]+.0722*tr[2]),Qn=Math.round(.2126*ir[0]+.7152*ir[1]+.0722*ir[2]),[Xn,or]=[pn,Rn].map(Mn(this,Bn,ds).bind(this));Qn<On&&([On,Qn,Xn,or]=[Qn,On,or,Xn]),Wt(this,Kt,ga).style.color="";const lr=(Fn,gr,Ln)=>{const dn=new Array(256),zn=(Qn-On)/Ln,Yn=Fn/255,hn=(gr-Fn)/(255*Ln);let Pn=0;for(let Tn=0;Tn<=Ln;Tn++){const Zn=Math.round(On+Tn*zn),$n=Yn+Tn*hn;for(let qn=Pn;qn<=Zn;qn++)dn[qn]=$n;Pn=Zn+1}for(let Tn=Pn;Tn<256;Tn++)dn[Tn]=dn[Pn-1];return dn.join(",")},Un=`g_${Wt(this,an)}_hcm_highlight_filter`,En=Vn(this,$t,Mn(this,gn,Cs).call(this,Un));return Mn(this,nn,so).call(this,En),Mn(this,Gn,us).call(this,lr(Xn[0],or[0],5),lr(Xn[1],or[1],5),lr(Xn[2],or[2],5),En),Vn(this,Ft,`url(#${Un})`),Wt(this,Ft)}destroy(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&(Wt(this,Nt)||Wt(this,Ft))||(Wt(this,Zt)&&(Wt(this,Zt).parentNode.parentNode.remove(),Vn(this,Zt,null)),Wt(this,on)&&(Wt(this,on).clear(),Vn(this,on,null)),Vn(this,Ut,0))}}on=new WeakMap,Zt=new WeakMap,an=new WeakMap,Xt=new WeakMap,yn=new WeakMap,vn=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Ot=new WeakMap,Ft=new WeakMap,Ut=new WeakMap,Gt=new WeakSet,na=function(){return Wt(this,on)||Vn(this,on,new Map)},Kt=new WeakSet,ga=function(){if(!Wt(this,Zt)){const wn=Wt(this,Xt).createElement("div"),{style:jn}=wn;jn.visibility="hidden",jn.contain="strict",jn.width=jn.height=0,jn.position="absolute",jn.top=jn.left=0,jn.zIndex=-1;const pn=Wt(this,Xt).createElementNS(tt,"svg");pn.setAttribute("width",0),pn.setAttribute("height",0),Vn(this,Zt,Wt(this,Xt).createElementNS(tt,"defs")),wn.append(pn),pn.append(Wt(this,Zt)),Wt(this,Xt).body.append(wn)}return Wt(this,Zt)},nn=new WeakSet,so=function(wn){const jn=Wt(this,Xt).createElementNS(tt,"feColorMatrix");jn.setAttribute("type","matrix"),jn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),wn.append(jn)},gn=new WeakSet,Cs=function(wn){const jn=Wt(this,Xt).createElementNS(tt,"filter");return jn.setAttribute("color-interpolation-filters","sRGB"),jn.setAttribute("id",wn),Wt(this,Kt,ga).append(jn),jn},In=new WeakSet,Ps=function(wn,jn,pn){const Rn=Wt(this,Xt).createElementNS(tt,jn);Rn.setAttribute("type","discrete"),Rn.setAttribute("tableValues",pn),wn.append(Rn)},Gn=new WeakSet,us=function(wn,jn,pn,Rn){const Kn=Wt(this,Xt).createElementNS(tt,"feComponentTransfer");Rn.append(Kn),Mn(this,In,Ps).call(this,Kn,"feFuncR",wn),Mn(this,In,Ps).call(this,Kn,"feFuncG",jn),Mn(this,In,Ps).call(this,Kn,"feFuncB",pn)},Bn=new WeakSet,ds=function(wn){return Wt(this,Kt,ga).style.color=wn,jt(getComputedStyle(Wt(this,Kt,ga)).getPropertyValue("color"))},e.DOMFilterFactory=rt;class mt extends c.BaseCanvasFactory{constructor(){let{ownerDocument:xn=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=xn}_createCanvas(xn,wn){const jn=this._document.createElement("canvas");return jn.width=xn,jn.height=wn,jn}}e.DOMCanvasFactory=mt;async function gt(Sn){let xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Mt(Sn,document.baseURI)){const wn=await fetch(Sn);if(!wn.ok)throw new Error(wn.statusText);return xn?new Uint8Array(await wn.arrayBuffer()):(0,et.stringToBytes)(await wn.text())}return new Promise((wn,jn)=>{const pn=new XMLHttpRequest;pn.open("GET",Sn,!0),xn&&(pn.responseType="arraybuffer"),pn.onreadystatechange=()=>{if(pn.readyState===XMLHttpRequest.DONE){if(pn.status===200||pn.status===0){let Rn;if(xn&&pn.response?Rn=new Uint8Array(pn.response):!xn&&pn.responseText&&(Rn=(0,et.stringToBytes)(pn.responseText)),Rn){wn(Rn);return}}jn(new Error(pn.statusText))}},pn.send(null)})}class yt extends c.BaseCMapReaderFactory{_fetchData(xn,wn){return gt(xn,this.isCompressed).then(jn=>({cMapData:jn,compressionType:wn}))}}e.DOMCMapReaderFactory=yt;class vt extends c.BaseStandardFontDataFactory{_fetchData(xn){return gt(xn,!0)}}e.DOMStandardFontDataFactory=vt;class xt extends c.BaseSVGFactory{_createSVG(xn){return document.createElementNS(tt,xn)}}e.DOMSVGFactory=xt;class bt{constructor(xn){let{viewBox:wn,scale:jn,rotation:pn,offsetX:Rn=0,offsetY:Kn=0,dontFlip:tr=!1}=xn;this.viewBox=wn,this.scale=jn,this.rotation=pn,this.offsetX=Rn,this.offsetY=Kn;const ir=(wn[2]+wn[0])/2,On=(wn[3]+wn[1])/2;let Qn,Xn,or,lr;switch(pn%=360,pn<0&&(pn+=360),pn){case 180:Qn=-1,Xn=0,or=0,lr=1;break;case 90:Qn=0,Xn=1,or=1,lr=0;break;case 270:Qn=0,Xn=-1,or=-1,lr=0;break;case 0:Qn=1,Xn=0,or=0,lr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}tr&&(or=-or,lr=-lr);let Un,En,mn,Fn;Qn===0?(Un=Math.abs(On-wn[1])*jn+Rn,En=Math.abs(ir-wn[0])*jn+Kn,mn=(wn[3]-wn[1])*jn,Fn=(wn[2]-wn[0])*jn):(Un=Math.abs(ir-wn[0])*jn+Rn,En=Math.abs(On-wn[1])*jn+Kn,mn=(wn[2]-wn[0])*jn,Fn=(wn[3]-wn[1])*jn),this.transform=[Qn*jn,Xn*jn,or*jn,lr*jn,Un-Qn*jn*ir-or*jn*On,En-Xn*jn*ir-lr*jn*On],this.width=mn,this.height=Fn}get rawDims(){const{viewBox:xn}=this;return(0,et.shadow)(this,"rawDims",{pageWidth:xn[2]-xn[0],pageHeight:xn[3]-xn[1],pageX:xn[0],pageY:xn[1]})}clone(){let{scale:xn=this.scale,rotation:wn=this.rotation,offsetX:jn=this.offsetX,offsetY:pn=this.offsetY,dontFlip:Rn=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new bt({viewBox:this.viewBox.slice(),scale:xn,rotation:wn,offsetX:jn,offsetY:pn,dontFlip:Rn})}convertToViewportPoint(xn,wn){return et.Util.applyTransform([xn,wn],this.transform)}convertToViewportRectangle(xn){const wn=et.Util.applyTransform([xn[0],xn[1]],this.transform),jn=et.Util.applyTransform([xn[2],xn[3]],this.transform);return[wn[0],wn[1],jn[0],jn[1]]}convertToPdfPoint(xn,wn){return et.Util.applyInverseTransform([xn,wn],this.transform)}}e.PageViewport=bt;class Et extends et.BaseException{constructor(xn){let wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;super(xn,"RenderingCancelledException"),this.extraDelay=wn}}e.RenderingCancelledException=Et;function wt(Sn){const xn=Sn.length;let wn=0;for(;wn<xn&&Sn[wn].trim()==="";)wn++;return Sn.substring(wn,wn+5).toLowerCase()==="data:"}function St(Sn){return typeof Sn=="string"&&/\.pdf$/i.test(Sn)}function Tt(Sn){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([Sn]=Sn.split(/[#?]/,1)),Sn.substring(Sn.lastIndexOf("/")+1)}function kt(Sn){let xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof Sn!="string")return xn;if(wt(Sn))return(0,et.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),xn;const wn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,jn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,pn=wn.exec(Sn);let Rn=jn.exec(pn[1])||jn.exec(pn[2])||jn.exec(pn[3]);if(Rn&&(Rn=Rn[0],Rn.includes("%")))try{Rn=jn.exec(decodeURIComponent(Rn))[0]}catch{}return Rn||xn}class _t{constructor(){Tr(this,"started",Object.create(null));Tr(this,"times",[])}time(xn){xn in this.started&&(0,et.warn)(`Timer is already running for ${xn}`),this.started[xn]=Date.now()}timeEnd(xn){xn in this.started||(0,et.warn)(`Timer has not been started for ${xn}`),this.times.push({name:xn,start:this.started[xn],end:Date.now()}),delete this.started[xn]}toString(){const xn=[];let wn=0;for(const{name:jn}of this.times)wn=Math.max(jn.length,wn);for(const{name:jn,start:pn,end:Rn}of this.times)xn.push(`${jn.padEnd(wn)} ${Rn-pn}ms
`);return xn.join("")}}e.StatTimer=_t;function Mt(Sn,xn){try{const{protocol:wn}=xn?new URL(Sn,xn):new URL(Sn);return wn==="http:"||wn==="https:"}catch{return!1}}function Pt(Sn){Sn.preventDefault()}function It(Sn){let xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((wn,jn)=>{const pn=document.createElement("script");pn.src=Sn,pn.onload=function(Rn){xn&&pn.remove(),wn(Rn)},pn.onerror=function(){jn(new Error(`Cannot load script at: ${pn.src}`))},(document.head||document.documentElement).append(pn)})}function Dt(Sn){console.log("Deprecated API usage: "+Sn)}let Ct;class At{static toDateObject(xn){if(!xn||typeof xn!="string")return null;Ct||(Ct=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const wn=Ct.exec(xn);if(!wn)return null;const jn=parseInt(wn[1],10);let pn=parseInt(wn[2],10);pn=pn>=1&&pn<=12?pn-1:0;let Rn=parseInt(wn[3],10);Rn=Rn>=1&&Rn<=31?Rn:1;let Kn=parseInt(wn[4],10);Kn=Kn>=0&&Kn<=23?Kn:0;let tr=parseInt(wn[5],10);tr=tr>=0&&tr<=59?tr:0;let ir=parseInt(wn[6],10);ir=ir>=0&&ir<=59?ir:0;const On=wn[7]||"Z";let Qn=parseInt(wn[8],10);Qn=Qn>=0&&Qn<=23?Qn:0;let Xn=parseInt(wn[9],10)||0;return Xn=Xn>=0&&Xn<=59?Xn:0,On==="-"?(Kn+=Qn,tr+=Xn):On==="+"&&(Kn-=Qn,tr-=Xn),new Date(Date.UTC(jn,pn,Rn,Kn,tr,ir))}}e.PDFDateString=At;function Lt(Sn,xn){let{scale:wn=1,rotation:jn=0}=xn;const{width:pn,height:Rn}=Sn.attributes.style,Kn=[0,0,parseInt(pn),parseInt(Rn)];return new bt({viewBox:Kn,scale:wn,rotation:jn})}function jt(Sn){if(Sn.startsWith("#")){const xn=parseInt(Sn.slice(1),16);return[(xn&16711680)>>16,(xn&65280)>>8,xn&255]}return Sn.startsWith("rgb(")?Sn.slice(4,-1).split(",").map(xn=>parseInt(xn)):Sn.startsWith("rgba(")?Sn.slice(5,-1).split(",").map(xn=>parseInt(xn)).slice(0,3):((0,et.warn)(`Not a valid color format: "${Sn}"`),[0,0,0])}function Bt(Sn){const xn=document.createElement("span");xn.style.visibility="hidden",document.body.append(xn);for(const wn of Sn.keys()){xn.style.color=wn;const jn=window.getComputedStyle(xn).color;Sn.set(wn,jt(jn))}xn.remove()}function zt(Sn){const{a:xn,b:wn,c:jn,d:pn,e:Rn,f:Kn}=Sn.getTransform();return[xn,wn,jn,pn,Rn,Kn]}function Yt(Sn){const{a:xn,b:wn,c:jn,d:pn,e:Rn,f:Kn}=Sn.getTransform().invertSelf();return[xn,wn,jn,pn,Rn,Kn]}function en(Sn,xn){let wn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,jn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(xn instanceof bt){const{pageWidth:pn,pageHeight:Rn}=xn.rawDims,{style:Kn}=Sn,tr=et.FeatureTest.isCSSRoundSupported,ir=`var(--scale-factor) * ${pn}px`,On=`var(--scale-factor) * ${Rn}px`,Qn=tr?`round(${ir}, 1px)`:`calc(${ir})`,Xn=tr?`round(${On}, 1px)`:`calc(${On})`;!wn||xn.rotation%180===0?(Kn.width=Qn,Kn.height=Xn):(Kn.width=Xn,Kn.height=Qn)}jn&&Sn.setAttribute("data-main-rotation",xn.rotation)}},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0,o(2);var c=o(1);class et{constructor(){this.constructor===et&&(0,c.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(yt){return"none"}addHCMFilter(yt,vt){return"none"}addHighlightHCMFilter(yt,vt,xt,bt){return"none"}destroy(){}}e.BaseFilterFactory=et;class tt{constructor(){this.constructor===tt&&(0,c.unreachable)("Cannot initialize BaseCanvasFactory.")}create(yt,vt){if(yt<=0||vt<=0)throw new Error("Invalid canvas size");const xt=this._createCanvas(yt,vt);return{canvas:xt,context:xt.getContext("2d")}}reset(yt,vt,xt){if(!yt.canvas)throw new Error("Canvas is not specified");if(vt<=0||xt<=0)throw new Error("Invalid canvas size");yt.canvas.width=vt,yt.canvas.height=xt}destroy(yt){if(!yt.canvas)throw new Error("Canvas is not specified");yt.canvas.width=0,yt.canvas.height=0,yt.canvas=null,yt.context=null}_createCanvas(yt,vt){(0,c.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=tt;class nt{constructor(yt){let{baseUrl:vt=null,isCompressed:xt=!0}=yt;this.constructor===nt&&(0,c.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=vt,this.isCompressed=xt}async fetch(yt){let{name:vt}=yt;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!vt)throw new Error("CMap name must be specified.");const xt=this.baseUrl+vt+(this.isCompressed?".bcmap":""),bt=this.isCompressed?c.CMapCompressionType.BINARY:c.CMapCompressionType.NONE;return this._fetchData(xt,bt).catch(Et=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${xt}`)})}_fetchData(yt,vt){(0,c.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=nt;class rt{constructor(yt){let{baseUrl:vt=null}=yt;this.constructor===rt&&(0,c.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=vt}async fetch(yt){let{filename:vt}=yt;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!vt)throw new Error("Font filename must be specified.");const xt=`${this.baseUrl}${vt}`;return this._fetchData(xt).catch(bt=>{throw new Error(`Unable to load font data at: ${xt}`)})}_fetchData(yt){(0,c.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=rt;class mt{constructor(){this.constructor===mt&&(0,c.unreachable)("Cannot initialize BaseSVGFactory.")}create(yt,vt){let xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(yt<=0||vt<=0)throw new Error("Invalid SVG dimensions");const bt=this._createSVG("svg:svg");return bt.setAttribute("version","1.1"),xt||(bt.setAttribute("width",`${yt}px`),bt.setAttribute("height",`${vt}px`)),bt.setAttribute("preserveAspectRatio","none"),bt.setAttribute("viewBox",`0 0 ${yt} ${vt}`),bt}createElement(yt){if(typeof yt!="string")throw new Error("Invalid SVG element type");return this._createSVG(yt)}_createSVG(yt){(0,c.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=mt},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0,o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123),o(2);var c=o(1);const et=3285377520,tt=4294901760,nt=65535;class rt{constructor(gt){this.h1=gt?gt&4294967295:et,this.h2=gt?gt&4294967295:et}update(gt){let yt,vt;if(typeof gt=="string"){yt=new Uint8Array(gt.length*2),vt=0;for(let Dt=0,Ct=gt.length;Dt<Ct;Dt++){const At=gt.charCodeAt(Dt);At<=255?yt[vt++]=At:(yt[vt++]=At>>>8,yt[vt++]=At&255)}}else if((0,c.isArrayBuffer)(gt))yt=gt.slice(),vt=yt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const xt=vt>>2,bt=vt-xt*4,Et=new Uint32Array(yt.buffer,0,xt);let wt=0,St=0,Tt=this.h1,kt=this.h2;const _t=3432918353,Mt=461845907,Pt=_t&nt,It=Mt&nt;for(let Dt=0;Dt<xt;Dt++)Dt&1?(wt=Et[Dt],wt=wt*_t&tt|wt*Pt&nt,wt=wt<<15|wt>>>17,wt=wt*Mt&tt|wt*It&nt,Tt^=wt,Tt=Tt<<13|Tt>>>19,Tt=Tt*5+3864292196):(St=Et[Dt],St=St*_t&tt|St*Pt&nt,St=St<<15|St>>>17,St=St*Mt&tt|St*It&nt,kt^=St,kt=kt<<13|kt>>>19,kt=kt*5+3864292196);switch(wt=0,bt){case 3:wt^=yt[xt*4+2]<<16;case 2:wt^=yt[xt*4+1]<<8;case 1:wt^=yt[xt*4],wt=wt*_t&tt|wt*Pt&nt,wt=wt<<15|wt>>>17,wt=wt*Mt&tt|wt*It&nt,xt&1?Tt^=wt:kt^=wt}this.h1=Tt,this.h2=kt}hexdigest(){let gt=this.h1,yt=this.h2;return gt^=yt>>>1,gt=gt*3981806797&tt|gt*36045&nt,yt=yt*4283543511&tt|((yt<<16|gt>>>16)*2950163797&tt)>>>16,gt^=yt>>>1,gt=gt*444984403&tt|gt*60499&nt,yt=yt*3301882366&tt|((yt<<16|gt>>>16)*3120437893&tt)>>>16,gt^=yt>>>1,(gt>>>0).toString(16).padStart(8,"0")+(yt>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=rt},(a,e,o)=>{var nt;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0,o(125),o(136),o(138),o(141),o(143),o(145),o(147),o(89),o(149);var c=o(1);class et{constructor(mt){bn(this,nt,new Set);let{ownerDocument:gt=globalThis.document,styleElement:yt=null}=mt;this._document=gt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(mt){this.nativeFontFaces.add(mt),this._document.fonts.add(mt)}removeNativeFontFace(mt){this.nativeFontFaces.delete(mt),this._document.fonts.delete(mt)}insertRule(mt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const gt=this.styleElement.sheet;gt.insertRule(mt,gt.cssRules.length)}clear(){for(const mt of this.nativeFontFaces)this._document.fonts.delete(mt);this.nativeFontFaces.clear(),Wt(this,nt).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(mt){if(!(!mt||Wt(this,nt).has(mt.loadedName))){if((0,c.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:gt,src:yt,style:vt}=mt,xt=new FontFace(gt,yt,vt);this.addNativeFontFace(xt);try{await xt.load(),Wt(this,nt).add(gt)}catch{(0,c.warn)(`Cannot load system font: ${mt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(xt)}return}(0,c.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(mt){if(mt.attached||mt.missingFile&&!mt.systemFontInfo)return;if(mt.attached=!0,mt.systemFontInfo){await this.loadSystemFont(mt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const yt=mt.createNativeFontFace();if(yt){this.addNativeFontFace(yt);try{await yt.loaded}catch(vt){throw(0,c.warn)(`Failed to load font '${yt.family}': '${vt}'.`),mt.disableFontFace=!0,vt}}return}const gt=mt.createFontFaceRule();if(gt){if(this.insertRule(gt),this.isSyncFontLoadingSupported)return;await new Promise(yt=>{const vt=this._queueLoadingCallback(yt);this._prepareFontLoadEvent(mt,vt)})}}get isFontLoadingAPISupported(){var gt;const mt=!!((gt=this._document)!=null&&gt.fonts);return(0,c.shadow)(this,"isFontLoadingAPISupported",mt)}get isSyncFontLoadingSupported(){let mt=!1;return(c.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(mt=!0),(0,c.shadow)(this,"isSyncFontLoadingSupported",mt)}_queueLoadingCallback(mt){function gt(){for((0,c.assert)(!vt.done,"completeRequest() cannot be called twice."),vt.done=!0;yt.length>0&&yt[0].done;){const xt=yt.shift();setTimeout(xt.callback,0)}}const{loadingRequests:yt}=this,vt={done:!1,complete:gt,callback:mt};return yt.push(vt),vt}get _loadTestFont(){const mt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,c.shadow)(this,"_loadTestFont",mt)}_prepareFontLoadEvent(mt,gt){function yt(jt,Bt){return jt.charCodeAt(Bt)<<24|jt.charCodeAt(Bt+1)<<16|jt.charCodeAt(Bt+2)<<8|jt.charCodeAt(Bt+3)&255}function vt(jt,Bt,zt,Yt){const en=jt.substring(0,Bt),rn=jt.substring(Bt+zt);return en+Yt+rn}let xt,bt;const Et=this._document.createElement("canvas");Et.width=1,Et.height=1;const wt=Et.getContext("2d");let St=0;function Tt(jt,Bt){if(++St>30){(0,c.warn)("Load test font never loaded."),Bt();return}if(wt.font="30px "+jt,wt.fillText(".",0,20),wt.getImageData(0,0,1,1).data[3]>0){Bt();return}setTimeout(Tt.bind(null,jt,Bt))}const kt=`lt${Date.now()}${this.loadTestFontId++}`;let _t=this._loadTestFont;_t=vt(_t,976,kt.length,kt);const Pt=16,It=1482184792;let Dt=yt(_t,Pt);for(xt=0,bt=kt.length-3;xt<bt;xt+=4)Dt=Dt-It+yt(kt,xt)|0;xt<kt.length&&(Dt=Dt-It+yt(kt+"XXX",xt)|0),_t=vt(_t,Pt,4,(0,c.string32)(Dt));const Ct=`url(data:font/opentype;base64,${btoa(_t)});`,At=`@font-face {font-family:"${kt}";src:${Ct}}`;this.insertRule(At);const Lt=this._document.createElement("div");Lt.style.visibility="hidden",Lt.style.width=Lt.style.height="10px",Lt.style.position="absolute",Lt.style.top=Lt.style.left="0px";for(const jt of[mt.loadedName,kt]){const Bt=this._document.createElement("span");Bt.textContent="Hi",Bt.style.fontFamily=jt,Lt.append(Bt)}this._document.body.append(Lt),Tt(kt,()=>{Lt.remove(),gt.complete()})}}nt=new WeakMap,e.FontLoader=et;class tt{constructor(mt,gt){let{isEvalSupported:yt=!0,disableFontFace:vt=!1,ignoreErrors:xt=!1,inspectFont:bt=null}=gt;this.compiledGlyphs=Object.create(null);for(const Et in mt)this[Et]=mt[Et];this.isEvalSupported=yt!==!1,this.disableFontFace=vt===!0,this.ignoreErrors=xt===!0,this._inspectFont=bt}createNativeFontFace(){var gt;if(!this.data||this.disableFontFace)return null;let mt;if(!this.cssFontInfo)mt=new FontFace(this.loadedName,this.data,{});else{const yt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(yt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),mt=new FontFace(this.cssFontInfo.fontFamily,this.data,yt)}return(gt=this._inspectFont)==null||gt.call(this,this),mt}createFontFaceRule(){var vt;if(!this.data||this.disableFontFace)return null;const mt=(0,c.bytesToString)(this.data),gt=`url(data:${this.mimetype};base64,${btoa(mt)});`;let yt;if(!this.cssFontInfo)yt=`@font-face {font-family:"${this.loadedName}";src:${gt}}`;else{let xt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(xt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),yt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${xt}src:${gt}}`}return(vt=this._inspectFont)==null||vt.call(this,this,gt),yt}getPathGenerator(mt,gt){if(this.compiledGlyphs[gt]!==void 0)return this.compiledGlyphs[gt];let yt;try{yt=mt.get(this.loadedName+"_path_"+gt)}catch(vt){if(!this.ignoreErrors)throw vt;return(0,c.warn)(`getPathGenerator - ignoring character: "${vt}".`),this.compiledGlyphs[gt]=function(xt,bt){}}if(this.isEvalSupported&&c.FeatureTest.isEvalSupported){const vt=[];for(const xt of yt){const bt=xt.args!==void 0?xt.args.join(","):"";vt.push("c.",xt.cmd,"(",bt,`);
`)}return this.compiledGlyphs[gt]=new Function("c","size",vt.join(""))}return this.compiledGlyphs[gt]=function(vt,xt){for(const bt of yt)bt.cmd==="scale"&&(bt.args=[xt,-xt]),vt[bt.cmd].apply(vt,bt.args)}}}e.FontFaceObject=tt},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0,o(2),o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123);var c=o(169),et=o(1);(function(){if(!(globalThis.DOMMatrix||!et.isNodeJS))try{globalThis.DOMMatrix=require$$6.DOMMatrix}catch(vt){(0,et.warn)(`Cannot polyfill \`DOMMatrix\`, rendering may be broken: "${vt}".`)}})(),function(){if(!(globalThis.Path2D||!et.isNodeJS))try{const{CanvasRenderingContext2D:vt}=require$$6,{polyfillPath2D:xt}=requirePath2dPolyfill_esm();globalThis.CanvasRenderingContext2D=vt,xt(globalThis)}catch(vt){(0,et.warn)(`Cannot polyfill \`Path2D\`, rendering may be broken: "${vt}".`)}}();const tt=function(yt){return new Promise((vt,xt)=>{require$$6.readFile(yt,(Et,wt)=>{if(Et||!wt){xt(new Error(Et));return}vt(new Uint8Array(wt))})})};class nt extends c.BaseFilterFactory{}e.NodeFilterFactory=nt;class rt extends c.BaseCanvasFactory{_createCanvas(vt,xt){return require$$6.createCanvas(vt,xt)}}e.NodeCanvasFactory=rt;class mt extends c.BaseCMapReaderFactory{_fetchData(vt,xt){return tt(vt).then(bt=>({cMapData:bt,compressionType:xt}))}}e.NodeCMapReaderFactory=mt;class gt extends c.BaseStandardFontDataFactory{_fetchData(vt){return tt(vt)}}e.NodeStandardFontDataFactory=gt},(a,e,o)=>{var Zt,oo,Xt,lo;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0,o(2),o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123),o(89);var c=o(1),et=o(168),tt=o(174),nt=o(175);const rt=16,mt=100,gt=4096,yt=15,vt=10,xt=1e3,bt=16;function Et(Nt,$t){if(Nt._removeMirroring)throw new Error("Context is already forwarding operations.");Nt.__originalSave=Nt.save,Nt.__originalRestore=Nt.restore,Nt.__originalRotate=Nt.rotate,Nt.__originalScale=Nt.scale,Nt.__originalTranslate=Nt.translate,Nt.__originalTransform=Nt.transform,Nt.__originalSetTransform=Nt.setTransform,Nt.__originalResetTransform=Nt.resetTransform,Nt.__originalClip=Nt.clip,Nt.__originalMoveTo=Nt.moveTo,Nt.__originalLineTo=Nt.lineTo,Nt.__originalBezierCurveTo=Nt.bezierCurveTo,Nt.__originalRect=Nt.rect,Nt.__originalClosePath=Nt.closePath,Nt.__originalBeginPath=Nt.beginPath,Nt._removeMirroring=()=>{Nt.save=Nt.__originalSave,Nt.restore=Nt.__originalRestore,Nt.rotate=Nt.__originalRotate,Nt.scale=Nt.__originalScale,Nt.translate=Nt.__originalTranslate,Nt.transform=Nt.__originalTransform,Nt.setTransform=Nt.__originalSetTransform,Nt.resetTransform=Nt.__originalResetTransform,Nt.clip=Nt.__originalClip,Nt.moveTo=Nt.__originalMoveTo,Nt.lineTo=Nt.__originalLineTo,Nt.bezierCurveTo=Nt.__originalBezierCurveTo,Nt.rect=Nt.__originalRect,Nt.closePath=Nt.__originalClosePath,Nt.beginPath=Nt.__originalBeginPath,delete Nt._removeMirroring},Nt.save=function(){$t.save(),this.__originalSave()},Nt.restore=function(){$t.restore(),this.__originalRestore()},Nt.translate=function(Ft,Ut){$t.translate(Ft,Ut),this.__originalTranslate(Ft,Ut)},Nt.scale=function(Ft,Ut){$t.scale(Ft,Ut),this.__originalScale(Ft,Ut)},Nt.transform=function(Ft,Ut,Gt,Vt,Kt,Jt){$t.transform(Ft,Ut,Gt,Vt,Kt,Jt),this.__originalTransform(Ft,Ut,Gt,Vt,Kt,Jt)},Nt.setTransform=function(Ft,Ut,Gt,Vt,Kt,Jt){$t.setTransform(Ft,Ut,Gt,Vt,Kt,Jt),this.__originalSetTransform(Ft,Ut,Gt,Vt,Kt,Jt)},Nt.resetTransform=function(){$t.resetTransform(),this.__originalResetTransform()},Nt.rotate=function(Ft){$t.rotate(Ft),this.__originalRotate(Ft)},Nt.clip=function(Ft){$t.clip(Ft),this.__originalClip(Ft)},Nt.moveTo=function(Ot,Ft){$t.moveTo(Ot,Ft),this.__originalMoveTo(Ot,Ft)},Nt.lineTo=function(Ot,Ft){$t.lineTo(Ot,Ft),this.__originalLineTo(Ot,Ft)},Nt.bezierCurveTo=function(Ot,Ft,Ut,Gt,Vt,Kt){$t.bezierCurveTo(Ot,Ft,Ut,Gt,Vt,Kt),this.__originalBezierCurveTo(Ot,Ft,Ut,Gt,Vt,Kt)},Nt.rect=function(Ot,Ft,Ut,Gt){$t.rect(Ot,Ft,Ut,Gt),this.__originalRect(Ot,Ft,Ut,Gt)},Nt.closePath=function(){$t.closePath(),this.__originalClosePath()},Nt.beginPath=function(){$t.beginPath(),this.__originalBeginPath()}}class wt{constructor($t){this.canvasFactory=$t,this.cache=Object.create(null)}getCanvas($t,Ot,Ft){let Ut;return this.cache[$t]!==void 0?(Ut=this.cache[$t],this.canvasFactory.reset(Ut,Ot,Ft)):(Ut=this.canvasFactory.create(Ot,Ft),this.cache[$t]=Ut),Ut}delete($t){delete this.cache[$t]}clear(){for(const $t in this.cache){const Ot=this.cache[$t];this.canvasFactory.destroy(Ot),delete this.cache[$t]}}}function St(Nt,$t,Ot,Ft,Ut,Gt,Vt,Kt,Jt,nn){const[sn,gn,fn,In,Dn,Gn]=(0,et.getCurrentTransform)(Nt);if(gn===0&&fn===0){const An=Vt*sn+Dn,Sn=Math.round(An),xn=Kt*In+Gn,wn=Math.round(xn),jn=(Vt+Jt)*sn+Dn,pn=Math.abs(Math.round(jn)-Sn)||1,Rn=(Kt+nn)*In+Gn,Kn=Math.abs(Math.round(Rn)-wn)||1;return Nt.setTransform(Math.sign(sn),0,0,Math.sign(In),Sn,wn),Nt.drawImage($t,Ot,Ft,Ut,Gt,0,0,pn,Kn),Nt.setTransform(sn,gn,fn,In,Dn,Gn),[pn,Kn]}if(sn===0&&In===0){const An=Kt*fn+Dn,Sn=Math.round(An),xn=Vt*gn+Gn,wn=Math.round(xn),jn=(Kt+nn)*fn+Dn,pn=Math.abs(Math.round(jn)-Sn)||1,Rn=(Vt+Jt)*gn+Gn,Kn=Math.abs(Math.round(Rn)-wn)||1;return Nt.setTransform(0,Math.sign(gn),Math.sign(fn),0,Sn,wn),Nt.drawImage($t,Ot,Ft,Ut,Gt,0,0,Kn,pn),Nt.setTransform(sn,gn,fn,In,Dn,Gn),[Kn,pn]}Nt.drawImage($t,Ot,Ft,Ut,Gt,Vt,Kt,Jt,nn);const rr=Math.hypot(sn,gn),Bn=Math.hypot(fn,In);return[rr*Jt,Bn*nn]}function Tt(Nt){const{width:$t,height:Ot}=Nt;if($t>xt||Ot>xt)return null;const Ft=1e3,Ut=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Gt=$t+1;let Vt=new Uint8Array(Gt*(Ot+1)),Kt,Jt,nn;const sn=$t+7&-8;let gn=new Uint8Array(sn*Ot),fn=0;for(const Bn of Nt.data){let An=128;for(;An>0;)gn[fn++]=Bn&An?0:255,An>>=1}let In=0;for(fn=0,gn[fn]!==0&&(Vt[0]=1,++In),Jt=1;Jt<$t;Jt++)gn[fn]!==gn[fn+1]&&(Vt[Jt]=gn[fn]?2:1,++In),fn++;for(gn[fn]!==0&&(Vt[Jt]=2,++In),Kt=1;Kt<Ot;Kt++){fn=Kt*sn,nn=Kt*Gt,gn[fn-sn]!==gn[fn]&&(Vt[nn]=gn[fn]?1:8,++In);let Bn=(gn[fn]?4:0)+(gn[fn-sn]?8:0);for(Jt=1;Jt<$t;Jt++)Bn=(Bn>>2)+(gn[fn+1]?4:0)+(gn[fn-sn+1]?8:0),Ut[Bn]&&(Vt[nn+Jt]=Ut[Bn],++In),fn++;if(gn[fn-sn]!==gn[fn]&&(Vt[nn+Jt]=gn[fn]?2:4,++In),In>Ft)return null}for(fn=sn*(Ot-1),nn=Kt*Gt,gn[fn]!==0&&(Vt[nn]=8,++In),Jt=1;Jt<$t;Jt++)gn[fn]!==gn[fn+1]&&(Vt[nn+Jt]=gn[fn]?4:8,++In),fn++;if(gn[fn]!==0&&(Vt[nn+Jt]=4,++In),In>Ft)return null;const Dn=new Int32Array([0,Gt,-1,0,-Gt,0,0,0,1]),Gn=new Path2D;for(Kt=0;In&&Kt<=Ot;Kt++){let Bn=Kt*Gt;const An=Bn+$t;for(;Bn<An&&!Vt[Bn];)Bn++;if(Bn===An)continue;Gn.moveTo(Bn%Gt,Kt);const Sn=Bn;let xn=Vt[Bn];do{const wn=Dn[xn];do Bn+=wn;while(!Vt[Bn]);const jn=Vt[Bn];jn!==5&&jn!==10?(xn=jn,Vt[Bn]=0):(xn=jn&51*xn>>4,Vt[Bn]&=xn>>2|xn<<2),Gn.lineTo(Bn%Gt,Bn/Gt|0),Vt[Bn]||--In}while(Sn!==Bn);--Kt}return gn=null,Vt=null,function(Bn){Bn.save(),Bn.scale(1/$t,-1/Ot),Bn.translate(0,-Ot),Bn.fill(Gn),Bn.beginPath(),Bn.restore()}}class kt{constructor($t,Ot){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=c.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$t,Ot])}clone(){const $t=Object.create(this);return $t.clipBox=this.clipBox.slice(),$t}setCurrentPoint($t,Ot){this.x=$t,this.y=Ot}updatePathMinMax($t,Ot,Ft){[Ot,Ft]=c.Util.applyTransform([Ot,Ft],$t),this.minX=Math.min(this.minX,Ot),this.minY=Math.min(this.minY,Ft),this.maxX=Math.max(this.maxX,Ot),this.maxY=Math.max(this.maxY,Ft)}updateRectMinMax($t,Ot){const Ft=c.Util.applyTransform(Ot,$t),Ut=c.Util.applyTransform(Ot.slice(2),$t);this.minX=Math.min(this.minX,Ft[0],Ut[0]),this.minY=Math.min(this.minY,Ft[1],Ut[1]),this.maxX=Math.max(this.maxX,Ft[0],Ut[0]),this.maxY=Math.max(this.maxY,Ft[1],Ut[1])}updateScalingPathMinMax($t,Ot){c.Util.scaleMinMax($t,Ot),this.minX=Math.min(this.minX,Ot[0]),this.maxX=Math.max(this.maxX,Ot[1]),this.minY=Math.min(this.minY,Ot[2]),this.maxY=Math.max(this.maxY,Ot[3])}updateCurvePathMinMax($t,Ot,Ft,Ut,Gt,Vt,Kt,Jt,nn,sn){const gn=c.Util.bezierBoundingBox(Ot,Ft,Ut,Gt,Vt,Kt,Jt,nn);if(sn){sn[0]=Math.min(sn[0],gn[0],gn[2]),sn[1]=Math.max(sn[1],gn[0],gn[2]),sn[2]=Math.min(sn[2],gn[1],gn[3]),sn[3]=Math.max(sn[3],gn[1],gn[3]);return}this.updateRectMinMax($t,gn)}getPathBoundingBox(){let $t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tt.PathType.FILL,Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Ft=[this.minX,this.minY,this.maxX,this.maxY];if($t===tt.PathType.STROKE){Ot||(0,c.unreachable)("Stroke bounding box must include transform.");const Ut=c.Util.singularValueDecompose2dScale(Ot),Gt=Ut[0]*this.lineWidth/2,Vt=Ut[1]*this.lineWidth/2;Ft[0]-=Gt,Ft[1]-=Vt,Ft[2]+=Gt,Ft[3]+=Vt}return Ft}updateClipFromPath(){const $t=c.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($t){this.clipBox=$t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let $t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tt.PathType.FILL,Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return c.Util.intersect(this.clipBox,this.getPathBoundingBox($t,Ot))}}function _t(Nt,$t){if(typeof ImageData<"u"&&$t instanceof ImageData){Nt.putImageData($t,0,0);return}const Ot=$t.height,Ft=$t.width,Ut=Ot%bt,Gt=(Ot-Ut)/bt,Vt=Ut===0?Gt:Gt+1,Kt=Nt.createImageData(Ft,bt);let Jt=0,nn;const sn=$t.data,gn=Kt.data;let fn,In,Dn,Gn;if($t.kind===c.ImageKind.GRAYSCALE_1BPP){const rr=sn.byteLength,Bn=new Uint32Array(gn.buffer,0,gn.byteLength>>2),An=Bn.length,Sn=Ft+7>>3,xn=4294967295,wn=c.FeatureTest.isLittleEndian?4278190080:255;for(fn=0;fn<Vt;fn++){for(Dn=fn<Gt?bt:Ut,nn=0,In=0;In<Dn;In++){const jn=rr-Jt;let pn=0;const Rn=jn>Sn?Ft:jn*8-7,Kn=Rn&-8;let tr=0,ir=0;for(;pn<Kn;pn+=8)ir=sn[Jt++],Bn[nn++]=ir&128?xn:wn,Bn[nn++]=ir&64?xn:wn,Bn[nn++]=ir&32?xn:wn,Bn[nn++]=ir&16?xn:wn,Bn[nn++]=ir&8?xn:wn,Bn[nn++]=ir&4?xn:wn,Bn[nn++]=ir&2?xn:wn,Bn[nn++]=ir&1?xn:wn;for(;pn<Rn;pn++)tr===0&&(ir=sn[Jt++],tr=128),Bn[nn++]=ir&tr?xn:wn,tr>>=1}for(;nn<An;)Bn[nn++]=0;Nt.putImageData(Kt,0,fn*bt)}}else if($t.kind===c.ImageKind.RGBA_32BPP){for(In=0,Gn=Ft*bt*4,fn=0;fn<Gt;fn++)gn.set(sn.subarray(Jt,Jt+Gn)),Jt+=Gn,Nt.putImageData(Kt,0,In),In+=bt;fn<Vt&&(Gn=Ft*Ut*4,gn.set(sn.subarray(Jt,Jt+Gn)),Nt.putImageData(Kt,0,In))}else if($t.kind===c.ImageKind.RGB_24BPP)for(Dn=bt,Gn=Ft*Dn,fn=0;fn<Vt;fn++){for(fn>=Gt&&(Dn=Ut,Gn=Ft*Dn),nn=0,In=Gn;In--;)gn[nn++]=sn[Jt++],gn[nn++]=sn[Jt++],gn[nn++]=sn[Jt++],gn[nn++]=255;Nt.putImageData(Kt,0,fn*bt)}else throw new Error(`bad image kind: ${$t.kind}`)}function Mt(Nt,$t){if($t.bitmap){Nt.drawImage($t.bitmap,0,0);return}const Ot=$t.height,Ft=$t.width,Ut=Ot%bt,Gt=(Ot-Ut)/bt,Vt=Ut===0?Gt:Gt+1,Kt=Nt.createImageData(Ft,bt);let Jt=0;const nn=$t.data,sn=Kt.data;for(let gn=0;gn<Vt;gn++){const fn=gn<Gt?bt:Ut;({srcPos:Jt}=(0,nt.convertBlackAndWhiteToRGBA)({src:nn,srcPos:Jt,dest:sn,width:Ft,height:fn,nonBlackColor:0})),Nt.putImageData(Kt,0,gn*bt)}}function Pt(Nt,$t){const Ot=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Ft of Ot)Nt[Ft]!==void 0&&($t[Ft]=Nt[Ft]);Nt.setLineDash!==void 0&&($t.setLineDash(Nt.getLineDash()),$t.lineDashOffset=Nt.lineDashOffset)}function It(Nt){if(Nt.strokeStyle=Nt.fillStyle="#000000",Nt.fillRule="nonzero",Nt.globalAlpha=1,Nt.lineWidth=1,Nt.lineCap="butt",Nt.lineJoin="miter",Nt.miterLimit=10,Nt.globalCompositeOperation="source-over",Nt.font="10px sans-serif",Nt.setLineDash!==void 0&&(Nt.setLineDash([]),Nt.lineDashOffset=0),!c.isNodeJS){const{filter:$t}=Nt;$t!=="none"&&$t!==""&&(Nt.filter="none")}}function Dt(Nt,$t,Ot,Ft){const Ut=Nt.length;for(let Gt=3;Gt<Ut;Gt+=4){const Vt=Nt[Gt];if(Vt===0)Nt[Gt-3]=$t,Nt[Gt-2]=Ot,Nt[Gt-1]=Ft;else if(Vt<255){const Kt=255-Vt;Nt[Gt-3]=Nt[Gt-3]*Vt+$t*Kt>>8,Nt[Gt-2]=Nt[Gt-2]*Vt+Ot*Kt>>8,Nt[Gt-1]=Nt[Gt-1]*Vt+Ft*Kt>>8}}}function Ct(Nt,$t,Ot){const Ft=Nt.length,Ut=1/255;for(let Gt=3;Gt<Ft;Gt+=4){const Vt=Ot?Ot[Nt[Gt]]:Nt[Gt];$t[Gt]=$t[Gt]*Vt*Ut|0}}function At(Nt,$t,Ot){const Ft=Nt.length;for(let Ut=3;Ut<Ft;Ut+=4){const Gt=Nt[Ut-3]*77+Nt[Ut-2]*152+Nt[Ut-1]*28;$t[Ut]=Ot?$t[Ut]*Ot[Gt>>8]>>8:$t[Ut]*Gt>>16}}function Lt(Nt,$t,Ot,Ft,Ut,Gt,Vt,Kt,Jt,nn,sn){const gn=!!Gt,fn=gn?Gt[0]:0,In=gn?Gt[1]:0,Dn=gn?Gt[2]:0,Gn=Ut==="Luminosity"?At:Ct,Bn=Math.min(Ft,Math.ceil(1048576/Ot));for(let An=0;An<Ft;An+=Bn){const Sn=Math.min(Bn,Ft-An),xn=Nt.getImageData(Kt-nn,An+(Jt-sn),Ot,Sn),wn=$t.getImageData(Kt,An+Jt,Ot,Sn);gn&&Dt(xn.data,fn,In,Dn),Gn(xn.data,wn.data,Vt),$t.putImageData(wn,Kt,An+Jt)}}function jt(Nt,$t,Ot,Ft){const Ut=Ft[0],Gt=Ft[1],Vt=Ft[2]-Ut,Kt=Ft[3]-Gt;Vt===0||Kt===0||(Lt($t.context,Ot,Vt,Kt,$t.subtype,$t.backdrop,$t.transferMap,Ut,Gt,$t.offsetX,$t.offsetY),Nt.save(),Nt.globalAlpha=1,Nt.globalCompositeOperation="source-over",Nt.setTransform(1,0,0,1,0,0),Nt.drawImage(Ot.canvas,0,0),Nt.restore())}function Bt(Nt,$t){const Ot=c.Util.singularValueDecompose2dScale(Nt);Ot[0]=Math.fround(Ot[0]),Ot[1]=Math.fround(Ot[1]);const Ft=Math.fround((globalThis.devicePixelRatio||1)*et.PixelsPerInch.PDF_TO_CSS_UNITS);return $t!==void 0?$t:Ot[0]<=Ft||Ot[1]<=Ft}const zt=["butt","round","square"],Yt=["miter","round","bevel"],en={},rn={},vn=class vn{constructor($t,Ot,Ft,Ut,Gt,Vt,Kt,Jt){bn(this,Zt);bn(this,Xt);let{optionalContentConfig:nn,markedContentStack:sn=null}=Vt;this.ctx=$t,this.current=new kt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ot,this.objs=Ft,this.canvasFactory=Ut,this.filterFactory=Gt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=sn||[],this.optionalContentConfig=nn,this.cachedCanvases=new wt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Kt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Jt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($t){let Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof $t=="string"?$t.startsWith("g_")?this.commonObjs.get($t):this.objs.get($t):Ot}beginDrawing($t){let{transform:Ot,viewport:Ft,transparency:Ut=!1,background:Gt=null}=$t;const Vt=this.ctx.canvas.width,Kt=this.ctx.canvas.height,Jt=this.ctx.fillStyle;if(this.ctx.fillStyle=Gt||"#ffffff",this.ctx.fillRect(0,0,Vt,Kt),this.ctx.fillStyle=Jt,Ut){const nn=this.cachedCanvases.getCanvas("transparent",Vt,Kt);this.compositeCtx=this.ctx,this.transparentCanvas=nn.canvas,this.ctx=nn.context,this.ctx.save(),this.ctx.transform(...(0,et.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),It(this.ctx),Ot&&(this.ctx.transform(...Ot),this.outputScaleX=Ot[0],this.outputScaleY=Ot[0]),this.ctx.transform(...Ft.transform),this.viewportScale=Ft.scale,this.baseTransform=(0,et.getCurrentTransform)(this.ctx)}executeOperatorList($t,Ot,Ft,Ut){const Gt=$t.argsArray,Vt=$t.fnArray;let Kt=Ot||0;const Jt=Gt.length;if(Jt===Kt)return Kt;const nn=Jt-Kt>vt&&typeof Ft=="function",sn=nn?Date.now()+yt:0;let gn=0;const fn=this.commonObjs,In=this.objs;let Dn;for(;;){if(Ut!==void 0&&Kt===Ut.nextBreakPoint)return Ut.breakIt(Kt,Ft),Kt;if(Dn=Vt[Kt],Dn!==c.OPS.dependency)this[Dn].apply(this,Gt[Kt]);else for(const Gn of Gt[Kt]){const rr=Gn.startsWith("g_")?fn:In;if(!rr.has(Gn))return rr.get(Gn,Ft),Kt}if(Kt++,Kt===Jt)return Kt;if(nn&&++gn>vt){if(Date.now()>sn)return Ft(),Kt;gn=0}}}endDrawing(){Mn(this,Zt,oo).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $t of this._cachedBitmapsMap.values()){for(const Ot of $t.values())typeof HTMLCanvasElement<"u"&&Ot instanceof HTMLCanvasElement&&(Ot.width=Ot.height=0);$t.clear()}this._cachedBitmapsMap.clear(),Mn(this,Xt,lo).call(this)}_scaleImage($t,Ot){const Ft=$t.width,Ut=$t.height;let Gt=Math.max(Math.hypot(Ot[0],Ot[1]),1),Vt=Math.max(Math.hypot(Ot[2],Ot[3]),1),Kt=Ft,Jt=Ut,nn="prescale1",sn,gn;for(;Gt>2&&Kt>1||Vt>2&&Jt>1;){let fn=Kt,In=Jt;Gt>2&&Kt>1&&(fn=Kt>=16384?Math.floor(Kt/2)-1||1:Math.ceil(Kt/2),Gt/=Kt/fn),Vt>2&&Jt>1&&(In=Jt>=16384?Math.floor(Jt/2)-1||1:Math.ceil(Jt)/2,Vt/=Jt/In),sn=this.cachedCanvases.getCanvas(nn,fn,In),gn=sn.context,gn.clearRect(0,0,fn,In),gn.drawImage($t,0,0,Kt,Jt,0,0,fn,In),$t=sn.canvas,Kt=fn,Jt=In,nn=nn==="prescale1"?"prescale2":"prescale1"}return{img:$t,paintWidth:Kt,paintHeight:Jt}}_createMaskCanvas($t){const Ot=this.ctx,{width:Ft,height:Ut}=$t,Gt=this.current.fillColor,Vt=this.current.patternFill,Kt=(0,et.getCurrentTransform)(Ot);let Jt,nn,sn,gn;if(($t.bitmap||$t.data)&&$t.count>1){const pn=$t.bitmap||$t.data.buffer;nn=JSON.stringify(Vt?Kt:[Kt.slice(0,4),Gt]),Jt=this._cachedBitmapsMap.get(pn),Jt||(Jt=new Map,this._cachedBitmapsMap.set(pn,Jt));const Rn=Jt.get(nn);if(Rn&&!Vt){const Kn=Math.round(Math.min(Kt[0],Kt[2])+Kt[4]),tr=Math.round(Math.min(Kt[1],Kt[3])+Kt[5]);return{canvas:Rn,offsetX:Kn,offsetY:tr}}sn=Rn}sn||(gn=this.cachedCanvases.getCanvas("maskCanvas",Ft,Ut),Mt(gn.context,$t));let fn=c.Util.transform(Kt,[1/Ft,0,0,-1/Ut,0,0]);fn=c.Util.transform(fn,[1,0,0,1,0,-Ut]);const In=c.Util.applyTransform([0,0],fn),Dn=c.Util.applyTransform([Ft,Ut],fn),Gn=c.Util.normalizeRect([In[0],In[1],Dn[0],Dn[1]]),rr=Math.round(Gn[2]-Gn[0])||1,Bn=Math.round(Gn[3]-Gn[1])||1,An=this.cachedCanvases.getCanvas("fillCanvas",rr,Bn),Sn=An.context,xn=Math.min(In[0],Dn[0]),wn=Math.min(In[1],Dn[1]);Sn.translate(-xn,-wn),Sn.transform(...fn),sn||(sn=this._scaleImage(gn.canvas,(0,et.getCurrentTransformInverse)(Sn)),sn=sn.img,Jt&&Vt&&Jt.set(nn,sn)),Sn.imageSmoothingEnabled=Bt((0,et.getCurrentTransform)(Sn),$t.interpolate),St(Sn,sn,0,0,sn.width,sn.height,0,0,Ft,Ut),Sn.globalCompositeOperation="source-in";const jn=c.Util.transform((0,et.getCurrentTransformInverse)(Sn),[1,0,0,1,-xn,-wn]);return Sn.fillStyle=Vt?Gt.getPattern(Ot,this,jn,tt.PathType.FILL):Gt,Sn.fillRect(0,0,Ft,Ut),Jt&&!Vt&&(this.cachedCanvases.delete("fillCanvas"),Jt.set(nn,An.canvas)),{canvas:An.canvas,offsetX:Math.round(xn),offsetY:Math.round(wn)}}setLineWidth($t){$t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$t,this.ctx.lineWidth=$t}setLineCap($t){this.ctx.lineCap=zt[$t]}setLineJoin($t){this.ctx.lineJoin=Yt[$t]}setMiterLimit($t){this.ctx.miterLimit=$t}setDash($t,Ot){const Ft=this.ctx;Ft.setLineDash!==void 0&&(Ft.setLineDash($t),Ft.lineDashOffset=Ot)}setRenderingIntent($t){}setFlatness($t){}setGState($t){for(const[Ot,Ft]of $t)switch(Ot){case"LW":this.setLineWidth(Ft);break;case"LC":this.setLineCap(Ft);break;case"LJ":this.setLineJoin(Ft);break;case"ML":this.setMiterLimit(Ft);break;case"D":this.setDash(Ft[0],Ft[1]);break;case"RI":this.setRenderingIntent(Ft);break;case"FL":this.setFlatness(Ft);break;case"Font":this.setFont(Ft[0],Ft[1]);break;case"CA":this.current.strokeAlpha=Ft;break;case"ca":this.current.fillAlpha=Ft,this.ctx.globalAlpha=Ft;break;case"BM":this.ctx.globalCompositeOperation=Ft;break;case"SMask":this.current.activeSMask=Ft?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Ft);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $t=this.inSMaskMode;this.current.activeSMask&&!$t?this.beginSMaskMode():!this.current.activeSMask&&$t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $t=this.ctx.canvas.width,Ot=this.ctx.canvas.height,Ft="smaskGroupAt"+this.groupLevel,Ut=this.cachedCanvases.getCanvas(Ft,$t,Ot);this.suspendedCtx=this.ctx,this.ctx=Ut.context;const Gt=this.ctx;Gt.setTransform(...(0,et.getCurrentTransform)(this.suspendedCtx)),Pt(this.suspendedCtx,Gt),Et(Gt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Pt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($t){if(!this.current.activeSMask)return;$t?($t[0]=Math.floor($t[0]),$t[1]=Math.floor($t[1]),$t[2]=Math.ceil($t[2]),$t[3]=Math.ceil($t[3])):$t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ot=this.current.activeSMask,Ft=this.suspendedCtx;jt(Ft,Ot,this.ctx,$t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Pt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $t=this.current;this.stateStack.push($t),this.current=$t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Pt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($t,Ot,Ft,Ut,Gt,Vt){this.ctx.transform($t,Ot,Ft,Ut,Gt,Vt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($t,Ot,Ft){const Ut=this.ctx,Gt=this.current;let Vt=Gt.x,Kt=Gt.y,Jt,nn;const sn=(0,et.getCurrentTransform)(Ut),gn=sn[0]===0&&sn[3]===0||sn[1]===0&&sn[2]===0,fn=gn?Ft.slice(0):null;for(let In=0,Dn=0,Gn=$t.length;In<Gn;In++)switch($t[In]|0){case c.OPS.rectangle:Vt=Ot[Dn++],Kt=Ot[Dn++];const rr=Ot[Dn++],Bn=Ot[Dn++],An=Vt+rr,Sn=Kt+Bn;Ut.moveTo(Vt,Kt),rr===0||Bn===0?Ut.lineTo(An,Sn):(Ut.lineTo(An,Kt),Ut.lineTo(An,Sn),Ut.lineTo(Vt,Sn)),gn||Gt.updateRectMinMax(sn,[Vt,Kt,An,Sn]),Ut.closePath();break;case c.OPS.moveTo:Vt=Ot[Dn++],Kt=Ot[Dn++],Ut.moveTo(Vt,Kt),gn||Gt.updatePathMinMax(sn,Vt,Kt);break;case c.OPS.lineTo:Vt=Ot[Dn++],Kt=Ot[Dn++],Ut.lineTo(Vt,Kt),gn||Gt.updatePathMinMax(sn,Vt,Kt);break;case c.OPS.curveTo:Jt=Vt,nn=Kt,Vt=Ot[Dn+4],Kt=Ot[Dn+5],Ut.bezierCurveTo(Ot[Dn],Ot[Dn+1],Ot[Dn+2],Ot[Dn+3],Vt,Kt),Gt.updateCurvePathMinMax(sn,Jt,nn,Ot[Dn],Ot[Dn+1],Ot[Dn+2],Ot[Dn+3],Vt,Kt,fn),Dn+=6;break;case c.OPS.curveTo2:Jt=Vt,nn=Kt,Ut.bezierCurveTo(Vt,Kt,Ot[Dn],Ot[Dn+1],Ot[Dn+2],Ot[Dn+3]),Gt.updateCurvePathMinMax(sn,Jt,nn,Vt,Kt,Ot[Dn],Ot[Dn+1],Ot[Dn+2],Ot[Dn+3],fn),Vt=Ot[Dn+2],Kt=Ot[Dn+3],Dn+=4;break;case c.OPS.curveTo3:Jt=Vt,nn=Kt,Vt=Ot[Dn+2],Kt=Ot[Dn+3],Ut.bezierCurveTo(Ot[Dn],Ot[Dn+1],Vt,Kt,Vt,Kt),Gt.updateCurvePathMinMax(sn,Jt,nn,Ot[Dn],Ot[Dn+1],Vt,Kt,Vt,Kt,fn),Dn+=4;break;case c.OPS.closePath:Ut.closePath();break}gn&&Gt.updateScalingPathMinMax(sn,fn),Gt.setCurrentPoint(Vt,Kt)}closePath(){this.ctx.closePath()}stroke(){let $t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const Ot=this.ctx,Ft=this.current.strokeColor;Ot.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Ft=="object"&&(Ft!=null&&Ft.getPattern)?(Ot.save(),Ot.strokeStyle=Ft.getPattern(Ot,this,(0,et.getCurrentTransformInverse)(Ot),tt.PathType.STROKE),this.rescaleAndStroke(!1),Ot.restore()):this.rescaleAndStroke(!0)),$t&&this.consumePath(this.current.getClippedPathBoundingBox()),Ot.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let $t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const Ot=this.ctx,Ft=this.current.fillColor,Ut=this.current.patternFill;let Gt=!1;Ut&&(Ot.save(),Ot.fillStyle=Ft.getPattern(Ot,this,(0,et.getCurrentTransformInverse)(Ot),tt.PathType.FILL),Gt=!0);const Vt=this.current.getClippedPathBoundingBox();this.contentVisible&&Vt!==null&&(this.pendingEOFill?(Ot.fill("evenodd"),this.pendingEOFill=!1):Ot.fill()),Gt&&Ot.restore(),$t&&this.consumePath(Vt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=en}eoClip(){this.pendingClip=rn}beginText(){this.current.textMatrix=c.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $t=this.pendingTextPaths,Ot=this.ctx;if($t===void 0){Ot.beginPath();return}Ot.save(),Ot.beginPath();for(const Ft of $t)Ot.setTransform(...Ft.transform),Ot.translate(Ft.x,Ft.y),Ft.addToPath(Ot,Ft.fontSize);Ot.restore(),Ot.clip(),Ot.beginPath(),delete this.pendingTextPaths}setCharSpacing($t){this.current.charSpacing=$t}setWordSpacing($t){this.current.wordSpacing=$t}setHScale($t){this.current.textHScale=$t/100}setLeading($t){this.current.leading=-$t}setFont($t,Ot){var sn;const Ft=this.commonObjs.get($t),Ut=this.current;if(!Ft)throw new Error(`Can't find font for ${$t}`);if(Ut.fontMatrix=Ft.fontMatrix||c.FONT_IDENTITY_MATRIX,(Ut.fontMatrix[0]===0||Ut.fontMatrix[3]===0)&&(0,c.warn)("Invalid font matrix for font "+$t),Ot<0?(Ot=-Ot,Ut.fontDirection=-1):Ut.fontDirection=1,this.current.font=Ft,this.current.fontSize=Ot,Ft.isType3Font)return;const Gt=Ft.loadedName||"sans-serif",Vt=((sn=Ft.systemFontInfo)==null?void 0:sn.css)||`"${Gt}", ${Ft.fallbackName}`;let Kt="normal";Ft.black?Kt="900":Ft.bold&&(Kt="bold");const Jt=Ft.italic?"italic":"normal";let nn=Ot;Ot<rt?nn=rt:Ot>mt&&(nn=mt),this.current.fontSizeScale=Ot/nn,this.ctx.font=`${Jt} ${Kt} ${nn}px ${Vt}`}setTextRenderingMode($t){this.current.textRenderingMode=$t}setTextRise($t){this.current.textRise=$t}moveText($t,Ot){this.current.x=this.current.lineX+=$t,this.current.y=this.current.lineY+=Ot}setLeadingMoveText($t,Ot){this.setLeading(-Ot),this.moveText($t,Ot)}setTextMatrix($t,Ot,Ft,Ut,Gt,Vt){this.current.textMatrix=[$t,Ot,Ft,Ut,Gt,Vt],this.current.textMatrixScale=Math.hypot($t,Ot),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($t,Ot,Ft,Ut){const Gt=this.ctx,Vt=this.current,Kt=Vt.font,Jt=Vt.textRenderingMode,nn=Vt.fontSize/Vt.fontSizeScale,sn=Jt&c.TextRenderingMode.FILL_STROKE_MASK,gn=!!(Jt&c.TextRenderingMode.ADD_TO_PATH_FLAG),fn=Vt.patternFill&&!Kt.missingFile;let In;(Kt.disableFontFace||gn||fn)&&(In=Kt.getPathGenerator(this.commonObjs,$t)),Kt.disableFontFace||fn?(Gt.save(),Gt.translate(Ot,Ft),Gt.beginPath(),In(Gt,nn),Ut&&Gt.setTransform(...Ut),(sn===c.TextRenderingMode.FILL||sn===c.TextRenderingMode.FILL_STROKE)&&Gt.fill(),(sn===c.TextRenderingMode.STROKE||sn===c.TextRenderingMode.FILL_STROKE)&&Gt.stroke(),Gt.restore()):((sn===c.TextRenderingMode.FILL||sn===c.TextRenderingMode.FILL_STROKE)&&Gt.fillText($t,Ot,Ft),(sn===c.TextRenderingMode.STROKE||sn===c.TextRenderingMode.FILL_STROKE)&&Gt.strokeText($t,Ot,Ft)),gn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,et.getCurrentTransform)(Gt),x:Ot,y:Ft,fontSize:nn,addToPath:In})}get isFontSubpixelAAEnabled(){const{context:$t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$t.scale(1.5,1),$t.fillText("I",0,10);const Ot=$t.getImageData(0,0,10,10).data;let Ft=!1;for(let Ut=3;Ut<Ot.length;Ut+=4)if(Ot[Ut]>0&&Ot[Ut]<255){Ft=!0;break}return(0,c.shadow)(this,"isFontSubpixelAAEnabled",Ft)}showText($t){const Ot=this.current,Ft=Ot.font;if(Ft.isType3Font)return this.showType3Text($t);const Ut=Ot.fontSize;if(Ut===0)return;const Gt=this.ctx,Vt=Ot.fontSizeScale,Kt=Ot.charSpacing,Jt=Ot.wordSpacing,nn=Ot.fontDirection,sn=Ot.textHScale*nn,gn=$t.length,fn=Ft.vertical,In=fn?1:-1,Dn=Ft.defaultVMetrics,Gn=Ut*Ot.fontMatrix[0],rr=Ot.textRenderingMode===c.TextRenderingMode.FILL&&!Ft.disableFontFace&&!Ot.patternFill;Gt.save(),Gt.transform(...Ot.textMatrix),Gt.translate(Ot.x,Ot.y+Ot.textRise),nn>0?Gt.scale(sn,-1):Gt.scale(sn,1);let Bn;if(Ot.patternFill){Gt.save();const jn=Ot.fillColor.getPattern(Gt,this,(0,et.getCurrentTransformInverse)(Gt),tt.PathType.FILL);Bn=(0,et.getCurrentTransform)(Gt),Gt.restore(),Gt.fillStyle=jn}let An=Ot.lineWidth;const Sn=Ot.textMatrixScale;if(Sn===0||An===0){const jn=Ot.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;(jn===c.TextRenderingMode.STROKE||jn===c.TextRenderingMode.FILL_STROKE)&&(An=this.getSinglePixelWidth())}else An/=Sn;if(Vt!==1&&(Gt.scale(Vt,Vt),An/=Vt),Gt.lineWidth=An,Ft.isInvalidPDFjsFont){const jn=[];let pn=0;for(const Rn of $t)jn.push(Rn.unicode),pn+=Rn.width;Gt.fillText(jn.join(""),0,0),Ot.x+=pn*Gn*sn,Gt.restore(),this.compose();return}let xn=0,wn;for(wn=0;wn<gn;++wn){const jn=$t[wn];if(typeof jn=="number"){xn+=In*jn*Ut/1e3;continue}let pn=!1;const Rn=(jn.isSpace?Jt:0)+Kt,Kn=jn.fontChar,tr=jn.accent;let ir,On,Qn=jn.width;if(fn){const or=jn.vmetric||Dn,lr=-(jn.vmetric?or[1]:Qn*.5)*Gn,Un=or[2]*Gn;Qn=or?-or[0]:Qn,ir=lr/Vt,On=(xn+Un)/Vt}else ir=xn/Vt,On=0;if(Ft.remeasure&&Qn>0){const or=Gt.measureText(Kn).width*1e3/Ut*Vt;if(Qn<or&&this.isFontSubpixelAAEnabled){const lr=Qn/or;pn=!0,Gt.save(),Gt.scale(lr,1),ir/=lr}else Qn!==or&&(ir+=(Qn-or)/2e3*Ut/Vt)}if(this.contentVisible&&(jn.isInFont||Ft.missingFile)){if(rr&&!tr)Gt.fillText(Kn,ir,On);else if(this.paintChar(Kn,ir,On,Bn),tr){const or=ir+Ut*tr.offset.x/Vt,lr=On-Ut*tr.offset.y/Vt;this.paintChar(tr.fontChar,or,lr,Bn)}}const Xn=fn?Qn*Gn-Rn*nn:Qn*Gn+Rn*nn;xn+=Xn,pn&&Gt.restore()}fn?Ot.y-=xn:Ot.x+=xn*sn,Gt.restore(),this.compose()}showType3Text($t){const Ot=this.ctx,Ft=this.current,Ut=Ft.font,Gt=Ft.fontSize,Vt=Ft.fontDirection,Kt=Ut.vertical?1:-1,Jt=Ft.charSpacing,nn=Ft.wordSpacing,sn=Ft.textHScale*Vt,gn=Ft.fontMatrix||c.FONT_IDENTITY_MATRIX,fn=$t.length,In=Ft.textRenderingMode===c.TextRenderingMode.INVISIBLE;let Dn,Gn,rr,Bn;if(!(In||Gt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Ot.save(),Ot.transform(...Ft.textMatrix),Ot.translate(Ft.x,Ft.y),Ot.scale(sn,Vt),Dn=0;Dn<fn;++Dn){if(Gn=$t[Dn],typeof Gn=="number"){Bn=Kt*Gn*Gt/1e3,this.ctx.translate(Bn,0),Ft.x+=Bn*sn;continue}const An=(Gn.isSpace?nn:0)+Jt,Sn=Ut.charProcOperatorList[Gn.operatorListId];if(!Sn){(0,c.warn)(`Type3 character "${Gn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Gn,this.save(),Ot.scale(Gt,Gt),Ot.transform(...gn),this.executeOperatorList(Sn),this.restore()),rr=c.Util.applyTransform([Gn.width,0],gn)[0]*Gt+An,Ot.translate(rr,0),Ft.x+=rr*sn}Ot.restore(),this.processingType3=null}}setCharWidth($t,Ot){}setCharWidthAndBounds($t,Ot,Ft,Ut,Gt,Vt){this.ctx.rect(Ft,Ut,Gt-Ft,Vt-Ut),this.ctx.clip(),this.endPath()}getColorN_Pattern($t){let Ot;if($t[0]==="TilingPattern"){const Ft=$t[1],Ut=this.baseTransform||(0,et.getCurrentTransform)(this.ctx),Gt={createCanvasGraphics:Vt=>new vn(Vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Ot=new tt.TilingPattern($t,Ft,this.ctx,Gt,Ut)}else Ot=this._getPattern($t[1],$t[2]);return Ot}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($t,Ot,Ft){const Ut=c.Util.makeHexColor($t,Ot,Ft);this.ctx.strokeStyle=Ut,this.current.strokeColor=Ut}setFillRGBColor($t,Ot,Ft){const Ut=c.Util.makeHexColor($t,Ot,Ft);this.ctx.fillStyle=Ut,this.current.fillColor=Ut,this.current.patternFill=!1}_getPattern($t){let Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ft;return this.cachedPatterns.has($t)?Ft=this.cachedPatterns.get($t):(Ft=(0,tt.getShadingPattern)(this.getObject($t)),this.cachedPatterns.set($t,Ft)),Ot&&(Ft.matrix=Ot),Ft}shadingFill($t){if(!this.contentVisible)return;const Ot=this.ctx;this.save();const Ft=this._getPattern($t);Ot.fillStyle=Ft.getPattern(Ot,this,(0,et.getCurrentTransformInverse)(Ot),tt.PathType.SHADING);const Ut=(0,et.getCurrentTransformInverse)(Ot);if(Ut){const{width:Gt,height:Vt}=Ot.canvas,[Kt,Jt,nn,sn]=c.Util.getAxialAlignedBoundingBox([0,0,Gt,Vt],Ut);this.ctx.fillRect(Kt,Jt,nn-Kt,sn-Jt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,c.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,c.unreachable)("Should not call beginImageData")}paintFormXObjectBegin($t,Ot){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray($t)&&$t.length===6&&this.transform(...$t),this.baseTransform=(0,et.getCurrentTransform)(this.ctx),Ot)){const Ft=Ot[2]-Ot[0],Ut=Ot[3]-Ot[1];this.ctx.rect(Ot[0],Ot[1],Ft,Ut),this.current.updateRectMinMax((0,et.getCurrentTransform)(this.ctx),Ot),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ot=this.ctx;$t.isolated||(0,c.info)("TODO: Support non-isolated groups."),$t.knockout&&(0,c.warn)("Knockout groups not supported.");const Ft=(0,et.getCurrentTransform)(Ot);if($t.matrix&&Ot.transform(...$t.matrix),!$t.bbox)throw new Error("Bounding box is required.");let Ut=c.Util.getAxialAlignedBoundingBox($t.bbox,(0,et.getCurrentTransform)(Ot));const Gt=[0,0,Ot.canvas.width,Ot.canvas.height];Ut=c.Util.intersect(Ut,Gt)||[0,0,0,0];const Vt=Math.floor(Ut[0]),Kt=Math.floor(Ut[1]);let Jt=Math.max(Math.ceil(Ut[2])-Vt,1),nn=Math.max(Math.ceil(Ut[3])-Kt,1),sn=1,gn=1;Jt>gt&&(sn=Jt/gt,Jt=gt),nn>gt&&(gn=nn/gt,nn=gt),this.current.startNewPathAndClipBox([0,0,Jt,nn]);let fn="groupAt"+this.groupLevel;$t.smask&&(fn+="_smask_"+this.smaskCounter++%2);const In=this.cachedCanvases.getCanvas(fn,Jt,nn),Dn=In.context;Dn.scale(1/sn,1/gn),Dn.translate(-Vt,-Kt),Dn.transform(...Ft),$t.smask?this.smaskStack.push({canvas:In.canvas,context:Dn,offsetX:Vt,offsetY:Kt,scaleX:sn,scaleY:gn,subtype:$t.smask.subtype,backdrop:$t.smask.backdrop,transferMap:$t.smask.transferMap||null,startTransformInverse:null}):(Ot.setTransform(1,0,0,1,0,0),Ot.translate(Vt,Kt),Ot.scale(sn,gn),Ot.save()),Pt(Ot,Dn),this.ctx=Dn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ot),this.groupLevel++}endGroup($t){if(!this.contentVisible)return;this.groupLevel--;const Ot=this.ctx,Ft=this.groupStack.pop();if(this.ctx=Ft,this.ctx.imageSmoothingEnabled=!1,$t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ut=(0,et.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ut);const Gt=c.Util.getAxialAlignedBoundingBox([0,0,Ot.canvas.width,Ot.canvas.height],Ut);this.ctx.drawImage(Ot.canvas,0,0),this.ctx.restore(),this.compose(Gt)}}beginAnnotation($t,Ot,Ft,Ut,Gt){if(Mn(this,Zt,oo).call(this),It(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Ot)&&Ot.length===4){const Vt=Ot[2]-Ot[0],Kt=Ot[3]-Ot[1];if(Gt&&this.annotationCanvasMap){Ft=Ft.slice(),Ft[4]-=Ot[0],Ft[5]-=Ot[1],Ot=Ot.slice(),Ot[0]=Ot[1]=0,Ot[2]=Vt,Ot[3]=Kt;const[Jt,nn]=c.Util.singularValueDecompose2dScale((0,et.getCurrentTransform)(this.ctx)),{viewportScale:sn}=this,gn=Math.ceil(Vt*this.outputScaleX*sn),fn=Math.ceil(Kt*this.outputScaleY*sn);this.annotationCanvas=this.canvasFactory.create(gn,fn);const{canvas:In,context:Dn}=this.annotationCanvas;this.annotationCanvasMap.set($t,In),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Dn,this.ctx.save(),this.ctx.setTransform(Jt,0,0,-nn,0,Kt*nn),It(this.ctx)}else It(this.ctx),this.ctx.rect(Ot[0],Ot[1],Vt,Kt),this.ctx.clip(),this.endPath()}this.current=new kt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Ft),this.transform(...Ut)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Mn(this,Xt,lo).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($t){if(!this.contentVisible)return;const Ot=$t.count;$t=this.getObject($t.data,$t),$t.count=Ot;const Ft=this.ctx,Ut=this.processingType3;if(Ut&&(Ut.compiled===void 0&&(Ut.compiled=Tt($t)),Ut.compiled)){Ut.compiled(Ft);return}const Gt=this._createMaskCanvas($t),Vt=Gt.canvas;Ft.save(),Ft.setTransform(1,0,0,1,0,0),Ft.drawImage(Vt,Gt.offsetX,Gt.offsetY),Ft.restore(),this.compose()}paintImageMaskXObjectRepeat($t,Ot){let Ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ut=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Gt=arguments.length>4?arguments[4]:void 0,Vt=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;$t=this.getObject($t.data,$t);const Kt=this.ctx;Kt.save();const Jt=(0,et.getCurrentTransform)(Kt);Kt.transform(Ot,Ft,Ut,Gt,0,0);const nn=this._createMaskCanvas($t);Kt.setTransform(1,0,0,1,nn.offsetX-Jt[4],nn.offsetY-Jt[5]);for(let sn=0,gn=Vt.length;sn<gn;sn+=2){const fn=c.Util.transform(Jt,[Ot,Ft,Ut,Gt,Vt[sn],Vt[sn+1]]),[In,Dn]=c.Util.applyTransform([0,0],fn);Kt.drawImage(nn.canvas,In,Dn)}Kt.restore(),this.compose()}paintImageMaskXObjectGroup($t){if(!this.contentVisible)return;const Ot=this.ctx,Ft=this.current.fillColor,Ut=this.current.patternFill;for(const Gt of $t){const{data:Vt,width:Kt,height:Jt,transform:nn}=Gt,sn=this.cachedCanvases.getCanvas("maskCanvas",Kt,Jt),gn=sn.context;gn.save();const fn=this.getObject(Vt,Gt);Mt(gn,fn),gn.globalCompositeOperation="source-in",gn.fillStyle=Ut?Ft.getPattern(gn,this,(0,et.getCurrentTransformInverse)(Ot),tt.PathType.FILL):Ft,gn.fillRect(0,0,Kt,Jt),gn.restore(),Ot.save(),Ot.transform(...nn),Ot.scale(1,-1),St(Ot,sn.canvas,0,0,Kt,Jt,0,-1,1,1),Ot.restore()}this.compose()}paintImageXObject($t){if(!this.contentVisible)return;const Ot=this.getObject($t);if(!Ot){(0,c.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Ot)}paintImageXObjectRepeat($t,Ot,Ft,Ut){if(!this.contentVisible)return;const Gt=this.getObject($t);if(!Gt){(0,c.warn)("Dependent image isn't ready yet");return}const Vt=Gt.width,Kt=Gt.height,Jt=[];for(let nn=0,sn=Ut.length;nn<sn;nn+=2)Jt.push({transform:[Ot,0,0,Ft,Ut[nn],Ut[nn+1]],x:0,y:0,w:Vt,h:Kt});this.paintInlineImageXObjectGroup(Gt,Jt)}applyTransferMapsToCanvas($t){return this.current.transferMaps!=="none"&&($t.filter=this.current.transferMaps,$t.drawImage($t.canvas,0,0),$t.filter="none"),$t.canvas}applyTransferMapsToBitmap($t){if(this.current.transferMaps==="none")return $t.bitmap;const{bitmap:Ot,width:Ft,height:Ut}=$t,Gt=this.cachedCanvases.getCanvas("inlineImage",Ft,Ut),Vt=Gt.context;return Vt.filter=this.current.transferMaps,Vt.drawImage(Ot,0,0),Vt.filter="none",Gt.canvas}paintInlineImageXObject($t){if(!this.contentVisible)return;const Ot=$t.width,Ft=$t.height,Ut=this.ctx;if(this.save(),!c.isNodeJS){const{filter:Kt}=Ut;Kt!=="none"&&Kt!==""&&(Ut.filter="none")}Ut.scale(1/Ot,-1/Ft);let Gt;if($t.bitmap)Gt=this.applyTransferMapsToBitmap($t);else if(typeof HTMLElement=="function"&&$t instanceof HTMLElement||!$t.data)Gt=$t;else{const Jt=this.cachedCanvases.getCanvas("inlineImage",Ot,Ft).context;_t(Jt,$t),Gt=this.applyTransferMapsToCanvas(Jt)}const Vt=this._scaleImage(Gt,(0,et.getCurrentTransformInverse)(Ut));Ut.imageSmoothingEnabled=Bt((0,et.getCurrentTransform)(Ut),$t.interpolate),St(Ut,Vt.img,0,0,Vt.paintWidth,Vt.paintHeight,0,-Ft,Ot,Ft),this.compose(),this.restore()}paintInlineImageXObjectGroup($t,Ot){if(!this.contentVisible)return;const Ft=this.ctx;let Ut;if($t.bitmap)Ut=$t.bitmap;else{const Gt=$t.width,Vt=$t.height,Jt=this.cachedCanvases.getCanvas("inlineImage",Gt,Vt).context;_t(Jt,$t),Ut=this.applyTransferMapsToCanvas(Jt)}for(const Gt of Ot)Ft.save(),Ft.transform(...Gt.transform),Ft.scale(1,-1),St(Ft,Ut,Gt.x,Gt.y,Gt.w,Gt.h,0,-1,1,1),Ft.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($t){}markPointProps($t,Ot){}beginMarkedContent($t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($t,Ot){$t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ot)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($t){const Ot=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($t);const Ft=this.ctx;this.pendingClip&&(Ot||(this.pendingClip===rn?Ft.clip("evenodd"):Ft.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Ft.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $t=(0,et.getCurrentTransform)(this.ctx);if($t[1]===0&&$t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($t[0]),Math.abs($t[3]));else{const Ot=Math.abs($t[0]*$t[3]-$t[2]*$t[1]),Ft=Math.hypot($t[0],$t[2]),Ut=Math.hypot($t[1],$t[3]);this._cachedGetSinglePixelWidth=Math.max(Ft,Ut)/Ot}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$t}=this.current,{a:Ot,b:Ft,c:Ut,d:Gt}=this.ctx.getTransform();let Vt,Kt;if(Ft===0&&Ut===0){const Jt=Math.abs(Ot),nn=Math.abs(Gt);if(Jt===nn)if($t===0)Vt=Kt=1/Jt;else{const sn=Jt*$t;Vt=Kt=sn<1?1/sn:1}else if($t===0)Vt=1/Jt,Kt=1/nn;else{const sn=Jt*$t,gn=nn*$t;Vt=sn<1?1/sn:1,Kt=gn<1?1/gn:1}}else{const Jt=Math.abs(Ot*Gt-Ft*Ut),nn=Math.hypot(Ot,Ft),sn=Math.hypot(Ut,Gt);if($t===0)Vt=sn/Jt,Kt=nn/Jt;else{const gn=$t*Jt;Vt=sn>gn?sn/gn:1,Kt=nn>gn?nn/gn:1}}this._cachedScaleForStroking[0]=Vt,this._cachedScaleForStroking[1]=Kt}return this._cachedScaleForStroking}rescaleAndStroke($t){const{ctx:Ot}=this,{lineWidth:Ft}=this.current,[Ut,Gt]=this.getScaleForStroking();if(Ot.lineWidth=Ft||1,Ut===1&&Gt===1){Ot.stroke();return}const Vt=Ot.getLineDash();if($t&&Ot.save(),Ot.scale(Ut,Gt),Vt.length>0){const Kt=Math.max(Ut,Gt);Ot.setLineDash(Vt.map(Jt=>Jt/Kt)),Ot.lineDashOffset/=Kt}Ot.stroke(),$t&&Ot.restore()}isContentVisible(){for(let $t=this.markedContentStack.length-1;$t>=0;$t--)if(!this.markedContentStack[$t].visible)return!1;return!0}};Zt=new WeakSet,oo=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Xt=new WeakSet,lo=function(){if(this.pageColors){const $t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($t!=="none"){const Ot=this.ctx.filter;this.ctx.filter=$t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Ot}}};let on=vn;e.CanvasGraphics=on;for(const Nt in c.OPS)on.prototype[Nt]!==void 0&&(on.prototype[c.OPS[Nt]]=on.prototype[Nt])},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=bt,o(2);var c=o(1),et=o(168);const tt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=tt;function nt(Tt,kt){if(!kt)return;const _t=kt[2]-kt[0],Mt=kt[3]-kt[1],Pt=new Path2D;Pt.rect(kt[0],kt[1],_t,Mt),Tt.clip(Pt)}class rt{constructor(){this.constructor===rt&&(0,c.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,c.unreachable)("Abstract method `getPattern` called.")}}class mt extends rt{constructor(kt){super(),this._type=kt[1],this._bbox=kt[2],this._colorStops=kt[3],this._p0=kt[4],this._p1=kt[5],this._r0=kt[6],this._r1=kt[7],this.matrix=null}_createGradient(kt){let _t;this._type==="axial"?_t=kt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(_t=kt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Mt of this._colorStops)_t.addColorStop(Mt[0],Mt[1]);return _t}getPattern(kt,_t,Mt,Pt){let It;if(Pt===tt.STROKE||Pt===tt.FILL){const Dt=_t.current.getClippedPathBoundingBox(Pt,(0,et.getCurrentTransform)(kt))||[0,0,0,0],Ct=Math.ceil(Dt[2]-Dt[0])||1,At=Math.ceil(Dt[3]-Dt[1])||1,Lt=_t.cachedCanvases.getCanvas("pattern",Ct,At,!0),jt=Lt.context;jt.clearRect(0,0,jt.canvas.width,jt.canvas.height),jt.beginPath(),jt.rect(0,0,jt.canvas.width,jt.canvas.height),jt.translate(-Dt[0],-Dt[1]),Mt=c.Util.transform(Mt,[1,0,0,1,Dt[0],Dt[1]]),jt.transform(..._t.baseTransform),this.matrix&&jt.transform(...this.matrix),nt(jt,this._bbox),jt.fillStyle=this._createGradient(jt),jt.fill(),It=kt.createPattern(Lt.canvas,"no-repeat");const Bt=new DOMMatrix(Mt);It.setTransform(Bt)}else nt(kt,this._bbox),It=this._createGradient(kt);return It}}function gt(Tt,kt,_t,Mt,Pt,It,Dt,Ct){const At=kt.coords,Lt=kt.colors,jt=Tt.data,Bt=Tt.width*4;let zt;At[_t+1]>At[Mt+1]&&(zt=_t,_t=Mt,Mt=zt,zt=It,It=Dt,Dt=zt),At[Mt+1]>At[Pt+1]&&(zt=Mt,Mt=Pt,Pt=zt,zt=Dt,Dt=Ct,Ct=zt),At[_t+1]>At[Mt+1]&&(zt=_t,_t=Mt,Mt=zt,zt=It,It=Dt,Dt=zt);const Yt=(At[_t]+kt.offsetX)*kt.scaleX,en=(At[_t+1]+kt.offsetY)*kt.scaleY,rn=(At[Mt]+kt.offsetX)*kt.scaleX,on=(At[Mt+1]+kt.offsetY)*kt.scaleY,Zt=(At[Pt]+kt.offsetX)*kt.scaleX,an=(At[Pt+1]+kt.offsetY)*kt.scaleY;if(en>=an)return;const Xt=Lt[It],yn=Lt[It+1],vn=Lt[It+2],Nt=Lt[Dt],$t=Lt[Dt+1],Ot=Lt[Dt+2],Ft=Lt[Ct],Ut=Lt[Ct+1],Gt=Lt[Ct+2],Vt=Math.round(en),Kt=Math.round(an);let Jt,nn,sn,gn,fn,In,Dn,Gn;for(let rr=Vt;rr<=Kt;rr++){if(rr<on){const wn=rr<en?0:(en-rr)/(en-on);Jt=Yt-(Yt-rn)*wn,nn=Xt-(Xt-Nt)*wn,sn=yn-(yn-$t)*wn,gn=vn-(vn-Ot)*wn}else{let wn;rr>an?wn=1:on===an?wn=0:wn=(on-rr)/(on-an),Jt=rn-(rn-Zt)*wn,nn=Nt-(Nt-Ft)*wn,sn=$t-($t-Ut)*wn,gn=Ot-(Ot-Gt)*wn}let Bn;rr<en?Bn=0:rr>an?Bn=1:Bn=(en-rr)/(en-an),fn=Yt-(Yt-Zt)*Bn,In=Xt-(Xt-Ft)*Bn,Dn=yn-(yn-Ut)*Bn,Gn=vn-(vn-Gt)*Bn;const An=Math.round(Math.min(Jt,fn)),Sn=Math.round(Math.max(Jt,fn));let xn=Bt*rr+An*4;for(let wn=An;wn<=Sn;wn++)Bn=(Jt-wn)/(Jt-fn),Bn<0?Bn=0:Bn>1&&(Bn=1),jt[xn++]=nn-(nn-In)*Bn|0,jt[xn++]=sn-(sn-Dn)*Bn|0,jt[xn++]=gn-(gn-Gn)*Bn|0,jt[xn++]=255}}function yt(Tt,kt,_t){const Mt=kt.coords,Pt=kt.colors;let It,Dt;switch(kt.type){case"lattice":const Ct=kt.verticesPerRow,At=Math.floor(Mt.length/Ct)-1,Lt=Ct-1;for(It=0;It<At;It++){let jt=It*Ct;for(let Bt=0;Bt<Lt;Bt++,jt++)gt(Tt,_t,Mt[jt],Mt[jt+1],Mt[jt+Ct],Pt[jt],Pt[jt+1],Pt[jt+Ct]),gt(Tt,_t,Mt[jt+Ct+1],Mt[jt+1],Mt[jt+Ct],Pt[jt+Ct+1],Pt[jt+1],Pt[jt+Ct])}break;case"triangles":for(It=0,Dt=Mt.length;It<Dt;It+=3)gt(Tt,_t,Mt[It],Mt[It+1],Mt[It+2],Pt[It],Pt[It+1],Pt[It+2]);break;default:throw new Error("illegal figure")}}class vt extends rt{constructor(kt){super(),this._coords=kt[2],this._colors=kt[3],this._figures=kt[4],this._bounds=kt[5],this._bbox=kt[7],this._background=kt[8],this.matrix=null}_createMeshCanvas(kt,_t,Mt){const Ct=Math.floor(this._bounds[0]),At=Math.floor(this._bounds[1]),Lt=Math.ceil(this._bounds[2])-Ct,jt=Math.ceil(this._bounds[3])-At,Bt=Math.min(Math.ceil(Math.abs(Lt*kt[0]*1.1)),3e3),zt=Math.min(Math.ceil(Math.abs(jt*kt[1]*1.1)),3e3),Yt=Lt/Bt,en=jt/zt,rn={coords:this._coords,colors:this._colors,offsetX:-Ct,offsetY:-At,scaleX:1/Yt,scaleY:1/en},on=Bt+2*2,Zt=zt+2*2,an=Mt.getCanvas("mesh",on,Zt,!1),Xt=an.context,yn=Xt.createImageData(Bt,zt);if(_t){const Nt=yn.data;for(let $t=0,Ot=Nt.length;$t<Ot;$t+=4)Nt[$t]=_t[0],Nt[$t+1]=_t[1],Nt[$t+2]=_t[2],Nt[$t+3]=255}for(const Nt of this._figures)yt(yn,Nt,rn);return Xt.putImageData(yn,2,2),{canvas:an.canvas,offsetX:Ct-2*Yt,offsetY:At-2*en,scaleX:Yt,scaleY:en}}getPattern(kt,_t,Mt,Pt){nt(kt,this._bbox);let It;if(Pt===tt.SHADING)It=c.Util.singularValueDecompose2dScale((0,et.getCurrentTransform)(kt));else if(It=c.Util.singularValueDecompose2dScale(_t.baseTransform),this.matrix){const Ct=c.Util.singularValueDecompose2dScale(this.matrix);It=[It[0]*Ct[0],It[1]*Ct[1]]}const Dt=this._createMeshCanvas(It,Pt===tt.SHADING?null:this._background,_t.cachedCanvases);return Pt!==tt.SHADING&&(kt.setTransform(..._t.baseTransform),this.matrix&&kt.transform(...this.matrix)),kt.translate(Dt.offsetX,Dt.offsetY),kt.scale(Dt.scaleX,Dt.scaleY),kt.createPattern(Dt.canvas,"no-repeat")}}class xt extends rt{getPattern(){return"hotpink"}}function bt(Tt){switch(Tt[0]){case"RadialAxial":return new mt(Tt);case"Mesh":return new vt(Tt);case"Dummy":return new xt}throw new Error(`Unknown IR type: ${Tt[0]}`)}const Et={COLORED:1,UNCOLORED:2},St=class St{constructor(kt,_t,Mt,Pt,It){this.operatorList=kt[2],this.matrix=kt[3]||[1,0,0,1,0,0],this.bbox=kt[4],this.xstep=kt[5],this.ystep=kt[6],this.paintType=kt[7],this.tilingType=kt[8],this.color=_t,this.ctx=Mt,this.canvasGraphicsFactory=Pt,this.baseTransform=It}createPatternCanvas(kt){const _t=this.operatorList,Mt=this.bbox,Pt=this.xstep,It=this.ystep,Dt=this.paintType,Ct=this.tilingType,At=this.color,Lt=this.canvasGraphicsFactory;(0,c.info)("TilingType: "+Ct);const jt=Mt[0],Bt=Mt[1],zt=Mt[2],Yt=Mt[3],en=c.Util.singularValueDecompose2dScale(this.matrix),rn=c.Util.singularValueDecompose2dScale(this.baseTransform),on=[en[0]*rn[0],en[1]*rn[1]],Zt=this.getSizeAndScale(Pt,this.ctx.canvas.width,on[0]),an=this.getSizeAndScale(It,this.ctx.canvas.height,on[1]),Xt=kt.cachedCanvases.getCanvas("pattern",Zt.size,an.size,!0),yn=Xt.context,vn=Lt.createCanvasGraphics(yn);vn.groupLevel=kt.groupLevel,this.setFillAndStrokeStyleToContext(vn,Dt,At);let Nt=jt,$t=Bt,Ot=zt,Ft=Yt;return jt<0&&(Nt=0,Ot+=Math.abs(jt)),Bt<0&&($t=0,Ft+=Math.abs(Bt)),yn.translate(-(Zt.scale*Nt),-(an.scale*$t)),vn.transform(Zt.scale,0,0,an.scale,0,0),yn.save(),this.clipBbox(vn,Nt,$t,Ot,Ft),vn.baseTransform=(0,et.getCurrentTransform)(vn.ctx),vn.executeOperatorList(_t),vn.endDrawing(),{canvas:Xt.canvas,scaleX:Zt.scale,scaleY:an.scale,offsetX:Nt,offsetY:$t}}getSizeAndScale(kt,_t,Mt){kt=Math.abs(kt);const Pt=Math.max(St.MAX_PATTERN_SIZE,_t);let It=Math.ceil(kt*Mt);return It>=Pt?It=Pt:Mt=It/kt,{scale:Mt,size:It}}clipBbox(kt,_t,Mt,Pt,It){const Dt=Pt-_t,Ct=It-Mt;kt.ctx.rect(_t,Mt,Dt,Ct),kt.current.updateRectMinMax((0,et.getCurrentTransform)(kt.ctx),[_t,Mt,Pt,It]),kt.clip(),kt.endPath()}setFillAndStrokeStyleToContext(kt,_t,Mt){const Pt=kt.ctx,It=kt.current;switch(_t){case Et.COLORED:const Dt=this.ctx;Pt.fillStyle=Dt.fillStyle,Pt.strokeStyle=Dt.strokeStyle,It.fillColor=Dt.fillStyle,It.strokeColor=Dt.strokeStyle;break;case Et.UNCOLORED:const Ct=c.Util.makeHexColor(Mt[0],Mt[1],Mt[2]);Pt.fillStyle=Ct,Pt.strokeStyle=Ct,It.fillColor=Ct,It.strokeColor=Ct;break;default:throw new c.FormatError(`Unsupported paint type: ${_t}`)}}getPattern(kt,_t,Mt,Pt){let It=Mt;Pt!==tt.SHADING&&(It=c.Util.transform(It,_t.baseTransform),this.matrix&&(It=c.Util.transform(It,this.matrix)));const Dt=this.createPatternCanvas(_t);let Ct=new DOMMatrix(It);Ct=Ct.translate(Dt.offsetX,Dt.offsetY),Ct=Ct.scale(1/Dt.scaleX,1/Dt.scaleY);const At=kt.createPattern(Dt.canvas,"repeat");return At.setTransform(Ct),At}};Tr(St,"MAX_PATTERN_SIZE",3e3);let wt=St;e.TilingPattern=wt},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=tt,e.convertToRGBA=et,e.grayToRGBA=rt,o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123);var c=o(1);function et(mt){switch(mt.kind){case c.ImageKind.GRAYSCALE_1BPP:return tt(mt);case c.ImageKind.RGB_24BPP:return nt(mt)}return null}function tt(mt){let{src:gt,srcPos:yt=0,dest:vt,width:xt,height:bt,nonBlackColor:Et=4294967295,inverseDecode:wt=!1}=mt;const St=c.FeatureTest.isLittleEndian?4278190080:255,[Tt,kt]=wt?[Et,St]:[St,Et],_t=xt>>3,Mt=xt&7,Pt=gt.length;vt=new Uint32Array(vt.buffer);let It=0;for(let Dt=0;Dt<bt;Dt++){for(const At=yt+_t;yt<At;yt++){const Lt=yt<Pt?gt[yt]:255;vt[It++]=Lt&128?kt:Tt,vt[It++]=Lt&64?kt:Tt,vt[It++]=Lt&32?kt:Tt,vt[It++]=Lt&16?kt:Tt,vt[It++]=Lt&8?kt:Tt,vt[It++]=Lt&4?kt:Tt,vt[It++]=Lt&2?kt:Tt,vt[It++]=Lt&1?kt:Tt}if(Mt===0)continue;const Ct=yt<Pt?gt[yt++]:255;for(let At=0;At<Mt;At++)vt[It++]=Ct&1<<7-At?kt:Tt}return{srcPos:yt,destPos:It}}function nt(mt){let{src:gt,srcPos:yt=0,dest:vt,destPos:xt=0,width:bt,height:Et}=mt,wt=0;const St=gt.length>>2,Tt=new Uint32Array(gt.buffer,yt,St);if(c.FeatureTest.isLittleEndian){for(;wt<St-2;wt+=3,xt+=4){const kt=Tt[wt],_t=Tt[wt+1],Mt=Tt[wt+2];vt[xt]=kt|4278190080,vt[xt+1]=kt>>>24|_t<<8|4278190080,vt[xt+2]=_t>>>16|Mt<<16|4278190080,vt[xt+3]=Mt>>>8|4278190080}for(let kt=wt*4,_t=gt.length;kt<_t;kt+=3)vt[xt++]=gt[kt]|gt[kt+1]<<8|gt[kt+2]<<16|4278190080}else{for(;wt<St-2;wt+=3,xt+=4){const kt=Tt[wt],_t=Tt[wt+1],Mt=Tt[wt+2];vt[xt]=kt|255,vt[xt+1]=kt<<24|_t>>>8|255,vt[xt+2]=_t<<16|Mt>>>16|255,vt[xt+3]=Mt<<8|255}for(let kt=wt*4,_t=gt.length;kt<_t;kt+=3)vt[xt++]=gt[kt]<<24|gt[kt+1]<<16|gt[kt+2]<<8|255}return{srcPos:yt,destPos:xt}}function rt(mt,gt){if(c.FeatureTest.isLittleEndian)for(let yt=0,vt=mt.length;yt<vt;yt++)gt[yt]=mt[yt]*65793|4278190080;else for(let yt=0,vt=mt.length;yt<vt;yt++)gt[yt]=mt[yt]*16843008|255}},(a,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const o=Object.create(null);e.GlobalWorkerOptions=o,o.workerPort=null,o.workerSrc=""},(a,e,o)=>{var mt,Ll,yt,Ol,xt,Is;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0,o(2);var c=o(1);const et={UNKNOWN:0,DATA:1,ERROR:2},tt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function nt(Et){switch(Et instanceof Error||typeof Et=="object"&&Et!==null||(0,c.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Et.name){case"AbortException":return new c.AbortException(Et.message);case"MissingPDFException":return new c.MissingPDFException(Et.message);case"PasswordException":return new c.PasswordException(Et.message,Et.code);case"UnexpectedResponseException":return new c.UnexpectedResponseException(Et.message,Et.status);case"UnknownErrorException":return new c.UnknownErrorException(Et.message,Et.details);default:return new c.UnknownErrorException(Et.message,Et.toString())}}class rt{constructor(wt,St,Tt){bn(this,mt);bn(this,yt);bn(this,xt);this.sourceName=wt,this.targetName=St,this.comObj=Tt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=kt=>{const _t=kt.data;if(_t.targetName!==this.sourceName)return;if(_t.stream){Mn(this,yt,Ol).call(this,_t);return}if(_t.callback){const Pt=_t.callbackId,It=this.callbackCapabilities[Pt];if(!It)throw new Error(`Cannot resolve callback ${Pt}`);if(delete this.callbackCapabilities[Pt],_t.callback===et.DATA)It.resolve(_t.data);else if(_t.callback===et.ERROR)It.reject(nt(_t.reason));else throw new Error("Unexpected callback case");return}const Mt=this.actionHandler[_t.action];if(!Mt)throw new Error(`Unknown action from worker: ${_t.action}`);if(_t.callbackId){const Pt=this.sourceName,It=_t.sourceName;new Promise(function(Dt){Dt(Mt(_t.data))}).then(function(Dt){Tt.postMessage({sourceName:Pt,targetName:It,callback:et.DATA,callbackId:_t.callbackId,data:Dt})},function(Dt){Tt.postMessage({sourceName:Pt,targetName:It,callback:et.ERROR,callbackId:_t.callbackId,reason:nt(Dt)})});return}if(_t.streamId){Mn(this,mt,Ll).call(this,_t);return}Mt(_t.data)},Tt.addEventListener("message",this._onComObjOnMessage)}on(wt,St){const Tt=this.actionHandler;if(Tt[wt])throw new Error(`There is already an actionName called "${wt}"`);Tt[wt]=St}send(wt,St,Tt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:wt,data:St},Tt)}sendWithPromise(wt,St,Tt){const kt=this.callbackId++,_t=new c.PromiseCapability;this.callbackCapabilities[kt]=_t;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:wt,callbackId:kt,data:St},Tt)}catch(Mt){_t.reject(Mt)}return _t.promise}sendWithStream(wt,St,Tt,kt){const _t=this.streamId++,Mt=this.sourceName,Pt=this.targetName,It=this.comObj;return new ReadableStream({start:Dt=>{const Ct=new c.PromiseCapability;return this.streamControllers[_t]={controller:Dt,startCall:Ct,pullCall:null,cancelCall:null,isClosed:!1},It.postMessage({sourceName:Mt,targetName:Pt,action:wt,streamId:_t,data:St,desiredSize:Dt.desiredSize},kt),Ct.promise},pull:Dt=>{const Ct=new c.PromiseCapability;return this.streamControllers[_t].pullCall=Ct,It.postMessage({sourceName:Mt,targetName:Pt,stream:tt.PULL,streamId:_t,desiredSize:Dt.desiredSize}),Ct.promise},cancel:Dt=>{(0,c.assert)(Dt instanceof Error,"cancel must have a valid reason");const Ct=new c.PromiseCapability;return this.streamControllers[_t].cancelCall=Ct,this.streamControllers[_t].isClosed=!0,It.postMessage({sourceName:Mt,targetName:Pt,stream:tt.CANCEL,streamId:_t,reason:nt(Dt)}),Ct.promise}},Tt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}mt=new WeakSet,Ll=function(wt){const St=wt.streamId,Tt=this.sourceName,kt=wt.sourceName,_t=this.comObj,Mt=this,Pt=this.actionHandler[wt.action],It={enqueue(Dt){let Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,At=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const Lt=this.desiredSize;this.desiredSize-=Ct,Lt>0&&this.desiredSize<=0&&(this.sinkCapability=new c.PromiseCapability,this.ready=this.sinkCapability.promise),_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.ENQUEUE,streamId:St,chunk:Dt},At)},close(){this.isCancelled||(this.isCancelled=!0,_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.CLOSE,streamId:St}),delete Mt.streamSinks[St])},error(Dt){(0,c.assert)(Dt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.ERROR,streamId:St,reason:nt(Dt)}))},sinkCapability:new c.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:wt.desiredSize,ready:null};It.sinkCapability.resolve(),It.ready=It.sinkCapability.promise,this.streamSinks[St]=It,new Promise(function(Dt){Dt(Pt(wt.data,It))}).then(function(){_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.START_COMPLETE,streamId:St,success:!0})},function(Dt){_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.START_COMPLETE,streamId:St,reason:nt(Dt)})})},yt=new WeakSet,Ol=function(wt){const St=wt.streamId,Tt=this.sourceName,kt=wt.sourceName,_t=this.comObj,Mt=this.streamControllers[St],Pt=this.streamSinks[St];switch(wt.stream){case tt.START_COMPLETE:wt.success?Mt.startCall.resolve():Mt.startCall.reject(nt(wt.reason));break;case tt.PULL_COMPLETE:wt.success?Mt.pullCall.resolve():Mt.pullCall.reject(nt(wt.reason));break;case tt.PULL:if(!Pt){_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.PULL_COMPLETE,streamId:St,success:!0});break}Pt.desiredSize<=0&&wt.desiredSize>0&&Pt.sinkCapability.resolve(),Pt.desiredSize=wt.desiredSize,new Promise(function(It){var Dt;It((Dt=Pt.onPull)==null?void 0:Dt.call(Pt))}).then(function(){_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.PULL_COMPLETE,streamId:St,success:!0})},function(It){_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.PULL_COMPLETE,streamId:St,reason:nt(It)})});break;case tt.ENQUEUE:if((0,c.assert)(Mt,"enqueue should have stream controller"),Mt.isClosed)break;Mt.controller.enqueue(wt.chunk);break;case tt.CLOSE:if((0,c.assert)(Mt,"close should have stream controller"),Mt.isClosed)break;Mt.isClosed=!0,Mt.controller.close(),Mn(this,xt,Is).call(this,Mt,St);break;case tt.ERROR:(0,c.assert)(Mt,"error should have stream controller"),Mt.controller.error(nt(wt.reason)),Mn(this,xt,Is).call(this,Mt,St);break;case tt.CANCEL_COMPLETE:wt.success?Mt.cancelCall.resolve():Mt.cancelCall.reject(nt(wt.reason)),Mn(this,xt,Is).call(this,Mt,St);break;case tt.CANCEL:if(!Pt)break;new Promise(function(It){var Dt;It((Dt=Pt.onCancel)==null?void 0:Dt.call(Pt,nt(wt.reason)))}).then(function(){_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.CANCEL_COMPLETE,streamId:St,success:!0})},function(It){_t.postMessage({sourceName:Tt,targetName:kt,stream:tt.CANCEL_COMPLETE,streamId:St,reason:nt(It)})}),Pt.sinkCapability.reject(nt(wt.reason)),Pt.isCancelled=!0,delete this.streamSinks[St];break;default:throw new Error("Unexpected stream case")}},xt=new WeakSet,Is=async function(wt,St){var Tt,kt,_t;await Promise.allSettled([(Tt=wt.startCall)==null?void 0:Tt.promise,(kt=wt.pullCall)==null?void 0:kt.promise,(_t=wt.cancelCall)==null?void 0:_t.promise]),delete this.streamControllers[St]},e.MessageHandler=rt},(a,e,o)=>{var tt,nt;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var c=o(1);class et{constructor(mt){bn(this,tt,void 0);bn(this,nt,void 0);let{parsedData:gt,rawData:yt}=mt;Vn(this,tt,gt),Vn(this,nt,yt)}getRaw(){return Wt(this,nt)}get(mt){return Wt(this,tt).get(mt)??null}getAll(){return(0,c.objectFromMap)(Wt(this,tt))}has(mt){return Wt(this,tt).has(mt)}}tt=new WeakMap,nt=new WeakMap,e.Metadata=et},(a,e,o)=>{var mt,gt,yt,vt,xt,bt,co;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var c=o(1),et=o(170);const tt=Symbol("INTERNAL");class nt{constructor(St,Tt){bn(this,mt,!0);this.name=St,this.intent=Tt}get visible(){return Wt(this,mt)}_setVisible(St,Tt){St!==tt&&(0,c.unreachable)("Internal method `_setVisible` called."),Vn(this,mt,Tt)}}mt=new WeakMap;class rt{constructor(St){bn(this,bt);bn(this,gt,null);bn(this,yt,new Map);bn(this,vt,null);bn(this,xt,null);if(this.name=null,this.creator=null,St!==null){this.name=St.name,this.creator=St.creator,Vn(this,xt,St.order);for(const Tt of St.groups)Wt(this,yt).set(Tt.id,new nt(Tt.name,Tt.intent));if(St.baseState==="OFF")for(const Tt of Wt(this,yt).values())Tt._setVisible(tt,!1);for(const Tt of St.on)Wt(this,yt).get(Tt)._setVisible(tt,!0);for(const Tt of St.off)Wt(this,yt).get(Tt)._setVisible(tt,!1);Vn(this,vt,this.getHash())}}isVisible(St){if(Wt(this,yt).size===0)return!0;if(!St)return(0,c.warn)("Optional content group not defined."),!0;if(St.type==="OCG")return Wt(this,yt).has(St.id)?Wt(this,yt).get(St.id).visible:((0,c.warn)(`Optional content group not found: ${St.id}`),!0);if(St.type==="OCMD"){if(St.expression)return Mn(this,bt,co).call(this,St.expression);if(!St.policy||St.policy==="AnyOn"){for(const Tt of St.ids){if(!Wt(this,yt).has(Tt))return(0,c.warn)(`Optional content group not found: ${Tt}`),!0;if(Wt(this,yt).get(Tt).visible)return!0}return!1}else if(St.policy==="AllOn"){for(const Tt of St.ids){if(!Wt(this,yt).has(Tt))return(0,c.warn)(`Optional content group not found: ${Tt}`),!0;if(!Wt(this,yt).get(Tt).visible)return!1}return!0}else if(St.policy==="AnyOff"){for(const Tt of St.ids){if(!Wt(this,yt).has(Tt))return(0,c.warn)(`Optional content group not found: ${Tt}`),!0;if(!Wt(this,yt).get(Tt).visible)return!0}return!1}else if(St.policy==="AllOff"){for(const Tt of St.ids){if(!Wt(this,yt).has(Tt))return(0,c.warn)(`Optional content group not found: ${Tt}`),!0;if(Wt(this,yt).get(Tt).visible)return!1}return!0}return(0,c.warn)(`Unknown optional content policy ${St.policy}.`),!0}return(0,c.warn)(`Unknown group type ${St.type}.`),!0}setVisibility(St){let Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Wt(this,yt).has(St)){(0,c.warn)(`Optional content group not found: ${St}`);return}Wt(this,yt).get(St)._setVisible(tt,!!Tt),Vn(this,gt,null)}get hasInitialVisibility(){return Wt(this,vt)===null||this.getHash()===Wt(this,vt)}getOrder(){return Wt(this,yt).size?Wt(this,xt)?Wt(this,xt).slice():[...Wt(this,yt).keys()]:null}getGroups(){return Wt(this,yt).size>0?(0,c.objectFromMap)(Wt(this,yt)):null}getGroup(St){return Wt(this,yt).get(St)||null}getHash(){if(Wt(this,gt)!==null)return Wt(this,gt);const St=new et.MurmurHash3_64;for(const[Tt,kt]of Wt(this,yt))St.update(`${Tt}:${kt.visible}`);return Vn(this,gt,St.hexdigest())}}gt=new WeakMap,yt=new WeakMap,vt=new WeakMap,xt=new WeakMap,bt=new WeakSet,co=function(St){const Tt=St.length;if(Tt<2)return!0;const kt=St[0];for(let _t=1;_t<Tt;_t++){const Mt=St[_t];let Pt;if(Array.isArray(Mt))Pt=Mn(this,bt,co).call(this,Mt);else if(Wt(this,yt).has(Mt))Pt=Wt(this,yt).get(Mt).visible;else return(0,c.warn)(`Optional content group not found: ${Mt}`),!0;switch(kt){case"And":if(!Pt)return!1;break;case"Or":if(Pt)return!0;break;case"Not":return!Pt;default:return!0}}return kt==="And"},e.OptionalContentConfig=rt},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0,o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123),o(89);var c=o(1),et=o(168);class tt{constructor(gt,yt){let{length:vt,initialData:xt,progressiveDone:bt=!1,contentDispositionFilename:Et=null,disableRange:wt=!1,disableStream:St=!1}=gt;if((0,c.assert)(yt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=bt,this._contentDispositionFilename=Et,(xt==null?void 0:xt.length)>0){const Tt=xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength?xt.buffer:new Uint8Array(xt).buffer;this._queuedChunks.push(Tt)}this._pdfDataRangeTransport=yt,this._isStreamingSupported=!St,this._isRangeSupported=!wt,this._contentLength=vt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Tt,kt)=>{this._onReceiveData({begin:Tt,chunk:kt})}),this._pdfDataRangeTransport.addProgressListener((Tt,kt)=>{this._onProgress({loaded:Tt,total:kt})}),this._pdfDataRangeTransport.addProgressiveReadListener(Tt=>{this._onReceiveData({chunk:Tt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(gt){let{begin:yt,chunk:vt}=gt;const xt=vt instanceof Uint8Array&&vt.byteLength===vt.buffer.byteLength?vt.buffer:new Uint8Array(vt).buffer;if(yt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(xt):this._queuedChunks.push(xt);else{const bt=this._rangeReaders.some(function(Et){return Et._begin!==yt?!1:(Et._enqueue(xt),!0)});(0,c.assert)(bt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var gt;return((gt=this._fullRequestReader)==null?void 0:gt._loaded)??0}_onProgress(gt){var yt,vt,xt,bt;gt.total===void 0?(vt=(yt=this._rangeReaders[0])==null?void 0:yt.onProgress)==null||vt.call(yt,{loaded:gt.loaded}):(bt=(xt=this._fullRequestReader)==null?void 0:xt.onProgress)==null||bt.call(xt,{loaded:gt.loaded,total:gt.total})}_onProgressiveDone(){var gt;(gt=this._fullRequestReader)==null||gt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(gt){const yt=this._rangeReaders.indexOf(gt);yt>=0&&this._rangeReaders.splice(yt,1)}getFullReader(){(0,c.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const gt=this._queuedChunks;return this._queuedChunks=null,new nt(this,gt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(gt,yt){if(yt<=this._progressiveDataLength)return null;const vt=new rt(this,gt,yt);return this._pdfDataRangeTransport.requestDataRange(gt,yt),this._rangeReaders.push(vt),vt}cancelAllRequests(gt){var yt;(yt=this._fullRequestReader)==null||yt.cancel(gt);for(const vt of this._rangeReaders.slice(0))vt.cancel(gt);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=tt;class nt{constructor(gt,yt){let vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,xt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=gt,this._done=vt||!1,this._filename=(0,et.isPdfFile)(xt)?xt:null,this._queuedChunks=yt||[],this._loaded=0;for(const bt of this._queuedChunks)this._loaded+=bt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),gt._fullRequestReader=this,this.onProgress=null}_enqueue(gt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:gt,done:!1}):this._queuedChunks.push(gt),this._loaded+=gt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const gt=new c.PromiseCapability;return this._requests.push(gt),gt.promise}cancel(gt){this._done=!0;for(const yt of this._requests)yt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class rt{constructor(gt,yt,vt){this._stream=gt,this._begin=yt,this._end=vt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(gt){if(!this._done){if(this._requests.length===0)this._queuedChunk=gt;else{this._requests.shift().resolve({value:gt,done:!1});for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const yt=this._queuedChunk;return this._queuedChunk=null,{value:yt,done:!1}}if(this._done)return{value:void 0,done:!0};const gt=new c.PromiseCapability;return this._requests.push(gt),gt.promise}cancel(gt){this._done=!0;for(const yt of this._requests)yt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0,o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123),o(89);var c=o(1),et=o(182);function tt(vt,xt,bt){return{method:"GET",headers:vt,signal:bt.signal,mode:"cors",credentials:xt?"include":"same-origin",redirect:"follow"}}function nt(vt){const xt=new Headers;for(const bt in vt){const Et=vt[bt];Et!==void 0&&xt.append(bt,Et)}return xt}function rt(vt){return vt instanceof Uint8Array?vt.buffer:vt instanceof ArrayBuffer?vt:((0,c.warn)(`getArrayBuffer - unexpected data format: ${vt}`),new Uint8Array(vt).buffer)}class mt{constructor(xt){this.source=xt,this.isHttp=/^https?:/i.test(xt.url),this.httpHeaders=this.isHttp&&xt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var xt;return((xt=this._fullRequestReader)==null?void 0:xt._loaded)??0}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gt(this),this._fullRequestReader}getRangeReader(xt,bt){if(bt<=this._progressiveDataLength)return null;const Et=new yt(this,xt,bt);return this._rangeRequestReaders.push(Et),Et}cancelAllRequests(xt){var bt;(bt=this._fullRequestReader)==null||bt.cancel(xt);for(const Et of this._rangeRequestReaders.slice(0))Et.cancel(xt)}}e.PDFFetchStream=mt;class gt{constructor(xt){this._stream=xt,this._reader=null,this._loaded=0,this._filename=null;const bt=xt.source;this._withCredentials=bt.withCredentials||!1,this._contentLength=bt.length,this._headersCapability=new c.PromiseCapability,this._disableRange=bt.disableRange||!1,this._rangeChunkSize=bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!bt.disableStream,this._isRangeSupported=!bt.disableRange,this._headers=nt(this._stream.httpHeaders);const Et=bt.url;fetch(Et,tt(this._headers,this._withCredentials,this._abortController)).then(wt=>{if(!(0,et.validateResponseStatus)(wt.status))throw(0,et.createResponseStatusError)(wt.status,Et);this._reader=wt.body.getReader(),this._headersCapability.resolve();const St=_t=>wt.headers.get(_t),{allowRangeRequests:Tt,suggestedLength:kt}=(0,et.validateRangeRequestCapabilities)({getResponseHeader:St,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Tt,this._contentLength=kt||this._contentLength,this._filename=(0,et.extractFilenameFromHeader)(St),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new c.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Et;await this._headersCapability.promise;const{value:xt,done:bt}=await this._reader.read();return bt?{value:xt,done:bt}:(this._loaded+=xt.byteLength,(Et=this.onProgress)==null||Et.call(this,{loaded:this._loaded,total:this._contentLength}),{value:rt(xt),done:!1})}cancel(xt){var bt;(bt=this._reader)==null||bt.cancel(xt),this._abortController.abort()}}class yt{constructor(xt,bt,Et){this._stream=xt,this._reader=null,this._loaded=0;const wt=xt.source;this._withCredentials=wt.withCredentials||!1,this._readCapability=new c.PromiseCapability,this._isStreamingSupported=!wt.disableStream,this._abortController=new AbortController,this._headers=nt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${bt}-${Et-1}`);const St=wt.url;fetch(St,tt(this._headers,this._withCredentials,this._abortController)).then(Tt=>{if(!(0,et.validateResponseStatus)(Tt.status))throw(0,et.createResponseStatusError)(Tt.status,St);this._readCapability.resolve(),this._reader=Tt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Et;await this._readCapability.promise;const{value:xt,done:bt}=await this._reader.read();return bt?{value:xt,done:bt}:(this._loaded+=xt.byteLength,(Et=this.onProgress)==null||Et.call(this,{loaded:this._loaded}),{value:rt(xt),done:!1})}cancel(xt){var bt;(bt=this._reader)==null||bt.cancel(xt),this._abortController.abort()}}},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=mt,e.extractFilenameFromHeader=rt,e.validateRangeRequestCapabilities=nt,e.validateResponseStatus=gt;var c=o(1),et=o(183),tt=o(168);function nt(yt){let{getResponseHeader:vt,isHttp:xt,rangeChunkSize:bt,disableRange:Et}=yt;const wt={allowRangeRequests:!1,suggestedLength:void 0},St=parseInt(vt("Content-Length"),10);return!Number.isInteger(St)||(wt.suggestedLength=St,St<=2*bt)||Et||!xt||vt("Accept-Ranges")!=="bytes"||(vt("Content-Encoding")||"identity")!=="identity"||(wt.allowRangeRequests=!0),wt}function rt(yt){const vt=yt("Content-Disposition");if(vt){let xt=(0,et.getFilenameFromContentDispositionHeader)(vt);if(xt.includes("%"))try{xt=decodeURIComponent(xt)}catch{}if((0,tt.isPdfFile)(xt))return xt}return null}function mt(yt,vt){return yt===404||yt===0&&vt.startsWith("file:")?new c.MissingPDFException('Missing PDF "'+vt+'".'):new c.UnexpectedResponseException(`Unexpected server response (${yt}) while retrieving PDF "${vt}".`,yt)}function gt(yt){return yt===200||yt===206}},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=et,o(89),o(149);var c=o(1);function et(tt){let nt=!0,rt=mt("filename\\*","i").exec(tt);if(rt){rt=rt[1];let wt=xt(rt);return wt=unescape(wt),wt=bt(wt),wt=Et(wt),yt(wt)}if(rt=vt(tt),rt){const wt=Et(rt);return yt(wt)}if(rt=mt("filename","i").exec(tt),rt){rt=rt[1];let wt=xt(rt);return wt=Et(wt),yt(wt)}function mt(wt,St){return new RegExp("(?:^|;)\\s*"+wt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',St)}function gt(wt,St){if(wt){if(!/^[\x00-\xFF]+$/.test(St))return St;try{const Tt=new TextDecoder(wt,{fatal:!0}),kt=(0,c.stringToBytes)(St);St=Tt.decode(kt),nt=!1}catch{}}return St}function yt(wt){return nt&&/[\x80-\xff]/.test(wt)&&(wt=gt("utf-8",wt),nt&&(wt=gt("iso-8859-1",wt))),wt}function vt(wt){const St=[];let Tt;const kt=mt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Tt=kt.exec(wt))!==null;){let[,Mt,Pt,It]=Tt;if(Mt=parseInt(Mt,10),Mt in St){if(Mt===0)break;continue}St[Mt]=[Pt,It]}const _t=[];for(let Mt=0;Mt<St.length&&Mt in St;++Mt){let[Pt,It]=St[Mt];It=xt(It),Pt&&(It=unescape(It),Mt===0&&(It=bt(It))),_t.push(It)}return _t.join("")}function xt(wt){if(wt.startsWith('"')){const St=wt.slice(1).split('\\"');for(let Tt=0;Tt<St.length;++Tt){const kt=St[Tt].indexOf('"');kt!==-1&&(St[Tt]=St[Tt].slice(0,kt),St.length=Tt+1),St[Tt]=St[Tt].replaceAll(/\\(.)/g,"$1")}wt=St.join('"')}return wt}function bt(wt){const St=wt.indexOf("'");if(St===-1)return wt;const Tt=wt.slice(0,St),_t=wt.slice(St+1).replace(/^[^']*'/,"");return gt(Tt,_t)}function Et(wt){return!wt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(wt)?wt:wt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(St,Tt,kt,_t){if(kt==="q"||kt==="Q")return _t=_t.replaceAll("_"," "),_t=_t.replaceAll(/=([0-9a-fA-F]{2})/g,function(Mt,Pt){return String.fromCharCode(parseInt(Pt,16))}),gt(Tt,_t);try{_t=atob(_t)}catch{}return gt(Tt,_t)})}return""}},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0,o(89);var c=o(1),et=o(182);const tt=200,nt=206;function rt(xt){const bt=xt.response;return typeof bt!="string"?bt:(0,c.stringToBytes)(bt).buffer}class mt{constructor(bt){let Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=bt,this.isHttp=/^https?:/i.test(bt),this.httpHeaders=this.isHttp&&Et.httpHeaders||Object.create(null),this.withCredentials=Et.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(bt,Et,wt){const St={begin:bt,end:Et};for(const Tt in wt)St[Tt]=wt[Tt];return this.request(St)}requestFull(bt){return this.request(bt)}request(bt){const Et=new XMLHttpRequest,wt=this.currXhrId++,St=this.pendingRequests[wt]={xhr:Et};Et.open("GET",this.url),Et.withCredentials=this.withCredentials;for(const Tt in this.httpHeaders){const kt=this.httpHeaders[Tt];kt!==void 0&&Et.setRequestHeader(Tt,kt)}return this.isHttp&&"begin"in bt&&"end"in bt?(Et.setRequestHeader("Range",`bytes=${bt.begin}-${bt.end-1}`),St.expectedStatus=nt):St.expectedStatus=tt,Et.responseType="arraybuffer",bt.onError&&(Et.onerror=function(Tt){bt.onError(Et.status)}),Et.onreadystatechange=this.onStateChange.bind(this,wt),Et.onprogress=this.onProgress.bind(this,wt),St.onHeadersReceived=bt.onHeadersReceived,St.onDone=bt.onDone,St.onError=bt.onError,St.onProgress=bt.onProgress,Et.send(null),wt}onProgress(bt,Et){var St;const wt=this.pendingRequests[bt];wt&&((St=wt.onProgress)==null||St.call(wt,Et))}onStateChange(bt,Et){var Mt,Pt,It;const wt=this.pendingRequests[bt];if(!wt)return;const St=wt.xhr;if(St.readyState>=2&&wt.onHeadersReceived&&(wt.onHeadersReceived(),delete wt.onHeadersReceived),St.readyState!==4||!(bt in this.pendingRequests))return;if(delete this.pendingRequests[bt],St.status===0&&this.isHttp){(Mt=wt.onError)==null||Mt.call(wt,St.status);return}const Tt=St.status||tt;if(!(Tt===tt&&wt.expectedStatus===nt)&&Tt!==wt.expectedStatus){(Pt=wt.onError)==null||Pt.call(wt,St.status);return}const _t=rt(St);if(Tt===nt){const Dt=St.getResponseHeader("Content-Range"),Ct=/bytes (\d+)-(\d+)\/(\d+)/.exec(Dt);wt.onDone({begin:parseInt(Ct[1],10),chunk:_t})}else _t?wt.onDone({begin:0,chunk:_t}):(It=wt.onError)==null||It.call(wt,St.status)}getRequestXhr(bt){return this.pendingRequests[bt].xhr}isPendingRequest(bt){return bt in this.pendingRequests}abortRequest(bt){const Et=this.pendingRequests[bt].xhr;delete this.pendingRequests[bt],Et.abort()}}class gt{constructor(bt){this._source=bt,this._manager=new mt(bt.url,{httpHeaders:bt.httpHeaders,withCredentials:bt.withCredentials}),this._rangeChunkSize=bt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(bt){const Et=this._rangeRequestReaders.indexOf(bt);Et>=0&&this._rangeRequestReaders.splice(Et,1)}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new yt(this._manager,this._source),this._fullRequestReader}getRangeReader(bt,Et){const wt=new vt(this._manager,bt,Et);return wt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(wt),wt}cancelAllRequests(bt){var Et;(Et=this._fullRequestReader)==null||Et.cancel(bt);for(const wt of this._rangeRequestReaders.slice(0))wt.cancel(bt)}}e.PDFNetworkStream=gt;class yt{constructor(bt,Et){this._manager=bt;const wt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Et.url,this._fullRequestId=bt.requestFull(wt),this._headersReceivedCapability=new c.PromiseCapability,this._disableRange=Et.disableRange||!1,this._contentLength=Et.length,this._rangeChunkSize=Et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const bt=this._fullRequestId,Et=this._manager.getRequestXhr(bt),wt=kt=>Et.getResponseHeader(kt),{allowRangeRequests:St,suggestedLength:Tt}=(0,et.validateRangeRequestCapabilities)({getResponseHeader:wt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});St&&(this._isRangeSupported=!0),this._contentLength=Tt||this._contentLength,this._filename=(0,et.extractFilenameFromHeader)(wt),this._isRangeSupported&&this._manager.abortRequest(bt),this._headersReceivedCapability.resolve()}_onDone(bt){if(bt&&(this._requests.length>0?this._requests.shift().resolve({value:bt.chunk,done:!1}):this._cachedChunks.push(bt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Et of this._requests)Et.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(bt){this._storedError=(0,et.createResponseStatusError)(bt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Et of this._requests)Et.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(bt){var Et;(Et=this.onProgress)==null||Et.call(this,{loaded:bt.loaded,total:bt.lengthComputable?bt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const bt=new c.PromiseCapability;return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0,this._headersReceivedCapability.reject(bt);for(const Et of this._requests)Et.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class vt{constructor(bt,Et,wt){this._manager=bt;const St={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=bt.url,this._requestId=bt.requestRange(Et,wt,St),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var bt;(bt=this.onClosed)==null||bt.call(this,this)}_onDone(bt){const Et=bt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Et,done:!1}):this._queuedChunk=Et,this._done=!0;for(const wt of this._requests)wt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(bt){this._storedError=(0,et.createResponseStatusError)(bt,this._url);for(const Et of this._requests)Et.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(bt){var Et;this.isStreamingSupported||(Et=this.onProgress)==null||Et.call(this,{loaded:bt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Et=this._queuedChunk;return this._queuedChunk=null,{value:Et,done:!1}}if(this._done)return{value:void 0,done:!0};const bt=new c.PromiseCapability;return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0;for(const Et of this._requests)Et.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0,o(89),o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123);var c=o(1),et=o(182);const tt=/^file:\/\/\/[a-zA-Z]:\//;function nt(wt){const St=require$$6,Tt=St.parse(wt);return Tt.protocol==="file:"||Tt.host?Tt:/^[a-z]:[/\\]/i.test(wt)?St.parse(`file:///${wt}`):(Tt.host||(Tt.protocol="file:"),Tt)}class rt{constructor(St){this.source=St,this.url=nt(St.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&St.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var St;return((St=this._fullRequestReader)==null?void 0:St._loaded)??0}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new bt(this):new vt(this),this._fullRequestReader}getRangeReader(St,Tt){if(Tt<=this._progressiveDataLength)return null;const kt=this.isFsUrl?new Et(this,St,Tt):new xt(this,St,Tt);return this._rangeRequestReaders.push(kt),kt}cancelAllRequests(St){var Tt;(Tt=this._fullRequestReader)==null||Tt.cancel(St);for(const kt of this._rangeRequestReaders.slice(0))kt.cancel(St)}}e.PDFNodeStream=rt;class mt{constructor(St){this._url=St.url,this._done=!1,this._storedError=null,this.onProgress=null;const Tt=St.source;this._contentLength=Tt.length,this._loaded=0,this._filename=null,this._disableRange=Tt.disableRange||!1,this._rangeChunkSize=Tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Tt.disableStream,this._isRangeSupported=!Tt.disableRange,this._readableStream=null,this._readCapability=new c.PromiseCapability,this._headersCapability=new c.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var kt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const St=this._readableStream.read();return St===null?(this._readCapability=new c.PromiseCapability,this.read()):(this._loaded+=St.length,(kt=this.onProgress)==null||kt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(St).buffer,done:!1})}cancel(St){if(!this._readableStream){this._error(St);return}this._readableStream.destroy(St)}_error(St){this._storedError=St,this._readCapability.resolve()}_setReadableStream(St){this._readableStream=St,St.on("readable",()=>{this._readCapability.resolve()}),St.on("end",()=>{St.destroy(),this._done=!0,this._readCapability.resolve()}),St.on("error",Tt=>{this._error(Tt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new c.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class gt{constructor(St){this._url=St.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new c.PromiseCapability;const Tt=St.source;this._isStreamingSupported=!Tt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var kt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const St=this._readableStream.read();return St===null?(this._readCapability=new c.PromiseCapability,this.read()):(this._loaded+=St.length,(kt=this.onProgress)==null||kt.call(this,{loaded:this._loaded}),{value:new Uint8Array(St).buffer,done:!1})}cancel(St){if(!this._readableStream){this._error(St);return}this._readableStream.destroy(St)}_error(St){this._storedError=St,this._readCapability.resolve()}_setReadableStream(St){this._readableStream=St,St.on("readable",()=>{this._readCapability.resolve()}),St.on("end",()=>{St.destroy(),this._done=!0,this._readCapability.resolve()}),St.on("error",Tt=>{this._error(Tt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function yt(wt,St){return{protocol:wt.protocol,auth:wt.auth,host:wt.hostname,port:wt.port,path:wt.path,method:"GET",headers:St}}class vt extends mt{constructor(St){super(St);const Tt=kt=>{if(kt.statusCode===404){const It=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=It,this._headersCapability.reject(It);return}this._headersCapability.resolve(),this._setReadableStream(kt);const _t=It=>this._readableStream.headers[It.toLowerCase()],{allowRangeRequests:Mt,suggestedLength:Pt}=(0,et.validateRangeRequestCapabilities)({getResponseHeader:_t,isHttp:St.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Mt,this._contentLength=Pt||this._contentLength,this._filename=(0,et.extractFilenameFromHeader)(_t)};if(this._request=null,this._url.protocol==="http:"){const kt=require$$6;this._request=kt.request(yt(this._url,St.httpHeaders),Tt)}else{const kt=require$$6;this._request=kt.request(yt(this._url,St.httpHeaders),Tt)}this._request.on("error",kt=>{this._storedError=kt,this._headersCapability.reject(kt)}),this._request.end()}}class xt extends gt{constructor(St,Tt,kt){super(St),this._httpHeaders={};for(const Mt in St.httpHeaders){const Pt=St.httpHeaders[Mt];Pt!==void 0&&(this._httpHeaders[Mt]=Pt)}this._httpHeaders.Range=`bytes=${Tt}-${kt-1}`;const _t=Mt=>{if(Mt.statusCode===404){const Pt=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Pt;return}this._setReadableStream(Mt)};if(this._request=null,this._url.protocol==="http:"){const Mt=require$$6;this._request=Mt.request(yt(this._url,this._httpHeaders),_t)}else{const Mt=require$$6;this._request=Mt.request(yt(this._url,this._httpHeaders),_t)}this._request.on("error",Mt=>{this._storedError=Mt}),this._request.end()}}class bt extends mt{constructor(St){super(St);let Tt=decodeURIComponent(this._url.path);tt.test(this._url.href)&&(Tt=Tt.replace(/^\//,""));const kt=require$$6;kt.lstat(Tt,(_t,Mt)=>{if(_t){_t.code==="ENOENT"&&(_t=new c.MissingPDFException(`Missing PDF "${Tt}".`)),this._storedError=_t,this._headersCapability.reject(_t);return}this._contentLength=Mt.size,this._setReadableStream(kt.createReadStream(Tt)),this._headersCapability.resolve()})}}class Et extends gt{constructor(St,Tt,kt){super(St);let _t=decodeURIComponent(this._url.path);tt.test(this._url.href)&&(_t=_t.replace(/^\//,""));const Mt=require$$6;this._setReadableStream(Mt.createReadStream(_t,{start:Tt,end:kt-1}))}}},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0,o(84),o(86),o(87),o(93),o(101),o(102),o(105),o(107),o(109),o(113),o(116),o(123),o(2),o(89),o(187);var c=o(168),et=o(1);const tt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},nt="http://www.w3.org/XML/1998/namespace",rt="http://www.w3.org/1999/xlink",mt=["butt","round","square"],gt=["miter","round","bevel"],yt=function(Mt){let Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",It=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!It)return URL.createObjectURL(new Blob([Mt],{type:Pt}));const Dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Ct=`data:${Pt};base64,`;for(let At=0,Lt=Mt.length;At<Lt;At+=3){const jt=Mt[At]&255,Bt=Mt[At+1]&255,zt=Mt[At+2]&255,Yt=jt>>2,en=(jt&3)<<4|Bt>>4,rn=At+1<Lt?(Bt&15)<<2|zt>>6:64,on=At+2<Lt?zt&63:64;Ct+=Dt[Yt]+Dt[en]+Dt[rn]+Dt[on]}return Ct},vt=function(){const Mt=new Uint8Array([137,80,78,71,13,10,26,10]),Pt=12,It=new Int32Array(256);for(let zt=0;zt<256;zt++){let Yt=zt;for(let en=0;en<8;en++)Yt=Yt&1?3988292384^Yt>>1&2147483647:Yt>>1&2147483647;It[zt]=Yt}function Dt(zt,Yt,en){let rn=-1;for(let on=Yt;on<en;on++){const Zt=(rn^zt[on])&255,an=It[Zt];rn=rn>>>8^an}return rn^-1}function Ct(zt,Yt,en,rn){let on=rn;const Zt=Yt.length;en[on]=Zt>>24&255,en[on+1]=Zt>>16&255,en[on+2]=Zt>>8&255,en[on+3]=Zt&255,on+=4,en[on]=zt.charCodeAt(0)&255,en[on+1]=zt.charCodeAt(1)&255,en[on+2]=zt.charCodeAt(2)&255,en[on+3]=zt.charCodeAt(3)&255,on+=4,en.set(Yt,on),on+=Yt.length;const an=Dt(en,rn+4,on);en[on]=an>>24&255,en[on+1]=an>>16&255,en[on+2]=an>>8&255,en[on+3]=an&255}function At(zt,Yt,en){let rn=1,on=0;for(let Zt=Yt;Zt<en;++Zt)rn=(rn+(zt[Zt]&255))%65521,on=(on+rn)%65521;return on<<16|rn}function Lt(zt){if(!et.isNodeJS)return jt(zt);try{const Yt=parseInt(process.versions.node)>=8?zt:Buffer.from(zt),en=require$$6.deflateSync(Yt,{level:9});return en instanceof Uint8Array?en:new Uint8Array(en)}catch(Yt){(0,et.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Yt)}return jt(zt)}function jt(zt){let Yt=zt.length;const en=65535,rn=Math.ceil(Yt/en),on=new Uint8Array(2+Yt+rn*5+4);let Zt=0;on[Zt++]=120,on[Zt++]=156;let an=0;for(;Yt>en;)on[Zt++]=0,on[Zt++]=255,on[Zt++]=255,on[Zt++]=0,on[Zt++]=0,on.set(zt.subarray(an,an+en),Zt),Zt+=en,an+=en,Yt-=en;on[Zt++]=1,on[Zt++]=Yt&255,on[Zt++]=Yt>>8&255,on[Zt++]=~Yt&65535&255,on[Zt++]=(~Yt&65535)>>8&255,on.set(zt.subarray(an),Zt),Zt+=zt.length-an;const Xt=At(zt,0,zt.length);return on[Zt++]=Xt>>24&255,on[Zt++]=Xt>>16&255,on[Zt++]=Xt>>8&255,on[Zt++]=Xt&255,on}function Bt(zt,Yt,en,rn){const on=zt.width,Zt=zt.height;let an,Xt,yn;const vn=zt.data;switch(Yt){case et.ImageKind.GRAYSCALE_1BPP:Xt=0,an=1,yn=on+7>>3;break;case et.ImageKind.RGB_24BPP:Xt=2,an=8,yn=on*3;break;case et.ImageKind.RGBA_32BPP:Xt=6,an=8,yn=on*4;break;default:throw new Error("invalid format")}const Nt=new Uint8Array((1+yn)*Zt);let $t=0,Ot=0;for(let Jt=0;Jt<Zt;++Jt)Nt[$t++]=0,Nt.set(vn.subarray(Ot,Ot+yn),$t),Ot+=yn,$t+=yn;if(Yt===et.ImageKind.GRAYSCALE_1BPP&&rn){$t=0;for(let Jt=0;Jt<Zt;Jt++){$t++;for(let nn=0;nn<yn;nn++)Nt[$t++]^=255}}const Ft=new Uint8Array([on>>24&255,on>>16&255,on>>8&255,on&255,Zt>>24&255,Zt>>16&255,Zt>>8&255,Zt&255,an,Xt,0,0,0]),Ut=Lt(Nt),Gt=Mt.length+Pt*3+Ft.length+Ut.length,Vt=new Uint8Array(Gt);let Kt=0;return Vt.set(Mt,Kt),Kt+=Mt.length,Ct("IHDR",Ft,Vt,Kt),Kt+=Pt+Ft.length,Ct("IDATA",Ut,Vt,Kt),Kt+=Pt+Ut.length,Ct("IEND",new Uint8Array(0),Vt,Kt),yt(Vt,"image/png",en)}return function(Yt,en,rn){const on=Yt.kind===void 0?et.ImageKind.GRAYSCALE_1BPP:Yt.kind;return Bt(Yt,on,en,rn)}}();class xt{constructor(){this.fontSizeScale=1,this.fontWeight=tt.fontWeight,this.fontSize=0,this.textMatrix=et.IDENTITY_MATRIX,this.fontMatrix=et.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=et.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=tt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Pt,It){this.x=Pt,this.y=It}}function bt(Mt){let Pt=[];const It=[];for(const Dt of Mt){if(Dt.fn==="save"){Pt.push({fnId:92,fn:"group",items:[]}),It.push(Pt),Pt=Pt.at(-1).items;continue}Dt.fn==="restore"?Pt=It.pop():Pt.push(Dt)}return Pt}function Et(Mt){if(Number.isInteger(Mt))return Mt.toString();const Pt=Mt.toFixed(10);let It=Pt.length-1;if(Pt[It]!=="0")return Pt;do It--;while(Pt[It]==="0");return Pt.substring(0,Pt[It]==="."?It:It+1)}function wt(Mt){if(Mt[4]===0&&Mt[5]===0){if(Mt[1]===0&&Mt[2]===0)return Mt[0]===1&&Mt[3]===1?"":`scale(${Et(Mt[0])} ${Et(Mt[3])})`;if(Mt[0]===Mt[3]&&Mt[1]===-Mt[2]){const Pt=Math.acos(Mt[0])*180/Math.PI;return`rotate(${Et(Pt)})`}}else if(Mt[0]===1&&Mt[1]===0&&Mt[2]===0&&Mt[3]===1)return`translate(${Et(Mt[4])} ${Et(Mt[5])})`;return`matrix(${Et(Mt[0])} ${Et(Mt[1])} ${Et(Mt[2])} ${Et(Mt[3])} ${Et(Mt[4])} ${Et(Mt[5])})`}let St=0,Tt=0,kt=0;class _t{constructor(Pt,It){let Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,c.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new c.DOMSVGFactory,this.current=new xt,this.transformMatrix=et.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Pt,this.objs=It,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Dt,this._operatorIdMapping=[];for(const Ct in et.OPS)this._operatorIdMapping[et.OPS[Ct]]=Ct}getObject(Pt){let It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof Pt=="string"?Pt.startsWith("g_")?this.commonObjs.get(Pt):this.objs.get(Pt):It}save(){this.transformStack.push(this.transformMatrix);const Pt=this.current;this.extraStack.push(Pt),this.current=Pt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Pt){this.save(),this.executeOpTree(Pt),this.restore()}loadDependencies(Pt){const It=Pt.fnArray,Dt=Pt.argsArray;for(let Ct=0,At=It.length;Ct<At;Ct++)if(It[Ct]===et.OPS.dependency)for(const Lt of Dt[Ct]){const jt=Lt.startsWith("g_")?this.commonObjs:this.objs,Bt=new Promise(zt=>{jt.get(Lt,zt)});this.current.dependencies.push(Bt)}return Promise.all(this.current.dependencies)}transform(Pt,It,Dt,Ct,At,Lt){const jt=[Pt,It,Dt,Ct,At,Lt];this.transformMatrix=et.Util.transform(this.transformMatrix,jt),this.tgrp=null}getSVG(Pt,It){this.viewport=It;const Dt=this._initialize(It);return this.loadDependencies(Pt).then(()=>(this.transformMatrix=et.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Pt)),Dt))}convertOpList(Pt){const It=this._operatorIdMapping,Dt=Pt.argsArray,Ct=Pt.fnArray,At=[];for(let Lt=0,jt=Ct.length;Lt<jt;Lt++){const Bt=Ct[Lt];At.push({fnId:Bt,fn:It[Bt],args:Dt[Lt]})}return bt(At)}executeOpTree(Pt){for(const It of Pt){const Dt=It.fn,Ct=It.fnId,At=It.args;switch(Ct|0){case et.OPS.beginText:this.beginText();break;case et.OPS.dependency:break;case et.OPS.setLeading:this.setLeading(At);break;case et.OPS.setLeadingMoveText:this.setLeadingMoveText(At[0],At[1]);break;case et.OPS.setFont:this.setFont(At);break;case et.OPS.showText:this.showText(At[0]);break;case et.OPS.showSpacedText:this.showText(At[0]);break;case et.OPS.endText:this.endText();break;case et.OPS.moveText:this.moveText(At[0],At[1]);break;case et.OPS.setCharSpacing:this.setCharSpacing(At[0]);break;case et.OPS.setWordSpacing:this.setWordSpacing(At[0]);break;case et.OPS.setHScale:this.setHScale(At[0]);break;case et.OPS.setTextMatrix:this.setTextMatrix(At[0],At[1],At[2],At[3],At[4],At[5]);break;case et.OPS.setTextRise:this.setTextRise(At[0]);break;case et.OPS.setTextRenderingMode:this.setTextRenderingMode(At[0]);break;case et.OPS.setLineWidth:this.setLineWidth(At[0]);break;case et.OPS.setLineJoin:this.setLineJoin(At[0]);break;case et.OPS.setLineCap:this.setLineCap(At[0]);break;case et.OPS.setMiterLimit:this.setMiterLimit(At[0]);break;case et.OPS.setFillRGBColor:this.setFillRGBColor(At[0],At[1],At[2]);break;case et.OPS.setStrokeRGBColor:this.setStrokeRGBColor(At[0],At[1],At[2]);break;case et.OPS.setStrokeColorN:this.setStrokeColorN(At);break;case et.OPS.setFillColorN:this.setFillColorN(At);break;case et.OPS.shadingFill:this.shadingFill(At[0]);break;case et.OPS.setDash:this.setDash(At[0],At[1]);break;case et.OPS.setRenderingIntent:this.setRenderingIntent(At[0]);break;case et.OPS.setFlatness:this.setFlatness(At[0]);break;case et.OPS.setGState:this.setGState(At[0]);break;case et.OPS.fill:this.fill();break;case et.OPS.eoFill:this.eoFill();break;case et.OPS.stroke:this.stroke();break;case et.OPS.fillStroke:this.fillStroke();break;case et.OPS.eoFillStroke:this.eoFillStroke();break;case et.OPS.clip:this.clip("nonzero");break;case et.OPS.eoClip:this.clip("evenodd");break;case et.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case et.OPS.paintImageXObject:this.paintImageXObject(At[0]);break;case et.OPS.paintInlineImageXObject:this.paintInlineImageXObject(At[0]);break;case et.OPS.paintImageMaskXObject:this.paintImageMaskXObject(At[0]);break;case et.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(At[0],At[1]);break;case et.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case et.OPS.closePath:this.closePath();break;case et.OPS.closeStroke:this.closeStroke();break;case et.OPS.closeFillStroke:this.closeFillStroke();break;case et.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case et.OPS.nextLine:this.nextLine();break;case et.OPS.transform:this.transform(At[0],At[1],At[2],At[3],At[4],At[5]);break;case et.OPS.constructPath:this.constructPath(At[0],At[1]);break;case et.OPS.endPath:this.endPath();break;case 92:this.group(It.items);break;default:(0,et.warn)(`Unimplemented operator ${Dt}`);break}}}setWordSpacing(Pt){this.current.wordSpacing=Pt}setCharSpacing(Pt){this.current.charSpacing=Pt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Pt,It,Dt,Ct,At,Lt){const jt=this.current;jt.textMatrix=jt.lineMatrix=[Pt,It,Dt,Ct,At,Lt],jt.textMatrixScale=Math.hypot(Pt,It),jt.x=jt.lineX=0,jt.y=jt.lineY=0,jt.xcoords=[],jt.ycoords=[],jt.tspan=this.svgFactory.createElement("svg:tspan"),jt.tspan.setAttributeNS(null,"font-family",jt.fontFamily),jt.tspan.setAttributeNS(null,"font-size",`${Et(jt.fontSize)}px`),jt.tspan.setAttributeNS(null,"y",Et(-jt.y)),jt.txtElement=this.svgFactory.createElement("svg:text"),jt.txtElement.append(jt.tspan)}beginText(){const Pt=this.current;Pt.x=Pt.lineX=0,Pt.y=Pt.lineY=0,Pt.textMatrix=et.IDENTITY_MATRIX,Pt.lineMatrix=et.IDENTITY_MATRIX,Pt.textMatrixScale=1,Pt.tspan=this.svgFactory.createElement("svg:tspan"),Pt.txtElement=this.svgFactory.createElement("svg:text"),Pt.txtgrp=this.svgFactory.createElement("svg:g"),Pt.xcoords=[],Pt.ycoords=[]}moveText(Pt,It){const Dt=this.current;Dt.x=Dt.lineX+=Pt,Dt.y=Dt.lineY+=It,Dt.xcoords=[],Dt.ycoords=[],Dt.tspan=this.svgFactory.createElement("svg:tspan"),Dt.tspan.setAttributeNS(null,"font-family",Dt.fontFamily),Dt.tspan.setAttributeNS(null,"font-size",`${Et(Dt.fontSize)}px`),Dt.tspan.setAttributeNS(null,"y",Et(-Dt.y))}showText(Pt){const It=this.current,Dt=It.font,Ct=It.fontSize;if(Ct===0)return;const At=It.fontSizeScale,Lt=It.charSpacing,jt=It.wordSpacing,Bt=It.fontDirection,zt=It.textHScale*Bt,Yt=Dt.vertical,en=Yt?1:-1,rn=Dt.defaultVMetrics,on=Ct*It.fontMatrix[0];let Zt=0;for(const yn of Pt){if(yn===null){Zt+=Bt*jt;continue}else if(typeof yn=="number"){Zt+=en*yn*Ct/1e3;continue}const vn=(yn.isSpace?jt:0)+Lt,Nt=yn.fontChar;let $t,Ot,Ft=yn.width;if(Yt){let Gt;const Vt=yn.vmetric||rn;Gt=yn.vmetric?Vt[1]:Ft*.5,Gt=-Gt*on;const Kt=Vt[2]*on;Ft=Vt?-Vt[0]:Ft,$t=Gt/At,Ot=(Zt+Kt)/At}else $t=Zt/At,Ot=0;(yn.isInFont||Dt.missingFile)&&(It.xcoords.push(It.x+$t),Yt&&It.ycoords.push(-It.y+Ot),It.tspan.textContent+=Nt);const Ut=Yt?Ft*on-vn*Bt:Ft*on+vn*Bt;Zt+=Ut}It.tspan.setAttributeNS(null,"x",It.xcoords.map(Et).join(" ")),Yt?It.tspan.setAttributeNS(null,"y",It.ycoords.map(Et).join(" ")):It.tspan.setAttributeNS(null,"y",Et(-It.y)),Yt?It.y-=Zt:It.x+=Zt*zt,It.tspan.setAttributeNS(null,"font-family",It.fontFamily),It.tspan.setAttributeNS(null,"font-size",`${Et(It.fontSize)}px`),It.fontStyle!==tt.fontStyle&&It.tspan.setAttributeNS(null,"font-style",It.fontStyle),It.fontWeight!==tt.fontWeight&&It.tspan.setAttributeNS(null,"font-weight",It.fontWeight);const an=It.textRenderingMode&et.TextRenderingMode.FILL_STROKE_MASK;if(an===et.TextRenderingMode.FILL||an===et.TextRenderingMode.FILL_STROKE?(It.fillColor!==tt.fillColor&&It.tspan.setAttributeNS(null,"fill",It.fillColor),It.fillAlpha<1&&It.tspan.setAttributeNS(null,"fill-opacity",It.fillAlpha)):It.textRenderingMode===et.TextRenderingMode.ADD_TO_PATH?It.tspan.setAttributeNS(null,"fill","transparent"):It.tspan.setAttributeNS(null,"fill","none"),an===et.TextRenderingMode.STROKE||an===et.TextRenderingMode.FILL_STROKE){const yn=1/(It.textMatrixScale||1);this._setStrokeAttributes(It.tspan,yn)}let Xt=It.textMatrix;It.textRise!==0&&(Xt=Xt.slice(),Xt[5]+=It.textRise),It.txtElement.setAttributeNS(null,"transform",`${wt(Xt)} scale(${Et(zt)}, -1)`),It.txtElement.setAttributeNS(nt,"xml:space","preserve"),It.txtElement.append(It.tspan),It.txtgrp.append(It.txtElement),this._ensureTransformGroup().append(It.txtElement)}setLeadingMoveText(Pt,It){this.setLeading(-It),this.moveText(Pt,It)}addFontStyle(Pt){if(!Pt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const It=yt(Pt.data,Pt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Pt.loadedName}"; src: url(${It}); }
`}setFont(Pt){const It=this.current,Dt=this.commonObjs.get(Pt[0]);let Ct=Pt[1];It.font=Dt,this.embedFonts&&!Dt.missingFile&&!this.embeddedFonts[Dt.loadedName]&&(this.addFontStyle(Dt),this.embeddedFonts[Dt.loadedName]=Dt),It.fontMatrix=Dt.fontMatrix||et.FONT_IDENTITY_MATRIX;let At="normal";Dt.black?At="900":Dt.bold&&(At="bold");const Lt=Dt.italic?"italic":"normal";Ct<0?(Ct=-Ct,It.fontDirection=-1):It.fontDirection=1,It.fontSize=Ct,It.fontFamily=Dt.loadedName,It.fontWeight=At,It.fontStyle=Lt,It.tspan=this.svgFactory.createElement("svg:tspan"),It.tspan.setAttributeNS(null,"y",Et(-It.y)),It.xcoords=[],It.ycoords=[]}endText(){var It;const Pt=this.current;Pt.textRenderingMode&et.TextRenderingMode.ADD_TO_PATH_FLAG&&((It=Pt.txtElement)!=null&&It.hasChildNodes())&&(Pt.element=Pt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Pt){Pt>0&&(this.current.lineWidth=Pt)}setLineCap(Pt){this.current.lineCap=mt[Pt]}setLineJoin(Pt){this.current.lineJoin=gt[Pt]}setMiterLimit(Pt){this.current.miterLimit=Pt}setStrokeAlpha(Pt){this.current.strokeAlpha=Pt}setStrokeRGBColor(Pt,It,Dt){this.current.strokeColor=et.Util.makeHexColor(Pt,It,Dt)}setFillAlpha(Pt){this.current.fillAlpha=Pt}setFillRGBColor(Pt,It,Dt){this.current.fillColor=et.Util.makeHexColor(Pt,It,Dt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Pt){this.current.strokeColor=this._makeColorN_Pattern(Pt)}setFillColorN(Pt){this.current.fillColor=this._makeColorN_Pattern(Pt)}shadingFill(Pt){const{width:It,height:Dt}=this.viewport,Ct=et.Util.inverseTransform(this.transformMatrix),[At,Lt,jt,Bt]=et.Util.getAxialAlignedBoundingBox([0,0,It,Dt],Ct),zt=this.svgFactory.createElement("svg:rect");zt.setAttributeNS(null,"x",At),zt.setAttributeNS(null,"y",Lt),zt.setAttributeNS(null,"width",jt-At),zt.setAttributeNS(null,"height",Bt-Lt),zt.setAttributeNS(null,"fill",this._makeShadingPattern(Pt)),this.current.fillAlpha<1&&zt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(zt)}_makeColorN_Pattern(Pt){return Pt[0]==="TilingPattern"?this._makeTilingPattern(Pt):this._makeShadingPattern(Pt)}_makeTilingPattern(Pt){const It=Pt[1],Dt=Pt[2],Ct=Pt[3]||et.IDENTITY_MATRIX,[At,Lt,jt,Bt]=Pt[4],zt=Pt[5],Yt=Pt[6],en=Pt[7],rn=`shading${kt++}`,[on,Zt,an,Xt]=et.Util.normalizeRect([...et.Util.applyTransform([At,Lt],Ct),...et.Util.applyTransform([jt,Bt],Ct)]),[yn,vn]=et.Util.singularValueDecompose2dScale(Ct),Nt=zt*yn,$t=Yt*vn,Ot=this.svgFactory.createElement("svg:pattern");Ot.setAttributeNS(null,"id",rn),Ot.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ot.setAttributeNS(null,"width",Nt),Ot.setAttributeNS(null,"height",$t),Ot.setAttributeNS(null,"x",`${on}`),Ot.setAttributeNS(null,"y",`${Zt}`);const Ft=this.svg,Ut=this.transformMatrix,Gt=this.current.fillColor,Vt=this.current.strokeColor,Kt=this.svgFactory.create(an-on,Xt-Zt);if(this.svg=Kt,this.transformMatrix=Ct,en===2){const Jt=et.Util.makeHexColor(...It);this.current.fillColor=Jt,this.current.strokeColor=Jt}return this.executeOpTree(this.convertOpList(Dt)),this.svg=Ft,this.transformMatrix=Ut,this.current.fillColor=Gt,this.current.strokeColor=Vt,Ot.append(Kt.childNodes[0]),this.defs.append(Ot),`url(#${rn})`}_makeShadingPattern(Pt){switch(typeof Pt=="string"&&(Pt=this.objs.get(Pt)),Pt[0]){case"RadialAxial":const It=`shading${kt++}`,Dt=Pt[3];let Ct;switch(Pt[1]){case"axial":const At=Pt[4],Lt=Pt[5];Ct=this.svgFactory.createElement("svg:linearGradient"),Ct.setAttributeNS(null,"id",It),Ct.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ct.setAttributeNS(null,"x1",At[0]),Ct.setAttributeNS(null,"y1",At[1]),Ct.setAttributeNS(null,"x2",Lt[0]),Ct.setAttributeNS(null,"y2",Lt[1]);break;case"radial":const jt=Pt[4],Bt=Pt[5],zt=Pt[6],Yt=Pt[7];Ct=this.svgFactory.createElement("svg:radialGradient"),Ct.setAttributeNS(null,"id",It),Ct.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ct.setAttributeNS(null,"cx",Bt[0]),Ct.setAttributeNS(null,"cy",Bt[1]),Ct.setAttributeNS(null,"r",Yt),Ct.setAttributeNS(null,"fx",jt[0]),Ct.setAttributeNS(null,"fy",jt[1]),Ct.setAttributeNS(null,"fr",zt);break;default:throw new Error(`Unknown RadialAxial type: ${Pt[1]}`)}for(const At of Dt){const Lt=this.svgFactory.createElement("svg:stop");Lt.setAttributeNS(null,"offset",At[0]),Lt.setAttributeNS(null,"stop-color",At[1]),Ct.append(Lt)}return this.defs.append(Ct),`url(#${It})`;case"Mesh":return(0,et.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Pt[0]}`)}}setDash(Pt,It){this.current.dashArray=Pt,this.current.dashPhase=It}constructPath(Pt,It){const Dt=this.current;let Ct=Dt.x,At=Dt.y,Lt=[],jt=0;for(const Bt of Pt)switch(Bt|0){case et.OPS.rectangle:Ct=It[jt++],At=It[jt++];const zt=It[jt++],Yt=It[jt++],en=Ct+zt,rn=At+Yt;Lt.push("M",Et(Ct),Et(At),"L",Et(en),Et(At),"L",Et(en),Et(rn),"L",Et(Ct),Et(rn),"Z");break;case et.OPS.moveTo:Ct=It[jt++],At=It[jt++],Lt.push("M",Et(Ct),Et(At));break;case et.OPS.lineTo:Ct=It[jt++],At=It[jt++],Lt.push("L",Et(Ct),Et(At));break;case et.OPS.curveTo:Ct=It[jt+4],At=It[jt+5],Lt.push("C",Et(It[jt]),Et(It[jt+1]),Et(It[jt+2]),Et(It[jt+3]),Et(Ct),Et(At)),jt+=6;break;case et.OPS.curveTo2:Lt.push("C",Et(Ct),Et(At),Et(It[jt]),Et(It[jt+1]),Et(It[jt+2]),Et(It[jt+3])),Ct=It[jt+2],At=It[jt+3],jt+=4;break;case et.OPS.curveTo3:Ct=It[jt+2],At=It[jt+3],Lt.push("C",Et(It[jt]),Et(It[jt+1]),Et(Ct),Et(At),Et(Ct),Et(At)),jt+=4;break;case et.OPS.closePath:Lt.push("Z");break}Lt=Lt.join(" "),Dt.path&&Pt.length>0&&Pt[0]!==et.OPS.rectangle&&Pt[0]!==et.OPS.moveTo?Lt=Dt.path.getAttributeNS(null,"d")+Lt:(Dt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Dt.path)),Dt.path.setAttributeNS(null,"d",Lt),Dt.path.setAttributeNS(null,"fill","none"),Dt.element=Dt.path,Dt.setCurrentPoint(Ct,At)}endPath(){const Pt=this.current;if(Pt.path=null,!this.pendingClip)return;if(!Pt.element){this.pendingClip=null;return}const It=`clippath${St++}`,Dt=this.svgFactory.createElement("svg:clipPath");Dt.setAttributeNS(null,"id",It),Dt.setAttributeNS(null,"transform",wt(this.transformMatrix));const Ct=Pt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Ct.setAttributeNS(null,"clip-rule","evenodd"):Ct.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Dt.append(Ct),this.defs.append(Dt),Pt.activeClipUrl){Pt.clipGroup=null;for(const At of this.extraStack)At.clipGroup=null;Dt.setAttributeNS(null,"clip-path",Pt.activeClipUrl)}Pt.activeClipUrl=`url(#${It})`,this.tgrp=null}clip(Pt){this.pendingClip=Pt}closePath(){const Pt=this.current;if(Pt.path){const It=`${Pt.path.getAttributeNS(null,"d")}Z`;Pt.path.setAttributeNS(null,"d",It)}}setLeading(Pt){this.current.leading=-Pt}setTextRise(Pt){this.current.textRise=Pt}setTextRenderingMode(Pt){this.current.textRenderingMode=Pt}setHScale(Pt){this.current.textHScale=Pt/100}setRenderingIntent(Pt){}setFlatness(Pt){}setGState(Pt){for(const[It,Dt]of Pt)switch(It){case"LW":this.setLineWidth(Dt);break;case"LC":this.setLineCap(Dt);break;case"LJ":this.setLineJoin(Dt);break;case"ML":this.setMiterLimit(Dt);break;case"D":this.setDash(Dt[0],Dt[1]);break;case"RI":this.setRenderingIntent(Dt);break;case"FL":this.setFlatness(Dt);break;case"Font":this.setFont(Dt);break;case"CA":this.setStrokeAlpha(Dt);break;case"ca":this.setFillAlpha(Dt);break;default:(0,et.warn)(`Unimplemented graphic state operator ${It}`);break}}fill(){const Pt=this.current;Pt.element&&(Pt.element.setAttributeNS(null,"fill",Pt.fillColor),Pt.element.setAttributeNS(null,"fill-opacity",Pt.fillAlpha),this.endPath())}stroke(){const Pt=this.current;Pt.element&&(this._setStrokeAttributes(Pt.element),Pt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Pt){let It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const Dt=this.current;let Ct=Dt.dashArray;It!==1&&Ct.length>0&&(Ct=Ct.map(function(At){return It*At})),Pt.setAttributeNS(null,"stroke",Dt.strokeColor),Pt.setAttributeNS(null,"stroke-opacity",Dt.strokeAlpha),Pt.setAttributeNS(null,"stroke-miterlimit",Et(Dt.miterLimit)),Pt.setAttributeNS(null,"stroke-linecap",Dt.lineCap),Pt.setAttributeNS(null,"stroke-linejoin",Dt.lineJoin),Pt.setAttributeNS(null,"stroke-width",Et(It*Dt.lineWidth)+"px"),Pt.setAttributeNS(null,"stroke-dasharray",Ct.map(Et).join(" ")),Pt.setAttributeNS(null,"stroke-dashoffset",Et(It*Dt.dashPhase)+"px")}eoFill(){var Pt;(Pt=this.current.element)==null||Pt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Pt;(Pt=this.current.element)==null||Pt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Pt=this.svgFactory.createElement("svg:rect");Pt.setAttributeNS(null,"x","0"),Pt.setAttributeNS(null,"y","0"),Pt.setAttributeNS(null,"width","1px"),Pt.setAttributeNS(null,"height","1px"),Pt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Pt)}paintImageXObject(Pt){const It=this.getObject(Pt);if(!It){(0,et.warn)(`Dependent image with object ID ${Pt} is not ready yet`);return}this.paintInlineImageXObject(It)}paintInlineImageXObject(Pt,It){const Dt=Pt.width,Ct=Pt.height,At=vt(Pt,this.forceDataSchema,!!It),Lt=this.svgFactory.createElement("svg:rect");Lt.setAttributeNS(null,"x","0"),Lt.setAttributeNS(null,"y","0"),Lt.setAttributeNS(null,"width",Et(Dt)),Lt.setAttributeNS(null,"height",Et(Ct)),this.current.element=Lt,this.clip("nonzero");const jt=this.svgFactory.createElement("svg:image");jt.setAttributeNS(rt,"xlink:href",At),jt.setAttributeNS(null,"x","0"),jt.setAttributeNS(null,"y",Et(-Ct)),jt.setAttributeNS(null,"width",Et(Dt)+"px"),jt.setAttributeNS(null,"height",Et(Ct)+"px"),jt.setAttributeNS(null,"transform",`scale(${Et(1/Dt)} ${Et(-1/Ct)})`),It?It.append(jt):this._ensureTransformGroup().append(jt)}paintImageMaskXObject(Pt){const It=this.getObject(Pt.data,Pt);if(It.bitmap){(0,et.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Dt=this.current,Ct=It.width,At=It.height,Lt=Dt.fillColor;Dt.maskId=`mask${Tt++}`;const jt=this.svgFactory.createElement("svg:mask");jt.setAttributeNS(null,"id",Dt.maskId);const Bt=this.svgFactory.createElement("svg:rect");Bt.setAttributeNS(null,"x","0"),Bt.setAttributeNS(null,"y","0"),Bt.setAttributeNS(null,"width",Et(Ct)),Bt.setAttributeNS(null,"height",Et(At)),Bt.setAttributeNS(null,"fill",Lt),Bt.setAttributeNS(null,"mask",`url(#${Dt.maskId})`),this.defs.append(jt),this._ensureTransformGroup().append(Bt),this.paintInlineImageXObject(It,jt)}paintFormXObjectBegin(Pt,It){if(Array.isArray(Pt)&&Pt.length===6&&this.transform(Pt[0],Pt[1],Pt[2],Pt[3],Pt[4],Pt[5]),It){const Dt=It[2]-It[0],Ct=It[3]-It[1],At=this.svgFactory.createElement("svg:rect");At.setAttributeNS(null,"x",It[0]),At.setAttributeNS(null,"y",It[1]),At.setAttributeNS(null,"width",Et(Dt)),At.setAttributeNS(null,"height",Et(Ct)),this.current.element=At,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Pt){const It=this.svgFactory.create(Pt.width,Pt.height),Dt=this.svgFactory.createElement("svg:defs");It.append(Dt),this.defs=Dt;const Ct=this.svgFactory.createElement("svg:g");return Ct.setAttributeNS(null,"transform",wt(Pt.transform)),It.append(Ct),this.svg=Ct,It}_ensureClipGroup(){if(!this.current.clipGroup){const Pt=this.svgFactory.createElement("svg:g");Pt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Pt),this.current.clipGroup=Pt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",wt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=_t},(a,e,o)=>{var c=o(3),et=o(188),tt=o(193);c({target:"Array",proto:!0},{group:function(rt){var mt=arguments.length>1?arguments[1]:void 0;return et(this,rt,mt)}}),tt("group")},(a,e,o)=>{var c=o(99),et=o(14),tt=o(13),nt=o(40),rt=o(18),mt=o(64),gt=o(189),yt=o(108),vt=Array,xt=et([].push);a.exports=function(bt,Et,wt,St){for(var Tt=nt(bt),kt=tt(Tt),_t=c(Et,wt),Mt=gt(null),Pt=mt(kt),It=0,Dt,Ct,At;Pt>It;It++)At=kt[It],Ct=rt(_t(At,It,Tt)),Ct in Mt?xt(Mt[Ct],At):Mt[Ct]=[At];if(St&&(Dt=St(Tt),Dt!==vt))for(Ct in Mt)Mt[Ct]=yt(Dt,Mt[Ct]);return Mt}},(a,e,o)=>{var c=o(47),et=o(190),tt=o(66),nt=o(55),rt=o(192),mt=o(43),gt=o(54),yt=">",vt="<",xt="prototype",bt="script",Et=gt("IE_PROTO"),wt=function(){},St=function(Pt){return vt+bt+yt+Pt+vt+"/"+bt+yt},Tt=function(Pt){Pt.write(St("")),Pt.close();var It=Pt.parentWindow.Object;return Pt=null,It},kt=function(){var Pt=mt("iframe"),It="java"+bt+":",Dt;return Pt.style.display="none",rt.appendChild(Pt),Pt.src=String(It),Dt=Pt.contentWindow.document,Dt.open(),Dt.write(St("document.F=Object")),Dt.close(),Dt.F},_t,Mt=function(){try{_t=new ActiveXObject("htmlfile")}catch{}Mt=typeof document<"u"?document.domain&&_t?Tt(_t):kt():Tt(_t);for(var Pt=tt.length;Pt--;)delete Mt[xt][tt[Pt]];return Mt()};nt[Et]=!0,a.exports=Object.create||function(It,Dt){var Ct;return It!==null?(wt[xt]=c(It),Ct=new wt,wt[xt]=null,Ct[Et]=It):Ct=Mt(),Dt===void 0?Ct:et.f(Ct,Dt)}},(a,e,o)=>{var c=o(6),et=o(46),tt=o(45),nt=o(47),rt=o(12),mt=o(191);e.f=c&&!et?Object.defineProperties:function(yt,vt){nt(yt);for(var xt=rt(vt),bt=mt(vt),Et=bt.length,wt=0,St;Et>wt;)tt.f(yt,St=bt[wt++],xt[St]);return yt}},(a,e,o)=>{var c=o(59),et=o(66);a.exports=Object.keys||function(nt){return c(nt,et)}},(a,e,o)=>{var c=o(24);a.exports=c("document","documentElement")},(a,e,o)=>{var c=o(34),et=o(189),tt=o(45).f,nt=c("unscopables"),rt=Array.prototype;rt[nt]===void 0&&tt(rt,nt,{configurable:!0,value:et(null)}),a.exports=function(mt){rt[nt][mt]=!0}},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0,o(89);class c{static textContent(tt){const nt=[],rt={items:nt,styles:Object.create(null)};function mt(gt){var xt;if(!gt)return;let yt=null;const vt=gt.name;if(vt==="#text")yt=gt.value;else if(c.shouldBuildText(vt))(xt=gt==null?void 0:gt.attributes)!=null&&xt.textContent?yt=gt.attributes.textContent:gt.value&&(yt=gt.value);else return;if(yt!==null&&nt.push({str:yt}),!!gt.children)for(const bt of gt.children)mt(bt)}return mt(tt),rt}static shouldBuildText(tt){return!(tt==="textarea"||tt==="input"||tt==="option"||tt==="select")}}e.XfaText=c},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=wt,e.updateTextLayer=St,o(89),o(2);var c=o(1),et=o(168);const tt=1e5,nt=30,rt=.8,mt=new Map;function gt(Tt,kt){let _t;if(kt&&c.FeatureTest.isOffscreenCanvasSupported)_t=new OffscreenCanvas(Tt,Tt).getContext("2d",{alpha:!1});else{const Mt=document.createElement("canvas");Mt.width=Mt.height=Tt,_t=Mt.getContext("2d",{alpha:!1})}return _t}function yt(Tt,kt){const _t=mt.get(Tt);if(_t)return _t;const Mt=gt(nt,kt);Mt.font=`${nt}px ${Tt}`;const Pt=Mt.measureText("");let It=Pt.fontBoundingBoxAscent,Dt=Math.abs(Pt.fontBoundingBoxDescent);if(It){const At=It/(It+Dt);return mt.set(Tt,At),Mt.canvas.width=Mt.canvas.height=0,At}Mt.strokeStyle="red",Mt.clearRect(0,0,nt,nt),Mt.strokeText("g",0,0);let Ct=Mt.getImageData(0,0,nt,nt).data;Dt=0;for(let At=Ct.length-1-3;At>=0;At-=4)if(Ct[At]>0){Dt=Math.ceil(At/4/nt);break}Mt.clearRect(0,0,nt,nt),Mt.strokeText("A",0,nt),Ct=Mt.getImageData(0,0,nt,nt).data,It=0;for(let At=0,Lt=Ct.length;At<Lt;At+=4)if(Ct[At]>0){It=nt-Math.floor(At/4/nt);break}if(Mt.canvas.width=Mt.canvas.height=0,It){const At=It/(It+Dt);return mt.set(Tt,At),At}return mt.set(Tt,rt),rt}function vt(Tt,kt,_t){const Mt=document.createElement("span"),Pt={angle:0,canvasWidth:0,hasText:kt.str!=="",hasEOL:kt.hasEOL,fontSize:0};Tt._textDivs.push(Mt);const It=c.Util.transform(Tt._transform,kt.transform);let Dt=Math.atan2(It[1],It[0]);const Ct=_t[kt.fontName];Ct.vertical&&(Dt+=Math.PI/2);const At=Math.hypot(It[2],It[3]),Lt=At*yt(Ct.fontFamily,Tt._isOffscreenCanvasSupported);let jt,Bt;Dt===0?(jt=It[4],Bt=It[5]-Lt):(jt=It[4]+Lt*Math.sin(Dt),Bt=It[5]-Lt*Math.cos(Dt));const zt="calc(var(--scale-factor)*",Yt=Mt.style;Tt._container===Tt._rootContainer?(Yt.left=`${(100*jt/Tt._pageWidth).toFixed(2)}%`,Yt.top=`${(100*Bt/Tt._pageHeight).toFixed(2)}%`):(Yt.left=`${zt}${jt.toFixed(2)}px)`,Yt.top=`${zt}${Bt.toFixed(2)}px)`),Yt.fontSize=`${zt}${At.toFixed(2)}px)`,Yt.fontFamily=Ct.fontFamily,Pt.fontSize=At,Mt.setAttribute("role","presentation"),Mt.textContent=kt.str,Mt.dir=kt.dir,Tt._fontInspectorEnabled&&(Mt.dataset.fontName=kt.fontName),Dt!==0&&(Pt.angle=Dt*(180/Math.PI));let en=!1;if(kt.str.length>1)en=!0;else if(kt.str!==" "&&kt.transform[0]!==kt.transform[3]){const rn=Math.abs(kt.transform[0]),on=Math.abs(kt.transform[3]);rn!==on&&Math.max(rn,on)/Math.min(rn,on)>1.5&&(en=!0)}en&&(Pt.canvasWidth=Ct.vertical?kt.height:kt.width),Tt._textDivProperties.set(Mt,Pt),Tt._isReadableStream&&Tt._layoutText(Mt)}function xt(Tt){const{div:kt,scale:_t,properties:Mt,ctx:Pt,prevFontSize:It,prevFontFamily:Dt}=Tt,{style:Ct}=kt;let At="";if(Mt.canvasWidth!==0&&Mt.hasText){const{fontFamily:Lt}=Ct,{canvasWidth:jt,fontSize:Bt}=Mt;(It!==Bt||Dt!==Lt)&&(Pt.font=`${Bt*_t}px ${Lt}`,Tt.prevFontSize=Bt,Tt.prevFontFamily=Lt);const{width:zt}=Pt.measureText(kt.textContent);zt>0&&(At=`scaleX(${jt*_t/zt})`)}Mt.angle!==0&&(At=`rotate(${Mt.angle}deg) ${At}`),At.length>0&&(Ct.transform=At)}function bt(Tt){if(Tt._canceled)return;const kt=Tt._textDivs,_t=Tt._capability;if(kt.length>tt){_t.resolve();return}if(!Tt._isReadableStream)for(const Pt of kt)Tt._layoutText(Pt);_t.resolve()}class Et{constructor(kt){var Yt;let{textContentSource:_t,container:Mt,viewport:Pt,textDivs:It,textDivProperties:Dt,textContentItemsStr:Ct,isOffscreenCanvasSupported:At}=kt;this._textContentSource=_t,this._isReadableStream=_t instanceof ReadableStream,this._container=this._rootContainer=Mt,this._textDivs=It||[],this._textContentItemsStr=Ct||[],this._isOffscreenCanvasSupported=At,this._fontInspectorEnabled=!!((Yt=globalThis.FontInspector)!=null&&Yt.enabled),this._reader=null,this._textDivProperties=Dt||new WeakMap,this._canceled=!1,this._capability=new c.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Pt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:gt(0,At)};const{pageWidth:Lt,pageHeight:jt,pageX:Bt,pageY:zt}=Pt.rawDims;this._transform=[1,0,0,-1,-Bt,zt+jt],this._pageWidth=Lt,this._pageHeight=jt,(0,et.setLayerDimensions)(Mt,Pt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new c.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new c.AbortException("TextLayer task cancelled."))}_processItems(kt,_t){for(const Mt of kt){if(Mt.str===void 0){if(Mt.type==="beginMarkedContentProps"||Mt.type==="beginMarkedContent"){const Pt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Mt.id!==null&&this._container.setAttribute("id",`${Mt.id}`),Pt.append(this._container)}else Mt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Mt.str),vt(this,Mt,_t)}}_layoutText(kt){const _t=this._layoutTextParams.properties=this._textDivProperties.get(kt);if(this._layoutTextParams.div=kt,xt(this._layoutTextParams),_t.hasText&&this._container.append(kt),_t.hasEOL){const Mt=document.createElement("br");Mt.setAttribute("role","presentation"),this._container.append(Mt)}}_render(){const kt=new c.PromiseCapability;let _t=Object.create(null);if(this._isReadableStream){const Mt=()=>{this._reader.read().then(Pt=>{let{value:It,done:Dt}=Pt;if(Dt){kt.resolve();return}Object.assign(_t,It.styles),this._processItems(It.items,_t),Mt()},kt.reject)};this._reader=this._textContentSource.getReader(),Mt()}else if(this._textContentSource){const{items:Mt,styles:Pt}=this._textContentSource;this._processItems(Mt,Pt),kt.resolve()}else throw new Error('No "textContentSource" parameter specified.');kt.promise.then(()=>{_t=null,bt(this)},this._capability.reject)}}e.TextLayerRenderTask=Et;function wt(Tt){!Tt.textContentSource&&(Tt.textContent||Tt.textContentStream)&&((0,et.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Tt.textContentSource=Tt.textContent||Tt.textContentStream);const{container:kt,viewport:_t}=Tt,Mt=getComputedStyle(kt),Pt=Mt.getPropertyValue("visibility"),It=parseFloat(Mt.getPropertyValue("--scale-factor"));Pt==="visible"&&(!It||Math.abs(It-_t.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Dt=new Et(Tt);return Dt._render(),Dt}function St(Tt){let{container:kt,viewport:_t,textDivs:Mt,textDivProperties:Pt,isOffscreenCanvasSupported:It,mustRotate:Dt=!0,mustRescale:Ct=!0}=Tt;if(Dt&&(0,et.setLayerDimensions)(kt,{rotation:_t.rotation}),Ct){const At=gt(0,It),jt={prevFontSize:null,prevFontFamily:null,div:null,scale:_t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:At};for(const Bt of Mt)jt.properties=Pt.get(Bt),jt.div=Bt,xt(jt)}}},(a,e,o)=>{var yt,vt,xt,bt,Et,wt,St,Tt,kt,_t,Mt,uo,It,Ms,Ct,ho,Lt,po;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0,o(125),o(136),o(138),o(141),o(143),o(145),o(147);var c=o(1),et=o(164),tt=o(197),nt=o(202),rt=o(168),mt=o(203);const Bt=class Bt{constructor(Yt){bn(this,Mt);bn(this,It);bn(this,Ct);bn(this,Lt);bn(this,yt,void 0);bn(this,vt,!1);bn(this,xt,null);bn(this,bt,this.pointerup.bind(this));bn(this,Et,this.pointerdown.bind(this));bn(this,wt,new Map);bn(this,St,!1);bn(this,Tt,!1);bn(this,kt,!1);bn(this,_t,void 0);let{uiManager:en,pageIndex:rn,div:on,accessibilityManager:Zt,annotationLayer:an,viewport:Xt,l10n:yn}=Yt;const vn=[tt.FreeTextEditor,nt.InkEditor,mt.StampEditor];if(!Bt._initialized){Bt._initialized=!0;for(const Nt of vn)Nt.initialize(yn)}en.registerEditorTypes(vn),Vn(this,_t,en),this.pageIndex=rn,this.div=on,Vn(this,yt,Zt),Vn(this,xt,an),this.viewport=Xt,Wt(this,_t).addLayer(this)}get isEmpty(){return Wt(this,wt).size===0}updateToolbar(Yt){Wt(this,_t).updateToolbar(Yt)}updateMode(){let Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wt(this,_t).getMode();Mn(this,Lt,po).call(this),Yt===c.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Yt!==c.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Yt===c.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Yt===c.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Yt===c.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Yt){if(!Yt&&Wt(this,_t).getMode()!==c.AnnotationEditorType.INK)return;if(!Yt){for(const rn of Wt(this,wt).values())if(rn.isEmpty()){rn.setInBackground();return}}Mn(this,It,Ms).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Yt){Wt(this,_t).setEditingState(Yt)}addCommands(Yt){Wt(this,_t).addCommands(Yt)}enable(){this.div.style.pointerEvents="auto";const Yt=new Set;for(const rn of Wt(this,wt).values())rn.enableEditing(),rn.annotationElementId&&Yt.add(rn.annotationElementId);if(!Wt(this,xt))return;const en=Wt(this,xt).getEditableAnnotations();for(const rn of en){if(rn.hide(),Wt(this,_t).isDeletedAnnotationElement(rn.data.id)||Yt.has(rn.data.id))continue;const on=this.deserialize(rn);on&&(this.addOrRebuild(on),on.enableEditing())}}disable(){var en;Vn(this,kt,!0),this.div.style.pointerEvents="none";const Yt=new Set;for(const rn of Wt(this,wt).values()){if(rn.disableEditing(),!rn.annotationElementId||rn.serialize()!==null){Yt.add(rn.annotationElementId);continue}(en=this.getEditableAnnotation(rn.annotationElementId))==null||en.show(),rn.remove()}if(Wt(this,xt)){const rn=Wt(this,xt).getEditableAnnotations();for(const on of rn){const{id:Zt}=on.data;Yt.has(Zt)||Wt(this,_t).isDeletedAnnotationElement(Zt)||on.show()}}Mn(this,Lt,po).call(this),this.isEmpty&&(this.div.hidden=!0),Vn(this,kt,!1)}getEditableAnnotation(Yt){var en;return((en=Wt(this,xt))==null?void 0:en.getEditableAnnotation(Yt))||null}setActiveEditor(Yt){Wt(this,_t).getActive()!==Yt&&Wt(this,_t).setActiveEditor(Yt)}enableClick(){this.div.addEventListener("pointerdown",Wt(this,Et)),this.div.addEventListener("pointerup",Wt(this,bt))}disableClick(){this.div.removeEventListener("pointerdown",Wt(this,Et)),this.div.removeEventListener("pointerup",Wt(this,bt))}attach(Yt){Wt(this,wt).set(Yt.id,Yt);const{annotationElementId:en}=Yt;en&&Wt(this,_t).isDeletedAnnotationElement(en)&&Wt(this,_t).removeDeletedAnnotationElement(Yt)}detach(Yt){var en;Wt(this,wt).delete(Yt.id),(en=Wt(this,yt))==null||en.removePointerInTextLayer(Yt.contentDiv),!Wt(this,kt)&&Yt.annotationElementId&&Wt(this,_t).addDeletedAnnotationElement(Yt)}remove(Yt){this.detach(Yt),Wt(this,_t).removeEditor(Yt),Yt.div.contains(document.activeElement)&&setTimeout(()=>{Wt(this,_t).focusMainContainer()},0),Yt.div.remove(),Yt.isAttachedToDOM=!1,Wt(this,Tt)||this.addInkEditorIfNeeded(!1)}changeParent(Yt){var en;Yt.parent!==this&&(Yt.annotationElementId&&(Wt(this,_t).addDeletedAnnotationElement(Yt.annotationElementId),et.AnnotationEditor.deleteAnnotationElement(Yt),Yt.annotationElementId=null),this.attach(Yt),(en=Yt.parent)==null||en.detach(Yt),Yt.setParent(this),Yt.div&&Yt.isAttachedToDOM&&(Yt.div.remove(),this.div.append(Yt.div)))}add(Yt){if(this.changeParent(Yt),Wt(this,_t).addEditor(Yt),this.attach(Yt),!Yt.isAttachedToDOM){const en=Yt.render();this.div.append(en),Yt.isAttachedToDOM=!0}Yt.fixAndSetPosition(),Yt.onceAdded(),Wt(this,_t).addToAnnotationStorage(Yt)}moveEditorInDOM(Yt){var rn;if(!Yt.isAttachedToDOM)return;const{activeElement:en}=document;Yt.div.contains(en)&&(Yt._focusEventsAllowed=!1,setTimeout(()=>{Yt.div.contains(document.activeElement)?Yt._focusEventsAllowed=!0:(Yt.div.addEventListener("focusin",()=>{Yt._focusEventsAllowed=!0},{once:!0}),en.focus())},0)),Yt._structTreeParentId=(rn=Wt(this,yt))==null?void 0:rn.moveElementInDOM(this.div,Yt.div,Yt.contentDiv,!0)}addOrRebuild(Yt){Yt.needsToBeRebuilt()?Yt.rebuild():this.add(Yt)}addUndoableEditor(Yt){const en=()=>Yt._uiManager.rebuild(Yt),rn=()=>{Yt.remove()};this.addCommands({cmd:en,undo:rn,mustExec:!1})}getNextId(){return Wt(this,_t).getId()}pasteEditor(Yt,en){Wt(this,_t).updateToolbar(Yt),Wt(this,_t).updateMode(Yt);const{offsetX:rn,offsetY:on}=Mn(this,Ct,ho).call(this),Zt=this.getNextId(),an=Mn(this,Mt,uo).call(this,{parent:this,id:Zt,x:rn,y:on,uiManager:Wt(this,_t),isCentered:!0,...en});an&&this.add(an)}deserialize(Yt){switch(Yt.annotationType??Yt.annotationEditorType){case c.AnnotationEditorType.FREETEXT:return tt.FreeTextEditor.deserialize(Yt,this,Wt(this,_t));case c.AnnotationEditorType.INK:return nt.InkEditor.deserialize(Yt,this,Wt(this,_t));case c.AnnotationEditorType.STAMP:return mt.StampEditor.deserialize(Yt,this,Wt(this,_t))}return null}addNewEditor(){Mn(this,It,Ms).call(this,Mn(this,Ct,ho).call(this),!0)}setSelected(Yt){Wt(this,_t).setSelected(Yt)}toggleSelected(Yt){Wt(this,_t).toggleSelected(Yt)}isSelected(Yt){return Wt(this,_t).isSelected(Yt)}unselect(Yt){Wt(this,_t).unselect(Yt)}pointerup(Yt){const{isMac:en}=c.FeatureTest.platform;if(!(Yt.button!==0||Yt.ctrlKey&&en)&&Yt.target===this.div&&Wt(this,St)){if(Vn(this,St,!1),!Wt(this,vt)){Vn(this,vt,!0);return}if(Wt(this,_t).getMode()===c.AnnotationEditorType.STAMP){Wt(this,_t).unselectAll();return}Mn(this,It,Ms).call(this,Yt,!1)}}pointerdown(Yt){if(Wt(this,St)){Vn(this,St,!1);return}const{isMac:en}=c.FeatureTest.platform;if(Yt.button!==0||Yt.ctrlKey&&en||Yt.target!==this.div)return;Vn(this,St,!0);const rn=Wt(this,_t).getActive();Vn(this,vt,!rn||rn.isEmpty())}findNewParent(Yt,en,rn){const on=Wt(this,_t).findParent(en,rn);return on===null||on===this?!1:(on.changeParent(Yt),!0)}destroy(){var Yt,en;((Yt=Wt(this,_t).getActive())==null?void 0:Yt.parent)===this&&(Wt(this,_t).commitOrRemove(),Wt(this,_t).setActiveEditor(null));for(const rn of Wt(this,wt).values())(en=Wt(this,yt))==null||en.removePointerInTextLayer(rn.contentDiv),rn.setParent(null),rn.isAttachedToDOM=!1,rn.div.remove();this.div=null,Wt(this,wt).clear(),Wt(this,_t).removeLayer(this)}render(Yt){let{viewport:en}=Yt;this.viewport=en,(0,rt.setLayerDimensions)(this.div,en);for(const rn of Wt(this,_t).getEditors(this.pageIndex))this.add(rn);this.updateMode()}update(Yt){let{viewport:en}=Yt;Wt(this,_t).commitOrRemove(),this.viewport=en,(0,rt.setLayerDimensions)(this.div,{rotation:en.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Yt,pageHeight:en}=this.viewport.rawDims;return[Yt,en]}};yt=new WeakMap,vt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,wt=new WeakMap,St=new WeakMap,Tt=new WeakMap,kt=new WeakMap,_t=new WeakMap,Mt=new WeakSet,uo=function(Yt){switch(Wt(this,_t).getMode()){case c.AnnotationEditorType.FREETEXT:return new tt.FreeTextEditor(Yt);case c.AnnotationEditorType.INK:return new nt.InkEditor(Yt);case c.AnnotationEditorType.STAMP:return new mt.StampEditor(Yt)}return null},It=new WeakSet,Ms=function(Yt,en){const rn=this.getNextId(),on=Mn(this,Mt,uo).call(this,{parent:this,id:rn,x:Yt.offsetX,y:Yt.offsetY,uiManager:Wt(this,_t),isCentered:en});return on&&this.add(on),on},Ct=new WeakSet,ho=function(){const{x:Yt,y:en,width:rn,height:on}=this.div.getBoundingClientRect(),Zt=Math.max(0,Yt),an=Math.max(0,en),Xt=Math.min(window.innerWidth,Yt+rn),yn=Math.min(window.innerHeight,en+on),vn=(Zt+Xt)/2-Yt,Nt=(an+yn)/2-en,[$t,Ot]=this.viewport.rotation%180===0?[vn,Nt]:[Nt,vn];return{offsetX:$t,offsetY:Ot}},Lt=new WeakSet,po=function(){Vn(this,Tt,!0);for(const Yt of Wt(this,wt).values())Yt.isEmpty()&&Yt.remove();Vn(this,Tt,!1)},Tr(Bt,"_initialized",!1);let gt=Bt;e.AnnotationEditorLayer=gt},(a,e,o)=>{var mt,gt,yt,vt,xt,bt,Et,wt,St,Tt,Fl,_t,$l,Pt,Nl,Dt,hs,At,fo,jt,Vl,zt,go;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0,o(89);var c=o(1),et=o(165),tt=o(164),nt=o(198);const en=class en extends tt.AnnotationEditor{constructor(Zt){super({...Zt,name:"freeTextEditor"});bn(this,Tt);bn(this,_t);bn(this,Pt);bn(this,Dt);bn(this,At);bn(this,jt);bn(this,zt);bn(this,mt,this.editorDivBlur.bind(this));bn(this,gt,this.editorDivFocus.bind(this));bn(this,yt,this.editorDivInput.bind(this));bn(this,vt,this.editorDivKeydown.bind(this));bn(this,xt,void 0);bn(this,bt,"");bn(this,Et,`${this.id}-editor`);bn(this,wt,void 0);bn(this,St,null);Vn(this,xt,Zt.color||en._defaultColor||tt.AnnotationEditor._defaultLineColor),Vn(this,wt,Zt.fontSize||en._defaultFontSize)}static get _keyboardManager(){const Zt=en.prototype,an=vn=>vn.isEmpty(),Xt=et.AnnotationEditorUIManager.TRANSLATE_SMALL,yn=et.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,c.shadow)(this,"_keyboardManager",new et.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Zt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Zt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Zt._translateEmpty,{args:[-Xt,0],checker:an}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Zt._translateEmpty,{args:[-yn,0],checker:an}],[["ArrowRight","mac+ArrowRight"],Zt._translateEmpty,{args:[Xt,0],checker:an}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Zt._translateEmpty,{args:[yn,0],checker:an}],[["ArrowUp","mac+ArrowUp"],Zt._translateEmpty,{args:[0,-Xt],checker:an}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Zt._translateEmpty,{args:[0,-yn],checker:an}],[["ArrowDown","mac+ArrowDown"],Zt._translateEmpty,{args:[0,Xt],checker:an}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Zt._translateEmpty,{args:[0,yn],checker:an}]]))}static initialize(Zt){tt.AnnotationEditor.initialize(Zt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const an=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(an.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Zt,an){switch(Zt){case c.AnnotationEditorParamsType.FREETEXT_SIZE:en._defaultFontSize=an;break;case c.AnnotationEditorParamsType.FREETEXT_COLOR:en._defaultColor=an;break}}updateParams(Zt,an){switch(Zt){case c.AnnotationEditorParamsType.FREETEXT_SIZE:Mn(this,Tt,Fl).call(this,an);break;case c.AnnotationEditorParamsType.FREETEXT_COLOR:Mn(this,_t,$l).call(this,an);break}}static get defaultPropertiesToUpdate(){return[[c.AnnotationEditorParamsType.FREETEXT_SIZE,en._defaultFontSize],[c.AnnotationEditorParamsType.FREETEXT_COLOR,en._defaultColor||tt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[c.AnnotationEditorParamsType.FREETEXT_SIZE,Wt(this,wt)],[c.AnnotationEditorParamsType.FREETEXT_COLOR,Wt(this,xt)]]}_translateEmpty(Zt,an){this._uiManager.translateSelectedEditors(Zt,an,!0)}getInitialTranslation(){const Zt=this.parentScale;return[-en._internalPadding*Zt,-(en._internalPadding+Wt(this,wt))*Zt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(c.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Wt(this,vt)),this.editorDiv.addEventListener("focus",Wt(this,gt)),this.editorDiv.addEventListener("blur",Wt(this,mt)),this.editorDiv.addEventListener("input",Wt(this,yt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Wt(this,Et)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Wt(this,vt)),this.editorDiv.removeEventListener("focus",Wt(this,gt)),this.editorDiv.removeEventListener("blur",Wt(this,mt)),this.editorDiv.removeEventListener("input",Wt(this,yt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Zt){this._focusEventsAllowed&&(super.focusin(Zt),Zt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Zt;if(this.width){Mn(this,zt,go).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Zt=this._initialOptions)!=null&&Zt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Zt=Wt(this,bt),an=Vn(this,bt,Mn(this,Pt,Nl).call(this).trimEnd());if(Zt===an)return;const Xt=yn=>{if(Vn(this,bt,yn),!yn){this.remove();return}Mn(this,At,fo).call(this),this._uiManager.rebuild(this),Mn(this,Dt,hs).call(this)};this.addCommands({cmd:()=>{Xt(an)},undo:()=>{Xt(Zt)},mustExec:!1}),Mn(this,Dt,hs).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Zt){this.enterInEditMode()}keydown(Zt){Zt.target===this.div&&Zt.key==="Enter"&&(this.enterInEditMode(),Zt.preventDefault())}editorDivKeydown(Zt){en._keyboardManager.exec(this,Zt)}editorDivFocus(Zt){this.isEditing=!0}editorDivBlur(Zt){this.isEditing=!1}editorDivInput(Zt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Zt,an;this.width&&(Zt=this.x,an=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Wt(this,Et)),this.enableEditing(),tt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(yn=>{var vn;return(vn=this.editorDiv)==null?void 0:vn.setAttribute("aria-label",yn)}),tt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(yn=>{var vn;return(vn=this.editorDiv)==null?void 0:vn.setAttribute("default-content",yn)}),this.editorDiv.contentEditable=!0;const{style:Xt}=this.editorDiv;if(Xt.fontSize=`calc(${Wt(this,wt)}px * var(--scale-factor))`,Xt.color=Wt(this,xt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,et.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[yn,vn]=this.parentDimensions;if(this.annotationElementId){const{position:Nt}=Wt(this,St);let[$t,Ot]=this.getInitialTranslation();[$t,Ot]=this.pageTranslationToScreen($t,Ot);const[Ft,Ut]=this.pageDimensions,[Gt,Vt]=this.pageTranslation;let Kt,Jt;switch(this.rotation){case 0:Kt=Zt+(Nt[0]-Gt)/Ft,Jt=an+this.height-(Nt[1]-Vt)/Ut;break;case 90:Kt=Zt+(Nt[0]-Gt)/Ft,Jt=an-(Nt[1]-Vt)/Ut,[$t,Ot]=[Ot,-$t];break;case 180:Kt=Zt-this.width+(Nt[0]-Gt)/Ft,Jt=an-(Nt[1]-Vt)/Ut,[$t,Ot]=[-$t,-Ot];break;case 270:Kt=Zt+(Nt[0]-Gt-this.height*Ut)/Ft,Jt=an+(Nt[1]-Vt-this.width*Ft)/Ut,[$t,Ot]=[-Ot,$t];break}this.setAt(Kt*yn,Jt*vn,$t,Ot)}else this.setAt(Zt*yn,an*vn,this.width*yn,this.height*vn);Mn(this,At,fo).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Zt,an,Xt){let yn=null;if(Zt instanceof nt.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Nt,fontColor:$t},rect:Ot,rotation:Ft,id:Ut},textContent:Gt,textPosition:Vt,parent:{page:{pageNumber:Kt}}}=Zt;if(!Gt||Gt.length===0)return null;yn=Zt={annotationType:c.AnnotationEditorType.FREETEXT,color:Array.from($t),fontSize:Nt,value:Gt.join(`
`),position:Vt,pageIndex:Kt-1,rect:Ot,rotation:Ft,id:Ut,deleted:!1}}const vn=super.deserialize(Zt,an,Xt);return Vn(vn,wt,Zt.fontSize),Vn(vn,xt,c.Util.makeHexColor(...Zt.color)),Vn(vn,bt,Zt.value),vn.annotationElementId=Zt.id||null,Vn(vn,St,yn),vn}serialize(){let Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const an=en._internalPadding*this.parentScale,Xt=this.getRect(an,an),yn=tt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Wt(this,xt)),vn={annotationType:c.AnnotationEditorType.FREETEXT,color:yn,fontSize:Wt(this,wt),value:Wt(this,bt),pageIndex:this.pageIndex,rect:Xt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Zt?vn:this.annotationElementId&&!Mn(this,jt,Vl).call(this,vn)?null:(vn.id=this.annotationElementId,vn)}};mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,vt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,wt=new WeakMap,St=new WeakMap,Tt=new WeakSet,Fl=function(Zt){const an=yn=>{this.editorDiv.style.fontSize=`calc(${yn}px * var(--scale-factor))`,this.translate(0,-(yn-Wt(this,wt))*this.parentScale),Vn(this,wt,yn),Mn(this,Dt,hs).call(this)},Xt=Wt(this,wt);this.addCommands({cmd:()=>{an(Zt)},undo:()=>{an(Xt)},mustExec:!0,type:c.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_t=new WeakSet,$l=function(Zt){const an=Wt(this,xt);this.addCommands({cmd:()=>{Vn(this,xt,this.editorDiv.style.color=Zt)},undo:()=>{Vn(this,xt,this.editorDiv.style.color=an)},mustExec:!0,type:c.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Pt=new WeakSet,Nl=function(){const Zt=this.editorDiv.getElementsByTagName("div");if(Zt.length===0)return this.editorDiv.innerText;const an=[];for(const Xt of Zt)an.push(Xt.innerText.replace(/\r\n?|\n/,""));return an.join(`
`)},Dt=new WeakSet,hs=function(){const[Zt,an]=this.parentDimensions;let Xt;if(this.isAttachedToDOM)Xt=this.div.getBoundingClientRect();else{const{currentLayer:yn,div:vn}=this,Nt=vn.style.display;vn.style.display="hidden",yn.div.append(this.div),Xt=vn.getBoundingClientRect(),vn.remove(),vn.style.display=Nt}this.rotation%180===this.parentRotation%180?(this.width=Xt.width/Zt,this.height=Xt.height/an):(this.width=Xt.height/Zt,this.height=Xt.width/an),this.fixAndSetPosition()},At=new WeakSet,fo=function(){if(this.editorDiv.replaceChildren(),!!Wt(this,bt))for(const Zt of Wt(this,bt).split(`
`)){const an=document.createElement("div");an.append(Zt?document.createTextNode(Zt):document.createElement("br")),this.editorDiv.append(an)}},jt=new WeakSet,Vl=function(Zt){const{value:an,fontSize:Xt,color:yn,rect:vn,pageIndex:Nt}=Wt(this,St);return Zt.value!==an||Zt.fontSize!==Xt||Zt.rect.some(($t,Ot)=>Math.abs($t-vn[Ot])>=1)||Zt.color.some(($t,Ot)=>$t!==yn[Ot])||Zt.pageIndex!==Nt},zt=new WeakSet,go=function(){let Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.annotationElementId)return;if(Mn(this,Dt,hs).call(this),!Zt&&(this.width===0||this.height===0)){setTimeout(()=>Mn(this,zt,go).call(this,!0),0);return}const an=en._internalPadding*this.parentScale;Wt(this,St).rect=this.getRect(an,an)},Tr(en,"_freeTextDefaultContent",""),Tr(en,"_internalPadding",0),Tr(en,"_defaultColor",null),Tr(en,"_defaultFontSize",10),Tr(en,"_type","freetext");let rt=en;e.FreeTextEditor=rt},(a,e,o)=>{var Ot,Ut,Yr,Vt,Bl,Jt,nn,sn,gn,fn,In,Dn,Gn,rr,Bn,An,Sn,xn,wn,jn,pn,Rn,Kn,zl,ir,Ds,Qn,yo,or,vo,Un,En,mn,Fn,gr,Ln,dn,xo,Yn,hn,Pn,Tn,Ul,$n,bo;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0,o(89),o(125),o(136),o(138),o(141),o(143),o(145),o(147);var c=o(1),et=o(168),tt=o(163),nt=o(199),rt=o(200),mt=o(201);const gt=1e3,yt=9,vt=new WeakSet;function xt(Wn){return{width:Wn[2]-Wn[0],height:Wn[3]-Wn[1]}}class bt{static create(cn){switch(cn.data.annotationType){case c.AnnotationType.LINK:return new wt(cn);case c.AnnotationType.TEXT:return new St(cn);case c.AnnotationType.WIDGET:switch(cn.data.fieldType){case"Tx":return new kt(cn);case"Btn":return cn.data.radioButton?new Pt(cn):cn.data.checkBox?new Mt(cn):new It(cn);case"Ch":return new Dt(cn);case"Sig":return new _t(cn)}return new Tt(cn);case c.AnnotationType.POPUP:return new Ct(cn);case c.AnnotationType.FREETEXT:return new Lt(cn);case c.AnnotationType.LINE:return new jt(cn);case c.AnnotationType.SQUARE:return new Bt(cn);case c.AnnotationType.CIRCLE:return new zt(cn);case c.AnnotationType.POLYLINE:return new Yt(cn);case c.AnnotationType.CARET:return new rn(cn);case c.AnnotationType.INK:return new on(cn);case c.AnnotationType.POLYGON:return new en(cn);case c.AnnotationType.HIGHLIGHT:return new Zt(cn);case c.AnnotationType.UNDERLINE:return new an(cn);case c.AnnotationType.SQUIGGLY:return new Xt(cn);case c.AnnotationType.STRIKEOUT:return new yn(cn);case c.AnnotationType.STAMP:return new vn(cn);case c.AnnotationType.FILEATTACHMENT:return new Nt(cn);default:return new Et(cn)}}}const Ft=class Ft{constructor(cn){bn(this,Ot,!1);let{isRenderable:qt=!1,ignoreBorder:tn=!1,createQuadrilaterals:un=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=qt,this.data=cn.data,this.layer=cn.layer,this.linkService=cn.linkService,this.downloadManager=cn.downloadManager,this.imageResourcesPath=cn.imageResourcesPath,this.renderForms=cn.renderForms,this.svgFactory=cn.svgFactory,this.annotationStorage=cn.annotationStorage,this.enableScripting=cn.enableScripting,this.hasJSActions=cn.hasJSActions,this._fieldObjects=cn.fieldObjects,this.parent=cn.parent,qt&&(this.container=this._createContainer(tn)),un&&this._createQuadrilaterals()}static _hasPopupData(cn){let{titleObj:qt,contentsObj:tn,richText:un}=cn;return!!(qt!=null&&qt.str||tn!=null&&tn.str||un!=null&&un.str)}get hasPopupData(){return Ft._hasPopupData(this.data)}_createContainer(cn){const{data:qt,parent:{page:tn,viewport:un}}=this,kn=document.createElement("section");kn.setAttribute("data-annotation-id",qt.id),this instanceof Tt||(kn.tabIndex=gt),kn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&kn.setAttribute("aria-haspopup","dialog"),qt.noRotate&&kn.classList.add("norotate");const{pageWidth:Cn,pageHeight:Nn,pageX:er,pageY:sr}=un.rawDims;if(!qt.rect||this instanceof Ct){const{rotation:vr}=qt;return!qt.hasOwnCanvas&&vr!==0&&this.setRotation(vr,kn),kn}const{width:ar,height:yr}=xt(qt.rect),cr=c.Util.normalizeRect([qt.rect[0],tn.view[3]-qt.rect[1]+tn.view[1],qt.rect[2],tn.view[3]-qt.rect[3]+tn.view[1]]);if(!cn&&qt.borderStyle.width>0){kn.style.borderWidth=`${qt.borderStyle.width}px`;const vr=qt.borderStyle.horizontalCornerRadius,mr=qt.borderStyle.verticalCornerRadius;if(vr>0||mr>0){const Sr=`calc(${vr}px * var(--scale-factor)) / calc(${mr}px * var(--scale-factor))`;kn.style.borderRadius=Sr}else if(this instanceof Pt){const Sr=`calc(${ar}px * var(--scale-factor)) / calc(${yr}px * var(--scale-factor))`;kn.style.borderRadius=Sr}switch(qt.borderStyle.style){case c.AnnotationBorderStyleType.SOLID:kn.style.borderStyle="solid";break;case c.AnnotationBorderStyleType.DASHED:kn.style.borderStyle="dashed";break;case c.AnnotationBorderStyleType.BEVELED:(0,c.warn)("Unimplemented border style: beveled");break;case c.AnnotationBorderStyleType.INSET:(0,c.warn)("Unimplemented border style: inset");break;case c.AnnotationBorderStyleType.UNDERLINE:kn.style.borderBottomStyle="solid";break}const wr=qt.borderColor||null;wr?(Vn(this,Ot,!0),kn.style.borderColor=c.Util.makeHexColor(wr[0]|0,wr[1]|0,wr[2]|0)):kn.style.borderWidth=0}kn.style.left=`${100*(cr[0]-er)/Cn}%`,kn.style.top=`${100*(cr[1]-sr)/Nn}%`;const{rotation:ur}=qt;return qt.hasOwnCanvas||ur===0?(kn.style.width=`${100*ar/Cn}%`,kn.style.height=`${100*yr/Nn}%`):this.setRotation(ur,kn),kn}setRotation(cn){let qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:tn,pageHeight:un}=this.parent.viewport.rawDims,{width:kn,height:Cn}=xt(this.data.rect);let Nn,er;cn%180===0?(Nn=100*kn/tn,er=100*Cn/un):(Nn=100*Cn/tn,er=100*kn/un),qt.style.width=`${Nn}%`,qt.style.height=`${er}%`,qt.setAttribute("data-main-rotation",(360-cn)%360)}get _commonActions(){const cn=(qt,tn,un)=>{const kn=un.detail[qt],Cn=kn[0],Nn=kn.slice(1);un.target.style[tn]=nt.ColorConverters[`${Cn}_HTML`](Nn),this.annotationStorage.setValue(this.data.id,{[tn]:nt.ColorConverters[`${Cn}_rgb`](Nn)})};return(0,c.shadow)(this,"_commonActions",{display:qt=>{const{display:tn}=qt.detail,un=tn%2===1;this.container.style.visibility=un?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:un,noPrint:tn===1||tn===2})},print:qt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!qt.detail.print})},hidden:qt=>{const{hidden:tn}=qt.detail;this.container.style.visibility=tn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:tn,noView:tn})},focus:qt=>{setTimeout(()=>qt.target.focus({preventScroll:!1}),0)},userName:qt=>{qt.target.title=qt.detail.userName},readonly:qt=>{qt.target.disabled=qt.detail.readonly},required:qt=>{this._setRequired(qt.target,qt.detail.required)},bgColor:qt=>{cn("bgColor","backgroundColor",qt)},fillColor:qt=>{cn("fillColor","backgroundColor",qt)},fgColor:qt=>{cn("fgColor","color",qt)},textColor:qt=>{cn("textColor","color",qt)},borderColor:qt=>{cn("borderColor","borderColor",qt)},strokeColor:qt=>{cn("strokeColor","borderColor",qt)},rotation:qt=>{const tn=qt.detail.rotation;this.setRotation(tn),this.annotationStorage.setValue(this.data.id,{rotation:tn})}})}_dispatchEventFromSandbox(cn,qt){const tn=this._commonActions;for(const un of Object.keys(qt.detail)){const kn=cn[un]||tn[un];kn==null||kn(qt)}}_setDefaultPropertiesFromJS(cn){if(!this.enableScripting)return;const qt=this.annotationStorage.getRawValue(this.data.id);if(!qt)return;const tn=this._commonActions;for(const[un,kn]of Object.entries(qt)){const Cn=tn[un];if(Cn){const Nn={detail:{[un]:kn},target:cn};Cn(Nn),delete qt[un]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:cn}=this.data;if(!cn)return;const[qt,tn,un,kn]=this.data.rect;if(cn.length===1){const[,{x:mr,y:wr},{x:Sr,y:Cr}]=cn[0];if(un===mr&&kn===wr&&qt===Sr&&tn===Cr)return}const{style:Cn}=this.container;let Nn;if(Wt(this,Ot)){const{borderColor:mr,borderWidth:wr}=Cn;Cn.borderWidth=0,Nn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${mr}" stroke-width="${wr}">`],this.container.classList.add("hasBorder")}const er=un-qt,sr=kn-tn,{svgFactory:ar}=this,yr=ar.createElement("svg");yr.classList.add("quadrilateralsContainer"),yr.setAttribute("width",0),yr.setAttribute("height",0);const cr=ar.createElement("defs");yr.append(cr);const ur=ar.createElement("clipPath"),vr=`clippath_${this.data.id}`;ur.setAttribute("id",vr),ur.setAttribute("clipPathUnits","objectBoundingBox"),cr.append(ur);for(const[,{x:mr,y:wr},{x:Sr,y:Cr}]of cn){const _n=ar.createElement("rect"),nr=(Sr-qt)/er,dr=(kn-wr)/sr,fr=(mr-Sr)/er,pr=(wr-Cr)/sr;_n.setAttribute("x",nr),_n.setAttribute("y",dr),_n.setAttribute("width",fr),_n.setAttribute("height",pr),ur.append(_n),Nn==null||Nn.push(`<rect vector-effect="non-scaling-stroke" x="${nr}" y="${dr}" width="${fr}" height="${pr}"/>`)}Wt(this,Ot)&&(Nn.push("</g></svg>')"),Cn.backgroundImage=Nn.join("")),this.container.append(yr),this.container.style.clipPath=`url(#${vr})`}_createPopup(){const{container:cn,data:qt}=this;cn.setAttribute("aria-haspopup","dialog");const tn=new Ct({data:{color:qt.color,titleObj:qt.titleObj,modificationDate:qt.modificationDate,contentsObj:qt.contentsObj,richText:qt.richText,parentRect:qt.rect,borderStyle:0,id:`popup_${qt.id}`,rotation:qt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(tn.render())}render(){(0,c.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(cn){let qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const tn=[];if(this._fieldObjects){const un=this._fieldObjects[cn];if(un)for(const{page:kn,id:Cn,exportValues:Nn}of un){if(kn===-1||Cn===qt)continue;const er=typeof Nn=="string"?Nn:null,sr=document.querySelector(`[data-element-id="${Cn}"]`);if(sr&&!vt.has(sr)){(0,c.warn)(`_getElementsByName - element not allowed: ${Cn}`);continue}tn.push({id:Cn,exportValue:er,domElement:sr})}return tn}for(const un of document.getElementsByName(cn)){const{exportValue:kn}=un,Cn=un.getAttribute("data-element-id");Cn!==qt&&vt.has(un)&&tn.push({id:Cn,exportValue:kn,domElement:un})}return tn}show(){var cn;this.container&&(this.container.hidden=!1),(cn=this.popup)==null||cn.maybeShow()}hide(){var cn;this.container&&(this.container.hidden=!0),(cn=this.popup)==null||cn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const cn=this.getElementsToTriggerPopup();if(Array.isArray(cn))for(const qt of cn)qt.classList.add("highlightArea");else cn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:cn,data:{id:qt}}=this;this.container.addEventListener("dblclick",()=>{var tn;(tn=this.linkService.eventBus)==null||tn.dispatch("switchannotationeditormode",{source:this,mode:cn,editId:qt})})}};Ot=new WeakMap;let Et=Ft;class wt extends Et{constructor(qt){let tn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(qt,{isRenderable:!0,ignoreBorder:!!(tn!=null&&tn.ignoreBorder),createQuadrilaterals:!0});bn(this,Ut);bn(this,Vt);this.isTooltipOnly=qt.data.isTooltipOnly}render(){const{data:qt,linkService:tn}=this,un=document.createElement("a");un.setAttribute("data-element-id",qt.id);let kn=!1;return qt.url?(tn.addLinkAttributes(un,qt.url,qt.newWindow),kn=!0):qt.action?(this._bindNamedAction(un,qt.action),kn=!0):qt.attachment?(this._bindAttachment(un,qt.attachment),kn=!0):qt.setOCGState?(Mn(this,Vt,Bl).call(this,un,qt.setOCGState),kn=!0):qt.dest?(this._bindLink(un,qt.dest),kn=!0):(qt.actions&&(qt.actions.Action||qt.actions["Mouse Up"]||qt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(un,qt),kn=!0),qt.resetForm?(this._bindResetFormAction(un,qt.resetForm),kn=!0):this.isTooltipOnly&&!kn&&(this._bindLink(un,""),kn=!0)),this.container.classList.add("linkAnnotation"),kn&&this.container.append(un),this.container}_bindLink(qt,tn){qt.href=this.linkService.getDestinationHash(tn),qt.onclick=()=>(tn&&this.linkService.goToDestination(tn),!1),(tn||tn==="")&&Mn(this,Ut,Yr).call(this)}_bindNamedAction(qt,tn){qt.href=this.linkService.getAnchorUrl(""),qt.onclick=()=>(this.linkService.executeNamedAction(tn),!1),Mn(this,Ut,Yr).call(this)}_bindAttachment(qt,tn){qt.href=this.linkService.getAnchorUrl(""),qt.onclick=()=>{var un;return(un=this.downloadManager)==null||un.openOrDownloadData(this.container,tn.content,tn.filename),!1},Mn(this,Ut,Yr).call(this)}_bindJSAction(qt,tn){qt.href=this.linkService.getAnchorUrl("");const un=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const kn of Object.keys(tn.actions)){const Cn=un.get(kn);Cn&&(qt[Cn]=()=>{var Nn;return(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tn.id,name:kn}}),!1})}qt.onclick||(qt.onclick=()=>!1),Mn(this,Ut,Yr).call(this)}_bindResetFormAction(qt,tn){const un=qt.onclick;if(un||(qt.href=this.linkService.getAnchorUrl("")),Mn(this,Ut,Yr).call(this),!this._fieldObjects){(0,c.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),un||(qt.onclick=()=>!1);return}qt.onclick=()=>{var yr;un==null||un();const{fields:kn,refs:Cn,include:Nn}=tn,er=[];if(kn.length!==0||Cn.length!==0){const cr=new Set(Cn);for(const ur of kn){const vr=this._fieldObjects[ur]||[];for(const{id:mr}of vr)cr.add(mr)}for(const ur of Object.values(this._fieldObjects))for(const vr of ur)cr.has(vr.id)===Nn&&er.push(vr)}else for(const cr of Object.values(this._fieldObjects))er.push(...cr);const sr=this.annotationStorage,ar=[];for(const cr of er){const{id:ur}=cr;switch(ar.push(ur),cr.type){case"text":{const mr=cr.defaultValue||"";sr.setValue(ur,{value:mr});break}case"checkbox":case"radiobutton":{const mr=cr.defaultValue===cr.exportValues;sr.setValue(ur,{value:mr});break}case"combobox":case"listbox":{const mr=cr.defaultValue||"";sr.setValue(ur,{value:mr});break}default:continue}const vr=document.querySelector(`[data-element-id="${ur}"]`);if(vr){if(!vt.has(vr)){(0,c.warn)(`_bindResetFormAction - element not allowed: ${ur}`);continue}}else continue;vr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((yr=this.linkService.eventBus)==null||yr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ar,name:"ResetForm"}})),!1}}}Ut=new WeakSet,Yr=function(){this.container.setAttribute("data-internal-link","")},Vt=new WeakSet,Bl=function(qt,tn){qt.href=this.linkService.getAnchorUrl(""),qt.onclick=()=>(this.linkService.executeSetOCGState(tn),!1),Mn(this,Ut,Yr).call(this)};class St extends Et{constructor(cn){super(cn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const cn=document.createElement("img");return cn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",cn.alt="[{{type}} Annotation]",cn.dataset.l10nId="text_annotation_type",cn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(cn),this.container}}class Tt extends Et{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(cn){var qt;this.data.hasOwnCanvas&&(((qt=cn.previousSibling)==null?void 0:qt.nodeName)==="CANVAS"&&(cn.previousSibling.hidden=!0),cn.hidden=!1)}_getKeyModifier(cn){const{isWin:qt,isMac:tn}=c.FeatureTest.platform;return qt&&cn.ctrlKey||tn&&cn.metaKey}_setEventListener(cn,qt,tn,un,kn){tn.includes("mouse")?cn.addEventListener(tn,Cn=>{var Nn;(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:un,value:kn(Cn),shift:Cn.shiftKey,modifier:this._getKeyModifier(Cn)}})}):cn.addEventListener(tn,Cn=>{var Nn;if(tn==="blur"){if(!qt.focused||!Cn.relatedTarget)return;qt.focused=!1}else if(tn==="focus"){if(qt.focused)return;qt.focused=!0}kn&&((Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:un,value:kn(Cn)}}))})}_setEventListeners(cn,qt,tn,un){var kn,Cn,Nn;for(const[er,sr]of tn)(sr==="Action"||(kn=this.data.actions)!=null&&kn[sr])&&((sr==="Focus"||sr==="Blur")&&(qt||(qt={focused:!1})),this._setEventListener(cn,qt,er,sr,un),sr==="Focus"&&!((Cn=this.data.actions)!=null&&Cn.Blur)?this._setEventListener(cn,qt,"blur","Blur",null):sr==="Blur"&&!((Nn=this.data.actions)!=null&&Nn.Focus)&&this._setEventListener(cn,qt,"focus","Focus",null))}_setBackgroundColor(cn){const qt=this.data.backgroundColor||null;cn.style.backgroundColor=qt===null?"transparent":c.Util.makeHexColor(qt[0],qt[1],qt[2])}_setTextStyle(cn){const qt=["left","center","right"],{fontColor:tn}=this.data.defaultAppearanceData,un=this.data.defaultAppearanceData.fontSize||yt,kn=cn.style;let Cn;const Nn=2,er=sr=>Math.round(10*sr)/10;if(this.data.multiLine){const sr=Math.abs(this.data.rect[3]-this.data.rect[1]-Nn),ar=Math.round(sr/(c.LINE_FACTOR*un))||1,yr=sr/ar;Cn=Math.min(un,er(yr/c.LINE_FACTOR))}else{const sr=Math.abs(this.data.rect[3]-this.data.rect[1]-Nn);Cn=Math.min(un,er(sr/c.LINE_FACTOR))}kn.fontSize=`calc(${Cn}px * var(--scale-factor))`,kn.color=c.Util.makeHexColor(tn[0],tn[1],tn[2]),this.data.textAlignment!==null&&(kn.textAlign=qt[this.data.textAlignment])}_setRequired(cn,qt){qt?cn.setAttribute("required",!0):cn.removeAttribute("required"),cn.setAttribute("aria-required",qt)}}class kt extends Tt{constructor(cn){const qt=cn.renderForms||!cn.data.hasAppearance&&!!cn.data.fieldValue;super(cn,{isRenderable:qt})}setPropertyOnSiblings(cn,qt,tn,un){const kn=this.annotationStorage;for(const Cn of this._getElementsByName(cn.name,cn.id))Cn.domElement&&(Cn.domElement[qt]=tn),kn.setValue(Cn.id,{[un]:tn})}render(){var un,kn;const cn=this.annotationStorage,qt=this.data.id;this.container.classList.add("textWidgetAnnotation");let tn=null;if(this.renderForms){const Cn=cn.getValue(qt,{value:this.data.fieldValue});let Nn=Cn.value||"";const er=cn.getValue(qt,{charLimit:this.data.maxLen}).charLimit;er&&Nn.length>er&&(Nn=Nn.slice(0,er));let sr=Cn.formattedValue||((un=this.data.textContent)==null?void 0:un.join(`
`))||null;sr&&this.data.comb&&(sr=sr.replaceAll(/\s+/g,""));const ar={userValue:Nn,formattedValue:sr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(tn=document.createElement("textarea"),tn.textContent=sr??Nn,this.data.doNotScroll&&(tn.style.overflowY="hidden")):(tn=document.createElement("input"),tn.type="text",tn.setAttribute("value",sr??Nn),this.data.doNotScroll&&(tn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(tn.hidden=!0),vt.add(tn),tn.setAttribute("data-element-id",qt),tn.disabled=this.data.readOnly,tn.name=this.data.fieldName,tn.tabIndex=gt,this._setRequired(tn,this.data.required),er&&(tn.maxLength=er),tn.addEventListener("input",cr=>{cn.setValue(qt,{value:cr.target.value}),this.setPropertyOnSiblings(tn,"value",cr.target.value,"value"),ar.formattedValue=null}),tn.addEventListener("resetform",cr=>{const ur=this.data.defaultFieldValue??"";tn.value=ar.userValue=ur,ar.formattedValue=null});let yr=cr=>{const{formattedValue:ur}=ar;ur!=null&&(cr.target.value=ur),cr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){tn.addEventListener("focus",ur=>{if(ar.focused)return;const{target:vr}=ur;ar.userValue&&(vr.value=ar.userValue),ar.lastCommittedValue=vr.value,ar.commitKey=1,ar.focused=!0}),tn.addEventListener("updatefromsandbox",ur=>{this.showElementAndHideCanvas(ur.target);const vr={value(mr){ar.userValue=mr.detail.value??"",cn.setValue(qt,{value:ar.userValue.toString()}),mr.target.value=ar.userValue},formattedValue(mr){const{formattedValue:wr}=mr.detail;ar.formattedValue=wr,wr!=null&&mr.target!==document.activeElement&&(mr.target.value=wr),cn.setValue(qt,{formattedValue:wr})},selRange(mr){mr.target.setSelectionRange(...mr.detail.selRange)},charLimit:mr=>{var _n;const{charLimit:wr}=mr.detail,{target:Sr}=mr;if(wr===0){Sr.removeAttribute("maxLength");return}Sr.setAttribute("maxLength",wr);let Cr=ar.userValue;!Cr||Cr.length<=wr||(Cr=Cr.slice(0,wr),Sr.value=ar.userValue=Cr,cn.setValue(qt,{value:Cr}),(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qt,name:"Keystroke",value:Cr,willCommit:!0,commitKey:1,selStart:Sr.selectionStart,selEnd:Sr.selectionEnd}}))}};this._dispatchEventFromSandbox(vr,ur)}),tn.addEventListener("keydown",ur=>{var wr;ar.commitKey=1;let vr=-1;if(ur.key==="Escape"?vr=0:ur.key==="Enter"&&!this.data.multiLine?vr=2:ur.key==="Tab"&&(ar.commitKey=3),vr===-1)return;const{value:mr}=ur.target;ar.lastCommittedValue!==mr&&(ar.lastCommittedValue=mr,ar.userValue=mr,(wr=this.linkService.eventBus)==null||wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qt,name:"Keystroke",value:mr,willCommit:!0,commitKey:vr,selStart:ur.target.selectionStart,selEnd:ur.target.selectionEnd}}))});const cr=yr;yr=null,tn.addEventListener("blur",ur=>{var mr;if(!ar.focused||!ur.relatedTarget)return;ar.focused=!1;const{value:vr}=ur.target;ar.userValue=vr,ar.lastCommittedValue!==vr&&((mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qt,name:"Keystroke",value:vr,willCommit:!0,commitKey:ar.commitKey,selStart:ur.target.selectionStart,selEnd:ur.target.selectionEnd}})),cr(ur)}),(kn=this.data.actions)!=null&&kn.Keystroke&&tn.addEventListener("beforeinput",ur=>{var dr;ar.lastCommittedValue=null;const{data:vr,target:mr}=ur,{value:wr,selectionStart:Sr,selectionEnd:Cr}=mr;let _n=Sr,nr=Cr;switch(ur.inputType){case"deleteWordBackward":{const fr=wr.substring(0,Sr).match(/\w*[^\w]*$/);fr&&(_n-=fr[0].length);break}case"deleteWordForward":{const fr=wr.substring(Sr).match(/^[^\w]*\w*/);fr&&(nr+=fr[0].length);break}case"deleteContentBackward":Sr===Cr&&(_n-=1);break;case"deleteContentForward":Sr===Cr&&(nr+=1);break}ur.preventDefault(),(dr=this.linkService.eventBus)==null||dr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qt,name:"Keystroke",value:wr,change:vr||"",willCommit:!1,selStart:_n,selEnd:nr}})}),this._setEventListeners(tn,ar,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ur=>ur.target.value)}if(yr&&tn.addEventListener("blur",yr),this.data.comb){const ur=(this.data.rect[2]-this.data.rect[0])/er;tn.classList.add("comb"),tn.style.letterSpacing=`calc(${ur}px * var(--scale-factor) - 1ch)`}}else tn=document.createElement("div"),tn.textContent=this.data.fieldValue,tn.style.verticalAlign="middle",tn.style.display="table-cell";return this._setTextStyle(tn),this._setBackgroundColor(tn),this._setDefaultPropertiesFromJS(tn),this.container.append(tn),this.container}}class _t extends Tt{constructor(cn){super(cn,{isRenderable:!!cn.data.hasOwnCanvas})}}class Mt extends Tt{constructor(cn){super(cn,{isRenderable:cn.renderForms})}render(){const cn=this.annotationStorage,qt=this.data,tn=qt.id;let un=cn.getValue(tn,{value:qt.exportValue===qt.fieldValue}).value;typeof un=="string"&&(un=un!=="Off",cn.setValue(tn,{value:un})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const kn=document.createElement("input");return vt.add(kn),kn.setAttribute("data-element-id",tn),kn.disabled=qt.readOnly,this._setRequired(kn,this.data.required),kn.type="checkbox",kn.name=qt.fieldName,un&&kn.setAttribute("checked",!0),kn.setAttribute("exportValue",qt.exportValue),kn.tabIndex=gt,kn.addEventListener("change",Cn=>{const{name:Nn,checked:er}=Cn.target;for(const sr of this._getElementsByName(Nn,tn)){const ar=er&&sr.exportValue===qt.exportValue;sr.domElement&&(sr.domElement.checked=ar),cn.setValue(sr.id,{value:ar})}cn.setValue(tn,{value:er})}),kn.addEventListener("resetform",Cn=>{const Nn=qt.defaultFieldValue||"Off";Cn.target.checked=Nn===qt.exportValue}),this.enableScripting&&this.hasJSActions&&(kn.addEventListener("updatefromsandbox",Cn=>{const Nn={value(er){er.target.checked=er.detail.value!=="Off",cn.setValue(tn,{value:er.target.checked})}};this._dispatchEventFromSandbox(Nn,Cn)}),this._setEventListeners(kn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Cn=>Cn.target.checked)),this._setBackgroundColor(kn),this._setDefaultPropertiesFromJS(kn),this.container.append(kn),this.container}}class Pt extends Tt{constructor(cn){super(cn,{isRenderable:cn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const cn=this.annotationStorage,qt=this.data,tn=qt.id;let un=cn.getValue(tn,{value:qt.fieldValue===qt.buttonValue}).value;typeof un=="string"&&(un=un!==qt.buttonValue,cn.setValue(tn,{value:un}));const kn=document.createElement("input");if(vt.add(kn),kn.setAttribute("data-element-id",tn),kn.disabled=qt.readOnly,this._setRequired(kn,this.data.required),kn.type="radio",kn.name=qt.fieldName,un&&kn.setAttribute("checked",!0),kn.tabIndex=gt,kn.addEventListener("change",Cn=>{const{name:Nn,checked:er}=Cn.target;for(const sr of this._getElementsByName(Nn,tn))cn.setValue(sr.id,{value:!1});cn.setValue(tn,{value:er})}),kn.addEventListener("resetform",Cn=>{const Nn=qt.defaultFieldValue;Cn.target.checked=Nn!=null&&Nn===qt.buttonValue}),this.enableScripting&&this.hasJSActions){const Cn=qt.buttonValue;kn.addEventListener("updatefromsandbox",Nn=>{const er={value:sr=>{const ar=Cn===sr.detail.value;for(const yr of this._getElementsByName(sr.target.name)){const cr=ar&&yr.id===tn;yr.domElement&&(yr.domElement.checked=cr),cn.setValue(yr.id,{value:cr})}}};this._dispatchEventFromSandbox(er,Nn)}),this._setEventListeners(kn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Nn=>Nn.target.checked)}return this._setBackgroundColor(kn),this._setDefaultPropertiesFromJS(kn),this.container.append(kn),this.container}}class It extends wt{constructor(cn){super(cn,{ignoreBorder:cn.data.hasAppearance})}render(){const cn=super.render();cn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(cn.title=this.data.alternativeText);const qt=cn.lastChild;return this.enableScripting&&this.hasJSActions&&qt&&(this._setDefaultPropertiesFromJS(qt),qt.addEventListener("updatefromsandbox",tn=>{this._dispatchEventFromSandbox({},tn)})),cn}}class Dt extends Tt{constructor(cn){super(cn,{isRenderable:cn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const cn=this.annotationStorage,qt=this.data.id,tn=cn.getValue(qt,{value:this.data.fieldValue}),un=document.createElement("select");vt.add(un),un.setAttribute("data-element-id",qt),un.disabled=this.data.readOnly,this._setRequired(un,this.data.required),un.name=this.data.fieldName,un.tabIndex=gt;let kn=this.data.combo&&this.data.options.length>0;this.data.combo||(un.size=this.data.options.length,this.data.multiSelect&&(un.multiple=!0)),un.addEventListener("resetform",ar=>{const yr=this.data.defaultFieldValue;for(const cr of un.options)cr.selected=cr.value===yr});for(const ar of this.data.options){const yr=document.createElement("option");yr.textContent=ar.displayValue,yr.value=ar.exportValue,tn.value.includes(ar.exportValue)&&(yr.setAttribute("selected",!0),kn=!1),un.append(yr)}let Cn=null;if(kn){const ar=document.createElement("option");ar.value=" ",ar.setAttribute("hidden",!0),ar.setAttribute("selected",!0),un.prepend(ar),Cn=()=>{ar.remove(),un.removeEventListener("input",Cn),Cn=null},un.addEventListener("input",Cn)}const Nn=ar=>{const yr=ar?"value":"textContent",{options:cr,multiple:ur}=un;return ur?Array.prototype.filter.call(cr,vr=>vr.selected).map(vr=>vr[yr]):cr.selectedIndex===-1?null:cr[cr.selectedIndex][yr]};let er=Nn(!1);const sr=ar=>{const yr=ar.target.options;return Array.prototype.map.call(yr,cr=>({displayValue:cr.textContent,exportValue:cr.value}))};return this.enableScripting&&this.hasJSActions?(un.addEventListener("updatefromsandbox",ar=>{const yr={value(cr){Cn==null||Cn();const ur=cr.detail.value,vr=new Set(Array.isArray(ur)?ur:[ur]);for(const mr of un.options)mr.selected=vr.has(mr.value);cn.setValue(qt,{value:Nn(!0)}),er=Nn(!1)},multipleSelection(cr){un.multiple=!0},remove(cr){const ur=un.options,vr=cr.detail.remove;ur[vr].selected=!1,un.remove(vr),ur.length>0&&Array.prototype.findIndex.call(ur,wr=>wr.selected)===-1&&(ur[0].selected=!0),cn.setValue(qt,{value:Nn(!0),items:sr(cr)}),er=Nn(!1)},clear(cr){for(;un.length!==0;)un.remove(0);cn.setValue(qt,{value:null,items:[]}),er=Nn(!1)},insert(cr){const{index:ur,displayValue:vr,exportValue:mr}=cr.detail.insert,wr=un.children[ur],Sr=document.createElement("option");Sr.textContent=vr,Sr.value=mr,wr?wr.before(Sr):un.append(Sr),cn.setValue(qt,{value:Nn(!0),items:sr(cr)}),er=Nn(!1)},items(cr){const{items:ur}=cr.detail;for(;un.length!==0;)un.remove(0);for(const vr of ur){const{displayValue:mr,exportValue:wr}=vr,Sr=document.createElement("option");Sr.textContent=mr,Sr.value=wr,un.append(Sr)}un.options.length>0&&(un.options[0].selected=!0),cn.setValue(qt,{value:Nn(!0),items:sr(cr)}),er=Nn(!1)},indices(cr){const ur=new Set(cr.detail.indices);for(const vr of cr.target.options)vr.selected=ur.has(vr.index);cn.setValue(qt,{value:Nn(!0)}),er=Nn(!1)},editable(cr){cr.target.disabled=!cr.detail.editable}};this._dispatchEventFromSandbox(yr,ar)}),un.addEventListener("input",ar=>{var cr;const yr=Nn(!0);cn.setValue(qt,{value:yr}),ar.preventDefault(),(cr=this.linkService.eventBus)==null||cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qt,name:"Keystroke",value:er,changeEx:yr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(un,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ar=>ar.target.value)):un.addEventListener("input",function(ar){cn.setValue(qt,{value:Nn(!0)})}),this.data.combo&&this._setTextStyle(un),this._setBackgroundColor(un),this._setDefaultPropertiesFromJS(un),this.container.append(un),this.container}}class Ct extends Et{constructor(cn){const{data:qt,elements:tn}=cn;super(cn,{isRenderable:Et._hasPopupData(qt)}),this.elements=tn}render(){this.container.classList.add("popupAnnotation");const cn=new At({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),qt=[];for(const tn of this.elements)tn.popup=cn,qt.push(tn.data.id),tn.addHighlightArea();return this.container.setAttribute("aria-controls",qt.map(tn=>`${c.AnnotationPrefix}${tn}`).join(",")),this.container}}class At{constructor(cn){bn(this,Kn);bn(this,ir);bn(this,Qn);bn(this,or);bn(this,Jt,null);bn(this,nn,Mn(this,Kn,zl).bind(this));bn(this,sn,Mn(this,or,vo).bind(this));bn(this,gn,Mn(this,Qn,yo).bind(this));bn(this,fn,Mn(this,ir,Ds).bind(this));bn(this,In,null);bn(this,Dn,null);bn(this,Gn,null);bn(this,rr,null);bn(this,Bn,null);bn(this,An,null);bn(this,Sn,!1);bn(this,xn,null);bn(this,wn,null);bn(this,jn,null);bn(this,pn,null);bn(this,Rn,!1);var vr;let{container:qt,color:tn,elements:un,titleObj:kn,modificationDate:Cn,contentsObj:Nn,richText:er,parent:sr,rect:ar,parentRect:yr,open:cr}=cn;Vn(this,Dn,qt),Vn(this,pn,kn),Vn(this,Gn,Nn),Vn(this,jn,er),Vn(this,Bn,sr),Vn(this,In,tn),Vn(this,wn,ar),Vn(this,An,yr),Vn(this,rr,un);const ur=et.PDFDateString.toDateObject(Cn);ur&&Vn(this,Jt,sr.l10n.get("annotation_date_string",{date:ur.toLocaleDateString(),time:ur.toLocaleTimeString()})),this.trigger=un.flatMap(mr=>mr.getElementsToTriggerPopup());for(const mr of this.trigger)mr.addEventListener("click",Wt(this,fn)),mr.addEventListener("mouseenter",Wt(this,gn)),mr.addEventListener("mouseleave",Wt(this,sn)),mr.classList.add("popupTriggerArea");for(const mr of un)(vr=mr.container)==null||vr.addEventListener("keydown",Wt(this,nn));Wt(this,Dn).hidden=!0,cr&&Mn(this,ir,Ds).call(this)}render(){if(Wt(this,xn))return;const{page:{view:cn},viewport:{rawDims:{pageWidth:qt,pageHeight:tn,pageX:un,pageY:kn}}}=Wt(this,Bn),Cn=Vn(this,xn,document.createElement("div"));if(Cn.className="popup",Wt(this,In)){const _n=Cn.style.outlineColor=c.Util.makeHexColor(...Wt(this,In));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Cn.style.backgroundColor=`color-mix(in srgb, ${_n} 30%, white)`:Cn.style.backgroundColor=c.Util.makeHexColor(...Wt(this,In).map(dr=>Math.floor(.7*(255-dr)+dr)))}const Nn=document.createElement("span");Nn.className="header";const er=document.createElement("h1");if(Nn.append(er),{dir:er.dir,str:er.textContent}=Wt(this,pn),Cn.append(Nn),Wt(this,Jt)){const _n=document.createElement("span");_n.classList.add("popupDate"),Wt(this,Jt).then(nr=>{_n.textContent=nr}),Nn.append(_n)}const sr=Wt(this,Gn),ar=Wt(this,jn);if(ar!=null&&ar.str&&(!(sr!=null&&sr.str)||sr.str===ar.str))mt.XfaLayer.render({xfaHtml:ar.html,intent:"richText",div:Cn}),Cn.lastChild.classList.add("richText","popupContent");else{const _n=this._formatContents(sr);Cn.append(_n)}let yr=!!Wt(this,An),cr=yr?Wt(this,An):Wt(this,wn);for(const _n of Wt(this,rr))if(!cr||c.Util.intersect(_n.data.rect,cr)!==null){cr=_n.data.rect,yr=!0;break}const ur=c.Util.normalizeRect([cr[0],cn[3]-cr[1]+cn[1],cr[2],cn[3]-cr[3]+cn[1]]),mr=yr?cr[2]-cr[0]+5:0,wr=ur[0]+mr,Sr=ur[1],{style:Cr}=Wt(this,Dn);Cr.left=`${100*(wr-un)/qt}%`,Cr.top=`${100*(Sr-kn)/tn}%`,Wt(this,Dn).append(Cn)}_formatContents(cn){let{str:qt,dir:tn}=cn;const un=document.createElement("p");un.classList.add("popupContent"),un.dir=tn;const kn=qt.split(/(?:\r\n?|\n)/);for(let Cn=0,Nn=kn.length;Cn<Nn;++Cn){const er=kn[Cn];un.append(document.createTextNode(er)),Cn<Nn-1&&un.append(document.createElement("br"))}return un}forceHide(){Vn(this,Rn,this.isVisible),Wt(this,Rn)&&(Wt(this,Dn).hidden=!0)}maybeShow(){Wt(this,Rn)&&(Vn(this,Rn,!1),Wt(this,Dn).hidden=!1)}get isVisible(){return Wt(this,Dn).hidden===!1}}Jt=new WeakMap,nn=new WeakMap,sn=new WeakMap,gn=new WeakMap,fn=new WeakMap,In=new WeakMap,Dn=new WeakMap,Gn=new WeakMap,rr=new WeakMap,Bn=new WeakMap,An=new WeakMap,Sn=new WeakMap,xn=new WeakMap,wn=new WeakMap,jn=new WeakMap,pn=new WeakMap,Rn=new WeakMap,Kn=new WeakSet,zl=function(cn){cn.altKey||cn.shiftKey||cn.ctrlKey||cn.metaKey||(cn.key==="Enter"||cn.key==="Escape"&&Wt(this,Sn))&&Mn(this,ir,Ds).call(this)},ir=new WeakSet,Ds=function(){Vn(this,Sn,!Wt(this,Sn)),Wt(this,Sn)?(Mn(this,Qn,yo).call(this),Wt(this,Dn).addEventListener("click",Wt(this,fn)),Wt(this,Dn).addEventListener("keydown",Wt(this,nn))):(Mn(this,or,vo).call(this),Wt(this,Dn).removeEventListener("click",Wt(this,fn)),Wt(this,Dn).removeEventListener("keydown",Wt(this,nn)))},Qn=new WeakSet,yo=function(){Wt(this,xn)||this.render(),this.isVisible?Wt(this,Sn)&&Wt(this,Dn).classList.add("focused"):(Wt(this,Dn).hidden=!1,Wt(this,Dn).style.zIndex=parseInt(Wt(this,Dn).style.zIndex)+1e3)},or=new WeakSet,vo=function(){Wt(this,Dn).classList.remove("focused"),!(Wt(this,Sn)||!this.isVisible)&&(Wt(this,Dn).hidden=!0,Wt(this,Dn).style.zIndex=parseInt(Wt(this,Dn).style.zIndex)-1e3)};class Lt extends Et{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=cn.data.textContent,this.textPosition=cn.data.textPosition,this.annotationEditorType=c.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const cn=document.createElement("div");cn.classList.add("annotationTextContent"),cn.setAttribute("role","comment");for(const qt of this.textContent){const tn=document.createElement("span");tn.textContent=qt,cn.append(tn)}this.container.append(cn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=Lt;class jt extends Et{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0});bn(this,Un,null)}render(){this.container.classList.add("lineAnnotation");const qt=this.data,{width:tn,height:un}=xt(qt.rect),kn=this.svgFactory.create(tn,un,!0),Cn=Vn(this,Un,this.svgFactory.createElement("svg:line"));return Cn.setAttribute("x1",qt.rect[2]-qt.lineCoordinates[0]),Cn.setAttribute("y1",qt.rect[3]-qt.lineCoordinates[1]),Cn.setAttribute("x2",qt.rect[2]-qt.lineCoordinates[2]),Cn.setAttribute("y2",qt.rect[3]-qt.lineCoordinates[3]),Cn.setAttribute("stroke-width",qt.borderStyle.width||1),Cn.setAttribute("stroke","transparent"),Cn.setAttribute("fill","transparent"),kn.append(Cn),this.container.append(kn),!qt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Wt(this,Un)}addHighlightArea(){this.container.classList.add("highlightArea")}}Un=new WeakMap;class Bt extends Et{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0});bn(this,En,null)}render(){this.container.classList.add("squareAnnotation");const qt=this.data,{width:tn,height:un}=xt(qt.rect),kn=this.svgFactory.create(tn,un,!0),Cn=qt.borderStyle.width,Nn=Vn(this,En,this.svgFactory.createElement("svg:rect"));return Nn.setAttribute("x",Cn/2),Nn.setAttribute("y",Cn/2),Nn.setAttribute("width",tn-Cn),Nn.setAttribute("height",un-Cn),Nn.setAttribute("stroke-width",Cn||1),Nn.setAttribute("stroke","transparent"),Nn.setAttribute("fill","transparent"),kn.append(Nn),this.container.append(kn),!qt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Wt(this,En)}addHighlightArea(){this.container.classList.add("highlightArea")}}En=new WeakMap;class zt extends Et{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0});bn(this,mn,null)}render(){this.container.classList.add("circleAnnotation");const qt=this.data,{width:tn,height:un}=xt(qt.rect),kn=this.svgFactory.create(tn,un,!0),Cn=qt.borderStyle.width,Nn=Vn(this,mn,this.svgFactory.createElement("svg:ellipse"));return Nn.setAttribute("cx",tn/2),Nn.setAttribute("cy",un/2),Nn.setAttribute("rx",tn/2-Cn/2),Nn.setAttribute("ry",un/2-Cn/2),Nn.setAttribute("stroke-width",Cn||1),Nn.setAttribute("stroke","transparent"),Nn.setAttribute("fill","transparent"),kn.append(Nn),this.container.append(kn),!qt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Wt(this,mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}mn=new WeakMap;class Yt extends Et{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0});bn(this,Fn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const qt=this.data,{width:tn,height:un}=xt(qt.rect),kn=this.svgFactory.create(tn,un,!0);let Cn=[];for(const er of qt.vertices){const sr=er.x-qt.rect[0],ar=qt.rect[3]-er.y;Cn.push(sr+","+ar)}Cn=Cn.join(" ");const Nn=Vn(this,Fn,this.svgFactory.createElement(this.svgElementName));return Nn.setAttribute("points",Cn),Nn.setAttribute("stroke-width",qt.borderStyle.width||1),Nn.setAttribute("stroke","transparent"),Nn.setAttribute("fill","transparent"),kn.append(Nn),this.container.append(kn),!qt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Wt(this,Fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fn=new WeakMap;class en extends Yt{constructor(cn){super(cn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class rn extends Et{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class on extends Et{constructor(qt){super(qt,{isRenderable:!0,ignoreBorder:!0});bn(this,gr,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=c.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const qt=this.data,{width:tn,height:un}=xt(qt.rect),kn=this.svgFactory.create(tn,un,!0);for(const Cn of qt.inkLists){let Nn=[];for(const sr of Cn){const ar=sr.x-qt.rect[0],yr=qt.rect[3]-sr.y;Nn.push(`${ar},${yr}`)}Nn=Nn.join(" ");const er=this.svgFactory.createElement(this.svgElementName);Wt(this,gr).push(er),er.setAttribute("points",Nn),er.setAttribute("stroke-width",qt.borderStyle.width||1),er.setAttribute("stroke","transparent"),er.setAttribute("fill","transparent"),!qt.popupRef&&this.hasPopupData&&this._createPopup(),kn.append(er)}return this.container.append(kn),this.container}getElementsToTriggerPopup(){return Wt(this,gr)}addHighlightArea(){this.container.classList.add("highlightArea")}}gr=new WeakMap,e.InkAnnotationElement=on;class Zt extends Et{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class an extends Et{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Xt extends Et{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class yn extends Et{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class vn extends Et{constructor(cn){super(cn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=vn;class Nt extends Et{constructor(qt){var kn;super(qt,{isRenderable:!0});bn(this,dn);bn(this,Ln,null);const{filename:tn,content:un}=this.data.file;this.filename=(0,et.getFilenameFromUrl)(tn,!0),this.content=un,(kn=this.linkService.eventBus)==null||kn.dispatch("fileattachmentannotation",{source:this,filename:tn,content:un})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:qt,data:tn}=this;let un;tn.hasAppearance||tn.fillAlpha===0?un=document.createElement("div"):(un=document.createElement("img"),un.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(tn.name)?"paperclip":"pushpin"}.svg`,tn.fillAlpha&&tn.fillAlpha<1&&(un.style=`filter: opacity(${Math.round(tn.fillAlpha*100)}%);`)),un.addEventListener("dblclick",Mn(this,dn,xo).bind(this)),Vn(this,Ln,un);const{isMac:kn}=c.FeatureTest.platform;return qt.addEventListener("keydown",Cn=>{Cn.key==="Enter"&&(kn?Cn.metaKey:Cn.ctrlKey)&&Mn(this,dn,xo).call(this)}),!tn.popupRef&&this.hasPopupData?this._createPopup():un.classList.add("popupTriggerArea"),qt.append(un),qt}getElementsToTriggerPopup(){return Wt(this,Ln)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ln=new WeakMap,dn=new WeakSet,xo=function(){var qt;(qt=this.downloadManager)==null||qt.openOrDownloadData(this.container,this.content,this.filename)};class $t{constructor(cn){bn(this,Tn);bn(this,$n);bn(this,Yn,null);bn(this,hn,null);bn(this,Pn,new Map);let{div:qt,accessibilityManager:tn,annotationCanvasMap:un,l10n:kn,page:Cn,viewport:Nn}=cn;this.div=qt,Vn(this,Yn,tn),Vn(this,hn,un),this.l10n=kn,this.page=Cn,this.viewport=Nn,this.zIndex=0,this.l10n||(this.l10n=rt.NullL10n)}async render(cn){const{annotations:qt}=cn,tn=this.div;(0,et.setLayerDimensions)(tn,this.viewport);const un=new Map,kn={data:null,layer:tn,linkService:cn.linkService,downloadManager:cn.downloadManager,imageResourcesPath:cn.imageResourcesPath||"",renderForms:cn.renderForms!==!1,svgFactory:new et.DOMSVGFactory,annotationStorage:cn.annotationStorage||new tt.AnnotationStorage,enableScripting:cn.enableScripting===!0,hasJSActions:cn.hasJSActions,fieldObjects:cn.fieldObjects,parent:this,elements:null};for(const Cn of qt){if(Cn.noHTML)continue;const Nn=Cn.annotationType===c.AnnotationType.POPUP;if(Nn){const ar=un.get(Cn.id);if(!ar)continue;kn.elements=ar}else{const{width:ar,height:yr}=xt(Cn.rect);if(ar<=0||yr<=0)continue}kn.data=Cn;const er=bt.create(kn);if(!er.isRenderable)continue;if(!Nn&&Cn.popupRef){const ar=un.get(Cn.popupRef);ar?ar.push(er):un.set(Cn.popupRef,[er])}er.annotationEditorType>0&&Wt(this,Pn).set(er.data.id,er);const sr=er.render();Cn.hidden&&(sr.style.visibility="hidden"),Mn(this,Tn,Ul).call(this,sr,Cn.id)}Mn(this,$n,bo).call(this),await this.l10n.translate(tn)}update(cn){let{viewport:qt}=cn;const tn=this.div;this.viewport=qt,(0,et.setLayerDimensions)(tn,{rotation:qt.rotation}),Mn(this,$n,bo).call(this),tn.hidden=!1}getEditableAnnotations(){return Array.from(Wt(this,Pn).values())}getEditableAnnotation(cn){return Wt(this,Pn).get(cn)}}Yn=new WeakMap,hn=new WeakMap,Pn=new WeakMap,Tn=new WeakSet,Ul=function(cn,qt){var un;const tn=cn.firstChild||cn;tn.id=`${c.AnnotationPrefix}${qt}`,this.div.append(cn),(un=Wt(this,Yn))==null||un.moveElementInDOM(this.div,cn,tn,!1)},$n=new WeakSet,bo=function(){if(!Wt(this,hn))return;const cn=this.div;for(const[qt,tn]of Wt(this,hn)){const un=cn.querySelector(`[data-annotation-id="${qt}"]`);if(!un)continue;const{firstChild:kn}=un;kn?kn.nodeName==="CANVAS"?kn.replaceWith(tn):kn.before(tn):un.append(tn)}Wt(this,hn).clear()},e.AnnotationLayer=$t},(a,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function o(tt){return Math.floor(Math.max(0,Math.min(1,tt))*255).toString(16).padStart(2,"0")}function c(tt){return Math.max(0,Math.min(255,255*tt))}class et{static CMYK_G(nt){let[rt,mt,gt,yt]=nt;return["G",1-Math.min(1,.3*rt+.59*gt+.11*mt+yt)]}static G_CMYK(nt){let[rt]=nt;return["CMYK",0,0,0,1-rt]}static G_RGB(nt){let[rt]=nt;return["RGB",rt,rt,rt]}static G_rgb(nt){let[rt]=nt;return rt=c(rt),[rt,rt,rt]}static G_HTML(nt){let[rt]=nt;const mt=o(rt);return`#${mt}${mt}${mt}`}static RGB_G(nt){let[rt,mt,gt]=nt;return["G",.3*rt+.59*mt+.11*gt]}static RGB_rgb(nt){return nt.map(c)}static RGB_HTML(nt){return`#${nt.map(o).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(nt){let[rt,mt,gt,yt]=nt;return["RGB",1-Math.min(1,rt+yt),1-Math.min(1,gt+yt),1-Math.min(1,mt+yt)]}static CMYK_rgb(nt){let[rt,mt,gt,yt]=nt;return[c(1-Math.min(1,rt+yt)),c(1-Math.min(1,gt+yt)),c(1-Math.min(1,mt+yt))]}static CMYK_HTML(nt){const rt=this.CMYK_RGB(nt).slice(1);return this.RGB_HTML(rt)}static RGB_CMYK(nt){let[rt,mt,gt]=nt;const yt=1-rt,vt=1-mt,xt=1-gt,bt=Math.min(yt,vt,xt);return["CMYK",yt,vt,xt,bt]}}e.ColorConverters=et},(a,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=c;const o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};o.print_progress_percent="{{progress}}%";function c(nt,rt){switch(nt){case"find_match_count":nt=`find_match_count[${rt.total===1?"one":"other"}]`;break;case"find_match_count_limit":nt=`find_match_count_limit[${rt.limit===1?"one":"other"}]`;break}return o[nt]||""}function et(nt,rt){return rt?nt.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(mt,gt)=>gt in rt?rt[gt]:"{{"+gt+"}}"):nt}const tt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(nt){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c(nt,rt);return et(mt,rt)},async translate(nt){}};e.NullL10n=tt},(a,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0,o(89);var c=o(194);class et{static setupStorage(nt,rt,mt,gt,yt){const vt=gt.getValue(rt,{value:null});switch(mt.name){case"textarea":if(vt.value!==null&&(nt.textContent=vt.value),yt==="print")break;nt.addEventListener("input",xt=>{gt.setValue(rt,{value:xt.target.value})});break;case"input":if(mt.attributes.type==="radio"||mt.attributes.type==="checkbox"){if(vt.value===mt.attributes.xfaOn?nt.setAttribute("checked",!0):vt.value===mt.attributes.xfaOff&&nt.removeAttribute("checked"),yt==="print")break;nt.addEventListener("change",xt=>{gt.setValue(rt,{value:xt.target.checked?xt.target.getAttribute("xfaOn"):xt.target.getAttribute("xfaOff")})})}else{if(vt.value!==null&&nt.setAttribute("value",vt.value),yt==="print")break;nt.addEventListener("input",xt=>{gt.setValue(rt,{value:xt.target.value})})}break;case"select":if(vt.value!==null){nt.setAttribute("value",vt.value);for(const xt of mt.children)xt.attributes.value===vt.value?xt.attributes.selected=!0:xt.attributes.hasOwnProperty("selected")&&delete xt.attributes.selected}nt.addEventListener("input",xt=>{const bt=xt.target.options,Et=bt.selectedIndex===-1?"":bt[bt.selectedIndex].value;gt.setValue(rt,{value:Et})});break}}static setAttributes(nt){let{html:rt,element:mt,storage:gt=null,intent:yt,linkService:vt}=nt;const{attributes:xt}=mt,bt=rt instanceof HTMLAnchorElement;xt.type==="radio"&&(xt.name=`${xt.name}-${yt}`);for(const[Et,wt]of Object.entries(xt))if(wt!=null)switch(Et){case"class":wt.length&&rt.setAttribute(Et,wt.join(" "));break;case"dataId":break;case"id":rt.setAttribute("data-element-id",wt);break;case"style":Object.assign(rt.style,wt);break;case"textContent":rt.textContent=wt;break;default:(!bt||Et!=="href"&&Et!=="newWindow")&&rt.setAttribute(Et,wt)}bt&&vt.addLinkAttributes(rt,xt.href,xt.newWindow),gt&&xt.dataId&&this.setupStorage(rt,xt.dataId,mt,gt)}static render(nt){var wt;const rt=nt.annotationStorage,mt=nt.linkService,gt=nt.xfaHtml,yt=nt.intent||"display",vt=document.createElement(gt.name);gt.attributes&&this.setAttributes({html:vt,element:gt,intent:yt,linkService:mt});const xt=[[gt,-1,vt]],bt=nt.div;if(bt.append(vt),nt.viewport){const St=`matrix(${nt.viewport.transform.join(",")})`;bt.style.transform=St}yt!=="richText"&&bt.setAttribute("class","xfaLayer xfaFont");const Et=[];for(;xt.length>0;){const[St,Tt,kt]=xt.at(-1);if(Tt+1===St.children.length){xt.pop();continue}const _t=St.children[++xt.at(-1)[1]];if(_t===null)continue;const{name:Mt}=_t;if(Mt==="#text"){const It=document.createTextNode(_t.value);Et.push(It),kt.append(It);continue}const Pt=(wt=_t==null?void 0:_t.attributes)!=null&&wt.xmlns?document.createElementNS(_t.attributes.xmlns,Mt):document.createElement(Mt);if(kt.append(Pt),_t.attributes&&this.setAttributes({html:Pt,element:_t,storage:rt,intent:yt,linkService:mt}),_t.children&&_t.children.length>0)xt.push([_t,-1,Pt]);else if(_t.value){const It=document.createTextNode(_t.value);c.XfaText.shouldBuildText(Mt)&&Et.push(It),Pt.append(It)}}for(const St of bt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))St.setAttribute("readOnly",!0);return{textDivs:Et}}static update(nt){const rt=`matrix(${nt.viewport.transform.join(",")})`;nt.div.style.transform=rt,nt.div.hidden=!1}}e.XfaLayer=et},(a,e,o)=>{var gt,yt,vt,xt,bt,Et,wt,St,Tt,kt,_t,Mt,Pt,It,Dt,Hl,At,Wl,jt,Gl,zt,Kl,en,wo,on,Yl,an,Eo,yn,Xl,Nt,Ql,Ot,Zl,Ut,Jl,Vt,_c,Jt,Hr,sn,So,fn,Ls,Dn,js,rr,xa,An,To,xn,Os,jn,eu,Rn,ko,tr,tu,On,nu,Xn,Ao,lr,Fs,En,ba;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,o(89),o(2);var c=o(1),et=o(164),tt=o(198),nt=o(168),rt=o(165);const Fn=class Fn extends et.AnnotationEditor{constructor(dn){super({...dn,name:"inkEditor"});bn(this,Dt);bn(this,At);bn(this,jt);bn(this,zt);bn(this,en);bn(this,on);bn(this,an);bn(this,yn);bn(this,Nt);bn(this,Ot);bn(this,Ut);bn(this,Vt);bn(this,Jt);bn(this,sn);bn(this,fn);bn(this,Dn);bn(this,rr);bn(this,An);bn(this,xn);bn(this,On);bn(this,Xn);bn(this,lr);bn(this,En);bn(this,gt,0);bn(this,yt,0);bn(this,vt,this.canvasPointermove.bind(this));bn(this,xt,this.canvasPointerleave.bind(this));bn(this,bt,this.canvasPointerup.bind(this));bn(this,Et,this.canvasPointerdown.bind(this));bn(this,wt,new Path2D);bn(this,St,!1);bn(this,Tt,!1);bn(this,kt,!1);bn(this,_t,null);bn(this,Mt,0);bn(this,Pt,0);bn(this,It,null);this.color=dn.color||null,this.thickness=dn.thickness||null,this.opacity=dn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(dn){et.AnnotationEditor.initialize(dn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(dn,zn){switch(dn){case c.AnnotationEditorParamsType.INK_THICKNESS:Fn._defaultThickness=zn;break;case c.AnnotationEditorParamsType.INK_COLOR:Fn._defaultColor=zn;break;case c.AnnotationEditorParamsType.INK_OPACITY:Fn._defaultOpacity=zn/100;break}}updateParams(dn,zn){switch(dn){case c.AnnotationEditorParamsType.INK_THICKNESS:Mn(this,Dt,Hl).call(this,zn);break;case c.AnnotationEditorParamsType.INK_COLOR:Mn(this,At,Wl).call(this,zn);break;case c.AnnotationEditorParamsType.INK_OPACITY:Mn(this,jt,Gl).call(this,zn);break}}static get defaultPropertiesToUpdate(){return[[c.AnnotationEditorParamsType.INK_THICKNESS,Fn._defaultThickness],[c.AnnotationEditorParamsType.INK_COLOR,Fn._defaultColor||et.AnnotationEditor._defaultLineColor],[c.AnnotationEditorParamsType.INK_OPACITY,Math.round(Fn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[c.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Fn._defaultThickness],[c.AnnotationEditorParamsType.INK_COLOR,this.color||Fn._defaultColor||et.AnnotationEditor._defaultLineColor],[c.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Fn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Mn(this,fn,Ls).call(this),Mn(this,Dn,js).call(this)),this.isAttachedToDOM||(this.parent.add(this),Mn(this,rr,xa).call(this)),Mn(this,En,ba).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Wt(this,_t).disconnect(),Vn(this,_t,null),super.remove())}setParent(dn){!this.parent&&dn?this._uiManager.removeShouldRescale(this):this.parent&&dn===null&&this._uiManager.addShouldRescale(this),super.setParent(dn)}onScaleChanging(){const[dn,zn]=this.parentDimensions,Yn=this.width*dn,hn=this.height*zn;this.setDimensions(Yn,hn)}enableEditMode(){Wt(this,St)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Wt(this,Et)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Wt(this,Et)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Wt(this,St)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Vn(this,St,!0),this.div.classList.add("disabled"),Mn(this,En,ba).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(dn){this._focusEventsAllowed&&(super.focusin(dn),this.enableEditMode())}canvasPointerdown(dn){dn.button!==0||!this.isInEditMode()||Wt(this,St)||(this.setInForeground(),dn.preventDefault(),dn.type!=="mouse"&&this.div.focus(),Mn(this,on,Yl).call(this,dn.offsetX,dn.offsetY))}canvasPointermove(dn){dn.preventDefault(),Mn(this,an,Eo).call(this,dn.offsetX,dn.offsetY)}canvasPointerup(dn){dn.preventDefault(),Mn(this,sn,So).call(this,dn)}canvasPointerleave(dn){Mn(this,sn,So).call(this,dn)}get isResizable(){return!this.isEmpty()&&Wt(this,St)}render(){if(this.div)return this.div;let dn,zn;this.width&&(dn=this.x,zn=this.y),super.render(),et.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Zn=>{var $n;return($n=this.div)==null?void 0:$n.setAttribute("aria-label",Zn)});const[Yn,hn,Pn,Tn]=Mn(this,zt,Kl).call(this);if(this.setAt(Yn,hn,0,0),this.setDims(Pn,Tn),Mn(this,fn,Ls).call(this),this.width){const[Zn,$n]=this.parentDimensions;this.setAspectRatio(this.width*Zn,this.height*$n),this.setAt(dn*Zn,zn*$n,this.width*Zn,this.height*$n),Vn(this,kt,!0),Mn(this,rr,xa).call(this),this.setDims(this.width*Zn,this.height*$n),Mn(this,Jt,Hr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Mn(this,Dn,js).call(this),this.div}setDimensions(dn,zn){const Yn=Math.round(dn),hn=Math.round(zn);if(Wt(this,Mt)===Yn&&Wt(this,Pt)===hn)return;Vn(this,Mt,Yn),Vn(this,Pt,hn),this.canvas.style.visibility="hidden";const[Pn,Tn]=this.parentDimensions;this.width=dn/Pn,this.height=zn/Tn,this.fixAndSetPosition(),Wt(this,St)&&Mn(this,An,To).call(this,dn,zn),Mn(this,rr,xa).call(this),Mn(this,Jt,Hr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(dn,zn,Yn){var kn,Cn,Nn;if(dn instanceof tt.InkAnnotationElement)return null;const hn=super.deserialize(dn,zn,Yn);hn.thickness=dn.thickness,hn.color=c.Util.makeHexColor(...dn.color),hn.opacity=dn.opacity;const[Pn,Tn]=hn.pageDimensions,Zn=hn.width*Pn,$n=hn.height*Tn,qn=hn.parentScale,Wn=dn.thickness/2;Vn(hn,St,!0),Vn(hn,Mt,Math.round(Zn)),Vn(hn,Pt,Math.round($n));const{paths:cn,rect:qt,rotation:tn}=dn;for(let{bezier:er}of cn){er=Mn(kn=Fn,tr,tu).call(kn,er,qt,tn);const sr=[];hn.paths.push(sr);let ar=qn*(er[0]-Wn),yr=qn*(er[1]-Wn);for(let ur=2,vr=er.length;ur<vr;ur+=6){const mr=qn*(er[ur]-Wn),wr=qn*(er[ur+1]-Wn),Sr=qn*(er[ur+2]-Wn),Cr=qn*(er[ur+3]-Wn),_n=qn*(er[ur+4]-Wn),nr=qn*(er[ur+5]-Wn);sr.push([[ar,yr],[mr,wr],[Sr,Cr],[_n,nr]]),ar=_n,yr=nr}const cr=Mn(this,jn,eu).call(this,sr);hn.bezierPath2D.push(cr)}const un=Mn(Cn=hn,Xn,Ao).call(Cn);return Vn(hn,yt,Math.max(et.AnnotationEditor.MIN_SIZE,un[2]-un[0])),Vn(hn,gt,Math.max(et.AnnotationEditor.MIN_SIZE,un[3]-un[1])),Mn(Nn=hn,An,To).call(Nn,Zn,$n),hn}serialize(){if(this.isEmpty())return null;const dn=this.getRect(0,0),zn=et.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:c.AnnotationEditorType.INK,color:zn,thickness:this.thickness,opacity:this.opacity,paths:Mn(this,On,nu).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,dn),pageIndex:this.pageIndex,rect:dn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};gt=new WeakMap,yt=new WeakMap,vt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,wt=new WeakMap,St=new WeakMap,Tt=new WeakMap,kt=new WeakMap,_t=new WeakMap,Mt=new WeakMap,Pt=new WeakMap,It=new WeakMap,Dt=new WeakSet,Hl=function(dn){const zn=this.thickness;this.addCommands({cmd:()=>{this.thickness=dn,Mn(this,En,ba).call(this)},undo:()=>{this.thickness=zn,Mn(this,En,ba).call(this)},mustExec:!0,type:c.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},At=new WeakSet,Wl=function(dn){const zn=this.color;this.addCommands({cmd:()=>{this.color=dn,Mn(this,Jt,Hr).call(this)},undo:()=>{this.color=zn,Mn(this,Jt,Hr).call(this)},mustExec:!0,type:c.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},jt=new WeakSet,Gl=function(dn){dn/=100;const zn=this.opacity;this.addCommands({cmd:()=>{this.opacity=dn,Mn(this,Jt,Hr).call(this)},undo:()=>{this.opacity=zn,Mn(this,Jt,Hr).call(this)},mustExec:!0,type:c.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},zt=new WeakSet,Kl=function(){const{parentRotation:dn,parentDimensions:[zn,Yn]}=this;switch(dn){case 90:return[0,Yn,Yn,zn];case 180:return[zn,Yn,zn,Yn];case 270:return[zn,0,Yn,zn];default:return[0,0,zn,Yn]}},en=new WeakSet,wo=function(){const{ctx:dn,color:zn,opacity:Yn,thickness:hn,parentScale:Pn,scaleFactor:Tn}=this;dn.lineWidth=hn*Pn/Tn,dn.lineCap="round",dn.lineJoin="round",dn.miterLimit=10,dn.strokeStyle=`${zn}${(0,rt.opacityToHex)(Yn)}`},on=new WeakSet,Yl=function(dn,zn){this.canvas.addEventListener("contextmenu",nt.noContextMenu),this.canvas.addEventListener("pointerleave",Wt(this,xt)),this.canvas.addEventListener("pointermove",Wt(this,vt)),this.canvas.addEventListener("pointerup",Wt(this,bt)),this.canvas.removeEventListener("pointerdown",Wt(this,Et)),this.isEditing=!0,Wt(this,kt)||(Vn(this,kt,!0),Mn(this,rr,xa).call(this),this.thickness||(this.thickness=Fn._defaultThickness),this.color||(this.color=Fn._defaultColor||et.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Fn._defaultOpacity)),this.currentPath.push([dn,zn]),Vn(this,Tt,!1),Mn(this,en,wo).call(this),Vn(this,It,()=>{Mn(this,Ot,Zl).call(this),Wt(this,It)&&window.requestAnimationFrame(Wt(this,It))}),window.requestAnimationFrame(Wt(this,It))},an=new WeakSet,Eo=function(dn,zn){const[Yn,hn]=this.currentPath.at(-1);if(this.currentPath.length>1&&dn===Yn&&zn===hn)return;const Pn=this.currentPath;let Tn=Wt(this,wt);if(Pn.push([dn,zn]),Vn(this,Tt,!0),Pn.length<=2){Tn.moveTo(...Pn[0]),Tn.lineTo(dn,zn);return}Pn.length===3&&(Vn(this,wt,Tn=new Path2D),Tn.moveTo(...Pn[0])),Mn(this,Ut,Jl).call(this,Tn,...Pn.at(-3),...Pn.at(-2),dn,zn)},yn=new WeakSet,Xl=function(){if(this.currentPath.length===0)return;const dn=this.currentPath.at(-1);Wt(this,wt).lineTo(...dn)},Nt=new WeakSet,Ql=function(dn,zn){Vn(this,It,null),dn=Math.min(Math.max(dn,0),this.canvas.width),zn=Math.min(Math.max(zn,0),this.canvas.height),Mn(this,an,Eo).call(this,dn,zn),Mn(this,yn,Xl).call(this);let Yn;if(this.currentPath.length!==1)Yn=Mn(this,Vt,_c).call(this);else{const $n=[dn,zn];Yn=[[$n,$n.slice(),$n.slice(),$n]]}const hn=Wt(this,wt),Pn=this.currentPath;this.currentPath=[],Vn(this,wt,new Path2D);const Tn=()=>{this.allRawPaths.push(Pn),this.paths.push(Yn),this.bezierPath2D.push(hn),this.rebuild()},Zn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Mn(this,fn,Ls).call(this),Mn(this,Dn,js).call(this)),Mn(this,En,ba).call(this))};this.addCommands({cmd:Tn,undo:Zn,mustExec:!0})},Ot=new WeakSet,Zl=function(){if(!Wt(this,Tt))return;Vn(this,Tt,!1);const dn=Math.ceil(this.thickness*this.parentScale),zn=this.currentPath.slice(-3),Yn=zn.map(Tn=>Tn[0]),hn=zn.map(Tn=>Tn[1]);Math.min(...Yn)-dn,Math.max(...Yn)+dn,Math.min(...hn)-dn,Math.max(...hn)+dn;const{ctx:Pn}=this;Pn.save(),Pn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Tn of this.bezierPath2D)Pn.stroke(Tn);Pn.stroke(Wt(this,wt)),Pn.restore()},Ut=new WeakSet,Jl=function(dn,zn,Yn,hn,Pn,Tn,Zn){const $n=(zn+hn)/2,qn=(Yn+Pn)/2,Wn=(hn+Tn)/2,cn=(Pn+Zn)/2;dn.bezierCurveTo($n+2*(hn-$n)/3,qn+2*(Pn-qn)/3,Wn+2*(hn-Wn)/3,cn+2*(Pn-cn)/3,Wn,cn)},Vt=new WeakSet,_c=function(){const dn=this.currentPath;if(dn.length<=2)return[[dn[0],dn[0],dn.at(-1),dn.at(-1)]];const zn=[];let Yn,[hn,Pn]=dn[0];for(Yn=1;Yn<dn.length-2;Yn++){const[qt,tn]=dn[Yn],[un,kn]=dn[Yn+1],Cn=(qt+un)/2,Nn=(tn+kn)/2,er=[hn+2*(qt-hn)/3,Pn+2*(tn-Pn)/3],sr=[Cn+2*(qt-Cn)/3,Nn+2*(tn-Nn)/3];zn.push([[hn,Pn],er,sr,[Cn,Nn]]),[hn,Pn]=[Cn,Nn]}const[Tn,Zn]=dn[Yn],[$n,qn]=dn[Yn+1],Wn=[hn+2*(Tn-hn)/3,Pn+2*(Zn-Pn)/3],cn=[$n+2*(Tn-$n)/3,qn+2*(Zn-qn)/3];return zn.push([[hn,Pn],Wn,cn,[$n,qn]]),zn},Jt=new WeakSet,Hr=function(){if(this.isEmpty()){Mn(this,xn,Os).call(this);return}Mn(this,en,wo).call(this);const{canvas:dn,ctx:zn}=this;zn.setTransform(1,0,0,1,0,0),zn.clearRect(0,0,dn.width,dn.height),Mn(this,xn,Os).call(this);for(const Yn of this.bezierPath2D)zn.stroke(Yn)},sn=new WeakSet,So=function(dn){this.canvas.removeEventListener("pointerleave",Wt(this,xt)),this.canvas.removeEventListener("pointermove",Wt(this,vt)),this.canvas.removeEventListener("pointerup",Wt(this,bt)),this.canvas.addEventListener("pointerdown",Wt(this,Et)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",nt.noContextMenu)},10),Mn(this,Nt,Ql).call(this,dn.offsetX,dn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},fn=new WeakSet,Ls=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",et.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(dn=>{var zn;return(zn=this.canvas)==null?void 0:zn.setAttribute("aria-label",dn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Dn=new WeakSet,js=function(){Vn(this,_t,new ResizeObserver(dn=>{const zn=dn[0].contentRect;zn.width&&zn.height&&this.setDimensions(zn.width,zn.height)})),Wt(this,_t).observe(this.div)},rr=new WeakSet,xa=function(){if(!Wt(this,kt))return;const[dn,zn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*dn),this.canvas.height=Math.ceil(this.height*zn),Mn(this,xn,Os).call(this)},An=new WeakSet,To=function(dn,zn){const Yn=Mn(this,lr,Fs).call(this),hn=(dn-Yn)/Wt(this,yt),Pn=(zn-Yn)/Wt(this,gt);this.scaleFactor=Math.min(hn,Pn)},xn=new WeakSet,Os=function(){const dn=Mn(this,lr,Fs).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+dn,this.translationY*this.scaleFactor+dn)},jn=new WeakSet,eu=function(dn){const zn=new Path2D;for(let Yn=0,hn=dn.length;Yn<hn;Yn++){const[Pn,Tn,Zn,$n]=dn[Yn];Yn===0&&zn.moveTo(...Pn),zn.bezierCurveTo(Tn[0],Tn[1],Zn[0],Zn[1],$n[0],$n[1])}return zn},Rn=new WeakSet,ko=function(dn,zn,Yn){const[hn,Pn,Tn,Zn]=zn;switch(Yn){case 0:for(let $n=0,qn=dn.length;$n<qn;$n+=2)dn[$n]+=hn,dn[$n+1]=Zn-dn[$n+1];break;case 90:for(let $n=0,qn=dn.length;$n<qn;$n+=2){const Wn=dn[$n];dn[$n]=dn[$n+1]+hn,dn[$n+1]=Wn+Pn}break;case 180:for(let $n=0,qn=dn.length;$n<qn;$n+=2)dn[$n]=Tn-dn[$n],dn[$n+1]+=Pn;break;case 270:for(let $n=0,qn=dn.length;$n<qn;$n+=2){const Wn=dn[$n];dn[$n]=Tn-dn[$n+1],dn[$n+1]=Zn-Wn}break;default:throw new Error("Invalid rotation")}return dn},tr=new WeakSet,tu=function(dn,zn,Yn){const[hn,Pn,Tn,Zn]=zn;switch(Yn){case 0:for(let $n=0,qn=dn.length;$n<qn;$n+=2)dn[$n]-=hn,dn[$n+1]=Zn-dn[$n+1];break;case 90:for(let $n=0,qn=dn.length;$n<qn;$n+=2){const Wn=dn[$n];dn[$n]=dn[$n+1]-Pn,dn[$n+1]=Wn-hn}break;case 180:for(let $n=0,qn=dn.length;$n<qn;$n+=2)dn[$n]=Tn-dn[$n],dn[$n+1]-=Pn;break;case 270:for(let $n=0,qn=dn.length;$n<qn;$n+=2){const Wn=dn[$n];dn[$n]=Zn-dn[$n+1],dn[$n+1]=Tn-Wn}break;default:throw new Error("Invalid rotation")}return dn},On=new WeakSet,nu=function(dn,zn,Yn,hn){var qn,Wn;const Pn=[],Tn=this.thickness/2,Zn=dn*zn+Tn,$n=dn*Yn+Tn;for(const cn of this.paths){const qt=[],tn=[];for(let un=0,kn=cn.length;un<kn;un++){const[Cn,Nn,er,sr]=cn[un],ar=dn*Cn[0]+Zn,yr=dn*Cn[1]+$n,cr=dn*Nn[0]+Zn,ur=dn*Nn[1]+$n,vr=dn*er[0]+Zn,mr=dn*er[1]+$n,wr=dn*sr[0]+Zn,Sr=dn*sr[1]+$n;un===0&&(qt.push(ar,yr),tn.push(ar,yr)),qt.push(cr,ur,vr,mr,wr,Sr),tn.push(cr,ur),un===kn-1&&tn.push(wr,Sr)}Pn.push({bezier:Mn(qn=Fn,Rn,ko).call(qn,qt,hn,this.rotation),points:Mn(Wn=Fn,Rn,ko).call(Wn,tn,hn,this.rotation)})}return Pn},Xn=new WeakSet,Ao=function(){let dn=1/0,zn=-1/0,Yn=1/0,hn=-1/0;for(const Pn of this.paths)for(const[Tn,Zn,$n,qn]of Pn){const Wn=c.Util.bezierBoundingBox(...Tn,...Zn,...$n,...qn);dn=Math.min(dn,Wn[0]),Yn=Math.min(Yn,Wn[1]),zn=Math.max(zn,Wn[2]),hn=Math.max(hn,Wn[3])}return[dn,Yn,zn,hn]},lr=new WeakSet,Fs=function(){return Wt(this,St)?Math.ceil(this.thickness*this.parentScale):0},En=new WeakSet,ba=function(){let dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!Wt(this,St)){Mn(this,Jt,Hr).call(this);return}const zn=Mn(this,Xn,Ao).call(this),Yn=Mn(this,lr,Fs).call(this);Vn(this,yt,Math.max(et.AnnotationEditor.MIN_SIZE,zn[2]-zn[0])),Vn(this,gt,Math.max(et.AnnotationEditor.MIN_SIZE,zn[3]-zn[1]));const hn=Math.ceil(Yn+Wt(this,yt)*this.scaleFactor),Pn=Math.ceil(Yn+Wt(this,gt)*this.scaleFactor),[Tn,Zn]=this.parentDimensions;this.width=hn/Tn,this.height=Pn/Zn,this.setAspectRatio(hn,Pn);const $n=this.translationX,qn=this.translationY;this.translationX=-zn[0],this.translationY=-zn[1],Mn(this,rr,xa).call(this),Mn(this,Jt,Hr).call(this),Vn(this,Mt,hn),Vn(this,Pt,Pn),this.setDims(hn,Pn);const Wn=dn?Yn/this.scaleFactor/2:0;this.translate($n-this.translationX-Wn,qn-this.translationY-Wn)},bn(Fn,jn),bn(Fn,Rn),bn(Fn,tr),Tr(Fn,"_defaultColor",null),Tr(Fn,"_defaultOpacity",1),Tr(Fn,"_defaultThickness",1),Tr(Fn,"_type","ink");let mt=Fn;e.InkEditor=mt},(a,e,o)=>{var mt,gt,yt,vt,xt,bt,Et,wt,St,Tt,kt,ps,Mt,ms,It,$s,Ct,Ro,Lt,ru,Bt,iu,Yt,_o,rn,Ns,Zt,au;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0,o(149),o(152);var c=o(1),et=o(164),tt=o(168),nt=o(198);const Xt=class Xt extends et.AnnotationEditor{constructor(Nt){super({...Nt,name:"stampEditor"});bn(this,kt);bn(this,Mt);bn(this,It);bn(this,Ct);bn(this,Lt);bn(this,Bt);bn(this,Yt);bn(this,rn);bn(this,Zt);bn(this,mt,null);bn(this,gt,null);bn(this,yt,null);bn(this,vt,null);bn(this,xt,null);bn(this,bt,null);bn(this,Et,null);bn(this,wt,null);bn(this,St,!1);bn(this,Tt,!1);Vn(this,vt,Nt.bitmapUrl),Vn(this,xt,Nt.bitmapFile)}static initialize(Nt){et.AnnotationEditor.initialize(Nt)}static get supportedTypes(){const Nt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,c.shadow)(this,"supportedTypes",Nt.map($t=>`image/${$t}`))}static get supportedTypesStr(){return(0,c.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Nt){return this.supportedTypes.includes(Nt)}static paste(Nt,$t){$t.pasteEditor(c.AnnotationEditorType.STAMP,{bitmapFile:Nt.getAsFile()})}remove(){var Nt,$t;Wt(this,gt)&&(Vn(this,mt,null),this._uiManager.imageManager.deleteId(Wt(this,gt)),(Nt=Wt(this,bt))==null||Nt.remove(),Vn(this,bt,null),($t=Wt(this,Et))==null||$t.disconnect(),Vn(this,Et,null)),super.remove()}rebuild(){if(!this.parent){Wt(this,gt)&&Mn(this,It,$s).call(this);return}super.rebuild(),this.div!==null&&(Wt(this,gt)&&Mn(this,It,$s).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Wt(this,yt)||Wt(this,mt)||Wt(this,vt)||Wt(this,xt))}get isResizable(){return!0}render(){if(this.div)return this.div;let Nt,$t;if(this.width&&(Nt=this.x,$t=this.y),super.render(),this.div.hidden=!0,Wt(this,mt)?Mn(this,Ct,Ro).call(this):Mn(this,It,$s).call(this),this.width){const[Ot,Ft]=this.parentDimensions;this.setAt(Nt*Ot,$t*Ft,this.width*Ot,this.height*Ft)}return this.div}static deserialize(Nt,$t,Ot){if(Nt instanceof nt.StampAnnotationElement)return null;const Ft=super.deserialize(Nt,$t,Ot),{rect:Ut,bitmapUrl:Gt,bitmapId:Vt,isSvg:Kt,accessibilityData:Jt}=Nt;Vt&&Ot.imageManager.isValidId(Vt)?Vn(Ft,gt,Vt):Vn(Ft,vt,Gt),Vn(Ft,St,Kt);const[nn,sn]=Ft.pageDimensions;return Ft.width=(Ut[2]-Ut[0])/nn,Ft.height=(Ut[3]-Ut[1])/sn,Jt&&(Ft.altTextData=Jt),Ft}serialize(){let Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,$t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.isEmpty())return null;const Ot={annotationType:c.AnnotationEditorType.STAMP,bitmapId:Wt(this,gt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Wt(this,St),structTreeParentId:this._structTreeParentId};if(Nt)return Ot.bitmapUrl=Mn(this,rn,Ns).call(this,!0),Ot.accessibilityData=this.altTextData,Ot;const{decorative:Ft,altText:Ut}=this.altTextData;if(!Ft&&Ut&&(Ot.accessibilityData={type:"Figure",alt:Ut}),$t===null)return Ot;$t.stamps||($t.stamps=new Map);const Gt=Wt(this,St)?(Ot.rect[2]-Ot.rect[0])*(Ot.rect[3]-Ot.rect[1]):null;if(!$t.stamps.has(Wt(this,gt)))$t.stamps.set(Wt(this,gt),{area:Gt,serialized:Ot}),Ot.bitmap=Mn(this,rn,Ns).call(this,!1);else if(Wt(this,St)){const Vt=$t.stamps.get(Wt(this,gt));Gt>Vt.area&&(Vt.area=Gt,Vt.serialized.bitmap.close(),Vt.serialized.bitmap=Mn(this,rn,Ns).call(this,!1))}return Ot}};mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,vt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,wt=new WeakMap,St=new WeakMap,Tt=new WeakMap,kt=new WeakSet,ps=function(Nt){let $t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Nt){this.remove();return}Vn(this,mt,Nt.bitmap),$t||(Vn(this,gt,Nt.id),Vn(this,St,Nt.isSvg)),Mn(this,Ct,Ro).call(this)},Mt=new WeakSet,ms=function(){Vn(this,yt,null),this._uiManager.enableWaiting(!1),Wt(this,bt)&&this.div.focus()},It=new WeakSet,$s=function(){if(Wt(this,gt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Wt(this,gt)).then($t=>Mn(this,kt,ps).call(this,$t,!0)).finally(()=>Mn(this,Mt,ms).call(this));return}if(Wt(this,vt)){const $t=Wt(this,vt);Vn(this,vt,null),this._uiManager.enableWaiting(!0),Vn(this,yt,this._uiManager.imageManager.getFromUrl($t).then(Ot=>Mn(this,kt,ps).call(this,Ot)).finally(()=>Mn(this,Mt,ms).call(this)));return}if(Wt(this,xt)){const $t=Wt(this,xt);Vn(this,xt,null),this._uiManager.enableWaiting(!0),Vn(this,yt,this._uiManager.imageManager.getFromFile($t).then(Ot=>Mn(this,kt,ps).call(this,Ot)).finally(()=>Mn(this,Mt,ms).call(this)));return}const Nt=document.createElement("input");Nt.type="file",Nt.accept=Xt.supportedTypesStr,Vn(this,yt,new Promise($t=>{Nt.addEventListener("change",async()=>{if(!Nt.files||Nt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ot=await this._uiManager.imageManager.getFromFile(Nt.files[0]);Mn(this,kt,ps).call(this,Ot)}$t()}),Nt.addEventListener("cancel",()=>{this.remove(),$t()})}).finally(()=>Mn(this,Mt,ms).call(this))),Nt.click()},Ct=new WeakSet,Ro=function(){const{div:Nt}=this;let{width:$t,height:Ot}=Wt(this,mt);const[Ft,Ut]=this.pageDimensions,Gt=.75;if(this.width)$t=this.width*Ft,Ot=this.height*Ut;else if($t>Gt*Ft||Ot>Gt*Ut){const nn=Math.min(Gt*Ft/$t,Gt*Ut/Ot);$t*=nn,Ot*=nn}const[Vt,Kt]=this.parentDimensions;this.setDims($t*Vt/Ft,Ot*Kt/Ut),this._uiManager.enableWaiting(!1);const Jt=Vn(this,bt,document.createElement("canvas"));Nt.append(Jt),Nt.hidden=!1,Mn(this,Yt,_o).call(this,$t,Ot),Mn(this,Zt,au).call(this),Wt(this,Tt)||(this.parent.addUndoableEditor(this),Vn(this,Tt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Lt=new WeakSet,ru=function(Nt,$t){var Gt;const[Ot,Ft]=this.parentDimensions;this.width=Nt/Ot,this.height=$t/Ft,this.setDims(Nt,$t),(Gt=this._initialOptions)!=null&&Gt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Wt(this,wt)!==null&&clearTimeout(Wt(this,wt)),Vn(this,wt,setTimeout(()=>{Vn(this,wt,null),Mn(this,Yt,_o).call(this,Nt,$t)},200))},Bt=new WeakSet,iu=function(Nt,$t){const{width:Ot,height:Ft}=Wt(this,mt);let Ut=Ot,Gt=Ft,Vt=Wt(this,mt);for(;Ut>2*Nt||Gt>2*$t;){const Kt=Ut,Jt=Gt;Ut>2*Nt&&(Ut=Ut>=16384?Math.floor(Ut/2)-1:Math.ceil(Ut/2)),Gt>2*$t&&(Gt=Gt>=16384?Math.floor(Gt/2)-1:Math.ceil(Gt/2));const nn=new OffscreenCanvas(Ut,Gt);nn.getContext("2d").drawImage(Vt,0,0,Kt,Jt,0,0,Ut,Gt),Vt=nn.transferToImageBitmap()}return Vt},Yt=new WeakSet,_o=function(Nt,$t){Nt=Math.ceil(Nt),$t=Math.ceil($t);const Ot=Wt(this,bt);if(!Ot||Ot.width===Nt&&Ot.height===$t)return;Ot.width=Nt,Ot.height=$t;const Ft=Wt(this,St)?Wt(this,mt):Mn(this,Bt,iu).call(this,Nt,$t),Ut=Ot.getContext("2d");Ut.filter=this._uiManager.hcmFilter,Ut.drawImage(Ft,0,0,Ft.width,Ft.height,0,0,Nt,$t)},rn=new WeakSet,Ns=function(Nt){if(Nt){if(Wt(this,St)){const Ft=this._uiManager.imageManager.getSvgUrl(Wt(this,gt));if(Ft)return Ft}const $t=document.createElement("canvas");return{width:$t.width,height:$t.height}=Wt(this,mt),$t.getContext("2d").drawImage(Wt(this,mt),0,0),$t.toDataURL()}if(Wt(this,St)){const[$t,Ot]=this.pageDimensions,Ft=Math.round(this.width*$t*tt.PixelsPerInch.PDF_TO_CSS_UNITS),Ut=Math.round(this.height*Ot*tt.PixelsPerInch.PDF_TO_CSS_UNITS),Gt=new OffscreenCanvas(Ft,Ut);return Gt.getContext("2d").drawImage(Wt(this,mt),0,0,Wt(this,mt).width,Wt(this,mt).height,0,0,Ft,Ut),Gt.transferToImageBitmap()}return structuredClone(Wt(this,mt))},Zt=new WeakSet,au=function(){Vn(this,Et,new ResizeObserver(Nt=>{const $t=Nt[0].contentRect;$t.width&&$t.height&&Mn(this,Lt,ru).call(this,$t.width,$t.height)})),Wt(this,Et).observe(this.div)},Tr(Xt,"_type","stamp");let rt=Xt;e.StampEditor=rt}],__webpack_module_cache__={};function __w_pdfjs_require__(a){var e=__webpack_module_cache__[a];if(e!==void 0)return e.exports;var o=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a].call(o.exports,o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(a,"AnnotationEditorLayer",{enumerable:!0,get:function(){return tt.AnnotationEditorLayer}}),Object.defineProperty(a,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(a,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(a,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return nt.AnnotationEditorUIManager}}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return rt.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(a,"DOMSVGFactory",{enumerable:!0,get:function(){return c.DOMSVGFactory}}),Object.defineProperty(a,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return mt.GlobalWorkerOptions}}),Object.defineProperty(a,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return c.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return c.PixelsPerInch}}),Object.defineProperty(a,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return c.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return gt.XfaLayer}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return c.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return c.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return c.getXfaPageViewport}}),Object.defineProperty(a,"isDataScheme",{enumerable:!0,get:function(){return c.isDataScheme}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return c.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return c.loadScript}}),Object.defineProperty(a,"noContextMenu",{enumerable:!0,get:function(){return c.noContextMenu}}),Object.defineProperty(a,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return et.renderTextLayer}}),Object.defineProperty(a,"setLayerDimensions",{enumerable:!0,get:function(){return c.setLayerDimensions}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(a,"updateTextLayer",{enumerable:!0,get:function(){return et.updateTextLayer}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return o.version}});var e=__w_pdfjs_require__(1),o=__w_pdfjs_require__(124),c=__w_pdfjs_require__(168),et=__w_pdfjs_require__(195),tt=__w_pdfjs_require__(196),nt=__w_pdfjs_require__(165),rt=__w_pdfjs_require__(198),mt=__w_pdfjs_require__(176),gt=__w_pdfjs_require__(201)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfWorkerUrl="/assets/pdf.worker.min-SzY6Yteu.js";let workerConfigured=!1;function ensurePdfWorker(){workerConfigured||(pdfExports.GlobalWorkerOptions.workerSrc=pdfWorkerUrl,workerConfigured=!0)}async function extractSampleTextFromPdfFile(a,e=3){ensurePdfWorker();const o=await a.arrayBuffer(),c=new Uint8Array(o),tt=await pdfExports.getDocument({data:c,disableWorker:!0}).promise,nt=tt.numPages,rt=Math.min(nt,e);let mt="";for(let gt=1;gt<=rt;gt+=1){const xt=(await(await tt.getPage(gt)).getTextContent()).items.map(bt=>bt&&bt.str||"").join(" ");mt+=xt+`
`}return await tt.destroy(),mt}function looksGarbledText(a){const e=String(a||"").slice(0,12e3);if(!e.trim())return!0;const o=(e.match(/[A-Za-z]/g)||[]).length,c=(e.match(/[0-9]/g)||[]).length,et=(e.match(/\s/g)||[]).length,tt=(e.match(/[^\x09\x0A\x0D\x20-\x7E]/g)||[]).length,nt=Math.max(1,e.length);return(o+c)/nt<.03&&tt/nt>.05||et/nt<.02&&tt/nt>.1}async function pdfNeedsOcr(a,e=3){try{const o=await extractSampleTextFromPdfFile(a,e);return looksGarbledText(o)}catch(o){return console.error("Failed to inspect PDF text. Treating as needs OCR:",o),!0}}const AttachProgressRing=pt.div`
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: ${({$percent:a=0})=>`conic-gradient(#2563eb ${a}%, #1f2937 0)`};
  display: inline-flex;
  align-items: center;
  justify-content: center;
`,AttachProgressInner=pt.div`
  width: 12px;
  height: 12px;
  border-radius: 999px;
  background: #020617;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  color: #e5e7eb;
`,ComposerColumn=pt.div`
  display: flex;
  flex-direction: column;
  gap: 6px;
`,ComposerBottomRow=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,ComposerBottomLeft=pt.div`
  display: flex;
  align-items: center;
  gap: 6px;
`,ComposerBottomRight=pt.div`
  display: flex;
  align-items: center;
  gap: 6px;
`,Page$3=pt.div`
  display: grid;
  grid-template-columns: 280px minmax(0, 1fr);
  height: 100vh;
  background: #020617;
  color: #e5e7eb;
  overflow-x: hidden;
  overflow-y: hidden; /* NEW: prevent whole page from scrolling */
  position: relative; /* NEW: for avatar menu positioning */
  @media (max-width: 900px) {
    grid-template-columns: 1fr;
  }
`,Sidebar=pt.div`
  border-right: 1px solid #1f2933;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  background: #181818;
  height: 100vh; /*  key: fix sidebar height */
  box-sizing: border-box;
  @media (max-width: 900px) {
    border-right: none;
    border-bottom: 1px solid #1f2933;
    height: auto; /* on mobile let it grow normally */
  }
`,ModalOverlay$1=pt.div`
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.6);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 40;
`,ModalCard$1=pt.div`
  background: #020617;
  border-radius: 16px;
  border: 1px solid #1f2937;
  padding: 24px 28px;
  width: 100%;
  max-width: ${({$wide:a})=>a?"720px":"420px"};
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.45);
`,ModalTitle$1=pt.h2`
  margin: 0;
  font-size: 20px;
  font-weight: 600;
  color: #e5e7eb;

  /* NEW: prevent long strings from overflowing the card */
  max-width: 100%;
  overflow-wrap: anywhere;
  word-break: break-word;
`,ModalSubtitle=pt.p`
  margin: 6px 0 16px;
  font-size: 15px;
  color: #9ca3af;

  /* NEW: prevent long filenames from overflowing the card */
  max-width: 100%;
  overflow-wrap: anywhere;
  word-break: break-word;
`,ModalForm=pt.form`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,ModalInput=pt.input`
  border-radius: 999px;
  border: 1px solid #1f2937;
  background: #020617;
  color: #e5e7eb;
  padding: 10px 12px;
  font-size: 16px; /* was 14px */
  width: 100%;

  &::placeholder {
    color: #6b7280;
  }
`,ModalActions$1=pt.div`
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 6px;
`,ModalSecondaryButton=pt.button`
  border: none;
  border-radius: 999px;
  padding: 6px 14px;
  font-size: 15px; /* was 13px */
  background: transparent;
  color: #9ca3af;
  cursor: pointer;

  &:hover {
    background: #303030;
  }
`,ModalPrimaryButton=pt.button`
  border-radius: 999px;
  padding: 6px 16px;
  font-size: 15px; /* was 13px */
  background: #ffffff;
  color: #000000;
  border: 1px solid #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #f3f4f6;
  }

  &:disabled {
    opacity: 0.5;
    cursor: default;
  }
`,ProjectsHeader=pt.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,ProjectsTitle=pt.div`
  font-size: 15px; /* was 13px */
  font-weight: 600;

  letter-spacing: 0.04em;
  color: #9ca3af;
`,NewProjectButton=pt.button`
  border: none;
  border-radius: 999px;
  padding: 4px 10px; //
  font-size: 14px; /* was 12px */
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: #303030;
  color: #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #1f2937;
  }

  &:disabled {
    opacity: 0.5;
    cursor: default;
  }
`,ProjectList=pt.div`
  margin-top: 0px;
  max-height: 22vh; /*  cap how tall the patient list can get */
  overflow-y: auto; /*  make it scrollable */
  display: flex;
  flex-direction: column;
  gap: 4px;
`,ProjectRow=pt.button`
  width: 100%;
  border: none;
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 15px;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  background: ${a=>a.$active?"#303030":"transparent"};
  color: #e5e7eb;
  min-width: 0;
  position: relative; /* allow absolute three dot button */

  &:hover {
    background: #303030;
  }

  svg {
    flex-shrink: 0;
  }
`,ProjectName=pt.span`
  flex: 1;
  min-width: 0;
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 28px; /* reserve space for the three dots */
`,ProjectEmptyState=pt.div`
  font-size: 14px;
  color: #6b7280;
  padding: 4px 2px;
`,sidebarSpinner=ft`
  to {
    transform: rotate(360deg);
  }
`,SidebarLoadingRow=pt.div`
  font-size: 14px;
  color: #9ca3af;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 2px;
`,SmallSpinner$1=pt.div`
  width: 14px;
  height: 14px;
  border-radius: 999px;
  border: 2px solid #4b5563;
  border-top-color: #e5e7eb;
  animation: ${sidebarSpinner} 0.7s linear infinite;
`,SubchatList=pt.div`
  margin-left: 22px;
  margin-top: 2px;
  display: flex;
  flex-direction: column;
  gap: 2px;
`,SubchatRow=pt.button`
  width: 100%;
  border: none;
  border-radius: 6px;
  padding: 4px 8px;
  font-size: 14px;
  text-align: left;
  background: ${a=>a.$active?"#303030":"transparent"};
  color: ${a=>a.$active?"#e5e7eb":"#9ca3af"};
  cursor: pointer;

  /* IMPORTANT: make it flex so we can control child width */
  display: flex;
  align-items: center;
  position: relative; /* for the three-dot button */

  &:hover {
    background: #303030;
    color: #e5e7eb;
  }
`,SubchatTitle=pt.span`
  /* fixed narrow width so it hits "..." earlier */
  flex: 0 0 180px; /* change 120  100 for even fewer chars */
  max-width: 180px;
  min-width: 0;

  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  padding-right: 2px; /* keep space for the three-dot button if you have it */
`,PersonalChatList=pt.div`
  margin-top: 0px;
  max-height: 22vh;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 4px;
`,PersonalChatRow=pt.button`
  width: 100%;
  border: none;
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 15px;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  background: ${a=>a.$active?"#303030":"transparent"};
  color: #e5e7eb;
  min-width: 0;
  position: relative;

  &:hover {
    background: #303030;
  }

  svg {
    flex-shrink: 0;
  }
`,PersonalChatTitle=pt.span`
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 28px; /* room for three dots */
`,RowMenuButton=pt.button`
  position: absolute;
  top: 50%;
  right: 4px;
  transform: translateY(-50%);
  border: none;
  background: transparent;
  border-radius: 999px;
  width: 26px;
  height: 26px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #9ca3af;
  cursor: pointer;

  opacity: ${a=>a.$forceVisible?1:0};
  pointer-events: ${a=>a.$forceVisible?"auto":"none"};
  transition: opacity 0.15s ease;

  /* always show on hover */
  ${ProjectRow}:hover &,
  ${SubchatRow}:hover &,
  ${PersonalChatRow}:hover &,
  .chat-list-item:hover & {
    // NEW: when hovering a previous-chat row
    opacity: 1;
    pointer-events: auto;
  }

  &:hover {
    background: #303030;
    color: #e5e7eb;
  }
`,InlineEditInput=pt.input`
  border: none;
  background: transparent;
  color: inherit;
  font: inherit;
  padding: 0;
  margin: 0;
  outline: none;
  width: 100%;
`,SectionDivider=pt.div`
  height: 0.2px;
  background: #303030;
  margin: 0px 0 0px; //
`,SectionHeaderRow=pt.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
`,SidebarTitle=pt.div`
  font-size: 15px; /* was 13px */
  font-weight: 600;
  color: #9ca3af;
`;pt.div`
  font-size: 14px; /* was 12px */
  color: #6b7280;
`;const LibraryUploadButton=pt(NewProjectButton)`
  display: inline-flex;
  align-items: center;
  gap: 6px;
`,LibraryHint=pt.div`
  font-size: 13px;
  color: #6b7280;
  margin-top: 10px;
`;pt.label`
  border: 1px dashed #4b5563;
  border-radius: 12px;
  padding: 12px;
  text-align: center;
  cursor: pointer;
  font-size: 15px; /* was 13px */
  display: flex;
  flex-direction: column;
  gap: 6px;
  align-items: center;
  background: #181818;
  margin-top: 6px;

  &:hover {
    background: #202020;
    border-color: #6b7280;
  }

  input {
    display: none;
  }
`;pt.div`
  font-size: 13px; /* was 11px */
  color: #6b7280;
`;const SourceList=pt.div`
  flex: 1;
  overflow-y: auto;
  font-size: 16px; /* was 14px */
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-right: 4px;
  margin-top: 0px;
`,SourceRow=pt.div`
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 8px;
  border-radius: 10px;
  background: #181818; /* was #020617 */
  border: 1px solid #303030;
  position: relative; /* so we can anchor the parts menu */
`,SourceMain=pt.div`
  flex: 1;
  min-width: 0;
`,SourceTitle=pt.div`
  font-size: 15px;
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,SourceMeta=pt.div`
  margin-top: 2px;
  font-size: 13px; /* was 11px */
  color: #6b7280;
`,Status=pt.span`
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 13px; /* was 11px */
  color: ${a=>a.$status==="ready"?"#22c55e":a.$status==="error"?"#f97316":"#9ca3af"};
`,IconButton$2=pt.button`
  border: none;
  background: transparent;
  padding: 4px;
  cursor: pointer;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  &:hover {
    background: #303030;
  }

  svg {
    width: 16px;
    height: 16px;
    color: #6b7280;
  }
`,EmptyState=pt.div`
  font-size: 15px;
  color: #6b7280;
  padding: 8px 2px;
`,ChatPane=pt.div`
  display: flex;
  flex-direction: column;
  padding: 16px;
  min-height: 0;
  position: relative;
  background: #212121;
  overflow-x: hidden;
`,ChatInner=pt.div`
  flex: 1;
  min-height: 0; /* important so Messages can scroll */
  width: 100%;
  max-width: 770px;
  margin: 0 auto;
  padding-top: 32px;
  display: flex;
  flex-direction: column;
`,ChatHeader=pt.div`
  margin-bottom: ${a=>a.$isNewChat?"10px":"12px"};
  text-align: ${a=>a.$isCentered?"center":"left"};
`,ChatTitle=pt.div`
  font-size: 28px;
  font-weight: 500;
`,ChatSubtitle=pt.div`
  font-size: 14px; /* was 12px */
  color: #6b7280;
  margin-top: 2px;
`,Messages=pt.div`
  flex: 1;
  min-height: 0; /* important */
  overflow-y: auto;
  overflow-x: hidden;
  padding-bottom: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
`,MessageRow=pt.div`
  display: flex;
  justify-content: ${a=>a.$role==="user"?"flex-end":"flex-start"};
`,Bubble=pt.div`
  display: inline-block;
  max-width: 100%;
  padding: 10px 12px;
  border-radius: 14px;
  font-size: 17px;
  background: ${a=>a.$role==="user"?"#303030":"transparent"};
  color: #e5e7eb;
  word-wrap: break-word;
  overflow-wrap: break-word;
  line-height: 1.6;

  /* key change */
  white-space: ${a=>a.$role==="user"?"pre-wrap":"normal"};
`,thinkingPulse=ft`
  0%, 100% { opacity: 0.4; transform: translateY(0); }
  50% { opacity: 1; transform: translateY(-1px); }
`,ThinkingRow=pt.div`
  display: flex;
  justify-content: flex-start;
`,ThinkingBubble=pt(Bubble)`
  display: inline-flex;
  align-items: center;
  gap: 6px;
`,ThinkingLabel=pt.span`
  font-size: 17px; /* was 12px */
  color: #e5e7eb;
  animation: ${thinkingPulse} 1.2s infinite;
`,ThinkingDots=pt.span`
  display: inline-flex;
  gap: 3px;
`,ThinkingDot=pt.span`
  width: 4px;
  height: 4px;
  border-radius: 999px;
  background: #e5e7eb;
  opacity: 0.7;
  animation: ${thinkingPulse} 1.2s infinite;
  animation-delay: ${a=>a.$delay||"0s"};
`,AttachBar=pt.div`
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 8px;
`,AttachChip=pt.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  background: #303030;
  border: 1px solid #424242;
  font-size: 14px; /* was 12px */
`,AttachFilename=pt.span`
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,AttachStatus=pt.span`
  font-size: 15px;
  color: #9ca3af;
`,AttachRemoveButton=pt.button`
  border: none;
  background: transparent;
  border-radius: 999px;
  padding: 2px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #9ca3af;
  cursor: pointer;

  &:hover {
    background: #303030;
  }
`,InputRow=pt.form`
  margin-top: 12px;
`,ComposerShell=pt.div`
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 8px 10px;
  border-radius: 24px;
  background: #303030;
  border: 1px solid #424242;
`,AttachIconButton=pt.button`
  border: none;
  border-radius: 999px;
  width: 40px;
  height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  color: #e5e7eb;
  cursor: pointer;
  flex-shrink: 0;

  &:hover {
    background: #383838;
  }

  &:disabled {
    opacity: 0.4;
    cursor: default;
  }
`,WebSearchPill=pt.button`
  border: none;
  border-radius: 999px;
  padding: 6px 10px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: #181818;
  border: 1px solid #424242;
  color: #e5e7eb;
  cursor: pointer;
  font-size: 14px;

  .pill-icon {
    position: relative;
    width: 14px;
    height: 14px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 14px;
  }

  .icon-main {
    position: absolute;
    inset: 0;
    margin: auto;
    opacity: 1;
    transform: scale(1);
    transition: opacity 0.12s ease, transform 0.12s ease;
  }

  .icon-x {
    position: absolute;
    inset: 0;
    margin: auto;
    opacity: 0;
    transform: scale(0.85);
    transition: opacity 0.12s ease, transform 0.12s ease;
    line-height: 14px;
    font-size: 16px;
  }

  &:hover {
    background: #202020;
    border-color: #6b7280;
  }

  &:hover .icon-main {
    opacity: 0;
    transform: scale(0.85);
  }

  &:hover .icon-x {
    opacity: 1;
    transform: scale(1);
  }
`,SendFabButton=pt.button`
  border: none;
  border-radius: 999px;
  width: 36px;
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #ffffff;
  color: #000000;
  cursor: pointer;
  flex-shrink: 0;

  &:disabled {
    opacity: 0.5;
    cursor: default;
  }
`,AttachButtonWrapper=pt.div`
  position: relative;
  flex-shrink: 0;
`,TextInput$2=pt.textarea`
  width: 100%;
  resize: none;
  min-height: 48px;
  max-height: 160px;
  overflow-y: auto;
  border: none;
  border-radius: 0;
  background: transparent;
  color: #e5e7eb;
  padding: 6px 14px 4px; /* was 6px 0 4px   adds left/right padding */
  font-size: 16px; /* was 14px */

  &::placeholder {
    color: #9e9e9e;
  }

  &:focus {
    outline: none;
  }
`,ChatEmptyState=pt.div`
  font-size: 15px; /* was 13px */
  color: #6b7280;
  padding: 12px 2px;
`,NewChatCenter=pt.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: stretch; //  was center
  justify-content: center;
  max-width: 770px; // match ChatInner max-width if you like
  width: 100%;
  margin: 0 auto;
  gap: 16px;
`,CenterEmptyWrapper=pt.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-bottom: 80px;
`,CenterEmptyCard=pt.div`
  max-width: 460px;
  width: 100%;
  text-align: center;
  padding: 24px 28px;
  border-radius: 16px;
  background: #181818;
  border: 1px solid #2f2f2f;
  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.45);
`,CenterEmptyTitle=pt.h2`
  margin: 0 0 8px;
  font-size: 20px; /* was 18px */
  font-weight: 600;
  color: #e5e7eb;
`,CenterEmptySubtitle=pt.p`
  margin: 0 0 16px;
  font-size: 15px; /* was 13px */
  color: #9ca3af;
`,CenterEmptyHint=pt.p`
  margin: 10px 0 0;
  font-size: 14px; /* was 12px */
  color: #6b7280;
`,CenterEmptyIcon=pt.div`
  width: 44px;
  height: 44px;
  border-radius: 999px;
  margin: 0 auto 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #303030;
  color: #e5e7eb;
`,CenterEmptyPrimaryButton=pt.button`
  margin-top: 4px;
  border-radius: 999px;
  padding: 10px 18px;
  font-size: 16px; /* was 14px */
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: #ffffff;
  color: #000000;
  border: 1px solid #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #f3f4f6;
  }

  &:disabled {
    opacity: 0.5;
    cursor: default;
  }
`,AttachMenu=pt.div`
  position: absolute;
  width: 260px;
  background: #303030;
  border-radius: 16px;
  border: 1px solid #424242;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
  padding: 6px 0;
  z-index: 30;

  ${a=>a.$direction==="down"?`
        top: 48px;
        left: 0;
      `:`
        bottom: 48px;
        left: 0;
      `}
`,AttachMenuItem=pt.button`
  width: 100%;
  border: none;
  background: transparent;
  padding: 8px 14px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 15px;
  color: #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #464646;
  }

  span {
    flex: 1;
    text-align: left;
  }
`,AttachMenuDivider=pt.div`
  height: 1px;
  margin: 4px 0;
  background: #424242;
`,SourceActions=pt.div`
  display: flex;
  align-items: center;
  margin-left: 4px;
`,SourceStatusButton=pt.button`
  border: none;
  background: transparent;
  padding: 0;
  margin: 0;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font: inherit;
  color: inherit;
  cursor: pointer;
`,SourcePartsMenu=pt(AttachMenu)`
  position: fixed; /* break out of the sidebar */
  z-index: 60; /* above chat pane (AttachMenu is 30) */
  width: 320px; /* a bit wider than the status chip menu */
  max-height: 320px; /* or 40vh, pick what feels better */
  overflow-y: auto; /* makes the menu scroll if content is too tall */

  /* Absolute screen coordinates from state */
  left: ${a=>a.$left!=null?`${a.$left}px`:"0px"};
  top: ${a=>a.$top!=null?`${a.$top}px`:"0px"};
  bottom: auto;
`,SourcePartRow=pt.div`
  padding: 6px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
`,SourcePartText=pt.div`
  flex: 1;
  min-width: 0;
`,SourcePartTitle=pt.div`
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,SourcePartMeta=pt.div`
  font-size: 12px;
  color: #9ca3af;
`,SourcePartRetryButton=pt.button`
  border: none;
  border-radius: 999px;
  padding: 4px 8px;
  font-size: 12px;
  background: #ef4444;
  color: #ffffff;
  cursor: pointer;

  &:hover {
    background: #f97373;
  }
`,TopRightUserShell=pt.div`
  position: absolute;
  top: 10px;
  right: 16px;
  z-index: 50;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 10px; /* NEW: space between Handouts chip and avatar */
`,UserAvatarButton=pt.button`
  border: none;
  padding: 0;
  margin: 0;
  border-radius: 999px;
  overflow: hidden;
  width: 36px;
  height: 36px;
  cursor: pointer;
  background: #111827;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    outline: 2px solid #374151;
  }
`,UserAvatarImage=pt.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`,UserAvatarInitials=pt.span`
  font-size: 14px;
  font-weight: 600;
  color: #e5e7eb;
`,ProfileMenu=pt(AttachMenu)`
  top: 44px;
  bottom: auto;
  right: 0;
  left: auto;
  width: 200px;
`,ContextMenuBackdrop=pt.div`
  position: fixed;
  inset: 0;
  z-index: 60;
`,ContextMenuCard=pt.div`
  position: absolute;
  top: ${a=>a.$top}px;
  left: ${a=>a.$left}px;
  min-width: 200px;
  background: #242424;
  border-radius: 18px;
  border: 1px solid #3a3a3a;
  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.7);
  padding: 6px 0;
`,ContextMenuItem=pt.button`
  width: 100%;
  border: none;
  background: transparent;
  padding: 8px 14px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #333333;
  }

  svg {
    flex-shrink: 0;
  }
`,ContextMenuItemDanger=pt(ContextMenuItem)`
  color: #f97373;
`,ContextMenuDivider=pt.div`
  height: 1px;
  margin: 4px 0;
  background: #3a3a3a;
`,ChatListSection=pt.div`
  margin-top: 24px;
  padding-top: 8px;
  border-top: 1px solid #303030;
  width: 100%; /* match the composer width inside NewChatCenter */
`,ChatListTitle=pt.div`
  font-size: 16px;
  font-weight: 600;
  color: #9ca3af;
  margin-bottom: 6px;
`,ChatList=pt.div`
  max-height: 350px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding-right: 4px; /* optional, small space for scrollbar */
`,ChatListItem=pt.button`
  width: 100%;
  border: none;
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 15px;
  text-align: left;
  background: ${a=>a.$active?"#303030":"transparent"};
  color: #e5e7eb;
  cursor: pointer;

  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 8px;

  position: relative; // NEW: so three dots can be absolutely positioned

  &:hover {
    background: #3a3a3a; // FIX: no quotes
  }
`,ChatListText=pt.div`
  flex: 1;
  min-width: 0;
`,ChatListItemTitle=pt.div`
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,ChatListItemPreview=pt.div`
  margin-top: 2px;
  font-size: 13px;
  color: #9ca3af;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,ChatListItemTime=pt.div`
  font-size: 12px;
  color: #6b7280;
  white-space: nowrap;
  margin-left: 4px;
  margin-right: 28px; // NEW: room for three dots
`;pt.div`
  font-size: 13px;
  color: #6b7280;
  margin-top: 2px;
`;const MessageContent=pt.div`
  max-width: ${a=>a.$role==="user"?"68%":"100%"};
  width: ${a=>a.$role==="user"?"auto":"100%"};
  display: flex;
  flex-direction: column;
  gap: 4px;
  align-items: ${a=>a.$role==="user"?"flex-end":"flex-start"};
`,ChatHeaderTopRow=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
`,ChatHeaderTitleBlock=pt.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
`,InstructionButton=pt.button`
  padding: 8px 16px; /* bigger */
  border-radius: 999px;
  border: 0.1px solid #6b7280;
  background: transparent;
  color: #e5e7eb;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  flex-shrink: 0;

  &:hover {
    background: rgba(248, 250, 252, 0.06);
  }

  &:disabled {
    opacity: 0.5;
    cursor: default;
    border-color: #6b7280;
  }

  svg {
    width: 14px;
    height: 14px;
  }
`,ModalBody=pt.div`
  margin-top: 12px;
  margin-bottom: 16px;
`,ModalTextarea=pt.textarea`
  width: 100%;
  min-height: 220px;
  border-radius: 12px;
  border: 1px solid #1f2937;
  background: #020617;
  color: #e5e7eb;
  padding: 12px 14px; /* slightly roomier padding */
  font-size: 14px;
  resize: vertical;

  &::placeholder {
    color: #6b7280;
  }

  &:focus {
    outline: none;
    border-color: #2563eb;
  }
`;pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
`;const HandoutNavButton=pt.button`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid #4b5563;
  background: #020617;
  color: #e5e7eb;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease, color 0.12s ease;

  &:hover {
    background: #111827;
    border-color: #6b7280;
  }

  &:disabled {
    opacity: 0.6;
    cursor: default;
  }
`,MAX_ATTACHMENTS_PER_MESSAGE=10,MAX_FILE_SIZE_BYTES=20*1024*1024;function PersonalChatShell({currentUser:a}){const{personalChatId:e}=useParams(),o=!!e,c=useNavigate(),[et,tt]=reactExports.useState([]),[nt,rt]=reactExports.useState(""),[mt,gt]=reactExports.useState([]),[yt,vt]=reactExports.useState([]),[xt,bt]=reactExports.useState(!1),Et=reactExports.useRef(null),[wt,St]=reactExports.useState({}),Tt=reactExports.useRef(null),kt=reactExports.useRef(null),_t=reactExports.useRef(null),Mt=reactExports.useRef(null),Pt=reactExports.useRef(null),[It,Dt]=reactExports.useState(!1),[Ct,At]=reactExports.useState(null),[Lt,jt]=reactExports.useState(!1),[Bt,zt]=reactExports.useState(!1);useClickOutside(Tt,()=>bt(!1),xt),reactExports.useEffect(()=>{Dt(!1),rt(""),jt(!1)},[e]),reactExports.useEffect(()=>{if(!a||!e||Lt||et.length===0)return;const nn=et.some(gn=>gn.role==="assistant"),sn=et[et.length-1];if(!nn&&sn.role==="user"){jt(!0);const gn=et.map(fn=>({role:fn.role,content:fn.content}));Dt(!0),Zt(a.uid,e,gn,sn.id,Bt)}},[a,e,et,Lt]);const Yt=(nn="auto")=>{kt.current&&kt.current.scrollIntoView({behavior:nn,block:"end"})};reactExports.useEffect(()=>{!It||!Pt.current||Pt.current.scrollIntoView({behavior:"smooth",block:"end"})},[It]),reactExports.useEffect(()=>{e&&et.length!==0&&Yt("auto")},[e,et.length]),reactExports.useEffect(()=>{if(!_t.current||!Mt.current||et.length===0)return;const nn=et[et.length-1];if(!nn||nn.role!=="user")return;const sn=_t.current,gn=Mt.current,fn=sn.getBoundingClientRect(),rr=gn.getBoundingClientRect().bottom-fn.top-72,Bn=Math.max(0,sn.scrollTop+rr);sn.scrollTo({top:Bn,behavior:"smooth"})},[et.length,_t,Mt]),reactExports.useEffect(()=>{if(!a||!e){tt([]);return}const nn=collection(firestore,"vetPersonalChats",a.uid,"chats",e,"messages"),sn=query(nn,orderBy("createdAt","asc")),gn=onSnapshot(sn,fn=>{const In=[];fn.forEach(Dn=>In.push({id:Dn.id,...Dn.data()})),tt(In)});return()=>gn()},[a,e]),reactExports.useEffect(()=>{if(!a){gt([]);return}const nn=collection(firestore,"vetPersonalChats",a.uid,"attachments"),gn=query(nn,where("chatId","==",e||null),orderBy("createdAt","asc")),fn=onSnapshot(gn,In=>{const Dn=[];In.forEach(Gn=>Dn.push({id:Gn.id,...Gn.data()})),gt(Dn)});return()=>fn()},[a,e]),reactExports.useEffect(()=>{vt([])},[e]);const en=mt.some(nn=>yt.includes(nn.id)&&nn.status==="uploading"),rn=()=>{if(!a){alert("Please log in first.");return}zt(!0),bt(!1)},on=()=>{zt(!1)},Zt=async(nn,sn,gn,fn,In)=>{try{const Gn=await fetch("https://us-central1-vetcationapp.cloudfunctions.net/vetPersonalAssistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vetUid:nn,chatId:sn,messages:gn,triggerMessageId:fn,webSearchEnabled:!!In})});let rr;try{rr=await Gn.json()}catch(Sn){throw console.error("Failed to parse vetPersonalAssistant JSON",Sn),new Error(`Non-JSON response from vetPersonalAssistant (status ${Gn.status})`)}const Bn=doc(firestore,"vetPersonalChats",nn,"chats",sn),An=collection(Bn,"messages");if(!Gn.ok){console.error("vetPersonalAssistant HTTP error:",Gn.status,rr),await addDoc(An,{role:"assistant",content:(rr==null?void 0:rr.error)||"Sorry, the AI assistant ran into an error. Please try again.",createdAt:serverTimestamp()}),Dt(!1);return}await addDoc(An,{role:"assistant",content:rr.reply,structured:rr.structured||null,sources:rr.sources||[],createdAt:serverTimestamp()}),await updateDoc(Bn,{updatedAt:serverTimestamp(),lastMessagePreview:rr.reply.slice(0,140)}),Dt(!1)}catch(Dn){console.error("Personal assistant call failed:",Dn),Dt(!1)}},an=()=>{if(!a){alert("Please log in first.");return}bt(nn=>!nn)},Xt=()=>{Et.current&&(Et.current.value="",Et.current.click())},yn=nn=>{const sn=((nn==null?void 0:nn.name)||"").trim().toLowerCase(),gn=typeof(nn==null?void 0:nn.size)=="number"?nn.size:0,fn=typeof(nn==null?void 0:nn.lastModified)=="number"?nn.lastModified:0;return`${sn}__${gn}__${fn}`},vn=nn=>{const sn=((nn==null?void 0:nn.fileName)||(nn==null?void 0:nn.title)||"").trim().toLowerCase(),gn=typeof(nn==null?void 0:nn.fileSizeBytes)=="number"?nn.fileSizeBytes:0,fn=typeof(nn==null?void 0:nn.fileLastModified)=="number"?nn.fileLastModified:0;return`${sn}__${gn}__${fn}`},Nt=async(nn,sn)=>{const gn=collection(firestore,"vetPersonalChats",a.uid,"attachments"),fn=await addDoc(gn,{vetUid:a.uid,chatId:e||null,messageId:null,title:nn.name,fileName:nn.name,fileSizeBytes:nn.size,fileLastModified:nn.lastModified||null,fileFingerprint:sn,status:"uploading",filePath:null,downloadUrl:null,createdAt:serverTimestamp(),updatedAt:serverTimestamp()}),In=fn.id;vt(Bn=>Bn.includes(In)?Bn:[...Bn,In]),St(Bn=>({...Bn,[In]:0}));const Dn=`aiPersonalUploads/${a.uid}/${e||"pending"}/${In}.pdf`,Gn=ref(storage,Dn);uploadBytesResumable(Gn,nn).on("state_changed",Bn=>{const An=Bn.totalBytes?Math.round(Bn.bytesTransferred/Bn.totalBytes*100):0;St(Sn=>({...Sn,[In]:An}))},async Bn=>{console.error("Attachment upload error",Bn),await updateDoc(fn,{status:"error",updatedAt:serverTimestamp()}),St(An=>{const{[In]:Sn,...xn}=An;return xn})},async()=>{const Bn=await getDownloadURL(Gn);await updateDoc(fn,{status:"uploaded",filePath:Dn,downloadUrl:Bn,updatedAt:serverTimestamp()}),St(An=>{const{[In]:Sn,...xn}=An;return xn})})},$t=async nn=>{const sn=Array.from(nn.target.files||[]);if(sn.length){if(!a){alert("Please log in first.");return}try{bt(!1);let gn=sn.filter(An=>An&&(An.type==="application/pdf"||typeof An.name=="string"&&An.name.toLowerCase().endsWith(".pdf")));if(!gn.length||gn.filter(An=>typeof An.size=="number"&&An.size>MAX_FILE_SIZE_BYTES).length&&(alert("Some files are larger than 10 MB and were skipped."),gn=gn.filter(An=>typeof An.size=="number"&&An.size<=MAX_FILE_SIZE_BYTES),!gn.length))return;const In=new Set(mt.filter(An=>yt.includes(An.id)).map(An=>An.fileFingerprint||vn(An))),Dn=new Set;let Gn=[];for(const An of gn){const Sn=yn(An);Dn.has(Sn)||(Dn.add(Sn),!In.has(Sn)&&(In.add(Sn),Gn.push({file:An,fp:Sn})))}if(!Gn.length)return;const rr=yt.length;if(rr>=MAX_ATTACHMENTS_PER_MESSAGE){alert("You can attach up to 10 files per message. Remove one before adding more.");return}const Bn=MAX_ATTACHMENTS_PER_MESSAGE-rr;if(Gn.length>Bn&&(alert(`You can only add ${Bn} more attachment${Bn===1?"":"s"} (limit is 10). The rest were skipped.`),Gn=Gn.slice(0,Bn)),!Gn.length)return;await Promise.all(Gn.map(({file:An,fp:Sn})=>Nt(An,Sn)))}catch(gn){console.error("Failed to attach files",gn),alert("Could not attach file(s). Please try again.")}finally{nn.target.value=""}}},Ot=nn=>{a&&At({id:nn.id,title:nn.title||"Attachment",filePath:nn.filePath||null})},Ft=()=>nt.trim()?a?en?(alert("Please wait for attachments to finish uploading before sending."),!1):!0:(alert("Please log in first."),!1):!1,Ut=async()=>{if(!Ft())return;const nn=nt.trim();if(rt(""),!!a)if(o)try{const sn=doc(firestore,"vetPersonalChats",a.uid,"chats",e),gn=collection(sn,"messages"),fn=et.map(Bn=>({role:Bn.role,content:Bn.content})),In={role:"user",content:nn},Gn=(await addDoc(gn,{role:"user",content:nn,createdAt:serverTimestamp()})).id;if(await updateDoc(sn,{updatedAt:serverTimestamp(),lastMessagePreview:nn.slice(0,140)}),yt.length>0){const Bn=serverTimestamp();await Promise.all(yt.map(An=>updateDoc(doc(firestore,"vetPersonalChats",a.uid,"attachments",An),{chatId:e,messageId:Gn,updatedAt:Bn}).catch(Sn=>{console.warn("Failed to link attachment",An,Sn)})))}vt([]);const rr=[...fn,In];Dt(!0),await Zt(a.uid,e,rr,Gn,Bt),Yt("smooth"),vt([])}catch(sn){console.error("Failed to send message:",sn),alert("Could not send message. Please try again.")}else try{const sn=collection(firestore,"vetPersonalChats",a.uid,"chats"),gn=await addDoc(sn,{vetUid:a.uid,title:null,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),lastMessagePreview:nn.slice(0,140)}),fn=gn.id,In=collection(gn,"messages"),Gn=(await addDoc(In,{role:"user",content:nn,createdAt:serverTimestamp()})).id,rr=nn.length>40?nn.slice(0,40).trimEnd()+"...":nn;if(await updateDoc(gn,{title:rr}),yt.length>0){const Bn=serverTimestamp();await Promise.all(yt.map(An=>updateDoc(doc(firestore,"vetPersonalChats",a.uid,"attachments",An),{chatId:fn,messageId:Gn,updatedAt:Bn}).catch(Sn=>{console.warn("Failed to link attachment",An,Sn)})))}vt([]),c(`/ai/library/personal/${fn}`,{replace:!0})}catch(sn){console.error("Failed to start personal chat:",sn),alert("Could not start chat. Please try again.")}},Gt=nn=>{nn.preventDefault(),Ut()},Vt=nn=>{const sn=nn.target;rt(sn.value),sn.style.height="0px";const fn=Math.min(sn.scrollHeight,260);sn.style.height=fn+"px"},Kt=nn=>{nn.key==="Enter"&&!nn.shiftKey&&(nn.preventDefault(),Ut())},Jt=()=>{const nn=mt.filter(sn=>yt.includes(sn.id));return nn.length===0?null:jsxRuntimeExports.jsx(AttachBar,{children:nn.map(sn=>{const gn=sn.status==="uploading",fn=typeof wt[sn.id]=="number"?wt[sn.id]:null,In=fn!=null?Math.min(100,Math.max(0,fn)):null;let Dn="";return gn?Dn=In!=null?`Uploading ${In}%`:"Uploading":sn.status==="uploaded"?Dn="Uploaded":sn.status==="processing"?Dn="Processing":sn.status==="error"?Dn="Error":sn.status&&(Dn=sn.status),jsxRuntimeExports.jsxs(AttachChip,{children:[gn&&In!=null?jsxRuntimeExports.jsx(AttachProgressRing,{$percent:In,children:jsxRuntimeExports.jsx(AttachProgressInner,{children:In>0&&In<100?`${In}`:""})}):jsxRuntimeExports.jsx(FiFileText,{size:14}),jsxRuntimeExports.jsx(AttachFilename,{title:sn.title||"Attachment",children:sn.title||"Attachment"}),Dn&&jsxRuntimeExports.jsx(AttachStatus,{children:Dn}),jsxRuntimeExports.jsx(AttachRemoveButton,{type:"button",onClick:()=>Ot(sn),title:"Remove attachment",children:""})]},sn.id)})})};return jsxRuntimeExports.jsxs(ChatPane,{children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,ref:Et,style:{display:"none"},onChange:$t}),jsxRuntimeExports.jsx(ChatInner,{children:o?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[et.length===0?jsxRuntimeExports.jsx(ChatEmptyState,{children:"Loading conversation"}):jsxRuntimeExports.jsxs(Messages,{ref:_t,children:[et.map((nn,sn)=>{const gn=mt.filter(In=>In.messageId===nn.id),fn=sn===et.length-1;return jsxRuntimeExports.jsx(MessageRow,{$role:nn.role,ref:fn?Mt:null,children:jsxRuntimeExports.jsxs(MessageContent,{$role:nn.role,children:[gn.length>0&&jsxRuntimeExports.jsx(AttachBar,{style:{marginBottom:4},children:gn.map(In=>jsxRuntimeExports.jsxs(AttachChip,{as:In.downloadUrl?"a":"div",href:In.downloadUrl||void 0,target:In.downloadUrl?"_blank":void 0,rel:In.downloadUrl?"noreferrer":void 0,children:[jsxRuntimeExports.jsx(FiFileText,{size:14}),jsxRuntimeExports.jsx(AttachFilename,{title:In.title||"Attachment",children:In.title||"Attachment"}),In.status&&jsxRuntimeExports.jsx(AttachStatus,{children:In.status==="uploaded"?"Attached":In.status==="processing"?"Processing":In.status==="error"?"Error":In.status})]},In.id))}),jsxRuntimeExports.jsx(Bubble,{$role:nn.role,children:nn.role==="assistant"?jsxRuntimeExports.jsx(AssistantMessageBubble,{message:nn}):nn.content})]})},nn.id)}),It&&jsxRuntimeExports.jsx(ThinkingRow,{ref:Pt,children:jsxRuntimeExports.jsx(MessageContent,{$role:"assistant",children:jsxRuntimeExports.jsxs(ThinkingBubble,{$role:"assistant",children:[jsxRuntimeExports.jsx(ThinkingLabel,{children:"Thinking"}),jsxRuntimeExports.jsxs(ThinkingDots,{children:[jsxRuntimeExports.jsx(ThinkingDot,{}),jsxRuntimeExports.jsx(ThinkingDot,{$delay:"0.15s"}),jsxRuntimeExports.jsx(ThinkingDot,{$delay:"0.3s"})]})]})})}),jsxRuntimeExports.jsx("div",{ref:kt})]}),jsxRuntimeExports.jsx(InputRow,{onSubmit:Gt,children:jsxRuntimeExports.jsxs(ComposerShell,{children:[jsxRuntimeExports.jsxs(ComposerColumn,{children:[Jt(),jsxRuntimeExports.jsx(TextInput$2,{value:nt,onChange:Vt,onKeyDown:Kt,placeholder:"Ask anything you want to study...",disabled:!a})]}),jsxRuntimeExports.jsxs(ComposerBottomRow,{children:[jsxRuntimeExports.jsxs(ComposerBottomLeft,{children:[jsxRuntimeExports.jsxs(AttachButtonWrapper,{ref:Tt,children:[jsxRuntimeExports.jsx(AttachIconButton,{type:"button",onClick:an,disabled:!a,"aria-label":"Add attachment",children:jsxRuntimeExports.jsx(FiPlus,{})}),xt&&jsxRuntimeExports.jsxs(AttachMenu,{$direction:"up",children:[jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:Xt,children:[jsxRuntimeExports.jsx(FiPaperclip,{}),jsxRuntimeExports.jsx("span",{children:"Add lab report / PDF"})]}),jsxRuntimeExports.jsx(AttachMenuDivider,{}),jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:rn,children:[jsxRuntimeExports.jsx(FiGlobe,{}),jsxRuntimeExports.jsx("span",{children:"Enable web search"})]})]})]}),Bt&&jsxRuntimeExports.jsxs(WebSearchPill,{type:"button",onClick:on,title:"Disable web search for this turn",children:[jsxRuntimeExports.jsxs("span",{className:"pill-icon","aria-hidden":"true",children:[jsxRuntimeExports.jsx(FiGlobe,{className:"icon-main",size:14}),jsxRuntimeExports.jsx("span",{className:"icon-x",children:""})]}),jsxRuntimeExports.jsx("span",{className:"pill-label",children:"Search web"})]})]}),jsxRuntimeExports.jsx(ComposerBottomRight,{children:jsxRuntimeExports.jsx(SendFabButton,{type:"submit",disabled:!a||!nt.trim()||en,children:jsxRuntimeExports.jsx(FiSend,{})})})]})]})})]}):jsxRuntimeExports.jsxs(NewChatCenter,{children:[jsxRuntimeExports.jsxs(ChatHeader,{$isNewChat:!0,$isCentered:!0,children:[jsxRuntimeExports.jsx(ChatTitle,{children:"What do you want to learn today?"}),jsxRuntimeExports.jsx(ChatSubtitle,{children:"Use this space for personal study. Ask questions and reference your uploaded library."})]}),jsxRuntimeExports.jsx(InputRow,{onSubmit:Gt,style:{width:"100%"},children:jsxRuntimeExports.jsxs(ComposerShell,{children:[jsxRuntimeExports.jsxs(ComposerColumn,{children:[Jt(),jsxRuntimeExports.jsx(TextInput$2,{value:nt,onChange:Vt,onKeyDown:Kt,placeholder:"Type a question you want to learn about...",disabled:!a})]}),jsxRuntimeExports.jsxs(ComposerBottomRow,{children:[jsxRuntimeExports.jsxs(ComposerBottomLeft,{children:[jsxRuntimeExports.jsxs(AttachButtonWrapper,{ref:Tt,children:[jsxRuntimeExports.jsx(AttachIconButton,{type:"button",onClick:an,disabled:!a,"aria-label":"Add attachment",children:jsxRuntimeExports.jsx(FiPlus,{})}),xt&&jsxRuntimeExports.jsxs(AttachMenu,{$direction:"up",children:[jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:Xt,children:[jsxRuntimeExports.jsx(FiPaperclip,{}),jsxRuntimeExports.jsx("span",{children:"Add lab report / PDF"})]}),jsxRuntimeExports.jsx(AttachMenuDivider,{}),jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:rn,children:[jsxRuntimeExports.jsx(FiGlobe,{}),jsxRuntimeExports.jsx("span",{children:"Enable web search"})]})]})]}),Bt&&jsxRuntimeExports.jsxs(WebSearchPill,{type:"button",onClick:on,title:"Disable web search for this turn",children:[jsxRuntimeExports.jsxs("span",{className:"pill-icon","aria-hidden":"true",children:[jsxRuntimeExports.jsx(FiGlobe,{className:"icon-main",size:14}),jsxRuntimeExports.jsx("span",{className:"icon-x",children:""})]}),jsxRuntimeExports.jsx("span",{className:"pill-label",children:"Search web"})]})]}),jsxRuntimeExports.jsx(ComposerBottomRight,{children:jsxRuntimeExports.jsx(SendFabButton,{type:"submit",disabled:!a||!nt.trim()||en,children:jsxRuntimeExports.jsx(FiSend,{})})})]})]})})]})}),Ct&&jsxRuntimeExports.jsx(ModalOverlay$1,{onClick:()=>{At(null)},children:jsxRuntimeExports.jsxs(ModalCard$1,{onClick:nn=>{nn.stopPropagation()},children:[jsxRuntimeExports.jsx(ModalTitle$1,{children:"Remove attachment"}),jsxRuntimeExports.jsx(ModalSubtitle,{children:`This will remove "${Ct.title}" from this message.`}),jsxRuntimeExports.jsxs(ModalActions$1,{children:[jsxRuntimeExports.jsx(ModalSecondaryButton,{type:"button",onClick:()=>At(null),children:"Cancel"}),jsxRuntimeExports.jsx(ModalPrimaryButton,{type:"button",onClick:async()=>{try{if(vt(nn=>nn.filter(sn=>sn!==Ct.id)),Ct.filePath)try{const nn=ref(storage,Ct.filePath);await deleteObject(nn)}catch(nn){console.warn("Failed to delete attachment file from Storage",nn)}if(a){const nn=doc(firestore,"vetPersonalChats",a.uid,"attachments",Ct.id);await deleteDoc(nn)}}catch(nn){console.error("Failed to remove attachment",nn),alert("Could not remove attachment. Please try again.")}finally{At(null)}},children:"Delete"})]})]})})]})}function ChatShell({currentUser:a,cases:e,activeCaseChats:o,onNewPatient:c,rowMenu:et,onOpenChatContextMenu:tt,editingChatId:nt,editingChatOrigin:rt,editingChatTitle:mt,setEditingChatTitle:gt,handleInlineChatKeyDown:yt,commitChatRename:vt}){const{caseId:xt,chatId:bt}=useParams(),Et=useNavigate(),[wt,St]=reactExports.useState([]),[Tt,kt]=reactExports.useState(""),[_t,Mt]=reactExports.useState([]),[Pt,It]=reactExports.useState([]),[Dt,Ct]=reactExports.useState(!1),At=reactExports.useRef(null),[Lt,jt]=reactExports.useState({}),Bt=reactExports.useRef(null),zt=reactExports.useRef(null),Yt=reactExports.useRef(null),en=reactExports.useRef(null),rn=reactExports.useRef(null),[on,Zt]=reactExports.useState(!1),[an,Xt]=reactExports.useState(null),[yn,vn]=reactExports.useState(!1),[Nt,$t]=reactExports.useState(!1),[Ot,Ft]=reactExports.useState(""),[Ut,Gt]=reactExports.useState(!1),[Vt,Kt]=reactExports.useState(!1),[Jt,nn]=reactExports.useState(""),[sn,gn]=reactExports.useState(!1),[fn,In]=reactExports.useState(10),Dn=10,Gn=xt&&e.find(hn=>hn.id===xt)||null,rr=Array.isArray(e)&&e.length>0,Bn=hn=>{const Pn=hn.currentTarget;Pn.scrollTop+Pn.clientHeight>=Pn.scrollHeight-40&&fn<o.length&&In(Zn=>Math.min(Zn+Dn,o.length))},An=(hn="auto")=>{Bt.current&&Bt.current.scrollIntoView({behavior:hn,block:"end"})};reactExports.useEffect(()=>{In(Dn)},[xt]),reactExports.useEffect(()=>{if(!xt){Ft(""),Gt(!1);return}const hn=doc(firestore,"vetAiCases",xt),Pn=onSnapshot(hn,Tn=>{const Zn=Tn.exists()?Tn.data():null,$n=Zn&&typeof Zn.instruction=="string"?Zn.instruction.trim():"";Ft($n),bt||Gt(!!$n)});return()=>Pn()},[xt,bt]),useClickOutside(rn,()=>Ct(!1),Dt),reactExports.useEffect(()=>{Zt(!1),kt(""),vn(!1)},[xt,bt]),reactExports.useEffect(()=>{if(!a||!xt||!bt||yn||wt.length===0)return;const hn=wt.some(Tn=>Tn.role==="assistant"),Pn=wt[wt.length-1];if(!hn&&Pn.role==="user"){vn(!0);const Tn=wt.map(Zn=>({role:Zn.role,content:Zn.content}));Zt(!0),ir(a.uid,xt,bt,Tn,Pn.id,Nt,Ut&&!!Ot)}},[a,xt,bt,wt,yn,Nt,Ut,Ot]),reactExports.useEffect(()=>{!on||!en.current||en.current.scrollIntoView({behavior:"smooth",block:"end"})},[on]),reactExports.useEffect(()=>{bt&&wt.length!==0&&An("auto")},[bt,wt.length]),reactExports.useEffect(()=>{if(!zt.current||!Yt.current||wt.length===0)return;const hn=wt[wt.length-1];if(!hn||hn.role!=="user")return;const Pn=zt.current,Tn=Yt.current,Zn=Pn.getBoundingClientRect(),cn=Tn.getBoundingClientRect().bottom-Zn.top-72,qt=Math.max(0,Pn.scrollTop+cn);Pn.scrollTo({top:qt,behavior:"smooth"})},[wt.length,zt,Yt]),reactExports.useEffect(()=>{if(!a||!xt||!bt){St([]);return}const hn=collection(firestore,"vetAiCases",xt,"chats",bt,"messages"),Pn=query(hn,orderBy("createdAt","asc")),Tn=onSnapshot(Pn,Zn=>{const $n=[];Zn.forEach(qn=>$n.push({id:qn.id,...qn.data()})),St($n)});return()=>Tn()},[a,xt,bt]),reactExports.useEffect(()=>{if(!a||!xt){Mt([]);return}const hn=collection(firestore,"vetAiCases",xt,"attachments"),Pn=query(hn,orderBy("createdAt","asc")),Tn=onSnapshot(Pn,Zn=>{const $n=[];Zn.forEach(qn=>$n.push({id:qn.id,...qn.data()})),Mt($n)});return()=>Tn()},[a,xt]),reactExports.useEffect(()=>{It([])},[xt,bt]);const Sn=()=>{if(!a){alert("Please log in first.");return}if(!xt){alert("Create or select a project first.");return}$t(!0),Ct(!1)},xn=()=>{$t(!1)},wn=()=>{if(!a){alert("Please log in first.");return}if(!xt){alert("Create or select a project first.");return}nn(Ot||""),Kt(!0)},jn=()=>{sn||Kt(!1)},pn=async()=>{if(!a||!xt)return;const hn=Jt.trim();try{gn(!0);const Pn=doc(firestore,"vetAiCases",xt);await updateDoc(Pn,{instruction:hn||null,updatedAt:serverTimestamp()}),Ft(hn),bt?hn||Gt(!1):Gt(!!hn),Kt(!1)}catch(Pn){console.error("Failed to save instruction",Pn),alert("Could not save instruction. Please try again.")}finally{gn(!1)}},Rn=()=>{if(!a){alert("Please log in first.");return}if(!xt){alert("Create or select a project first.");return}if(!Ot||!Ot.trim()){nn(""),Kt(!0),Ct(!1);return}Gt(!0),Ct(!1)},Kn=()=>{Gt(!1)},tr=_t.some(hn=>Pt.includes(hn.id)&&hn.status==="uploading"),ir=async(hn,Pn,Tn,Zn,$n,qn,Wn)=>{try{const qt=await fetch("https://us-central1-vetcationapp.cloudfunctions.net/vetCaseAssistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vetUid:hn,caseId:Pn,chatId:Tn,messages:Zn,triggerMessageId:$n,webSearchEnabled:!!qn,useInstruction:!!Wn})});let tn;try{tn=await qt.json()}catch(Cn){throw console.error("Failed to parse vetCaseAssistant response JSON",Cn),new Error(`Non-JSON response from vetCaseAssistant (status ${qt.status})`)}if(!qt.ok){console.error("vetCaseAssistant HTTP error:",qt.status,tn);const Cn=doc(firestore,"vetAiCases",Pn,"chats",Tn),Nn=collection(Cn,"messages");await addDoc(Nn,{role:"assistant",content:(tn==null?void 0:tn.error)||"Sorry, the AI assistant ran into an error. Please try again.",createdAt:serverTimestamp()}),Zt(!1);return}const un=doc(firestore,"vetAiCases",Pn,"chats",Tn),kn=collection(un,"messages");await addDoc(kn,{role:"assistant",content:tn.reply,structured:tn.structured||null,sources:tn.sources||[],createdAt:serverTimestamp()}),await updateDoc(un,{updatedAt:serverTimestamp(),lastMessagePreview:tn.reply.slice(0,140)}),Zt(!1)}catch(cn){console.error("Assistant call failed:",cn),Zt(!1)}},On=()=>{if(!a){alert("Please log in first.");return}if(!xt){alert("Create or select a project first.");return}Ct(hn=>!hn)},Qn=()=>{At.current&&(At.current.value="",At.current.click())},Xn=hn=>{const Pn=((hn==null?void 0:hn.name)||"").trim().toLowerCase(),Tn=typeof(hn==null?void 0:hn.size)=="number"?hn.size:0,Zn=typeof(hn==null?void 0:hn.lastModified)=="number"?hn.lastModified:0;return`${Pn}__${Tn}__${Zn}`},or=hn=>{const Pn=((hn==null?void 0:hn.fileName)||(hn==null?void 0:hn.title)||"").trim().toLowerCase(),Tn=typeof(hn==null?void 0:hn.fileSizeBytes)=="number"?hn.fileSizeBytes:0,Zn=typeof(hn==null?void 0:hn.fileLastModified)=="number"?hn.fileLastModified:0;return`${Pn}__${Tn}__${Zn}`},lr=async(hn,Pn)=>{const Tn=collection(firestore,"vetAiCases",xt,"attachments"),Zn=await addDoc(Tn,{vetUid:a.uid,caseId:xt,chatId:null,messageId:null,title:hn.name,fileName:hn.name,fileSizeBytes:hn.size,fileLastModified:hn.lastModified||null,fileFingerprint:Pn,status:"uploading",filePath:null,downloadUrl:null,createdAt:serverTimestamp(),updatedAt:serverTimestamp()}),$n=Zn.id;It(qt=>qt.includes($n)?qt:[...qt,$n]),jt(qt=>({...qt,[$n]:0}));const qn=`aiCaseUploads/${a.uid}/${xt}/${$n}.pdf`,Wn=ref(storage,qn);uploadBytesResumable(Wn,hn).on("state_changed",qt=>{const tn=qt.totalBytes?Math.round(qt.bytesTransferred/qt.totalBytes*100):0;jt(un=>({...un,[$n]:tn}))},async qt=>{console.error("Attachment upload error",qt),await updateDoc(Zn,{status:"error",updatedAt:serverTimestamp()}),jt(tn=>{const{[$n]:un,...kn}=tn;return kn})},async()=>{const qt=await getDownloadURL(Wn);await updateDoc(Zn,{status:"uploaded",filePath:qn,downloadUrl:qt,updatedAt:serverTimestamp()}),jt(tn=>{const{[$n]:un,...kn}=tn;return kn})})},Un=async hn=>{const Pn=Array.from(hn.target.files||[]);if(Pn.length){if(!a){alert("Please log in first.");return}if(!xt){alert("Create or select a project first.");return}try{Ct(!1);let Tn=Pn.filter(tn=>tn&&(tn.type==="application/pdf"||typeof tn.name=="string"&&tn.name.toLowerCase().endsWith(".pdf")));if(!Tn.length||Tn.filter(tn=>typeof tn.size=="number"&&tn.size>MAX_FILE_SIZE_BYTES).length&&(alert("Some files are larger than 10 MB and were skipped."),Tn=Tn.filter(tn=>typeof tn.size=="number"&&tn.size<=MAX_FILE_SIZE_BYTES),!Tn.length))return;const $n=new Set(_t.filter(tn=>Pt.includes(tn.id)).map(tn=>tn.fileFingerprint||or(tn))),qn=new Set;let Wn=[];for(const tn of Tn){const un=Xn(tn);qn.has(un)||(qn.add(un),!$n.has(un)&&($n.add(un),Wn.push({file:tn,fp:un})))}if(!Wn.length)return;const cn=Pt.length;if(cn>=MAX_ATTACHMENTS_PER_MESSAGE){alert("You can attach up to 10 files per message. Remove one before adding more.");return}const qt=MAX_ATTACHMENTS_PER_MESSAGE-cn;if(Wn.length>qt&&(alert(`You can only add ${qt} more attachment${qt===1?"":"s"} (limit is 10). The rest were skipped.`),Wn=Wn.slice(0,qt)),!Wn.length)return;await Promise.all(Wn.map(({file:tn,fp:un})=>lr(tn,un)))}catch(Tn){console.error("Failed to attach files",Tn),alert("Could not attach file(s). Please try again.")}finally{hn.target.value=""}}},En=hn=>{!a||!xt||Xt({id:hn.id,title:hn.title||"Attachment",filePath:hn.filePath||null})},mn=()=>Tt.trim()?a?xt?tr?(alert("Please wait for attachments to finish uploading before sending."),!1):!0:(alert("Create or select a project first."),!1):(alert("Please log in first."),!1):!1,Fn=async()=>{if(!mn())return;const hn=Tt.trim();if(kt(""),bt)try{const Pn=doc(firestore,"vetAiCases",xt,"chats",bt),Tn=collection(Pn,"messages"),Zn=wt.map(qt=>({role:qt.role,content:qt.content})),$n={role:"user",content:hn},Wn=(await addDoc(Tn,{role:"user",content:hn,createdAt:serverTimestamp()})).id;if(await updateDoc(Pn,{updatedAt:serverTimestamp(),lastMessagePreview:hn.slice(0,140)}),Pt.length>0){const qt=serverTimestamp();await Promise.all(Pt.map(tn=>updateDoc(doc(firestore,"vetAiCases",xt,"attachments",tn),{chatId:bt,messageId:Wn,updatedAt:qt}).catch(un=>{console.warn("Failed to link attachment",tn,un)})))}It([]);const cn=[...Zn,$n];Zt(!0),await ir(a.uid,xt,bt,cn,Wn,Nt,Ut&&!!Ot),An("smooth"),It([])}catch(Pn){console.error("Failed to send message:",Pn),alert("Could not send message. Please try again.")}else try{const Pn=collection(firestore,"vetAiCases",xt,"chats"),Tn=await addDoc(Pn,{vetUid:a.uid,caseId:xt,title:null,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),lastMessagePreview:hn.slice(0,140)}),Zn=collection(Tn,"messages"),qn=(await addDoc(Zn,{role:"user",content:hn,createdAt:serverTimestamp()})).id,Wn=Tn.id,cn=hn.length>40?hn.slice(0,40).trimEnd()+"...":hn;if(await updateDoc(Tn,{title:cn}),Pt.length>0){const qt=serverTimestamp();await Promise.all(Pt.map(tn=>updateDoc(doc(firestore,"vetAiCases",xt,"attachments",tn),{chatId:Wn,messageId:qn,updatedAt:qt}).catch(un=>{console.warn("Failed to link attachment",tn,un)})))}It([]),Et(`/ai/library/p/${xt}/c/${Wn}`,{replace:!0})}catch(Pn){console.error("Failed to start new chat:",Pn),alert("Could not start chat. Please try again.")}},gr=hn=>{hn.preventDefault(),Fn()},Ln=hn=>{const Pn=hn.target;kt(Pn.value),Pn.style.height="0px";const Zn=Math.min(Pn.scrollHeight,260);Pn.style.height=Zn+"px"},dn=hn=>{hn.key==="Enter"&&!hn.shiftKey&&(hn.preventDefault(),Fn())},zn=hn=>{xt&&Et(`/ai/library/p/${xt}/c/${hn}`)},Yn=()=>{const hn=_t.filter(Pn=>Pt.includes(Pn.id));return hn.length===0?null:jsxRuntimeExports.jsx(AttachBar,{children:hn.map(Pn=>{const Tn=Pn.status==="uploading",Zn=typeof Lt[Pn.id]=="number"?Lt[Pn.id]:null,$n=Zn!=null?Math.min(100,Math.max(0,Zn)):null;let qn="";return Tn?qn=$n!=null?`Uploading ${$n}%`:"Uploading":Pn.status==="uploaded"?qn="Uploaded":Pn.status==="processing"?qn="Processing":Pn.status==="error"?qn="Error":Pn.status&&(qn=Pn.status),jsxRuntimeExports.jsxs(AttachChip,{children:[Tn&&$n!=null?jsxRuntimeExports.jsx(AttachProgressRing,{$percent:$n,children:jsxRuntimeExports.jsx(AttachProgressInner,{children:$n>0&&$n<100?`${$n}`:""})}):jsxRuntimeExports.jsx(FiFileText,{size:14}),jsxRuntimeExports.jsx(AttachFilename,{title:Pn.title||"Attachment",children:Pn.title||"Attachment"}),qn&&jsxRuntimeExports.jsx(AttachStatus,{children:qn}),jsxRuntimeExports.jsx(AttachRemoveButton,{type:"button",onClick:()=>En(Pn),title:"Remove attachment",children:""})]},Pn.id)})})};return jsxRuntimeExports.jsxs(ChatPane,{children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,ref:At,style:{display:"none"},onChange:Un}),jsxRuntimeExports.jsxs(ChatInner,{children:[!Gn&&(rr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(ChatHeader,{$isNewChat:!1,$isCentered:!0,children:[jsxRuntimeExports.jsx(ChatTitle,{children:"Start with a project"}),jsxRuntimeExports.jsx(ChatSubtitle,{children:"Select a project on the left to start an AI case conversation, or create a new one."})]}),jsxRuntimeExports.jsx(ChatEmptyState,{children:"Choose a project from the left sidebar to get started or use the New button above to create one."})]}):jsxRuntimeExports.jsx(CenterEmptyWrapper,{children:jsxRuntimeExports.jsxs(CenterEmptyCard,{children:[jsxRuntimeExports.jsx(CenterEmptyIcon,{children:jsxRuntimeExports.jsx(FiUser,{size:20})}),jsxRuntimeExports.jsx(CenterEmptyTitle,{children:"Create your first project"}),jsxRuntimeExports.jsx(CenterEmptySubtitle,{children:"Keep each AI case tied to a specific project so you can organize lab panels, notes, and conversations in one place."}),jsxRuntimeExports.jsxs(CenterEmptyPrimaryButton,{type:"button",onClick:()=>c&&c(),disabled:!a,children:[jsxRuntimeExports.jsx(FiPlus,{}),"New project"]}),!a&&jsxRuntimeExports.jsx(CenterEmptyHint,{children:"Sign in to create and save projects."})]})})),Gn&&!bt&&jsxRuntimeExports.jsxs(NewChatCenter,{children:[jsxRuntimeExports.jsx(ChatHeader,{$isNewChat:!0,children:jsxRuntimeExports.jsxs(ChatHeaderTopRow,{children:[jsxRuntimeExports.jsxs(ChatHeaderTitleBlock,{children:[jsxRuntimeExports.jsx(ChatTitle,{children:Gn.patientName}),jsxRuntimeExports.jsx(ChatSubtitle,{children:"Start a new chat for this customized chat, or open a previous one."})]}),jsxRuntimeExports.jsxs(InstructionButton,{type:"button",onClick:wn,disabled:!a||!xt,children:[jsxRuntimeExports.jsx(FiEdit3,{size:14}),jsxRuntimeExports.jsx("span",{children:"Instruction"})]})]})}),jsxRuntimeExports.jsx(InputRow,{onSubmit:gr,style:{width:"100%"},children:jsxRuntimeExports.jsxs(ComposerShell,{children:[jsxRuntimeExports.jsxs(ComposerColumn,{children:[Yn(),jsxRuntimeExports.jsx(TextInput$2,{value:Tt,onChange:Ln,onKeyDown:dn,placeholder:"New chat for this customized chat, for example: 'Help me interpret today's lab panel...'",disabled:!a})]}),jsxRuntimeExports.jsxs(ComposerBottomRow,{children:[jsxRuntimeExports.jsxs(ComposerBottomLeft,{children:[jsxRuntimeExports.jsxs(AttachButtonWrapper,{ref:rn,children:[jsxRuntimeExports.jsx(AttachIconButton,{type:"button",onClick:On,disabled:!a||!xt,"aria-label":"Add attachment",children:jsxRuntimeExports.jsx(FiPlus,{})}),Dt&&jsxRuntimeExports.jsxs(AttachMenu,{$direction:"down",children:[jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:Qn,children:[jsxRuntimeExports.jsx(FiPaperclip,{}),jsxRuntimeExports.jsx("span",{children:"Add lab report / PDF"})]}),jsxRuntimeExports.jsx(AttachMenuDivider,{}),jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:Rn,children:[jsxRuntimeExports.jsx(FiEdit3,{}),jsxRuntimeExports.jsx("span",{children:"Apply instruction"})]}),jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:Sn,children:[jsxRuntimeExports.jsx(FiGlobe,{}),jsxRuntimeExports.jsx("span",{children:"Enable web search"})]})]})]}),Ut&&Ot&&jsxRuntimeExports.jsxs(WebSearchPill,{type:"button",onClick:Kn,title:"Remove instruction for this chat",children:[jsxRuntimeExports.jsxs("span",{className:"pill-icon","aria-hidden":"true",children:[jsxRuntimeExports.jsx(FiEdit3,{className:"icon-main",size:14}),jsxRuntimeExports.jsx("span",{className:"icon-x",children:""})]}),jsxRuntimeExports.jsx("span",{className:"pill-label",children:"Instruction"})]}),Nt&&jsxRuntimeExports.jsxs(WebSearchPill,{type:"button",onClick:xn,title:"Disable web search for this turn",children:[jsxRuntimeExports.jsxs("span",{className:"pill-icon","aria-hidden":"true",children:[jsxRuntimeExports.jsx(FiGlobe,{className:"icon-main",size:14}),jsxRuntimeExports.jsx("span",{className:"icon-x",children:""})]}),jsxRuntimeExports.jsx("span",{className:"pill-label",children:"Search web"})]})]}),jsxRuntimeExports.jsx(ComposerBottomRight,{children:jsxRuntimeExports.jsx(SendFabButton,{type:"submit",disabled:!a||!Tt.trim()||tr,children:jsxRuntimeExports.jsx(FiSend,{})})})]})]})}),jsxRuntimeExports.jsxs(ChatListSection,{children:[jsxRuntimeExports.jsx(ChatListTitle,{children:"Previous chats"}),o.length===0&&jsxRuntimeExports.jsx(ChatEmptyState,{children:"No chats yet for this projects."}),o.length>0&&jsxRuntimeExports.jsx(ChatList,{onScroll:Bn,children:o.slice(0,fn).map(hn=>{const Pn=hn.createdAt&&hn.createdAt.toDate?hn.createdAt.toDate():null,Tn=hn.title||(hn.lastMessagePreview?hn.lastMessagePreview.slice(0,40)+"...":"Untitled chat"),Zn=nt===hn.id&&rt==="main",$n=Zn?mt:Tn;return jsxRuntimeExports.jsxs(ChatListItem,{className:"chat-list-item",type:"button",onClick:()=>zn(hn.id),$active:hn.id===bt,children:[jsxRuntimeExports.jsxs(ChatListText,{children:[jsxRuntimeExports.jsx(ChatListItemTitle,{title:$n,children:Zn?jsxRuntimeExports.jsx(InlineEditInput,{value:mt,onChange:qn=>gt(qn.target.value),onKeyDown:yt,onBlur:vt,autoFocus:!0}):$n}),!Zn&&hn.lastMessagePreview&&jsxRuntimeExports.jsx(ChatListItemPreview,{title:hn.lastMessagePreview,children:hn.lastMessagePreview})]}),Pn&&jsxRuntimeExports.jsx(ChatListItemTime,{children:Pn.toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),jsxRuntimeExports.jsx(RowMenuButton,{type:"button","aria-label":"Chat actions",$forceVisible:et&&et.kind==="chat"&&et.id===hn.id&&et.caseId===xt&&et.origin==="main",onClick:qn=>{qn.stopPropagation(),tt&&tt(qn,xt,hn)},children:jsxRuntimeExports.jsx(FiMoreHorizontal,{size:16})})]},hn.id)})})]})]}),Gn&&bt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[wt.length===0?jsxRuntimeExports.jsx(ChatEmptyState,{children:"Loading conversation"}):jsxRuntimeExports.jsxs(Messages,{ref:zt,children:[wt.map((hn,Pn)=>{const Tn=_t.filter($n=>$n.chatId===bt&&$n.messageId===hn.id),Zn=Pn===wt.length-1;return jsxRuntimeExports.jsx(MessageRow,{$role:hn.role,ref:Zn?Yt:null,children:jsxRuntimeExports.jsxs(MessageContent,{$role:hn.role,children:[Tn.length>0&&jsxRuntimeExports.jsx(AttachBar,{style:{marginBottom:4},children:Tn.map($n=>jsxRuntimeExports.jsxs(AttachChip,{as:$n.downloadUrl?"a":"div",href:$n.downloadUrl||void 0,target:$n.downloadUrl?"_blank":void 0,rel:$n.downloadUrl?"noreferrer":void 0,children:[jsxRuntimeExports.jsx(FiFileText,{size:14}),jsxRuntimeExports.jsx(AttachFilename,{title:$n.title||"Attachment",children:$n.title||"Attachment"}),$n.status&&jsxRuntimeExports.jsx(AttachStatus,{children:$n.status==="uploaded"?"Attached":$n.status==="processing"?"Processing":$n.status==="error"?"Error":$n.status})]},$n.id))}),jsxRuntimeExports.jsx(Bubble,{$role:hn.role,children:hn.role==="assistant"?jsxRuntimeExports.jsx(AssistantMessageBubble,{message:hn}):hn.content})]})},hn.id)}),on&&jsxRuntimeExports.jsx(ThinkingRow,{ref:en,children:jsxRuntimeExports.jsx(MessageContent,{$role:"assistant",children:jsxRuntimeExports.jsxs(ThinkingBubble,{$role:"assistant",children:[jsxRuntimeExports.jsx(ThinkingLabel,{children:"Thinking"}),jsxRuntimeExports.jsxs(ThinkingDots,{children:[jsxRuntimeExports.jsx(ThinkingDot,{}),jsxRuntimeExports.jsx(ThinkingDot,{$delay:"0.15s"}),jsxRuntimeExports.jsx(ThinkingDot,{$delay:"0.3s"})]})]})})}),jsxRuntimeExports.jsx("div",{ref:Bt})]}),jsxRuntimeExports.jsx(InputRow,{onSubmit:gr,children:jsxRuntimeExports.jsxs(ComposerShell,{children:[jsxRuntimeExports.jsxs(ComposerColumn,{children:[Yn(),jsxRuntimeExports.jsx(TextInput$2,{value:Tt,onChange:Ln,onKeyDown:dn,placeholder:"Ask anything about this patient's case or lab panel...",disabled:!a})]}),jsxRuntimeExports.jsxs(ComposerBottomRow,{children:[jsxRuntimeExports.jsxs(ComposerBottomLeft,{children:[jsxRuntimeExports.jsxs(AttachButtonWrapper,{ref:rn,children:[jsxRuntimeExports.jsx(AttachIconButton,{type:"button",onClick:On,disabled:!a||!xt,"aria-label":"Add attachment",children:jsxRuntimeExports.jsx(FiPlus,{})}),Dt&&jsxRuntimeExports.jsxs(AttachMenu,{$direction:"up",children:[jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:Qn,children:[jsxRuntimeExports.jsx(FiPaperclip,{}),jsxRuntimeExports.jsx("span",{children:"Add lab report / PDF"})]}),jsxRuntimeExports.jsx(AttachMenuDivider,{}),jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:Rn,children:[jsxRuntimeExports.jsx(FiEdit3,{}),jsxRuntimeExports.jsx("span",{children:"Apply instruction"})]}),jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:Sn,children:[jsxRuntimeExports.jsx(FiGlobe,{}),jsxRuntimeExports.jsx("span",{children:"Enable web search"})]})]})]}),Ut&&Ot&&jsxRuntimeExports.jsxs(WebSearchPill,{type:"button",onClick:Kn,title:"Remove instruction for this chat",children:[jsxRuntimeExports.jsxs("span",{className:"pill-icon","aria-hidden":"true",children:[jsxRuntimeExports.jsx(FiEdit3,{className:"icon-main",size:14}),jsxRuntimeExports.jsx("span",{className:"icon-x",children:""})]}),jsxRuntimeExports.jsx("span",{className:"pill-label",children:"Instruction"})]}),Nt&&jsxRuntimeExports.jsxs(WebSearchPill,{type:"button",onClick:xn,title:"Disable web search for this turn",children:[jsxRuntimeExports.jsxs("span",{className:"pill-icon","aria-hidden":"true",children:[jsxRuntimeExports.jsx(FiGlobe,{className:"icon-main",size:14}),jsxRuntimeExports.jsx("span",{className:"icon-x",children:""})]}),jsxRuntimeExports.jsx("span",{className:"pill-label",children:"Search web"})]})]}),jsxRuntimeExports.jsx(ComposerBottomRight,{children:jsxRuntimeExports.jsx(SendFabButton,{type:"submit",disabled:!a||!Tt.trim()||tr,children:jsxRuntimeExports.jsx(FiSend,{})})})]})]})})]})]}),Vt&&jsxRuntimeExports.jsx(ModalOverlay$1,{onClick:()=>{jn()},children:jsxRuntimeExports.jsxs(ModalCard$1,{$wide:!0,onClick:hn=>{hn.stopPropagation()},children:[jsxRuntimeExports.jsx(ModalTitle$1,{children:"Project instruction"}),jsxRuntimeExports.jsx(ModalSubtitle,{children:"This instruction is saved for this project and can be applied to any chat in it."}),jsxRuntimeExports.jsx(ModalBody,{children:jsxRuntimeExports.jsx(ModalTextarea,{value:Jt,onChange:hn=>nn(hn.target.value),placeholder:"For example: Always summarize the assessment and plan in client friendly bullet points."})}),jsxRuntimeExports.jsxs(ModalActions$1,{children:[jsxRuntimeExports.jsx(ModalSecondaryButton,{type:"button",onClick:jn,disabled:sn,children:"Cancel"}),jsxRuntimeExports.jsx(ModalPrimaryButton,{type:"button",onClick:pn,disabled:sn,children:sn?"Saving...":"Save instruction"})]})]})}),an&&jsxRuntimeExports.jsx(ModalOverlay$1,{onClick:()=>{Xt(null)},children:jsxRuntimeExports.jsxs(ModalCard$1,{onClick:hn=>{hn.stopPropagation()},children:[jsxRuntimeExports.jsx(ModalTitle$1,{children:"Remove attachment"}),jsxRuntimeExports.jsx(ModalSubtitle,{children:`This will remove "${an.title}" from this message.`}),jsxRuntimeExports.jsxs(ModalActions$1,{children:[jsxRuntimeExports.jsx(ModalSecondaryButton,{type:"button",onClick:()=>Xt(null),children:"Cancel"}),jsxRuntimeExports.jsx(ModalPrimaryButton,{type:"button",onClick:async()=>{try{if(It(Pn=>Pn.filter(Tn=>Tn!==an.id)),an.filePath)try{const Pn=ref(storage,an.filePath);await deleteObject(Pn)}catch(Pn){console.warn("Failed to delete attachment file from Storage",Pn)}const hn=doc(firestore,"vetAiCases",xt,"attachments",an.id);await deleteDoc(hn)}catch(hn){console.error("Failed to remove attachment",hn),alert("Could not remove attachment. Please try again.")}finally{Xt(null)}},children:"Delete"})]})]})})]})}function AiLibraryPage(){const a=useNavigate(),e=useLocation(),[o,c]=reactExports.useState(null),{setUserData:et,userData:tt}=reactExports.useContext(GlobalContext),[nt,rt]=reactExports.useState(null),[mt,gt]=reactExports.useState([]),[yt,vt]=reactExports.useState([]),[xt,bt]=reactExports.useState(!1),[Et,wt]=reactExports.useState(!1),[St,Tt]=reactExports.useState(!1),[kt,_t]=reactExports.useState(null),[Mt,Pt]=reactExports.useState(""),[It,Dt]=reactExports.useState([]),Ct=reactExports.useRef(null),At=reactExports.useRef(null);reactExports.useState(null);const[Lt,jt]=reactExports.useState(null),[Bt,zt]=reactExports.useState(""),[Yt,en]=reactExports.useState(null),[rn,on]=reactExports.useState(null),[Zt,an]=reactExports.useState(""),[Xt,yn]=reactExports.useState(null),[vn,Nt]=reactExports.useState(null),[$t,Ot]=reactExports.useState(null),[Ft,Ut]=reactExports.useState([]),[Gt,Vt]=reactExports.useState(null),[Kt,Jt]=reactExports.useState(""),[nn,sn]=reactExports.useState(!1),[gn,fn]=reactExports.useState(!1),[In,Dn]=reactExports.useState(!1),[Gn,rr]=reactExports.useState(null),[Bn,An]=reactExports.useState([]),[Sn,xn]=reactExports.useState(!1),[wn,jn]=reactExports.useState(null),pn=reactExports.useRef(null),Rn=e.pathname.match(/\/ai\/library\/personal\/([^/]+)/),Kn=Rn?Rn[1]:null,tr=reactExports.useRef(null),ir=e.pathname.match(/\/ai\/library\/p\/([^/]+)/),On=ir?ir[1]:null,Qn=e.pathname.match(/\/ai\/library\/p\/[^/]+\/c\/([^/]+)/),Xn=Qn?Qn[1]:null;console.log("userData",tt),useClickOutside(At,()=>wt(!1),Et),useClickOutside(pn,()=>{rr(null),jn(null)},!!Gn),reactExports.useEffect(()=>{const _n=onAuthStateChanged(auth,async nr=>{if(c(nr),!nr){rt(null),gt([]),Dt([]),console.log("No user signed in");return}try{const dr=doc(firestore,"customers",nr.uid),fr=await getDoc(dr);if(fr.exists()){const pr={uid:nr.uid,...fr.data()};rt(pr),console.log("Customer data:",pr)}else console.log("No customer document found for uid:",nr.uid)}catch(dr){console.error("Error loading customer document:",dr)}});return()=>_n()},[]),reactExports.useEffect(()=>{if(!Ct.current||!On)return;const _n=mt.findIndex(dr=>dr.id===On);if(_n===-1)return;if(_n===mt.length-1&&It.length>0){const dr=Ct.current;dr.scrollTo({top:dr.scrollHeight,behavior:"smooth"})}},[On,It.length,mt]),reactExports.useEffect(()=>{if(!o){gt([]),sn(!1);return}sn(!0);const _n=query(collection(firestore,"vetAiCases"),where("vetUid","==",o.uid),orderBy("createdAt","desc")),nr=onSnapshot(_n,dr=>{const fr=[];dr.forEach(pr=>fr.push({id:pr.id,...pr.data()})),gt(fr),sn(!1)},dr=>{console.error("Error loading cases:",dr),sn(!1)});return()=>nr()},[o]),reactExports.useEffect(()=>{if(!o||!On){Dt([]);return}Dt([]);const _n=collection(firestore,"vetAiCases",On,"chats"),nr=query(_n,orderBy("createdAt","desc")),dr=onSnapshot(nr,fr=>{const pr=[];fr.forEach(xr=>pr.push({id:xr.id,...xr.data()})),Dt(pr)});return()=>dr()},[o,On]),reactExports.useEffect(()=>{if(!o){vt([]),fn(!1);return}fn(!0);const _n=query(collection(firestore,"vetLibrarySources"),where("vetUid","==",o.uid),orderBy("createdAt","desc")),nr=onSnapshot(_n,dr=>{const fr=[];dr.forEach(pr=>fr.push({id:pr.id,...pr.data()})),vt(fr),fn(!1)},dr=>{console.error("Error loading sources:",dr),fn(!1)});return()=>nr()},[o]),reactExports.useEffect(()=>{if(!Gn||!o){An([]);return}const _n=collection(firestore,"vetLibrarySources",Gn,"parts"),nr=query(_n,orderBy("partIndex","asc"));xn(!0);const dr=onSnapshot(nr,fr=>{const pr=[];fr.forEach(xr=>pr.push({id:xr.id,...xr.data()})),An(pr),xn(!1)},fr=>{console.error("Error loading source parts:",fr),xn(!1)});return()=>dr()},[Gn,o]),reactExports.useEffect(()=>{if(!o){Ut([]),Dn(!1);return}Dn(!0);const _n=collection(firestore,"vetPersonalChats",o.uid,"chats"),nr=query(_n,orderBy("createdAt","desc")),dr=onSnapshot(nr,fr=>{const pr=[];fr.forEach(xr=>pr.push({id:xr.id,...xr.data()})),Ut(pr),Dn(!1)},fr=>{console.error("Error loading personal chats:",fr),Dn(!1)});return()=>dr()},[o]);const or=()=>{if(!o)return"";const nr=(o.displayName||o.email||"").trim().split(/\s+/);return nr.length===1?nr[0].charAt(0).toUpperCase():(nr[0].charAt(0)||"").toUpperCase()+(nr[1].charAt(0)||"").toUpperCase()},lr=async()=>{try{await signOut$1(auth)}catch(_n){console.error("Error signing out:",_n)}finally{wt(!1),a("/")}},Un=(_n,nr)=>{const dr=_n.currentTarget.getBoundingClientRect();let fr=dr.right+8,pr=dr.top+dr.height/2;const xr=220,kr=140;fr+xr>window.innerWidth-8&&(fr=window.innerWidth-xr-8),pr+kr/2>window.innerHeight-8&&(pr=window.innerHeight-kr/2-8),pr-kr/2<8&&(pr=kr/2+8),Ot({kind:"patient",id:nr.id,name:nr.patientName||"Untitled patient",x:fr,y:pr})},En=(_n,nr,dr,fr="sidebar")=>{const pr=_n.currentTarget.getBoundingClientRect();let xr=pr.right+8,kr=pr.top+pr.height/2;const Er=220,Mr=140;xr+Er>window.innerWidth-8&&(xr=window.innerWidth-Er-8),kr+Mr/2>window.innerHeight-8&&(kr=window.innerHeight-Mr/2-8),kr-Mr/2<8&&(kr=Mr/2+8);const Dr=dr.title||(dr.lastMessagePreview?dr.lastMessagePreview.slice(0,36)+"...":"Untitled chat");Ot({kind:"chat",origin:fr,id:dr.id,caseId:nr,name:Dr,x:xr,y:kr})},mn=(_n,nr)=>{const dr=_n.currentTarget.getBoundingClientRect();let fr=dr.right+8,pr=dr.top+dr.height/2;const xr=220,kr=140;fr+xr>window.innerWidth-8&&(fr=window.innerWidth-xr-8),pr+kr/2>window.innerHeight-8&&(pr=window.innerHeight-kr/2-8),pr-kr/2<8&&(pr=kr/2+8);const Er=nr.title||(nr.lastMessagePreview?nr.lastMessagePreview.slice(0,36)+"...":"Untitled chat");Ot({kind:"personal",id:nr.id,name:Er,x:fr,y:pr})},Fn=()=>{o&&(Pt(""),Tt(!0))},gr=async _n=>{if(_n.preventDefault(),!o)return;const nr=Mt.trim();if(nr)try{const dr=collection(firestore,"vetAiCases"),fr=await addDoc(dr,{vetUid:o.uid,patientName:nr,mode:"sandbox",petId:null,petSnapshot:null,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),lastMessagePreview:""});Tt(!1),Pt(""),a(`/ai/library/p/${fr.id}/project`)}catch(dr){console.error("Failed to create patient:",dr),alert("Could not create patient. Please try again.")}},Ln=()=>{Tt(!1),Pt("")},dn=_n=>{Ot(null),jt(_n.id),zt(_n.patientName||"Untitled patient")},zn=(_n,nr,dr="sidebar")=>{Ot(null),en(nr.id),on(_n),yn(dr);const fr=nr.title||(nr.lastMessagePreview?nr.lastMessagePreview.slice(0,36)+"...":"Untitled chat");an(fr)},Yn=_n=>{Ot(null),Vt(_n.id);const nr=_n.title||(_n.lastMessagePreview?_n.lastMessagePreview.slice(0,36)+"...":"Untitled chat");Jt(nr)},hn=async()=>{if(!Lt){jt(null),zt("");return}const _n=Bt.trim();if(!_n||!o){jt(null),zt("");return}try{await updateDoc(doc(firestore,"vetAiCases",Lt),{patientName:_n,updatedAt:serverTimestamp()})}catch(nr){console.error("Failed to rename patient:",nr),alert("Could not rename patient. Please try again.")}finally{jt(null),zt("")}},Pn=async()=>{if(!Yt||!rn){en(null),on(null),an(""),yn(null);return}const _n=Zt.trim();if(!_n||!o){en(null),on(null),an(""),yn(null);return}try{const nr=doc(firestore,"vetAiCases",rn,"chats",Yt);await updateDoc(nr,{title:_n,updatedAt:serverTimestamp()})}catch(nr){console.error("Failed to rename chat:",nr),alert("Could not rename chat. Please try again.")}finally{en(null),on(null),an(""),yn(null)}},Tn=async()=>{if(!Gt){Vt(null),Jt("");return}const _n=Kt.trim();if(!_n||!o){Vt(null),Jt("");return}try{const nr=doc(firestore,"vetPersonalChats",o.uid,"chats",Gt);await updateDoc(nr,{title:_n,updatedAt:serverTimestamp()})}catch(nr){console.error("Failed to rename personal chat:",nr),alert("Could not rename chat. Please try again.")}finally{Vt(null),Jt("")}},Zn=_n=>{_n.key==="Enter"?(_n.preventDefault(),Tn()):_n.key==="Escape"&&(Vt(null),Jt(""))},$n=_n=>{_n.key==="Enter"?(_n.preventDefault(),hn()):_n.key==="Escape"&&(jt(null),zt(""))},qn=_n=>{_n.key==="Enter"?(_n.preventDefault(),Pn()):_n.key==="Escape"&&(en(null),on(null),an(""),yn(null))},Wn=_n=>{Ot(null),Nt({type:"patient",id:_n.id,name:_n.patientName||"Untitled patient"})},cn=(_n,nr)=>{Ot(null);const dr=nr.title||(nr.lastMessagePreview?nr.lastMessagePreview.slice(0,36)+"...":"Untitled chat");Nt({type:"chat",id:nr.id,caseId:_n,name:dr})},qt=_n=>{Ot(null);const nr=_n.title||(_n.lastMessagePreview?_n.lastMessagePreview.slice(0,36)+"...":"Untitled chat");Nt({type:"personalChat",id:_n.id,name:nr})},tn=()=>{Nt(null)},un=async()=>{if(!vn||!o){Nt(null);return}try{if(vn.type==="patient")await deleteDoc(doc(firestore,"vetAiCases",vn.id)),On===vn.id&&a("/ai/library");else if(vn.type==="chat"){const _n=doc(firestore,"vetAiCases",vn.caseId,"chats",vn.id);await deleteDoc(_n),On===vn.caseId&&Xn===vn.id&&a(`/ai/library/p/${vn.caseId}/project`)}else if(vn.type==="personalChat"){const _n=doc(firestore,"vetPersonalChats",o.uid,"chats",vn.id);await deleteDoc(_n),Kn===vn.id&&a("/ai/library")}else if(vn.type==="source"){if(vn.filePath)try{const nr=ref(storage,vn.filePath);await deleteObject(nr)}catch(nr){console.warn("Failed to delete storage object:",nr)}const _n=doc(firestore,"vetLibrarySources",vn.id);await deleteDoc(_n)}}catch(_n){console.error("Failed to delete item:",_n),alert("Could not delete. Please try again.")}finally{Nt(null)}},kn=_n=>{a(`/ai/library/p/${_n}/project`)},Cn=(_n,nr)=>{a(`/ai/library/p/${_n}/c/${nr}`)},Nn=_n=>{if(!_n){a("/ai/library");return}a(`/ai/library/personal/${_n}`)},er=()=>{o&&a("/ai/library")},sr=_n=>{const nr=((_n==null?void 0:_n.name)||"").trim().toLowerCase(),dr=typeof(_n==null?void 0:_n.size)=="number"?_n.size:0;return`${nr}__${dr}`},ar=()=>{!o||!tr.current||(tr.current.value="",tr.current.click())},yr=3,cr=async _n=>{const nr=sr(_n),dr=yt.find(Dr=>Dr.vetUid===o.uid&&(Dr.fileFingerprint&&Dr.fileFingerprint===nr||Dr.fileName&&Dr.fileName.trim().toLowerCase()===_n.name.trim().toLowerCase()&&typeof Dr.fileSizeBytes=="number"&&Dr.fileSizeBytes===_n.size));if(dr)return{ok:!1,skipped:!0,kind:"duplicate_existing",fileName:_n.name,reason:`Already uploaded as "${dr.title||dr.fileName||"Untitled PDF"}"`};if(await pdfNeedsOcr(_n))return{ok:!1,skipped:!0,kind:"needs_ocr",fileName:_n.name,reason:"This PDF text cannot be read by AI (scrambled or scanned). Please run OCR and upload the OCR version."};const pr=await addDoc(collection(firestore,"vetLibrarySources"),{vetUid:o.uid,title:_n.name,fileName:_n.name,fileSizeBytes:_n.size,fileFingerprint:nr,kind:"unknown",status:"uploading",errorMessage:null,filePath:null,downloadUrl:null,pageCount:null,chunkCount:null,createdAt:serverTimestamp(),updatedAt:serverTimestamp()}),xr=`aiLibraries/${o.uid}/${pr.id}.pdf`,kr=ref(storage,xr),Er=uploadBytesResumable(kr,_n);await new Promise((Dr,Br)=>{Er.on("state_changed",null,$r=>Br($r),()=>Dr())});const Mr=await getDownloadURL(kr);return await updateDoc(pr,{status:"uploaded",filePath:xr,downloadUrl:Mr,overallProgress:0,pageCount:null,chunkCount:null,errorMessage:null,updatedAt:serverTimestamp()}),{ok:!0,skipped:!1,fileName:_n.name}},ur=async(_n,nr,dr)=>{const fr=[];let pr=0;const xr=new Array(Math.min(nr,_n.length)).fill(null).map(async()=>{var kr;for(;pr<_n.length;){const Er=pr;pr+=1;try{fr[Er]=await dr(_n[Er])}catch(Mr){fr[Er]={ok:!1,skipped:!1,fileName:((kr=_n[Er])==null?void 0:kr.name)||"Unknown file",reason:(Mr==null?void 0:Mr.message)||String(Mr)}}}});return await Promise.all(xr),fr},vr=async _n=>{try{if(!o)return;const nr=Array.from(_n.target.files||[]);if(!nr.length)return;const dr=nr.filter(Ar=>Ar&&(Ar.type==="application/pdf"||typeof Ar.name=="string"&&Ar.name.toLowerCase().endsWith(".pdf")));if(!dr.length){alert("Please select PDF files.");return}const fr=10;if(dr.length>fr){alert(`Please select up to ${fr} PDFs at a time.`);return}bt(!0);const pr=new Set,xr=[],kr=[];for(const Ar of dr){const $a=sr(Ar);if(pr.has($a)){kr.push(`${Ar.name} (duplicate in selection)`);continue}pr.add($a),xr.push(Ar)}const Er=await ur(xr,yr,cr),Mr=Er.filter(Ar=>Ar&&Ar.skipped&&Ar.kind==="duplicate_existing").map(Ar=>`${Ar.fileName}: ${Ar.reason}`),Dr=Er.filter(Ar=>Ar&&Ar.skipped&&Ar.kind==="needs_ocr").map(Ar=>`${Ar.fileName}: ${Ar.reason}`),Br=Er.filter(Ar=>Ar&&!Ar.ok&&!Ar.skipped).map(Ar=>`${Ar.fileName}: ${Ar.reason}`),$r=[];kr.length&&$r.push(`Skipped in selection:
${kr.join(`
`)}`),Mr.length&&$r.push(`Already uploaded:
${Mr.join(`
`)}`),Dr.length&&$r.push(`Needs OCR before upload:
${Dr.join(`
`)}`),Br.length&&$r.push(`Failed:
${Br.join(`
`)}`),$r.length&&alert($r.join(`

`))}finally{bt(!1),_n.target.value=""}},mr=(_n,nr)=>{if(Gn===_n){rr(null),jn(null);return}const dr=nr.currentTarget.getBoundingClientRect(),fr=320,pr=8;let xr=dr.left,kr=dr.bottom+pr;xr+fr>window.innerWidth-pr&&(xr=window.innerWidth-fr-pr),xr<pr&&(xr=pr),rr(_n),jn({left:xr,top:kr})},wr=async(_n,nr)=>{try{const dr=doc(firestore,"vetLibrarySources",_n,"parts",nr);await updateDoc(dr,{status:"pending",progress:0,errorMessage:null,updatedAt:serverTimestamp()})}catch(dr){console.error("Failed to retry part indexing:",dr),alert("Could not retry this part. Please try again.")}},Sr=async _n=>{try{if(_n!==Gn)return;const nr=Bn.filter(dr=>dr.status==="error");if(!nr.length)return;await Promise.all(nr.map(dr=>updateDoc(doc(firestore,"vetLibrarySources",_n,"parts",dr.id),{status:"pending",progress:0,errorMessage:null,updatedAt:serverTimestamp()})))}catch(nr){console.error("Failed to retry all failed parts:",nr),alert("Could not retry all failed parts. Please try again.")}},Cr=_n=>{o&&Nt({type:"source",id:_n.id,name:_n.title||"Untitled PDF",filePath:_n.filePath||null})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Page$3,{children:[o&&jsxRuntimeExports.jsxs(TopRightUserShell,{children:[jsxRuntimeExports.jsxs(HandoutNavButton,{type:"button",onClick:()=>a("/ai/handouts"),children:[jsxRuntimeExports.jsx(FiFileText,{size:14}),jsxRuntimeExports.jsx("span",{children:"Handouts"})]}),jsxRuntimeExports.jsxs("div",{ref:At,style:{position:"relative"},children:[jsxRuntimeExports.jsx(UserAvatarButton,{type:"button",onClick:()=>wt(_n=>!_n),"aria-label":"Account menu",children:o.photoURL?jsxRuntimeExports.jsx(UserAvatarImage,{src:o.photoURL,alt:o.displayName||"Account"}):jsxRuntimeExports.jsx(UserAvatarInitials,{children:or()})}),Et&&jsxRuntimeExports.jsx(ProfileMenu,{children:jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:lr,children:[jsxRuntimeExports.jsx(FiLogOut,{}),jsxRuntimeExports.jsx("span",{children:"Log out"})]})})]})]}),jsxRuntimeExports.jsxs(Sidebar,{children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",multiple:!0,ref:tr,style:{display:"none"},onChange:vr,disabled:!o||xt}),jsxRuntimeExports.jsxs(SectionHeaderRow,{children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx(SidebarTitle,{children:"Your library"}),jsxRuntimeExports.jsxs(LibraryUploadButton,{type:"button",onClick:ar,disabled:!o||xt,"aria-label":"Upload PDF to library",children:[jsxRuntimeExports.jsx(FiUpload,{size:14}),"Upload"]})]}),jsxRuntimeExports.jsxs(LibraryHint,{children:[yt.length," file",yt.length===1?"":"s",o?xt?"  Uploading...":"  Upload PDF (books, papers)":"  Log in to upload and build your library"]})]}),jsxRuntimeExports.jsxs(SourceList,{children:[gn&&o&&jsxRuntimeExports.jsxs(SidebarLoadingRow,{children:[jsxRuntimeExports.jsx(SmallSpinner$1,{}),jsxRuntimeExports.jsx("span",{children:"Loading library..."})]}),!gn&&yt.length===0&&jsxRuntimeExports.jsx(EmptyState,{children:"No PDFs yet. Upload a textbook or paper to get started."}),!gn&&yt.map(_n=>{const nr=_n.createdAt&&_n.createdAt.toDate?_n.createdAt.toDate():null,dr=typeof _n.overallProgress=="number"?_n.overallProgress:_n.status==="ready"?100:0,fr=Math.max(0,Math.min(100,Math.round(dr)));let pr;_n.status==="ready"?pr="Indexed":_n.status==="splitting"?pr="Splitting...":_n.status==="processing"?pr="Indexing...":_n.status==="partial_error"?pr="Partial error":_n.status==="error"?pr="Error":_n.status==="uploaded"?pr="Waiting":pr=_n.status||"Unknown";let xr=null;_n.status==="ready"?xr=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AttachProgressRing,{$percent:100,children:jsxRuntimeExports.jsx(AttachProgressInner,{children:jsxRuntimeExports.jsx(FiCheckCircle,{size:10})})}),jsxRuntimeExports.jsx("span",{style:{marginLeft:6},children:pr})]}):_n.status==="processing"||_n.status==="splitting"||_n.status==="partial_error"?xr=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AttachProgressRing,{$percent:fr,children:jsxRuntimeExports.jsxs(AttachProgressInner,{children:[fr,"%"]})}),jsxRuntimeExports.jsx("span",{style:{marginLeft:6},children:pr})]}):_n.status==="error"?xr=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AttachProgressRing,{$percent:fr,children:jsxRuntimeExports.jsx(AttachProgressInner,{children:"!"})}),jsxRuntimeExports.jsx("span",{style:{marginLeft:6},children:"Error"})]}):xr=pr;const kr=Gn===_n.id&&Bn.some(Er=>Er.status==="error");return jsxRuntimeExports.jsxs(SourceRow,{ref:Gn===_n.id?pn:null,children:[jsxRuntimeExports.jsx(FiFileText,{}),jsxRuntimeExports.jsxs(SourceMain,{children:[jsxRuntimeExports.jsx(SourceTitle,{title:_n.title,children:_n.title}),jsxRuntimeExports.jsxs(SourceMeta,{children:[jsxRuntimeExports.jsx(SourceStatusButton,{type:"button",onClick:Er=>{Er.stopPropagation(),mr(_n.id,Er)},children:jsxRuntimeExports.jsx(Status,{$status:_n.status,children:xr})}),nr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",""," ",nr.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})]})]})]}),jsxRuntimeExports.jsx(SourceActions,{children:jsxRuntimeExports.jsx(IconButton$2,{type:"button",onClick:Er=>{Er.stopPropagation(),Cr(_n)},title:"Remove from library",children:jsxRuntimeExports.jsx(FiTrash2,{})})}),Gn===_n.id&&wn&&jsxRuntimeExports.jsxs(SourcePartsMenu,{$top:wn.top,$left:wn.left,onClick:Er=>Er.stopPropagation(),children:[jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",disabled:!0,children:[jsxRuntimeExports.jsx(FiFileText,{}),jsxRuntimeExports.jsx("span",{children:_n.title||_n.fileName||"Untitled PDF"})]}),jsxRuntimeExports.jsx(AttachMenuDivider,{}),Sn&&jsxRuntimeExports.jsx("div",{style:{padding:"8px 14px",fontSize:13,color:"#9ca3af"},children:"Loading parts..."}),!Sn&&Bn.length===0&&jsxRuntimeExports.jsx("div",{style:{padding:"8px 14px",fontSize:13,color:"#9ca3af"},children:"No parts found yet."}),!Sn&&Bn.map(Er=>{const Mr=typeof Er.progress=="number"?Math.max(0,Math.min(100,Math.round(Er.progress))):0,Dr=Er.status==="ready"?"Indexed":Er.status==="processing"?"Indexing...":Er.status==="pending"?"Queued":Er.status==="error"?"Error":Er.status||"Unknown";return jsxRuntimeExports.jsxs(SourcePartRow,{children:[jsxRuntimeExports.jsx(AttachProgressRing,{$percent:Mr,children:jsxRuntimeExports.jsx(AttachProgressInner,{children:Er.status==="ready"?jsxRuntimeExports.jsx(FiCheckCircle,{size:10}):Er.status==="error"?"!":`${Mr}%`})}),jsxRuntimeExports.jsxs(SourcePartText,{children:[jsxRuntimeExports.jsxs(SourcePartTitle,{children:["Part ",Er.partIndex+1,typeof Er.pageStart=="number"&&typeof Er.pageEnd=="number"&&jsxRuntimeExports.jsxs("span",{children:[" ","(pages ",Er.pageStart,"-",Er.pageEnd,")"]})]}),jsxRuntimeExports.jsxs(SourcePartMeta,{children:[Dr,Er.chunkCount!=null&&`  ${Er.chunkCount} chunks`]})]}),Er.status==="error"&&jsxRuntimeExports.jsx(SourcePartRetryButton,{type:"button",onClick:Br=>{Br.stopPropagation(),wr(_n.id,Er.id)},children:"Retry"})]},Er.id)}),!Sn&&kr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AttachMenuDivider,{}),jsxRuntimeExports.jsxs(AttachMenuItem,{type:"button",onClick:Er=>{Er.stopPropagation(),Sr(_n.id)},children:[jsxRuntimeExports.jsx(FiRefreshCw,{}),jsxRuntimeExports.jsx("span",{children:"Retry all failed parts"})]})]})]})]},_n.id)})]}),jsxRuntimeExports.jsx(SectionDivider,{}),jsxRuntimeExports.jsxs(ProjectsHeader,{children:[jsxRuntimeExports.jsx(ProjectsTitle,{children:"Customized chat"}),jsxRuntimeExports.jsxs(NewProjectButton,{type:"button",onClick:Fn,disabled:!o,children:[jsxRuntimeExports.jsx(FiPlus,{}),"New"]})]}),jsxRuntimeExports.jsxs(ProjectList,{ref:Ct,children:[nn&&o&&jsxRuntimeExports.jsxs(SidebarLoadingRow,{children:[jsxRuntimeExports.jsx(SmallSpinner$1,{}),jsxRuntimeExports.jsx("span",{children:"Loading projects..."})]}),!nn&&mt.length===0&&jsxRuntimeExports.jsx(ProjectEmptyState,{children:"No projects yet. Create one to start a case."}),!nn&&mt.map(_n=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs(ProjectRow,{type:"button",onClick:()=>{Lt!==_n.id&&kn(_n.id)},$active:_n.id===On&&!Xn,children:[jsxRuntimeExports.jsx(FiUser,{}),jsxRuntimeExports.jsx(ProjectName,{children:Lt===_n.id?jsxRuntimeExports.jsx(InlineEditInput,{value:Bt,onChange:nr=>zt(nr.target.value),onKeyDown:$n,onBlur:hn,autoFocus:!0}):_n.patientName||"Untitled patient"}),jsxRuntimeExports.jsx(RowMenuButton,{type:"button","aria-label":"Patient actions",$forceVisible:$t&&$t.kind==="patient"&&$t.id===_n.id,onClick:nr=>{nr.stopPropagation(),Un(nr,_n)},children:jsxRuntimeExports.jsx(FiMoreHorizontal,{size:16})})]}),_n.id===On&&It.length>0&&jsxRuntimeExports.jsx(SubchatList,{children:It.map(nr=>{const dr=nr.title||(nr.lastMessagePreview?nr.lastMessagePreview.slice(0,36)+"...":"Untitled chat"),fr=Yt===nr.id&&Xt==="sidebar",pr=fr?Zt:dr;return jsxRuntimeExports.jsxs(SubchatRow,{type:"button",onClick:()=>{Yt!==nr.id&&Cn(_n.id,nr.id)},$active:nr.id===Xn,children:[jsxRuntimeExports.jsx(SubchatTitle,{title:pr,children:fr?jsxRuntimeExports.jsx(InlineEditInput,{value:Zt,onChange:xr=>an(xr.target.value),onKeyDown:qn,onBlur:Pn,autoFocus:!0}):pr}),jsxRuntimeExports.jsx(RowMenuButton,{type:"button","aria-label":"Chat actions",$forceVisible:$t&&$t.kind==="chat"&&$t.id===nr.id&&$t.caseId===_n.id&&$t.origin==="sidebar",onClick:xr=>{xr.stopPropagation(),En(xr,_n.id,nr)},children:jsxRuntimeExports.jsx(FiMoreHorizontal,{size:16})})]},nr.id)})})]},_n.id))]}),jsxRuntimeExports.jsx(SectionDivider,{}),jsxRuntimeExports.jsxs(ProjectsHeader,{children:[jsxRuntimeExports.jsx(ProjectsTitle,{children:"Chats"}),jsxRuntimeExports.jsxs(NewProjectButton,{type:"button",onClick:er,disabled:!o,children:[jsxRuntimeExports.jsx(FiPlus,{}),"New"]})]}),jsxRuntimeExports.jsxs(PersonalChatList,{children:[In&&o&&jsxRuntimeExports.jsxs(SidebarLoadingRow,{children:[jsxRuntimeExports.jsx(SmallSpinner$1,{}),jsxRuntimeExports.jsx("span",{children:"Loading chats..."})]}),!In&&Ft.length===0&&jsxRuntimeExports.jsx(ProjectEmptyState,{children:"No personal chats yet. Ask a question to start one."}),!In&&Ft.map(_n=>{const nr=_n.title||(_n.lastMessagePreview?_n.lastMessagePreview.slice(0,36)+"...":"Untitled chat"),dr=Gt===_n.id?Kt:nr;return jsxRuntimeExports.jsxs(PersonalChatRow,{type:"button",onClick:()=>{Gt!==_n.id&&Nn(_n.id)},$active:_n.id===Kn,children:[jsxRuntimeExports.jsx(FiFileText,{}),jsxRuntimeExports.jsx(PersonalChatTitle,{title:dr,children:Gt===_n.id?jsxRuntimeExports.jsx(InlineEditInput,{value:Kt,onChange:fr=>Jt(fr.target.value),onKeyDown:Zn,onBlur:Tn,autoFocus:!0}):dr}),jsxRuntimeExports.jsx(RowMenuButton,{type:"button","aria-label":"Personal chat actions",$forceVisible:$t&&$t.kind==="personal"&&$t.id===_n.id,onClick:fr=>{fr.stopPropagation(),mn(fr,_n)},children:jsxRuntimeExports.jsx(FiMoreHorizontal,{size:16})})]},_n.id)})]})]}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(PersonalChatShell,{currentUser:o})}),jsxRuntimeExports.jsx(Route,{path:"personal/:personalChatId",element:jsxRuntimeExports.jsx(PersonalChatShell,{currentUser:o})}),jsxRuntimeExports.jsx(Route,{path:"p/:caseId/project",element:jsxRuntimeExports.jsx(ChatShell,{currentUser:o,cases:mt,activeCaseChats:It,onNewPatient:Fn,rowMenu:$t,onOpenChatContextMenu:(_n,nr,dr)=>En(_n,nr,dr,"main"),editingChatId:Yt,editingChatOrigin:Xt,editingChatTitle:Zt,setEditingChatTitle:an,handleInlineChatKeyDown:qn,commitChatRename:Pn})}),jsxRuntimeExports.jsx(Route,{path:"p/:caseId/c/:chatId",element:jsxRuntimeExports.jsx(ChatShell,{currentUser:o,cases:mt,activeCaseChats:It,onNewPatient:Fn,rowMenu:$t,onOpenChatContextMenu:(_n,nr,dr)=>En(_n,nr,dr,"main"),editingChatId:Yt,editingChatOrigin:Xt,editingChatTitle:Zt,setEditingChatTitle:an,handleInlineChatKeyDown:qn,commitChatRename:Pn})})]})]}),St&&jsxRuntimeExports.jsx(ModalOverlay$1,{onClick:Ln,children:jsxRuntimeExports.jsxs(ModalCard$1,{onClick:_n=>_n.stopPropagation(),children:[jsxRuntimeExports.jsx(ModalTitle$1,{children:"Customized chat"}),jsxRuntimeExports.jsx(ModalSubtitle,{children:"Create a customized chat so AI can use the same prompts or features across multiple chats."}),jsxRuntimeExports.jsxs(ModalForm,{onSubmit:gr,children:[jsxRuntimeExports.jsx(ModalInput,{autoFocus:!0,placeholder:"Ex: handout or diagnosis, recommendations",value:Mt,onChange:_n=>Pt(_n.target.value)}),jsxRuntimeExports.jsxs(ModalActions$1,{children:[jsxRuntimeExports.jsx(ModalSecondaryButton,{type:"button",onClick:Ln,children:"Cancel"}),jsxRuntimeExports.jsx(ModalPrimaryButton,{type:"submit",disabled:!Mt.trim(),children:"Save"})]})]})]})}),vn&&jsxRuntimeExports.jsx(ModalOverlay$1,{onClick:tn,children:jsxRuntimeExports.jsxs(ModalCard$1,{onClick:_n=>_n.stopPropagation(),children:[jsxRuntimeExports.jsx(ModalTitle$1,{children:vn.type==="patient"?"Delete patient":vn.type==="chat"?"Delete chat":vn.type==="personalChat"?"Delete personal chat":"Delete from library"}),jsxRuntimeExports.jsxs(ModalSubtitle,{children:[vn.type==="patient"&&`This will remove "${vn.name}" from your project list.`,vn.type==="chat"&&`This will remove the chat "${vn.name}" from this project.`,vn.type==="personalChat"&&`This will remove the personal chat "${vn.name}" from your study list.`,vn.type==="source"&&`This will remove "${vn.name}" from your library.`]}),jsxRuntimeExports.jsxs(ModalActions$1,{children:[jsxRuntimeExports.jsx(ModalSecondaryButton,{type:"button",onClick:tn,children:"Cancel"}),jsxRuntimeExports.jsx(ModalPrimaryButton,{type:"button",onClick:un,children:"Delete"})]})]})}),$t&&jsxRuntimeExports.jsx(ContextMenuBackdrop,{onClick:()=>{Ot(null)},children:jsxRuntimeExports.jsxs(ContextMenuCard,{$top:$t.y,$left:$t.x,onClick:_n=>_n.stopPropagation(),children:[jsxRuntimeExports.jsxs(ContextMenuItem,{type:"button",onClick:()=>{$t.kind==="patient"?dn({id:$t.id,patientName:$t.name}):$t.kind==="chat"?zn($t.caseId,{id:$t.id,title:$t.name,lastMessagePreview:$t.name},$t.origin||"sidebar"):$t.kind==="personal"&&Yn({id:$t.id,title:$t.name,lastMessagePreview:$t.name})},children:[jsxRuntimeExports.jsx(FiEdit3,{size:14}),jsxRuntimeExports.jsx("span",{children:"Rename"})]}),jsxRuntimeExports.jsx(ContextMenuDivider,{}),jsxRuntimeExports.jsxs(ContextMenuItemDanger,{type:"button",onClick:()=>{$t.kind==="patient"?Wn({id:$t.id,patientName:$t.name}):$t.kind==="chat"?cn($t.caseId,{id:$t.id,title:$t.name,lastMessagePreview:$t.name}):$t.kind==="personal"&&qt({id:$t.id,title:$t.name,lastMessagePreview:$t.name})},children:[jsxRuntimeExports.jsx(FiTrash2,{size:14}),jsxRuntimeExports.jsx("span",{children:"Delete"})]})]})}),kt&&jsxRuntimeExports.jsx(ModalOverlay$1,{onClick:()=>{_t(null)},children:jsxRuntimeExports.jsxs(ModalCard$1,{onClick:_n=>{_n.stopPropagation()},children:[jsxRuntimeExports.jsx(ModalTitle$1,{children:"Already uploaded"}),jsxRuntimeExports.jsx(ModalSubtitle,{children:`"${kt.fileName}" is already in your library as "${kt.existingTitle}".`}),jsxRuntimeExports.jsx(ModalActions$1,{children:jsxRuntimeExports.jsx(ModalPrimaryButton,{type:"button",onClick:()=>_t(null),children:"OK"})})]})})]})}const Page$2=pt.div`
  min-height: 100vh;
  background: #ffffff;
  color: #111827;
  display: flex;
  flex-direction: column;
`,BrandBar$2=pt.header`
  padding: 20px 28px;
  font-size: 20px;
  font-weight: 600;
`,Main$2=pt.main`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px 16px 32px;
`,Card$4=pt.div`
  width: 100%;
  max-width: 420px;
`,Title$4=pt.h1`
  font-size: 32px;
  font-weight: 600;
  text-align: center;
  margin: 0 0 24px;
`,ErrorBanner$2=pt.div`
  margin-bottom: 16px;
  padding: 10px 12px;
  border-radius: 10px;
  background: #fee2e2;
  color: #b91c1c;
  font-size: 14px;
`,FieldBlock$1=pt.div`
  margin-bottom: 16px;
`,FieldLabel$4=pt.div`
  font-size: 13px;
  color: #6b7280;
  margin-bottom: 6px;
`,PillShell$1=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  background: #f9fafb;
  padding: 10px 16px;
  font-size: 14px;
`,EmailText$1=pt.span`
  color: #111827;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,EditEmailButton$1=pt.button`
  border: none;
  background: none;
  padding: 0;
  margin-left: 12px;
  font-size: 13px;
  font-weight: 500;
  color: #2563eb;
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
`,InputShell$1=pt.div`
  display: flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid #d1d5db;
  background: #f9fafb;
  padding: 10px 16px;
`,TextInput$1=pt.input`
  flex: 1;
  border: none;
  outline: none;
  background: transparent;
  font-size: 14px;
  color: #111827;

  ::placeholder {
    color: #9ca3af;
  }
`,IconButton$1=pt.button`
  border: none;
  background: none;
  padding: 0;
  margin-left: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #6b7280;
  font-size: 18px;
`,ErrorText$2=pt.div`
  margin-top: 6px;
  font-size: 12px;
  color: #b91c1c;
`;pt.a`
  display: inline-block;
  margin-top: 6px;
  margin-bottom: 18px;
  font-size: 13px;
  color: #2563eb;
  text-decoration: none;

  &:hover {
    text-decoration: underline;
  }
`;const PrimaryButton$2=pt.button`
  width: 100%;
  margin-top: 4px;
  border-radius: 999px;
  border: none;
  padding: 12px 18px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  background: #111827;
  color: #f9fafb;

  &:hover {
    background: #000000;
  }
`;pt.div`
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 20px 0 16px;
  font-size: 11px;
  color: #6b7280;
`;pt.div`
  flex: 1;
  height: 1px;
  background: #e5e7eb;
`;pt.button`
  width: 100%;
  border-radius: 999px;
  border: 1px solid #d1d5db;
  padding: 12px 18px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  background: #ffffff;
  color: #111827;

  &:hover {
    background: #f9fafb;
  }
`;const TermsRow$2=pt.footer`
  padding: 12px 0 24px;
  text-align: center;
  font-size: 12px;
  color: #6b7280;
  display: flex;
  justify-content: center;
  gap: 8px;
`,TermsLink$2=pt.a`
  color: #6b7280;
  text-decoration: none;

  &:hover {
    text-decoration: underline;
  }
`;function LoginPage(){useNavigate();const a=useLocation(),o=new URLSearchParams(a.search).get("email")||"",[c,et]=reactExports.useState(o),[tt,nt]=reactExports.useState(!o),[rt,mt]=reactExports.useState(""),[gt,yt]=reactExports.useState(!1),[vt,xt]=reactExports.useState({}),[bt,Et]=reactExports.useState(!1),wt=()=>{const Tt={};return c?/\S+@\S+\.\S+/.test(c)||(Tt.email="Invalid email address"):Tt.email="Email is required",rt||(Tt.password="Password is required"),Tt},St=async Tt=>{Tt.preventDefault(),Et(!1);const kt=wt();if(Object.keys(kt).length>0){xt(kt);return}try{await signIn(c,rt)||Et(!0)}catch{Et(!0)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Page$2,{children:[jsxRuntimeExports.jsx(BrandBar$2,{children:"Vetcation"}),jsxRuntimeExports.jsx(Main$2,{children:jsxRuntimeExports.jsxs(Card$4,{children:[bt&&jsxRuntimeExports.jsx(ErrorBanner$2,{children:"Invalid email or password."}),jsxRuntimeExports.jsx(Title$4,{children:"Enter your password"}),jsxRuntimeExports.jsxs("form",{onSubmit:St,noValidate:!0,children:[jsxRuntimeExports.jsxs(FieldBlock$1,{children:[jsxRuntimeExports.jsx(FieldLabel$4,{children:"Email address"}),tt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InputShell$1,{children:jsxRuntimeExports.jsx(TextInput$1,{type:"email",placeholder:"name@example.com",value:c,onChange:Tt=>{et(Tt.target.value),xt(kt=>({...kt,email:null}))}})}),vt.email&&jsxRuntimeExports.jsx(ErrorText$2,{children:vt.email})]}):jsxRuntimeExports.jsxs(PillShell$1,{children:[jsxRuntimeExports.jsx(EmailText$1,{title:c,children:c}),jsxRuntimeExports.jsx(EditEmailButton$1,{type:"button",onClick:()=>nt(!0),children:"Edit"})]})]}),jsxRuntimeExports.jsxs(FieldBlock$1,{children:[jsxRuntimeExports.jsx(FieldLabel$4,{children:"Password"}),jsxRuntimeExports.jsxs(InputShell$1,{children:[jsxRuntimeExports.jsx(TextInput$1,{type:gt?"text":"password",placeholder:"Password",value:rt,onChange:Tt=>{mt(Tt.target.value),xt(kt=>({...kt,password:null}))}}),jsxRuntimeExports.jsx(IconButton$1,{type:"button",onClick:()=>yt(Tt=>!Tt),"aria-label":gt?"Hide password":"Show password",children:gt?jsxRuntimeExports.jsx(FiEyeOff,{}):jsxRuntimeExports.jsx(FiEye,{})})]}),vt.password&&jsxRuntimeExports.jsx(ErrorText$2,{children:vt.password})]}),jsxRuntimeExports.jsx(PrimaryButton$2,{type:"submit",children:"Continue"})]})]})}),jsxRuntimeExports.jsxs(TermsRow$2,{children:[jsxRuntimeExports.jsx(TermsLink$2,{href:"/SMSTerms/",children:"Terms of Use"}),jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(TermsLink$2,{href:"/privacy-policy/",children:"Privacy Policy"})]})]}),jsxRuntimeExports.jsx(Footer,{})]})}const Page$1=pt.div`
  min-height: 100vh;
  background: #ffffff;
  color: #111827;
  display: flex;
  flex-direction: column;
`,BrandBar$1=pt.header`
  padding: 20px 28px;
  font-size: 20px;
  font-weight: 600;
`,Main$1=pt.main`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px 16px 32px;
`,Card$3=pt.div`
  width: 100%;
  max-width: 420px;
`,Title$3=pt.h1`
  font-size: 32px;
  font-weight: 600;
  text-align: center;
  margin: 0 0 24px;
`,ErrorBanner$1=pt.div`
  margin-bottom: 16px;
  padding: 10px 12px;
  border-radius: 10px;
  background: #fee2e2;
  color: #b91c1c;
  font-size: 14px;
`,InfoBanner=pt.div`
  margin-bottom: 16px;
  padding: 10px 12px;
  border-radius: 10px;
  background: #e5f0ff;
  color: #1d4ed8;
  font-size: 14px;
`,BodyText=pt.p`
  font-size: 14px;
  color: #4b5563;
  margin: 0 0 20px;
`,ButtonRow$1=pt.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,PrimaryButton$1=pt.button`
  width: 100%;
  border-radius: 999px;
  border: none;
  padding: 12px 18px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  background: #111827;
  color: #f9fafb;

  &:hover {
    background: #000000;
  }
`,SecondaryButton=pt.button`
  width: 100%;
  border-radius: 999px;
  border: 1px solid #d1d5db;
  padding: 12px 18px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  background: #ffffff;
  color: #111827;

  &:hover {
    background: #f9fafb;
  }
`,TermsRow$1=pt.footer`
  padding: 12px 0 24px;
  text-align: center;
  font-size: 12px;
  color: #6b7280;
  display: flex;
  justify-content: center;
  gap: 8px;
`,TermsLink$1=pt.a`
  color: #6b7280;
  text-decoration: none;

  &:hover {
    text-decoration: underline;
  }
`;function EmailVerificationPage(){const[a,e]=reactExports.useState("We have sent a verification link to your email. After you click the link, this page will continue once we detect it."),[o,c]=reactExports.useState(""),et=useNavigate(),tt=()=>{e("Your email is verified. Redirecting you to your AI library."),et("/ai/library",{replace:!0})},nt=async({quiet:gt=!1}={})=>{gt||(e(""),c(""));const yt=auth.currentUser;if(!yt){gt||c("You are not signed in.");return}try{await yt.reload(),yt.emailVerified?tt():gt||e("Your email is still not verified. Please click the verification link in your inbox, then try again.")}catch(vt){console.error("Error checking verification:",vt),gt||c("Could not check verification. Please try again.")}};reactExports.useEffect(()=>{let gt=!1,yt;async function vt(){gt||(await nt({quiet:!0}),!gt&&(yt=window.setInterval(()=>{nt({quiet:!0}).catch(xt=>{console.error("Auto check verification failed:",xt)})},5e3)))}return vt().catch(xt=>{console.error("Initial verification check failed:",xt)}),()=>{gt=!0,yt&&window.clearInterval(yt)}},[]);const rt=()=>{nt()},mt=async()=>{e(""),c("");const gt=auth.currentUser;if(!gt){c("You are not signed in.");return}try{await gt.sendEmailVerification(),e("Verification email sent. Please check your inbox.")}catch(yt){console.error("Error resending verification email:",yt),c("Could not resend verification email. Please try again.")}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Page$1,{children:[jsxRuntimeExports.jsx(BrandBar$1,{children:"Vetcation"}),jsxRuntimeExports.jsx(Main$1,{children:jsxRuntimeExports.jsxs(Card$3,{children:[o&&jsxRuntimeExports.jsx(ErrorBanner$1,{children:o}),a&&jsxRuntimeExports.jsx(InfoBanner,{children:a}),jsxRuntimeExports.jsx(Title$3,{children:"Verify your email"}),jsxRuntimeExports.jsx(BodyText,{children:"Open the verification email we sent you and tap the link. If you keep this page open in the same browser, it will move on automatically once we detect that your email is verified."}),jsxRuntimeExports.jsxs(ButtonRow$1,{children:[jsxRuntimeExports.jsx(PrimaryButton$1,{type:"button",onClick:rt,children:"I have verified my email"}),jsxRuntimeExports.jsx(SecondaryButton,{type:"button",onClick:mt,children:"Resend verification email"})]})]})}),jsxRuntimeExports.jsxs(TermsRow$1,{children:[jsxRuntimeExports.jsx(TermsLink$1,{href:"/SMSTerms/",children:"Terms of Use"}),jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(TermsLink$1,{href:"/privacy-policy/",children:"Privacy Policy"})]})]}),jsxRuntimeExports.jsx(Footer,{})]})}const Page=pt.div`
  min-height: 100vh;
  background: #ffffff;
  color: #111827;
  display: flex;
  flex-direction: column;
`,BrandBar=pt.header`
  padding: 20px 28px;
  font-size: 20px;
  font-weight: 600;
`,Main=pt.main`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px 16px 32px;
`,Card$2=pt.div`
  width: 100%;
  max-width: 420px;
`,Title$2=pt.h1`
  font-size: 32px;
  font-weight: 600;
  text-align: center;
  margin: 0 0 24px;
`,ErrorBanner=pt.div`
  margin-bottom: 16px;
  padding: 10px 12px;
  border-radius: 10px;
  background: #fee2e2;
  color: #b91c1c;
  font-size: 14px;
`,SuccessBanner=pt.div`
  margin-bottom: 16px;
  padding: 10px 12px;
  border-radius: 10px;
  background: #dcfce7;
  color: #166534;
  font-size: 14px;
`,FieldBlock=pt.div`
  margin-bottom: 16px;
`,FieldLabel$3=pt.div`
  font-size: 13px;
  color: #6b7280;
  margin-bottom: 6px;
`,PillShell=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  background: #f9fafb;
  padding: 10px 16px;
  font-size: 14px;
`,EmailText=pt.span`
  color: #111827;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,EditEmailButton=pt.button`
  border: none;
  background: none;
  padding: 0;
  margin-left: 12px;
  font-size: 13px;
  font-weight: 500;
  color: #2563eb;
  cursor: pointer;

  &:hover {
    text-decoration: underline;
  }
`,InputShell=pt.div`
  display: flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid #d1d5db;
  background: #f9fafb;
  padding: 10px 16px;
`,TextInput=pt.input`
  flex: 1;
  border: none;
  outline: none;
  background: transparent;
  font-size: 14px;
  color: #111827;

  ::placeholder {
    color: #9ca3af;
  }
`,IconButton=pt.button`
  border: none;
  background: none;
  padding: 0;
  margin-left: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #6b7280;
  font-size: 18px;
`,ErrorText$1=pt.div`
  margin-top: 6px;
  font-size: 12px;
  color: #b91c1c;
`,PrimaryButton=pt.button`
  width: 100%;
  margin-top: 4px;
  border-radius: 999px;
  border: none;
  padding: 12px 18px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  background: #111827;
  color: #f9fafb;

  &:hover {
    background: #000000;
  }
`,TermsRow=pt.footer`
  padding: 12px 0 24px;
  text-align: center;
  font-size: 12px;
  color: #6b7280;
  display: flex;
  justify-content: center;
  gap: 8px;
`,TermsLink=pt.a`
  color: #6b7280;
  text-decoration: none;

  &:hover {
    text-decoration: underline;
  }
`;function EmailRegisterPage(){useNavigate();const a=useLocation(),o=new URLSearchParams(a.search).get("email")||"",[c,et]=reactExports.useState(o),[tt,nt]=reactExports.useState(!o),[rt,mt]=reactExports.useState(""),[gt,yt]=reactExports.useState(""),[vt,xt]=reactExports.useState(!1),[bt,Et]=reactExports.useState(!1),[wt,St]=reactExports.useState({}),[Tt,kt]=reactExports.useState(""),[_t,Mt]=reactExports.useState(""),Pt=()=>{const Dt={};return c?/\S+@\S+\.\S+/.test(c)||(Dt.email="Invalid email address"):Dt.email="Email is required",rt?rt.length<8&&(Dt.password="Password must be at least 8 characters"):Dt.password="Password is required",gt?gt!==rt&&(Dt.password2="Passwords do not match"):Dt.password2="Please confirm your password",Dt},It=async Dt=>{Dt.preventDefault(),kt(""),Mt("");const Ct=Pt();if(Object.keys(Ct).length>0){St(Ct);return}try{const At=await createUserWithEmailAndPassword(auth,c,rt);At.user&&(await sendEmailVerification(At.user),Mt("Account created. A verification email has been sent. Please check your inbox."))}catch(At){console.error("Error creating account:",At),kt(At.code==="auth/email-already-in-use"?"This email is already in use. Try logging in instead.":"Could not create your account. Please try again.")}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Page,{children:[jsxRuntimeExports.jsx(BrandBar,{children:"Vetcation"}),jsxRuntimeExports.jsx(Main,{children:jsxRuntimeExports.jsxs(Card$2,{children:[Tt&&jsxRuntimeExports.jsx(ErrorBanner,{children:Tt}),_t&&jsxRuntimeExports.jsx(SuccessBanner,{children:_t}),jsxRuntimeExports.jsx(Title$2,{children:"Create your password"}),jsxRuntimeExports.jsxs("form",{onSubmit:It,noValidate:!0,children:[jsxRuntimeExports.jsxs(FieldBlock,{children:[jsxRuntimeExports.jsx(FieldLabel$3,{children:"Email address"}),tt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InputShell,{children:jsxRuntimeExports.jsx(TextInput,{type:"email",placeholder:"name@example.com",value:c,onChange:Dt=>{et(Dt.target.value),St(Ct=>({...Ct,email:null}))}})}),wt.email&&jsxRuntimeExports.jsx(ErrorText$1,{children:wt.email})]}):jsxRuntimeExports.jsxs(PillShell,{children:[jsxRuntimeExports.jsx(EmailText,{title:c,children:c}),jsxRuntimeExports.jsx(EditEmailButton,{type:"button",onClick:()=>nt(!0),children:"Edit"})]})]}),jsxRuntimeExports.jsxs(FieldBlock,{children:[jsxRuntimeExports.jsx(FieldLabel$3,{children:"Password"}),jsxRuntimeExports.jsxs(InputShell,{children:[jsxRuntimeExports.jsx(TextInput,{type:vt?"text":"password",placeholder:"Password",value:rt,onChange:Dt=>{mt(Dt.target.value),St(Ct=>({...Ct,password:null}))}}),jsxRuntimeExports.jsx(IconButton,{type:"button",onClick:()=>xt(Dt=>!Dt),"aria-label":vt?"Hide password":"Show password",children:vt?jsxRuntimeExports.jsx(FiEyeOff,{}):jsxRuntimeExports.jsx(FiEye,{})})]}),wt.password&&jsxRuntimeExports.jsx(ErrorText$1,{children:wt.password})]}),jsxRuntimeExports.jsxs(FieldBlock,{children:[jsxRuntimeExports.jsx(FieldLabel$3,{children:"Confirm password"}),jsxRuntimeExports.jsxs(InputShell,{children:[jsxRuntimeExports.jsx(TextInput,{type:bt?"text":"password",placeholder:"Confirm password",value:gt,onChange:Dt=>{yt(Dt.target.value),St(Ct=>({...Ct,password2:null}))}}),jsxRuntimeExports.jsx(IconButton,{type:"button",onClick:()=>Et(Dt=>!Dt),"aria-label":bt?"Hide confirm password":"Show confirm password",children:bt?jsxRuntimeExports.jsx(FiEyeOff,{}):jsxRuntimeExports.jsx(FiEye,{})})]}),wt.password2&&jsxRuntimeExports.jsx(ErrorText$1,{children:wt.password2})]}),jsxRuntimeExports.jsx(PrimaryButton,{type:"submit",children:"Create account"})]})]})}),jsxRuntimeExports.jsxs(TermsRow,{children:[jsxRuntimeExports.jsx(TermsLink,{href:"/SMSTerms/",children:"Terms of Use"}),jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(TermsLink,{href:"/privacy-policy/",children:"Privacy Policy"})]})]}),jsxRuntimeExports.jsx(Footer,{})]})}class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class InvalidIntervalError extends LuxonError{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class InvalidDurationError extends LuxonError{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(e){super(`Invalid unit ${e}`)}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n="numeric",s="short",l="long",DATE_SHORT={year:n,month:n,day:n},DATE_MED={year:n,month:s,day:n},DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s},DATE_FULL={year:n,month:l,day:n},DATE_HUGE={year:n,month:l,day:n,weekday:l},TIME_SIMPLE={hour:n,minute:n},TIME_WITH_SECONDS={hour:n,minute:n,second:n},TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s},TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l},TIME_24_SIMPLE={hour:n,minute:n,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:s},TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:l},DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n},DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n},DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n},DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n},DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n},DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s},DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s},DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l},DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(e,o){throw new ZoneIsAbstractError}formatOffset(e,o){throw new ZoneIsAbstractError}offset(e){throw new ZoneIsAbstractError}equals(e){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class SystemZone extends Zone{static get instance(){return singleton$1===null&&(singleton$1=new SystemZone),singleton$1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:o,locale:c}){return parseZoneInfo(e,o,c)}formatOffset(e,o){return formatOffset(this.offset(e),o)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const dtfCache=new Map;function makeDTF(a){let e=dtfCache.get(a);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),dtfCache.set(a,e)),e}const typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hackyOffset(a,e){const o=a.format(e).replace(/\u200E/g,""),c=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(o),[,et,tt,nt,rt,mt,gt,yt]=c;return[nt,et,tt,rt,mt,gt,yt]}function partsOffset(a,e){const o=a.formatToParts(e),c=[];for(let et=0;et<o.length;et++){const{type:tt,value:nt}=o[et],rt=typeToPos[tt];tt==="era"?c[rt]=nt:isUndefined(rt)||(c[rt]=parseInt(nt,10))}return c}const ianaZoneCache=new Map;class IANAZone extends Zone{static create(e){let o=ianaZoneCache.get(e);return o===void 0&&ianaZoneCache.set(e,o=new IANAZone(e)),o}static resetCache(){ianaZoneCache.clear(),dtfCache.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=IANAZone.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:o,locale:c}){return parseZoneInfo(e,o,c,this.name)}formatOffset(e,o){return formatOffset(this.offset(e),o)}offset(e){if(!this.valid)return NaN;const o=new Date(e);if(isNaN(o))return NaN;const c=makeDTF(this.name);let[et,tt,nt,rt,mt,gt,yt]=c.formatToParts?partsOffset(c,o):hackyOffset(c,o);rt==="BC"&&(et=-Math.abs(et)+1);const xt=objToLocalTS({year:et,month:tt,day:nt,hour:mt===24?0:mt,minute:gt,second:yt,millisecond:0});let bt=+o;const Et=bt%1e3;return bt-=Et>=0?Et:1e3+Et,(xt-bt)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let intlLFCache={};function getCachedLF(a,e={}){const o=JSON.stringify([a,e]);let c=intlLFCache[o];return c||(c=new Intl.ListFormat(a,e),intlLFCache[o]=c),c}const intlDTCache=new Map;function getCachedDTF(a,e={}){const o=JSON.stringify([a,e]);let c=intlDTCache.get(o);return c===void 0&&(c=new Intl.DateTimeFormat(a,e),intlDTCache.set(o,c)),c}const intlNumCache=new Map;function getCachedINF(a,e={}){const o=JSON.stringify([a,e]);let c=intlNumCache.get(o);return c===void 0&&(c=new Intl.NumberFormat(a,e),intlNumCache.set(o,c)),c}const intlRelCache=new Map;function getCachedRTF(a,e={}){const{base:o,...c}=e,et=JSON.stringify([a,c]);let tt=intlRelCache.get(et);return tt===void 0&&(tt=new Intl.RelativeTimeFormat(a,e),intlRelCache.set(et,tt)),tt}let sysLocaleCache=null;function systemLocale(){return sysLocaleCache||(sysLocaleCache=new Intl.DateTimeFormat().resolvedOptions().locale,sysLocaleCache)}const intlResolvedOptionsCache=new Map;function getCachedIntResolvedOptions(a){let e=intlResolvedOptionsCache.get(a);return e===void 0&&(e=new Intl.DateTimeFormat(a).resolvedOptions(),intlResolvedOptionsCache.set(a,e)),e}const weekInfoCache=new Map;function getCachedWeekInfo(a){let e=weekInfoCache.get(a);if(!e){const o=new Intl.Locale(a);e="getWeekInfo"in o?o.getWeekInfo():o.weekInfo,"minimalDays"in e||(e={...fallbackWeekSettings,...e}),weekInfoCache.set(a,e)}return e}function parseLocaleString(a){const e=a.indexOf("-x-");e!==-1&&(a=a.substring(0,e));const o=a.indexOf("-u-");if(o===-1)return[a];{let c,et;try{c=getCachedDTF(a).resolvedOptions(),et=a}catch{const mt=a.substring(0,o);c=getCachedDTF(mt).resolvedOptions(),et=mt}const{numberingSystem:tt,calendar:nt}=c;return[et,tt,nt]}}function intlConfigString(a,e,o){return(o||e)&&(a.includes("-u-")||(a+="-u"),o&&(a+=`-ca-${o}`),e&&(a+=`-nu-${e}`)),a}function mapMonths(a){const e=[];for(let o=1;o<=12;o++){const c=DateTime.utc(2009,o,1);e.push(a(c))}return e}function mapWeekdays(a){const e=[];for(let o=1;o<=7;o++){const c=DateTime.utc(2016,11,13+o);e.push(a(c))}return e}function listStuff(a,e,o,c){const et=a.listingMode();return et==="error"?null:et==="en"?o(e):c(e)}function supportsFastNumbers(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||getCachedIntResolvedOptions(a.locale).numberingSystem==="latn"}class PolyNumberFormatter{constructor(e,o,c){this.padTo=c.padTo||0,this.floor=c.floor||!1;const{padTo:et,floor:tt,...nt}=c;if(!o||Object.keys(nt).length>0){const rt={useGrouping:!1,...c};c.padTo>0&&(rt.minimumIntegerDigits=c.padTo),this.inf=getCachedINF(e,rt)}}format(e){if(this.inf){const o=this.floor?Math.floor(e):e;return this.inf.format(o)}else{const o=this.floor?Math.floor(e):roundTo(e,3);return padStart(o,this.padTo)}}}class PolyDateFormatter{constructor(e,o,c){this.opts=c,this.originalZone=void 0;let et;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const nt=-1*(e.offset/60),rt=nt>=0?`Etc/GMT+${nt}`:`Etc/GMT${nt}`;e.offset!==0&&IANAZone.create(rt).valid?(et=rt,this.dt=e):(et="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,et=e.zone.name):(et="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const tt={...this.opts};tt.timeZone=tt.timeZone||et,this.dtf=getCachedDTF(o,tt)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(o=>{if(o.type==="timeZoneName"){const c=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...o,value:c}}else return o}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class PolyRelFormatter{constructor(e,o,c){this.opts={style:"long",...c},!o&&hasRelative()&&(this.rtf=getCachedRTF(e,c))}format(e,o){return this.rtf?this.rtf.format(e,o):formatRelativeTime(o,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,o){return this.rtf?this.rtf.formatToParts(e,o):[]}}const fallbackWeekSettings={firstDay:1,minimalDays:4,weekend:[6,7]};class Locale{static fromOpts(e){return Locale.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,o,c,et,tt=!1){const nt=e||Settings.defaultLocale,rt=nt||(tt?"en-US":systemLocale()),mt=o||Settings.defaultNumberingSystem,gt=c||Settings.defaultOutputCalendar,yt=validateWeekSettings(et)||Settings.defaultWeekSettings;return new Locale(rt,mt,gt,yt,nt)}static resetCache(){sysLocaleCache=null,intlDTCache.clear(),intlNumCache.clear(),intlRelCache.clear(),intlResolvedOptionsCache.clear(),weekInfoCache.clear()}static fromObject({locale:e,numberingSystem:o,outputCalendar:c,weekSettings:et}={}){return Locale.create(e,o,c,et)}constructor(e,o,c,et,tt){const[nt,rt,mt]=parseLocaleString(e);this.locale=nt,this.numberingSystem=o||rt||null,this.outputCalendar=c||mt||null,this.weekSettings=et,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=tt,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),o=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&o?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Locale.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,validateWeekSettings(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,o=!1){return listStuff(this,e,months,()=>{const c=this.intl==="ja"||this.intl.startsWith("ja-");o&=!c;const et=o?{month:e,day:"numeric"}:{month:e},tt=o?"format":"standalone";if(!this.monthsCache[tt][e]){const nt=c?rt=>this.dtFormatter(rt,et).format():rt=>this.extract(rt,et,"month");this.monthsCache[tt][e]=mapMonths(nt)}return this.monthsCache[tt][e]})}weekdays(e,o=!1){return listStuff(this,e,weekdays,()=>{const c=o?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},et=o?"format":"standalone";return this.weekdaysCache[et][e]||(this.weekdaysCache[et][e]=mapWeekdays(tt=>this.extract(tt,c,"weekday"))),this.weekdaysCache[et][e]})}meridiems(){return listStuff(this,void 0,()=>meridiems,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(o=>this.extract(o,e,"dayperiod"))}return this.meridiemCache})}eras(e){return listStuff(this,e,eras,()=>{const o={era:e};return this.eraCache[e]||(this.eraCache[e]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(c=>this.extract(c,o,"era"))),this.eraCache[e]})}extract(e,o,c){const et=this.dtFormatter(e,o),tt=et.formatToParts(),nt=tt.find(rt=>rt.type.toLowerCase()===c);return nt?nt.value:null}numberFormatter(e={}){return new PolyNumberFormatter(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,o={}){return new PolyDateFormatter(e,this.intl,o)}relFormatter(e={}){return new PolyRelFormatter(this.intl,this.isEnglish(),e)}listFormatter(e={}){return getCachedLF(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||getCachedIntResolvedOptions(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:hasLocaleWeekInfo()?getCachedWeekInfo(this.locale):fallbackWeekSettings}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return singleton===null&&(singleton=new FixedOffsetZone(0)),singleton}static instance(e){return e===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(e)}static parseSpecifier(e){if(e){const o=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(o)return new FixedOffsetZone(signedOffset(o[1],o[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${formatOffset(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${formatOffset(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,o){return formatOffset(this.fixed,o)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(a,e){if(isUndefined(a)||a===null)return e;if(a instanceof Zone)return a;if(isString(a)){const o=a.toLowerCase();return o==="default"?e:o==="local"||o==="system"?SystemZone.instance:o==="utc"||o==="gmt"?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(o)||IANAZone.create(a)}else return isNumber(a)?FixedOffsetZone.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new InvalidZone(a)}const numberingSystems={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(a){let e=parseInt(a,10);if(isNaN(e)){e="";for(let o=0;o<a.length;o++){const c=a.charCodeAt(o);if(a[o].search(numberingSystems.hanidec)!==-1)e+=hanidecChars.indexOf(a[o]);else for(const et in numberingSystemsUTF16){const[tt,nt]=numberingSystemsUTF16[et];c>=tt&&c<=nt&&(e+=c-tt)}}return parseInt(e,10)}else return e}const digitRegexCache=new Map;function resetDigitRegexCache(){digitRegexCache.clear()}function digitRegex({numberingSystem:a},e=""){const o=a||"latn";let c=digitRegexCache.get(o);c===void 0&&(c=new Map,digitRegexCache.set(o,c));let et=c.get(e);return et===void 0&&(et=new RegExp(`${numberingSystems[o]}${e}`),c.set(e,et)),et}let now=()=>Date.now(),defaultZone="system",defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,twoDigitCutoffYear=60,throwOnInvalid,defaultWeekSettings=null;class Settings{static get now(){return now}static set now(e){now=e}static set defaultZone(e){defaultZone=e}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale}static set defaultLocale(e){defaultLocale=e}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(e){defaultNumberingSystem=e}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(e){defaultOutputCalendar=e}static get defaultWeekSettings(){return defaultWeekSettings}static set defaultWeekSettings(e){defaultWeekSettings=validateWeekSettings(e)}static get twoDigitCutoffYear(){return twoDigitCutoffYear}static set twoDigitCutoffYear(e){twoDigitCutoffYear=e%100}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(e){throwOnInvalid=e}static resetCaches(){Locale.resetCache(),IANAZone.resetCache(),DateTime.resetCache(),resetDigitRegexCache()}}class Invalid{constructor(e,o){this.reason=e,this.explanation=o}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(a,e){return new Invalid("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${a}, which is invalid`)}function dayOfWeek(a,e,o){const c=new Date(Date.UTC(a,e-1,o));a<100&&a>=0&&c.setUTCFullYear(c.getUTCFullYear()-1900);const et=c.getUTCDay();return et===0?7:et}function computeOrdinal(a,e,o){return o+(isLeapYear(a)?leapLadder:nonLeapLadder)[e-1]}function uncomputeOrdinal(a,e){const o=isLeapYear(a)?leapLadder:nonLeapLadder,c=o.findIndex(tt=>tt<e),et=e-o[c];return{month:c+1,day:et}}function isoWeekdayToLocal(a,e){return(a-e+7)%7+1}function gregorianToWeek(a,e=4,o=1){const{year:c,month:et,day:tt}=a,nt=computeOrdinal(c,et,tt),rt=isoWeekdayToLocal(dayOfWeek(c,et,tt),o);let mt=Math.floor((nt-rt+14-e)/7),gt;return mt<1?(gt=c-1,mt=weeksInWeekYear(gt,e,o)):mt>weeksInWeekYear(c,e,o)?(gt=c+1,mt=1):gt=c,{weekYear:gt,weekNumber:mt,weekday:rt,...timeObject(a)}}function weekToGregorian(a,e=4,o=1){const{weekYear:c,weekNumber:et,weekday:tt}=a,nt=isoWeekdayToLocal(dayOfWeek(c,1,e),o),rt=daysInYear(c);let mt=et*7+tt-nt-7+e,gt;mt<1?(gt=c-1,mt+=daysInYear(gt)):mt>rt?(gt=c+1,mt-=daysInYear(c)):gt=c;const{month:yt,day:vt}=uncomputeOrdinal(gt,mt);return{year:gt,month:yt,day:vt,...timeObject(a)}}function gregorianToOrdinal(a){const{year:e,month:o,day:c}=a,et=computeOrdinal(e,o,c);return{year:e,ordinal:et,...timeObject(a)}}function ordinalToGregorian(a){const{year:e,ordinal:o}=a,{month:c,day:et}=uncomputeOrdinal(e,o);return{year:e,month:c,day:et,...timeObject(a)}}function usesLocalWeekValues(a,e){if(!isUndefined(a.localWeekday)||!isUndefined(a.localWeekNumber)||!isUndefined(a.localWeekYear)){if(!isUndefined(a.weekday)||!isUndefined(a.weekNumber)||!isUndefined(a.weekYear))throw new ConflictingSpecificationError("Cannot mix locale-based week fields with ISO-based week fields");return isUndefined(a.localWeekday)||(a.weekday=a.localWeekday),isUndefined(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),isUndefined(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function hasInvalidWeekData(a,e=4,o=1){const c=isInteger(a.weekYear),et=integerBetween(a.weekNumber,1,weeksInWeekYear(a.weekYear,e,o)),tt=integerBetween(a.weekday,1,7);return c?et?tt?!1:unitOutOfRange("weekday",a.weekday):unitOutOfRange("week",a.weekNumber):unitOutOfRange("weekYear",a.weekYear)}function hasInvalidOrdinalData(a){const e=isInteger(a.year),o=integerBetween(a.ordinal,1,daysInYear(a.year));return e?o?!1:unitOutOfRange("ordinal",a.ordinal):unitOutOfRange("year",a.year)}function hasInvalidGregorianData(a){const e=isInteger(a.year),o=integerBetween(a.month,1,12),c=integerBetween(a.day,1,daysInMonth(a.year,a.month));return e?o?c?!1:unitOutOfRange("day",a.day):unitOutOfRange("month",a.month):unitOutOfRange("year",a.year)}function hasInvalidTimeData(a){const{hour:e,minute:o,second:c,millisecond:et}=a,tt=integerBetween(e,0,23)||e===24&&o===0&&c===0&&et===0,nt=integerBetween(o,0,59),rt=integerBetween(c,0,59),mt=integerBetween(et,0,999);return tt?nt?rt?mt?!1:unitOutOfRange("millisecond",et):unitOutOfRange("second",c):unitOutOfRange("minute",o):unitOutOfRange("hour",e)}function isUndefined(a){return typeof a>"u"}function isNumber(a){return typeof a=="number"}function isInteger(a){return typeof a=="number"&&a%1===0}function isString(a){return typeof a=="string"}function isDate(a){return Object.prototype.toString.call(a)==="[object Date]"}function hasRelative(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function hasLocaleWeekInfo(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function maybeArray(a){return Array.isArray(a)?a:[a]}function bestBy(a,e,o){if(a.length!==0)return a.reduce((c,et)=>{const tt=[e(et),et];return c&&o(c[0],tt[0])===c[0]?c:tt},null)[1]}function pick(a,e){return e.reduce((o,c)=>(o[c]=a[c],o),{})}function hasOwnProperty(a,e){return Object.prototype.hasOwnProperty.call(a,e)}function validateWeekSettings(a){if(a==null)return null;if(typeof a!="object")throw new InvalidArgumentError("Week settings must be an object");if(!integerBetween(a.firstDay,1,7)||!integerBetween(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(e=>!integerBetween(e,1,7)))throw new InvalidArgumentError("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function integerBetween(a,e,o){return isInteger(a)&&a>=e&&a<=o}function floorMod(a,e){return a-e*Math.floor(a/e)}function padStart(a,e=2){const o=a<0;let c;return o?c="-"+(""+-a).padStart(e,"0"):c=(""+a).padStart(e,"0"),c}function parseInteger(a){if(!(isUndefined(a)||a===null||a===""))return parseInt(a,10)}function parseFloating(a){if(!(isUndefined(a)||a===null||a===""))return parseFloat(a)}function parseMillis(a){if(!(isUndefined(a)||a===null||a==="")){const e=parseFloat("0."+a)*1e3;return Math.floor(e)}}function roundTo(a,e,o="round"){const c=10**e;switch(o){case"expand":return a>0?Math.ceil(a*c)/c:Math.floor(a*c)/c;case"trunc":return Math.trunc(a*c)/c;case"round":return Math.round(a*c)/c;case"floor":return Math.floor(a*c)/c;case"ceil":return Math.ceil(a*c)/c;default:throw new RangeError(`Value rounding ${o} is out of range`)}}function isLeapYear(a){return a%4===0&&(a%100!==0||a%400===0)}function daysInYear(a){return isLeapYear(a)?366:365}function daysInMonth(a,e){const o=floorMod(e-1,12)+1,c=a+(e-o)/12;return o===2?isLeapYear(c)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][o-1]}function objToLocalTS(a){let e=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(e=new Date(e),e.setUTCFullYear(a.year,a.month-1,a.day)),+e}function firstWeekOffset(a,e,o){return-isoWeekdayToLocal(dayOfWeek(a,1,e),o)+e-1}function weeksInWeekYear(a,e=4,o=1){const c=firstWeekOffset(a,e,o),et=firstWeekOffset(a+1,e,o);return(daysInYear(a)-c+et)/7}function untruncateYear(a){return a>99?a:a>Settings.twoDigitCutoffYear?1900+a:2e3+a}function parseZoneInfo(a,e,o,c=null){const et=new Date(a),tt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};c&&(tt.timeZone=c);const nt={timeZoneName:e,...tt},rt=new Intl.DateTimeFormat(o,nt).formatToParts(et).find(mt=>mt.type.toLowerCase()==="timezonename");return rt?rt.value:null}function signedOffset(a,e){let o=parseInt(a,10);Number.isNaN(o)&&(o=0);const c=parseInt(e,10)||0,et=o<0||Object.is(o,-0)?-c:c;return o*60+et}function asNumber(a){const e=Number(a);if(typeof a=="boolean"||a===""||!Number.isFinite(e))throw new InvalidArgumentError(`Invalid unit value ${a}`);return e}function normalizeObject(a,e){const o={};for(const c in a)if(hasOwnProperty(a,c)){const et=a[c];if(et==null)continue;o[e(c)]=asNumber(et)}return o}function formatOffset(a,e){const o=Math.trunc(Math.abs(a/60)),c=Math.trunc(Math.abs(a%60)),et=a>=0?"+":"-";switch(e){case"short":return`${et}${padStart(o,2)}:${padStart(c,2)}`;case"narrow":return`${et}${o}${c>0?`:${c}`:""}`;case"techie":return`${et}${padStart(o,2)}${padStart(c,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function timeObject(a){return pick(a,["hour","minute","second","millisecond"])}const monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months(a){switch(a){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(a){switch(a){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(a){switch(a){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(a){return meridiems[a.hour<12?0:1]}function weekdayForDateTime(a,e){return weekdays(e)[a.weekday-1]}function monthForDateTime(a,e){return months(e)[a.month-1]}function eraForDateTime(a,e){return eras(e)[a.year<0?0:1]}function formatRelativeTime(a,e,o="always",c=!1){const et={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},tt=["hours","minutes","seconds"].indexOf(a)===-1;if(o==="auto"&&tt){const vt=a==="days";switch(e){case 1:return vt?"tomorrow":`next ${et[a][0]}`;case-1:return vt?"yesterday":`last ${et[a][0]}`;case 0:return vt?"today":`this ${et[a][0]}`}}const nt=Object.is(e,-0)||e<0,rt=Math.abs(e),mt=rt===1,gt=et[a],yt=c?mt?gt[1]:gt[2]||gt[1]:mt?et[a][0]:a;return nt?`${rt} ${yt} ago`:`in ${rt} ${yt}`}function stringifyTokens(a,e){let o="";for(const c of a)c.literal?o+=c.val:o+=e(c.val);return o}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(e,o={}){return new Formatter(e,o)}static parseFormat(e){let o=null,c="",et=!1;const tt=[];for(let nt=0;nt<e.length;nt++){const rt=e.charAt(nt);rt==="'"?((c.length>0||et)&&tt.push({literal:et||/^\s+$/.test(c),val:c===""?"'":c}),o=null,c="",et=!et):et||rt===o?c+=rt:(c.length>0&&tt.push({literal:/^\s+$/.test(c),val:c}),c=rt,o=rt)}return c.length>0&&tt.push({literal:et||/^\s+$/.test(c),val:c}),tt}static macroTokenToFormatOpts(e){return macroTokenToFormatOpts[e]}constructor(e,o){this.opts=o,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,o){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...o}).format()}dtFormatter(e,o={}){return this.loc.dtFormatter(e,{...this.opts,...o})}formatDateTime(e,o){return this.dtFormatter(e,o).format()}formatDateTimeParts(e,o){return this.dtFormatter(e,o).formatToParts()}formatInterval(e,o){return this.dtFormatter(e.start,o).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,o){return this.dtFormatter(e,o).resolvedOptions()}num(e,o=0,c=void 0){if(this.opts.forceSimple)return padStart(e,o);const et={...this.opts};return o>0&&(et.padTo=o),c&&(et.signDisplay=c),this.loc.numberFormatter(et).format(e)}formatDateTimeFromString(e,o){const c=this.loc.listingMode()==="en",et=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",tt=(bt,Et)=>this.loc.extract(e,bt,Et),nt=bt=>e.isOffsetFixed&&e.offset===0&&bt.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,bt.format):"",rt=()=>c?meridiemForDateTime(e):tt({hour:"numeric",hourCycle:"h12"},"dayperiod"),mt=(bt,Et)=>c?monthForDateTime(e,bt):tt(Et?{month:bt}:{month:bt,day:"numeric"},"month"),gt=(bt,Et)=>c?weekdayForDateTime(e,bt):tt(Et?{weekday:bt}:{weekday:bt,month:"long",day:"numeric"},"weekday"),yt=bt=>{const Et=Formatter.macroTokenToFormatOpts(bt);return Et?this.formatWithSystemDefault(e,Et):bt},vt=bt=>c?eraForDateTime(e,bt):tt({era:bt},"era"),xt=bt=>{switch(bt){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return nt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return nt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return nt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return rt();case"d":return et?tt({day:"numeric"},"day"):this.num(e.day);case"dd":return et?tt({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return gt("short",!0);case"cccc":return gt("long",!0);case"ccccc":return gt("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return gt("short",!1);case"EEEE":return gt("long",!1);case"EEEEE":return gt("narrow",!1);case"L":return et?tt({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return et?tt({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return mt("short",!0);case"LLLL":return mt("long",!0);case"LLLLL":return mt("narrow",!0);case"M":return et?tt({month:"numeric"},"month"):this.num(e.month);case"MM":return et?tt({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return mt("short",!1);case"MMMM":return mt("long",!1);case"MMMMM":return mt("narrow",!1);case"y":return et?tt({year:"numeric"},"year"):this.num(e.year);case"yy":return et?tt({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return et?tt({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return et?tt({year:"numeric"},"year"):this.num(e.year,6);case"G":return vt("short");case"GG":return vt("long");case"GGGGG":return vt("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return yt(bt)}};return stringifyTokens(Formatter.parseFormat(o),xt)}formatDurationFromString(e,o){const c=this.opts.signMode==="negativeLargestOnly"?-1:1,et=yt=>{switch(yt[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},tt=(yt,vt)=>xt=>{const bt=et(xt);if(bt){const Et=vt.isNegativeDuration&&bt!==vt.largestUnit?c:1;let wt;return this.opts.signMode==="negativeLargestOnly"&&bt!==vt.largestUnit?wt="never":this.opts.signMode==="all"?wt="always":wt="auto",this.num(yt.get(bt)*Et,xt.length,wt)}else return xt},nt=Formatter.parseFormat(o),rt=nt.reduce((yt,{literal:vt,val:xt})=>vt?yt:yt.concat(xt),[]),mt=e.shiftTo(...rt.map(et).filter(yt=>yt)),gt={isNegativeDuration:mt<0,largestUnit:Object.keys(mt.values)[0]};return stringifyTokens(nt,tt(mt,gt))}}const ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function combineRegexes(...a){const e=a.reduce((o,c)=>o+c.source,"");return RegExp(`^${e}$`)}function combineExtractors(...a){return e=>a.reduce(([o,c,et],tt)=>{const[nt,rt,mt]=tt(e,et);return[{...o,...nt},rt||c,mt]},[{},null,1]).slice(0,2)}function parse(a,...e){if(a==null)return[null,null];for(const[o,c]of e){const et=o.exec(a);if(et)return c(et)}return[null,null]}function simpleParse(...a){return(e,o)=>{const c={};let et;for(et=0;et<a.length;et++)c[a[et]]=parseInteger(e[o+et]);return[c,null,o+et]}}const offsetRegex=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,isoExtendedZone=`(?:${offsetRegex.source}?(?:\\[(${ianaRegex.source})\\])?)?`,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`),isoTimeExtensionRegex=RegExp(`(?:[Tt]${isoTimeRegex.source})?`),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp(`${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`),sqlTimeExtensionRegex=RegExp(`(?: ${sqlTimeRegex.source})?`);function int(a,e,o){const c=a[e];return isUndefined(c)?o:parseInteger(c)}function extractISOYmd(a,e){return[{year:int(a,e),month:int(a,e+1,1),day:int(a,e+2,1)},null,e+3]}function extractISOTime(a,e){return[{hours:int(a,e,0),minutes:int(a,e+1,0),seconds:int(a,e+2,0),milliseconds:parseMillis(a[e+3])},null,e+4]}function extractISOOffset(a,e){const o=!a[e]&&!a[e+1],c=signedOffset(a[e+1],a[e+2]),et=o?null:FixedOffsetZone.instance(c);return[{},et,e+3]}function extractIANAZone(a,e){const o=a[e]?IANAZone.create(a[e]):null;return[{},o,e+1]}const isoTimeOnly=RegExp(`^T?${isoTimeBaseRegex.source}$`),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(a){const[e,o,c,et,tt,nt,rt,mt,gt]=a,yt=e[0]==="-",vt=mt&&mt[0]==="-",xt=(bt,Et=!1)=>bt!==void 0&&(Et||bt&&yt)?-bt:bt;return[{years:xt(parseFloating(o)),months:xt(parseFloating(c)),weeks:xt(parseFloating(et)),days:xt(parseFloating(tt)),hours:xt(parseFloating(nt)),minutes:xt(parseFloating(rt)),seconds:xt(parseFloating(mt),mt==="-0"),milliseconds:xt(parseMillis(gt),vt)}]}const obsOffsets={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(a,e,o,c,et,tt,nt){const rt={year:e.length===2?untruncateYear(parseInteger(e)):parseInteger(e),month:monthsShort.indexOf(o)+1,day:parseInteger(c),hour:parseInteger(et),minute:parseInteger(tt)};return nt&&(rt.second=parseInteger(nt)),a&&(rt.weekday=a.length>3?weekdaysLong.indexOf(a)+1:weekdaysShort.indexOf(a)+1),rt}const rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(a){const[,e,o,c,et,tt,nt,rt,mt,gt,yt,vt]=a,xt=fromStrings(e,et,c,o,tt,nt,rt);let bt;return mt?bt=obsOffsets[mt]:gt?bt=0:bt=signedOffset(yt,vt),[xt,new FixedOffsetZone(bt)]}function preprocessRFC2822(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(a){const[,e,o,c,et,tt,nt,rt]=a;return[fromStrings(e,et,c,o,tt,nt,rt),FixedOffsetZone.utcInstance]}function extractASCII(a){const[,e,o,c,et,tt,nt,rt]=a;return[fromStrings(e,rt,o,c,et,tt,nt),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseISODate(a){return parse(a,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(a){return parse(preprocessRFC2822(a),[rfc2822,extractRFC2822])}function parseHTTPDate(a){return parse(a,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(a){return parse(a,[isoDuration,extractISODuration])}const extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(a){return parse(a,[isoTimeOnly,extractISOTimeOnly])}const sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(a){return parse(a,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}const INVALID$2="Invalid Duration",lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lowOrderMatrix},daysInYearAccurate=146097/400,daysInMonthAccurate=146097/4800,accurateMatrix={years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1e3},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1e3/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1e3},...lowOrderMatrix},orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$1(a,e,o=!1){const c={values:o?e.values:{...a.values,...e.values||{}},loc:a.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||a.conversionAccuracy,matrix:e.matrix||a.matrix};return new Duration(c)}function durationToMillis(a,e){let o=e.milliseconds??0;for(const c of reverseUnits.slice(1))e[c]&&(o+=e[c]*a[c].milliseconds);return o}function normalizeValues(a,e){const o=durationToMillis(a,e)<0?-1:1;orderedUnits$1.reduceRight((c,et)=>{if(isUndefined(e[et]))return c;if(c){const tt=e[c]*o,nt=a[et][c],rt=Math.floor(tt/nt);e[et]+=rt*o,e[c]-=rt*nt*o}return et},null),orderedUnits$1.reduce((c,et)=>{if(isUndefined(e[et]))return c;if(c){const tt=e[c]%1;e[c]-=tt,e[et]+=tt*a[c][et]}return et},null)}function removeZeroes(a){const e={};for(const[o,c]of Object.entries(a))c!==0&&(e[o]=c);return e}class Duration{constructor(e){const o=e.conversionAccuracy==="longterm"||!1;let c=o?accurateMatrix:casualMatrix;e.matrix&&(c=e.matrix),this.values=e.values,this.loc=e.loc||Locale.create(),this.conversionAccuracy=o?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=c,this.isLuxonDuration=!0}static fromMillis(e,o){return Duration.fromObject({milliseconds:e},o)}static fromObject(e,o={}){if(e==null||typeof e!="object")throw new InvalidArgumentError(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Duration({values:normalizeObject(e,Duration.normalizeUnit),loc:Locale.fromObject(o),conversionAccuracy:o.conversionAccuracy,matrix:o.matrix})}static fromDurationLike(e){if(isNumber(e))return Duration.fromMillis(e);if(Duration.isDuration(e))return e;if(typeof e=="object")return Duration.fromObject(e);throw new InvalidArgumentError(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,o){const[c]=parseISODuration(e);return c?Duration.fromObject(c,o):Duration.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,o){const[c]=parseISOTimeOnly(e);return c?Duration.fromObject(c,o):Duration.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,o=null){if(!e)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const c=e instanceof Invalid?e:new Invalid(e,o);if(Settings.throwOnInvalid)throw new InvalidDurationError(c);return new Duration({invalid:c})}static normalizeUnit(e){const o={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!o)throw new InvalidUnitError(e);return o}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,o={}){const c={...o,floor:o.round!==!1&&o.floor!==!1};return this.isValid?Formatter.create(this.loc,c).formatDurationFromString(this,e):INVALID$2}toHuman(e={}){if(!this.isValid)return INVALID$2;const o=e.showZeros!==!1,c=orderedUnits$1.map(et=>{const tt=this.values[et];return isUndefined(tt)||tt===0&&!o?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:et.slice(0,-1)}).format(tt)}).filter(et=>et);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(c)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const o=this.toMillis();return o<0||o>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},DateTime.fromMillis(o,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?durationToMillis(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const o=Duration.fromDurationLike(e),c={};for(const et of orderedUnits$1)(hasOwnProperty(o.values,et)||hasOwnProperty(this.values,et))&&(c[et]=o.get(et)+this.get(et));return clone$1(this,{values:c},!0)}minus(e){if(!this.isValid)return this;const o=Duration.fromDurationLike(e);return this.plus(o.negate())}mapUnits(e){if(!this.isValid)return this;const o={};for(const c of Object.keys(this.values))o[c]=asNumber(e(this.values[c],c));return clone$1(this,{values:o},!0)}get(e){return this[Duration.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const o={...this.values,...normalizeObject(e,Duration.normalizeUnit)};return clone$1(this,{values:o})}reconfigure({locale:e,numberingSystem:o,conversionAccuracy:c,matrix:et}={}){const nt={loc:this.loc.clone({locale:e,numberingSystem:o}),matrix:et,conversionAccuracy:c};return clone$1(this,nt)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return normalizeValues(this.matrix,e),clone$1(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=removeZeroes(this.normalize().shiftToAll().toObject());return clone$1(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(nt=>Duration.normalizeUnit(nt));const o={},c={},et=this.toObject();let tt;for(const nt of orderedUnits$1)if(e.indexOf(nt)>=0){tt=nt;let rt=0;for(const gt in c)rt+=this.matrix[gt][nt]*c[gt],c[gt]=0;isNumber(et[nt])&&(rt+=et[nt]);const mt=Math.trunc(rt);o[nt]=mt,c[nt]=(rt*1e3-mt*1e3)/1e3}else isNumber(et[nt])&&(c[nt]=et[nt]);for(const nt in c)c[nt]!==0&&(o[tt]+=nt===tt?c[nt]:c[nt]/this.matrix[tt][nt]);return normalizeValues(this.matrix,o),clone$1(this,{values:o},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const o of Object.keys(this.values))e[o]=this.values[o]===0?0:-this.values[o];return clone$1(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=removeZeroes(this.values);return clone$1(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function o(c,et){return c===void 0||c===0?et===void 0||et===0:c===et}for(const c of orderedUnits$1)if(!o(this.values[c],e.values[c]))return!1;return!0}}const INVALID$1="Invalid Interval";function validateStartEnd(a,e){return!a||!a.isValid?Interval.invalid("missing or invalid start"):!e||!e.isValid?Interval.invalid("missing or invalid end"):e<a?Interval.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${e.toISO()}`):null}class Interval{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,o=null){if(!e)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const c=e instanceof Invalid?e:new Invalid(e,o);if(Settings.throwOnInvalid)throw new InvalidIntervalError(c);return new Interval({invalid:c})}static fromDateTimes(e,o){const c=friendlyDateTime(e),et=friendlyDateTime(o),tt=validateStartEnd(c,et);return tt??new Interval({start:c,end:et})}static after(e,o){const c=Duration.fromDurationLike(o),et=friendlyDateTime(e);return Interval.fromDateTimes(et,et.plus(c))}static before(e,o){const c=Duration.fromDurationLike(o),et=friendlyDateTime(e);return Interval.fromDateTimes(et.minus(c),et)}static fromISO(e,o){const[c,et]=(e||"").split("/",2);if(c&&et){let tt,nt;try{tt=DateTime.fromISO(c,o),nt=tt.isValid}catch{nt=!1}let rt,mt;try{rt=DateTime.fromISO(et,o),mt=rt.isValid}catch{mt=!1}if(nt&&mt)return Interval.fromDateTimes(tt,rt);if(nt){const gt=Duration.fromISO(et,o);if(gt.isValid)return Interval.after(tt,gt)}else if(mt){const gt=Duration.fromISO(c,o);if(gt.isValid)return Interval.before(rt,gt)}}return Interval.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",o){if(!this.isValid)return NaN;const c=this.start.startOf(e,o);let et;return o!=null&&o.useLocaleWeeks?et=this.end.reconfigure({locale:c.locale}):et=this.end,et=et.startOf(e,o),Math.floor(et.diff(c,e).get(e))+(et.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:o}={}){return this.isValid?Interval.fromDateTimes(e||this.s,o||this.e):this}splitAt(...e){if(!this.isValid)return[];const o=e.map(friendlyDateTime).filter(nt=>this.contains(nt)).sort((nt,rt)=>nt.toMillis()-rt.toMillis()),c=[];let{s:et}=this,tt=0;for(;et<this.e;){const nt=o[tt]||this.e,rt=+nt>+this.e?this.e:nt;c.push(Interval.fromDateTimes(et,rt)),et=rt,tt+=1}return c}splitBy(e){const o=Duration.fromDurationLike(e);if(!this.isValid||!o.isValid||o.as("milliseconds")===0)return[];let{s:c}=this,et=1,tt;const nt=[];for(;c<this.e;){const rt=this.start.plus(o.mapUnits(mt=>mt*et));tt=+rt>+this.e?this.e:rt,nt.push(Interval.fromDateTimes(c,tt)),c=tt,et+=1}return nt}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const o=this.s>e.s?this.s:e.s,c=this.e<e.e?this.e:e.e;return o>=c?null:Interval.fromDateTimes(o,c)}union(e){if(!this.isValid)return this;const o=this.s<e.s?this.s:e.s,c=this.e>e.e?this.e:e.e;return Interval.fromDateTimes(o,c)}static merge(e){const[o,c]=e.sort((et,tt)=>et.s-tt.s).reduce(([et,tt],nt)=>tt?tt.overlaps(nt)||tt.abutsStart(nt)?[et,tt.union(nt)]:[et.concat([tt]),nt]:[et,nt],[[],null]);return c&&o.push(c),o}static xor(e){let o=null,c=0;const et=[],tt=e.map(mt=>[{time:mt.s,type:"s"},{time:mt.e,type:"e"}]),nt=Array.prototype.concat(...tt),rt=nt.sort((mt,gt)=>mt.time-gt.time);for(const mt of rt)c+=mt.type==="s"?1:-1,c===1?o=mt.time:(o&&+o!=+mt.time&&et.push(Interval.fromDateTimes(o,mt.time)),o=null);return Interval.merge(et)}difference(...e){return Interval.xor([this].concat(e)).map(o=>this.intersection(o)).filter(o=>o&&!o.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:INVALID$1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=DATE_SHORT,o={}){return this.isValid?Formatter.create(this.s.loc.clone(o),e).formatInterval(this):INVALID$1}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:INVALID$1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:INVALID$1}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:INVALID$1}toFormat(e,{separator:o="  "}={}){return this.isValid?`${this.s.toFormat(e)}${o}${this.e.toFormat(e)}`:INVALID$1}toDuration(e,o){return this.isValid?this.e.diff(this.s,e,o):Duration.invalid(this.invalidReason)}mapEndpoints(e){return Interval.fromDateTimes(e(this.s),e(this.e))}}class Info{static hasDST(e=Settings.defaultZone){const o=DateTime.now().setZone(e).set({month:12});return!e.isUniversal&&o.offset!==o.set({month:6}).offset}static isValidIANAZone(e){return IANAZone.isValidZone(e)}static normalizeZone(e){return normalizeZone(e,Settings.defaultZone)}static getStartOfWeek({locale:e=null,locObj:o=null}={}){return(o||Locale.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:o=null}={}){return(o||Locale.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:o=null}={}){return(o||Locale.create(e)).getWeekendDays().slice()}static months(e="long",{locale:o=null,numberingSystem:c=null,locObj:et=null,outputCalendar:tt="gregory"}={}){return(et||Locale.create(o,c,tt)).months(e)}static monthsFormat(e="long",{locale:o=null,numberingSystem:c=null,locObj:et=null,outputCalendar:tt="gregory"}={}){return(et||Locale.create(o,c,tt)).months(e,!0)}static weekdays(e="long",{locale:o=null,numberingSystem:c=null,locObj:et=null}={}){return(et||Locale.create(o,c,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:o=null,numberingSystem:c=null,locObj:et=null}={}){return(et||Locale.create(o,c,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Locale.create(e).meridiems()}static eras(e="short",{locale:o=null}={}){return Locale.create(o,null,"gregory").eras(e)}static features(){return{relative:hasRelative(),localeWeek:hasLocaleWeekInfo()}}}function dayDiff(a,e){const o=et=>et.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),c=o(e)-o(a);return Math.floor(Duration.fromMillis(c).as("days"))}function highOrderDiffs(a,e,o){const c=[["years",(mt,gt)=>gt.year-mt.year],["quarters",(mt,gt)=>gt.quarter-mt.quarter+(gt.year-mt.year)*4],["months",(mt,gt)=>gt.month-mt.month+(gt.year-mt.year)*12],["weeks",(mt,gt)=>{const yt=dayDiff(mt,gt);return(yt-yt%7)/7}],["days",dayDiff]],et={},tt=a;let nt,rt;for(const[mt,gt]of c)o.indexOf(mt)>=0&&(nt=mt,et[mt]=gt(a,e),rt=tt.plus(et),rt>e?(et[mt]--,a=tt.plus(et),a>e&&(rt=a,et[mt]--,a=tt.plus(et))):a=rt);return[a,et,rt,nt]}function diff(a,e,o,c){let[et,tt,nt,rt]=highOrderDiffs(a,e,o);const mt=e-et,gt=o.filter(vt=>["hours","minutes","seconds","milliseconds"].indexOf(vt)>=0);gt.length===0&&(nt<e&&(nt=et.plus({[rt]:1})),nt!==et&&(tt[rt]=(tt[rt]||0)+mt/(nt-et)));const yt=Duration.fromObject(tt,c);return gt.length>0?Duration.fromMillis(mt,c).shiftTo(...gt).plus(yt):yt}const MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(a,e=o=>o){return{regex:a,deser:([o])=>e(parseDigits(o))}}const NBSP="",spaceOrNBSP=`[ ${NBSP}]`,spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(a){return a.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(a){return a.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(a,e){return a===null?null:{regex:RegExp(a.map(fixListRegex).join("|")),deser:([o])=>a.findIndex(c=>stripInsensitivities(o)===stripInsensitivities(c))+e}}function offset(a,e){return{regex:a,deser:([,o,c])=>signedOffset(o,c),groups:e}}function simple(a){return{regex:a,deser:([e])=>e}}function escapeToken(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(a,e){const o=digitRegex(e),c=digitRegex(e,"{2}"),et=digitRegex(e,"{3}"),tt=digitRegex(e,"{4}"),nt=digitRegex(e,"{6}"),rt=digitRegex(e,"{1,2}"),mt=digitRegex(e,"{1,3}"),gt=digitRegex(e,"{1,6}"),yt=digitRegex(e,"{1,9}"),vt=digitRegex(e,"{2,4}"),xt=digitRegex(e,"{4,6}"),bt=St=>({regex:RegExp(escapeToken(St.val)),deser:([Tt])=>Tt,literal:!0}),wt=(St=>{if(a.literal)return bt(St);switch(St.val){case"G":return oneOf(e.eras("short"),0);case"GG":return oneOf(e.eras("long"),0);case"y":return intUnit(gt);case"yy":return intUnit(vt,untruncateYear);case"yyyy":return intUnit(tt);case"yyyyy":return intUnit(xt);case"yyyyyy":return intUnit(nt);case"M":return intUnit(rt);case"MM":return intUnit(c);case"MMM":return oneOf(e.months("short",!0),1);case"MMMM":return oneOf(e.months("long",!0),1);case"L":return intUnit(rt);case"LL":return intUnit(c);case"LLL":return oneOf(e.months("short",!1),1);case"LLLL":return oneOf(e.months("long",!1),1);case"d":return intUnit(rt);case"dd":return intUnit(c);case"o":return intUnit(mt);case"ooo":return intUnit(et);case"HH":return intUnit(c);case"H":return intUnit(rt);case"hh":return intUnit(c);case"h":return intUnit(rt);case"mm":return intUnit(c);case"m":return intUnit(rt);case"q":return intUnit(rt);case"qq":return intUnit(c);case"s":return intUnit(rt);case"ss":return intUnit(c);case"S":return intUnit(mt);case"SSS":return intUnit(et);case"u":return simple(yt);case"uu":return simple(rt);case"uuu":return intUnit(o);case"a":return oneOf(e.meridiems(),0);case"kkkk":return intUnit(tt);case"kk":return intUnit(vt,untruncateYear);case"W":return intUnit(rt);case"WW":return intUnit(c);case"E":case"c":return intUnit(o);case"EEE":return oneOf(e.weekdays("short",!1),1);case"EEEE":return oneOf(e.weekdays("long",!1),1);case"ccc":return oneOf(e.weekdays("short",!0),1);case"cccc":return oneOf(e.weekdays("long",!0),1);case"Z":case"ZZ":return offset(new RegExp(`([+-]${rt.source})(?::(${c.source}))?`),2);case"ZZZ":return offset(new RegExp(`([+-]${rt.source})(${c.source})?`),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);case" ":return simple(/[^\S\n\r]/);default:return bt(St)}})(a)||{invalidReason:MISSING_FTP};return wt.token=a,wt}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tokenForPart(a,e,o){const{type:c,value:et}=a;if(c==="literal"){const mt=/^\s+$/.test(et);return{literal:!mt,val:mt?" ":et}}const tt=e[c];let nt=c;c==="hour"&&(e.hour12!=null?nt=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?nt="hour12":nt="hour24":nt=o.hour12?"hour12":"hour24");let rt=partTypeStyleToTokenVal[nt];if(typeof rt=="object"&&(rt=rt[tt]),rt)return{literal:!1,val:rt}}function buildRegex(a){return[`^${a.map(o=>o.regex).reduce((o,c)=>`${o}(${c.source})`,"")}$`,a]}function match(a,e,o){const c=a.match(e);if(c){const et={};let tt=1;for(const nt in o)if(hasOwnProperty(o,nt)){const rt=o[nt],mt=rt.groups?rt.groups+1:1;!rt.literal&&rt.token&&(et[rt.token.val[0]]=rt.deser(c.slice(tt,tt+mt))),tt+=mt}return[c,et]}else return[c,{}]}function dateTimeFromMatches(a){const e=tt=>{switch(tt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let o=null,c;return isUndefined(a.z)||(o=IANAZone.create(a.z)),isUndefined(a.Z)||(o||(o=new FixedOffsetZone(a.Z)),c=a.Z),isUndefined(a.q)||(a.M=(a.q-1)*3+1),isUndefined(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),isUndefined(a.u)||(a.S=parseMillis(a.u)),[Object.keys(a).reduce((tt,nt)=>{const rt=e(nt);return rt&&(tt[rt]=a[nt]),tt},{}),o,c]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(a,e){if(a.literal)return a;const o=Formatter.macroTokenToFormatOpts(a.val),c=formatOptsToTokens(o,e);return c==null||c.includes(void 0)?a:c}function expandMacroTokens(a,e){return Array.prototype.concat(...a.map(o=>maybeExpandMacroToken(o,e)))}class TokenParser{constructor(e,o){if(this.locale=e,this.format=o,this.tokens=expandMacroTokens(Formatter.parseFormat(o),e),this.units=this.tokens.map(c=>unitForToken(c,e)),this.disqualifyingUnit=this.units.find(c=>c.invalidReason),!this.disqualifyingUnit){const[c,et]=buildRegex(this.units);this.regex=RegExp(c,"i"),this.handlers=et}}explainFromTokens(e){if(this.isValid){const[o,c]=match(e,this.regex,this.handlers),[et,tt,nt]=c?dateTimeFromMatches(c):[null,null,void 0];if(hasOwnProperty(c,"a")&&hasOwnProperty(c,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:o,matches:c,result:et,zone:tt,specificOffset:nt}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function explainFromTokens(a,e,o){return new TokenParser(a,o).explainFromTokens(e)}function parseFromTokens(a,e,o){const{result:c,zone:et,specificOffset:tt,invalidReason:nt}=explainFromTokens(a,e,o);return[c,et,tt,nt]}function formatOptsToTokens(a,e){if(!a)return null;const c=Formatter.create(e,a).dtFormatter(getDummyDateTime()),et=c.formatToParts(),tt=c.resolvedOptions();return et.map(nt=>tokenForPart(nt,a,tt))}const INVALID="Invalid DateTime",MAX_DATE=864e13;function unsupportedZone(a){return new Invalid("unsupported zone",`the zone "${a.name}" is not supported`)}function possiblyCachedWeekData(a){return a.weekData===null&&(a.weekData=gregorianToWeek(a.c)),a.weekData}function possiblyCachedLocalWeekData(a){return a.localWeekData===null&&(a.localWeekData=gregorianToWeek(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function clone(a,e){const o={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new DateTime({...o,...e,old:o})}function fixOffset(a,e,o){let c=a-e*60*1e3;const et=o.offset(c);if(e===et)return[c,e];c-=(et-e)*60*1e3;const tt=o.offset(c);return et===tt?[c,et]:[a-Math.min(et,tt)*60*1e3,Math.max(et,tt)]}function tsToObj(a,e){a+=e*60*1e3;const o=new Date(a);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function objToTS(a,e,o){return fixOffset(objToLocalTS(a),e,o)}function adjustTime(a,e){const o=a.o,c=a.c.year+Math.trunc(e.years),et=a.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,tt={...a.c,year:c,month:et,day:Math.min(a.c.day,daysInMonth(c,et))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},nt=Duration.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),rt=objToLocalTS(tt);let[mt,gt]=fixOffset(rt,o,a.zone);return nt!==0&&(mt+=nt,gt=a.zone.offset(mt)),{ts:mt,o:gt}}function parseDataToDateTime(a,e,o,c,et,tt){const{setZone:nt,zone:rt}=o;if(a&&Object.keys(a).length!==0||e){const mt=e||rt,gt=DateTime.fromObject(a,{...o,zone:mt,specificOffset:tt});return nt?gt:gt.setZone(rt)}else return DateTime.invalid(new Invalid("unparsable",`the input "${et}" can't be parsed as ${c}`))}function toTechFormat(a,e,o=!0){return a.isValid?Formatter.create(Locale.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(a,e):null}function toISODate(a,e,o){const c=a.c.year>9999||a.c.year<0;let et="";if(c&&a.c.year>=0&&(et+="+"),et+=padStart(a.c.year,c?6:4),o==="year")return et;if(e){if(et+="-",et+=padStart(a.c.month),o==="month")return et;et+="-"}else if(et+=padStart(a.c.month),o==="month")return et;return et+=padStart(a.c.day),et}function toISOTime(a,e,o,c,et,tt,nt){let rt=!o||a.c.millisecond!==0||a.c.second!==0,mt="";switch(nt){case"day":case"month":case"year":break;default:if(mt+=padStart(a.c.hour),nt==="hour")break;if(e){if(mt+=":",mt+=padStart(a.c.minute),nt==="minute")break;rt&&(mt+=":",mt+=padStart(a.c.second))}else{if(mt+=padStart(a.c.minute),nt==="minute")break;rt&&(mt+=padStart(a.c.second))}if(nt==="second")break;rt&&(!c||a.c.millisecond!==0)&&(mt+=".",mt+=padStart(a.c.millisecond,3))}return et&&(a.isOffsetFixed&&a.offset===0&&!tt?mt+="Z":a.o<0?(mt+="-",mt+=padStart(Math.trunc(-a.o/60)),mt+=":",mt+=padStart(Math.trunc(-a.o%60))):(mt+="+",mt+=padStart(Math.trunc(a.o/60)),mt+=":",mt+=padStart(Math.trunc(a.o%60)))),tt&&(mt+="["+a.zone.ianaName+"]"),mt}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(a){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!e)throw new InvalidUnitError(a);return e}function normalizeUnitWithLocalWeeks(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return normalizeUnit(a)}}function guessOffsetForZone(a){if(zoneOffsetTs===void 0&&(zoneOffsetTs=Settings.now()),a.type!=="iana")return a.offset(zoneOffsetTs);const e=a.name;let o=zoneOffsetGuessCache.get(e);return o===void 0&&(o=a.offset(zoneOffsetTs),zoneOffsetGuessCache.set(e,o)),o}function quickDT(a,e){const o=normalizeZone(e.zone,Settings.defaultZone);if(!o.isValid)return DateTime.invalid(unsupportedZone(o));const c=Locale.fromObject(e);let et,tt;if(isUndefined(a.year))et=Settings.now();else{for(const mt of orderedUnits)isUndefined(a[mt])&&(a[mt]=defaultUnitValues[mt]);const nt=hasInvalidGregorianData(a)||hasInvalidTimeData(a);if(nt)return DateTime.invalid(nt);const rt=guessOffsetForZone(o);[et,tt]=objToTS(a,rt,o)}return new DateTime({ts:et,zone:o,loc:c,o:tt})}function diffRelative(a,e,o){const c=isUndefined(o.round)?!0:o.round,et=isUndefined(o.rounding)?"trunc":o.rounding,tt=(rt,mt)=>(rt=roundTo(rt,c||o.calendary?0:2,o.calendary?"round":et),e.loc.clone(o).relFormatter(o).format(rt,mt)),nt=rt=>o.calendary?e.hasSame(a,rt)?0:e.startOf(rt).diff(a.startOf(rt),rt).get(rt):e.diff(a,rt).get(rt);if(o.unit)return tt(nt(o.unit),o.unit);for(const rt of o.units){const mt=nt(rt);if(Math.abs(mt)>=1)return tt(mt,rt)}return tt(a>e?-0:0,o.units[o.units.length-1])}function lastOpts(a){let e={},o;return a.length>0&&typeof a[a.length-1]=="object"?(e=a[a.length-1],o=Array.from(a).slice(0,a.length-1)):o=Array.from(a),[e,o]}let zoneOffsetTs;const zoneOffsetGuessCache=new Map;class DateTime{constructor(e){const o=e.zone||Settings.defaultZone;let c=e.invalid||(Number.isNaN(e.ts)?new Invalid("invalid input"):null)||(o.isValid?null:unsupportedZone(o));this.ts=isUndefined(e.ts)?Settings.now():e.ts;let et=null,tt=null;if(!c)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(o))[et,tt]=[e.old.c,e.old.o];else{const rt=isNumber(e.o)&&!e.old?e.o:o.offset(this.ts);et=tsToObj(this.ts,rt),c=Number.isNaN(et.year)?new Invalid("invalid input"):null,et=c?null:et,tt=c?null:rt}this._zone=o,this.loc=e.loc||Locale.create(),this.invalid=c,this.weekData=null,this.localWeekData=null,this.c=et,this.o=tt,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(){const[e,o]=lastOpts(arguments),[c,et,tt,nt,rt,mt,gt]=o;return quickDT({year:c,month:et,day:tt,hour:nt,minute:rt,second:mt,millisecond:gt},e)}static utc(){const[e,o]=lastOpts(arguments),[c,et,tt,nt,rt,mt,gt]=o;return e.zone=FixedOffsetZone.utcInstance,quickDT({year:c,month:et,day:tt,hour:nt,minute:rt,second:mt,millisecond:gt},e)}static fromJSDate(e,o={}){const c=isDate(e)?e.valueOf():NaN;if(Number.isNaN(c))return DateTime.invalid("invalid input");const et=normalizeZone(o.zone,Settings.defaultZone);return et.isValid?new DateTime({ts:c,zone:et,loc:Locale.fromObject(o)}):DateTime.invalid(unsupportedZone(et))}static fromMillis(e,o={}){if(isNumber(e))return e<-MAX_DATE||e>MAX_DATE?DateTime.invalid("Timestamp out of range"):new DateTime({ts:e,zone:normalizeZone(o.zone,Settings.defaultZone),loc:Locale.fromObject(o)});throw new InvalidArgumentError(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,o={}){if(isNumber(e))return new DateTime({ts:e*1e3,zone:normalizeZone(o.zone,Settings.defaultZone),loc:Locale.fromObject(o)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(e,o={}){e=e||{};const c=normalizeZone(o.zone,Settings.defaultZone);if(!c.isValid)return DateTime.invalid(unsupportedZone(c));const et=Locale.fromObject(o),tt=normalizeObject(e,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:nt,startOfWeek:rt}=usesLocalWeekValues(tt,et),mt=Settings.now(),gt=isUndefined(o.specificOffset)?c.offset(mt):o.specificOffset,yt=!isUndefined(tt.ordinal),vt=!isUndefined(tt.year),xt=!isUndefined(tt.month)||!isUndefined(tt.day),bt=vt||xt,Et=tt.weekYear||tt.weekNumber;if((bt||yt)&&Et)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(xt&&yt)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const wt=Et||tt.weekday&&!bt;let St,Tt,kt=tsToObj(mt,gt);wt?(St=orderedWeekUnits,Tt=defaultWeekUnitValues,kt=gregorianToWeek(kt,nt,rt)):yt?(St=orderedOrdinalUnits,Tt=defaultOrdinalUnitValues,kt=gregorianToOrdinal(kt)):(St=orderedUnits,Tt=defaultUnitValues);let _t=!1;for(const Lt of St){const jt=tt[Lt];isUndefined(jt)?_t?tt[Lt]=Tt[Lt]:tt[Lt]=kt[Lt]:_t=!0}const Mt=wt?hasInvalidWeekData(tt,nt,rt):yt?hasInvalidOrdinalData(tt):hasInvalidGregorianData(tt),Pt=Mt||hasInvalidTimeData(tt);if(Pt)return DateTime.invalid(Pt);const It=wt?weekToGregorian(tt,nt,rt):yt?ordinalToGregorian(tt):tt,[Dt,Ct]=objToTS(It,gt,c),At=new DateTime({ts:Dt,zone:c,o:Ct,loc:et});return tt.weekday&&bt&&e.weekday!==At.weekday?DateTime.invalid("mismatched weekday",`you can't specify both a weekday of ${tt.weekday} and a date of ${At.toISO()}`):At.isValid?At:DateTime.invalid(At.invalid)}static fromISO(e,o={}){const[c,et]=parseISODate(e);return parseDataToDateTime(c,et,o,"ISO 8601",e)}static fromRFC2822(e,o={}){const[c,et]=parseRFC2822Date(e);return parseDataToDateTime(c,et,o,"RFC 2822",e)}static fromHTTP(e,o={}){const[c,et]=parseHTTPDate(e);return parseDataToDateTime(c,et,o,"HTTP",o)}static fromFormat(e,o,c={}){if(isUndefined(e)||isUndefined(o))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:et=null,numberingSystem:tt=null}=c,nt=Locale.fromOpts({locale:et,numberingSystem:tt,defaultToEN:!0}),[rt,mt,gt,yt]=parseFromTokens(nt,e,o);return yt?DateTime.invalid(yt):parseDataToDateTime(rt,mt,c,`format ${o}`,e,gt)}static fromString(e,o,c={}){return DateTime.fromFormat(e,o,c)}static fromSQL(e,o={}){const[c,et]=parseSQL(e);return parseDataToDateTime(c,et,o,"SQL",e)}static invalid(e,o=null){if(!e)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const c=e instanceof Invalid?e:new Invalid(e,o);if(Settings.throwOnInvalid)throw new InvalidDateTimeError(c);return new DateTime({invalid:c})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,o={}){const c=formatOptsToTokens(e,Locale.fromObject(o));return c?c.map(et=>et?et.val:null).join(""):null}static expandFormat(e,o={}){return expandMacroTokens(Formatter.parseFormat(e),Locale.fromObject(o)).map(et=>et.val).join("")}static resetCache(){zoneOffsetTs=void 0,zoneOffsetGuessCache.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?possiblyCachedLocalWeekData(this).weekday:NaN}get localWeekNumber(){return this.isValid?possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?possiblyCachedLocalWeekData(this).weekYear:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,o=6e4,c=objToLocalTS(this.c),et=this.zone.offset(c-e),tt=this.zone.offset(c+e),nt=this.zone.offset(c-et*o),rt=this.zone.offset(c-tt*o);if(nt===rt)return[this];const mt=c-nt*o,gt=c-rt*o,yt=tsToObj(mt,nt),vt=tsToObj(gt,rt);return yt.hour===vt.hour&&yt.minute===vt.minute&&yt.second===vt.second&&yt.millisecond===vt.millisecond?[clone(this,{ts:mt}),clone(this,{ts:gt})]:[this]}get isInLeapYear(){return isLeapYear(this.year)}get daysInMonth(){return daysInMonth(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?weeksInWeekYear(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:o,numberingSystem:c,calendar:et}=Formatter.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:o,numberingSystem:c,outputCalendar:et}}toUTC(e=0,o={}){return this.setZone(FixedOffsetZone.instance(e),o)}toLocal(){return this.setZone(Settings.defaultZone)}setZone(e,{keepLocalTime:o=!1,keepCalendarTime:c=!1}={}){if(e=normalizeZone(e,Settings.defaultZone),e.equals(this.zone))return this;if(e.isValid){let et=this.ts;if(o||c){const tt=e.offset(this.ts),nt=this.toObject();[et]=objToTS(nt,tt,e)}return clone(this,{ts:et,zone:e})}else return DateTime.invalid(unsupportedZone(e))}reconfigure({locale:e,numberingSystem:o,outputCalendar:c}={}){const et=this.loc.clone({locale:e,numberingSystem:o,outputCalendar:c});return clone(this,{loc:et})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const o=normalizeObject(e,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:c,startOfWeek:et}=usesLocalWeekValues(o,this.loc),tt=!isUndefined(o.weekYear)||!isUndefined(o.weekNumber)||!isUndefined(o.weekday),nt=!isUndefined(o.ordinal),rt=!isUndefined(o.year),mt=!isUndefined(o.month)||!isUndefined(o.day),gt=rt||mt,yt=o.weekYear||o.weekNumber;if((gt||nt)&&yt)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(mt&&nt)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let vt;tt?vt=weekToGregorian({...gregorianToWeek(this.c,c,et),...o},c,et):isUndefined(o.ordinal)?(vt={...this.toObject(),...o},isUndefined(o.day)&&(vt.day=Math.min(daysInMonth(vt.year,vt.month),vt.day))):vt=ordinalToGregorian({...gregorianToOrdinal(this.c),...o});const[xt,bt]=objToTS(vt,this.o,this.zone);return clone(this,{ts:xt,o:bt})}plus(e){if(!this.isValid)return this;const o=Duration.fromDurationLike(e);return clone(this,adjustTime(this,o))}minus(e){if(!this.isValid)return this;const o=Duration.fromDurationLike(e).negate();return clone(this,adjustTime(this,o))}startOf(e,{useLocaleWeeks:o=!1}={}){if(!this.isValid)return this;const c={},et=Duration.normalizeUnit(e);switch(et){case"years":c.month=1;case"quarters":case"months":c.day=1;case"weeks":case"days":c.hour=0;case"hours":c.minute=0;case"minutes":c.second=0;case"seconds":c.millisecond=0;break}if(et==="weeks")if(o){const tt=this.loc.getStartOfWeek(),{weekday:nt}=this;nt<tt&&(c.weekNumber=this.weekNumber-1),c.weekday=tt}else c.weekday=1;if(et==="quarters"){const tt=Math.ceil(this.month/3);c.month=(tt-1)*3+1}return this.set(c)}endOf(e,o){return this.isValid?this.plus({[e]:1}).startOf(e,o).minus(1):this}toFormat(e,o={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(o)).formatDateTimeFromString(this,e):INVALID}toLocaleString(e=DATE_SHORT,o={}){return this.isValid?Formatter.create(this.loc.clone(o),e).formatDateTime(this):INVALID}toLocaleParts(e={}){return this.isValid?Formatter.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:o=!1,suppressMilliseconds:c=!1,includeOffset:et=!0,extendedZone:tt=!1,precision:nt="milliseconds"}={}){if(!this.isValid)return null;nt=normalizeUnit(nt);const rt=e==="extended";let mt=toISODate(this,rt,nt);return orderedUnits.indexOf(nt)>=3&&(mt+="T"),mt+=toISOTime(this,rt,o,c,et,tt,nt),mt}toISODate({format:e="extended",precision:o="day"}={}){return this.isValid?toISODate(this,e==="extended",normalizeUnit(o)):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:o=!1,includeOffset:c=!0,includePrefix:et=!1,extendedZone:tt=!1,format:nt="extended",precision:rt="milliseconds"}={}){return this.isValid?(rt=normalizeUnit(rt),(et&&orderedUnits.indexOf(rt)>=3?"T":"")+toISOTime(this,nt==="extended",o,e,c,tt,rt)):null}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:o=!1,includeOffsetSpace:c=!0}={}){let et="HH:mm:ss.SSS";return(o||e)&&(c&&(et+=" "),o?et+="z":e&&(et+="ZZ")),toTechFormat(this,et,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():INVALID}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const o={...this.c};return e.includeConfig&&(o.outputCalendar=this.outputCalendar,o.numberingSystem=this.loc.numberingSystem,o.locale=this.loc.locale),o}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,o="milliseconds",c={}){if(!this.isValid||!e.isValid)return Duration.invalid("created by diffing an invalid DateTime");const et={locale:this.locale,numberingSystem:this.numberingSystem,...c},tt=maybeArray(o).map(Duration.normalizeUnit),nt=e.valueOf()>this.valueOf(),rt=nt?this:e,mt=nt?e:this,gt=diff(rt,mt,tt,et);return nt?gt.negate():gt}diffNow(e="milliseconds",o={}){return this.diff(DateTime.now(),e,o)}until(e){return this.isValid?Interval.fromDateTimes(this,e):this}hasSame(e,o,c){if(!this.isValid)return!1;const et=e.valueOf(),tt=this.setZone(e.zone,{keepLocalTime:!0});return tt.startOf(o,c)<=et&&et<=tt.endOf(o,c)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const o=e.base||DateTime.fromObject({},{zone:this.zone}),c=e.padding?this<o?-e.padding:e.padding:0;let et=["years","months","days","hours","minutes","seconds"],tt=e.unit;return Array.isArray(e.unit)&&(et=e.unit,tt=void 0),diffRelative(o,this.plus(c),{...e,numeric:"always",units:et,unit:tt})}toRelativeCalendar(e={}){return this.isValid?diffRelative(e.base||DateTime.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(e,o=>o.valueOf(),Math.min)}static max(...e){if(!e.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(e,o=>o.valueOf(),Math.max)}static fromFormatExplain(e,o,c={}){const{locale:et=null,numberingSystem:tt=null}=c,nt=Locale.fromOpts({locale:et,numberingSystem:tt,defaultToEN:!0});return explainFromTokens(nt,e,o)}static fromStringExplain(e,o,c={}){return DateTime.fromFormatExplain(e,o,c)}static buildFormatParser(e,o={}){const{locale:c=null,numberingSystem:et=null}=o,tt=Locale.fromOpts({locale:c,numberingSystem:et,defaultToEN:!0});return new TokenParser(tt,e)}static fromFormatParser(e,o,c={}){if(isUndefined(e)||isUndefined(o))throw new InvalidArgumentError("fromFormatParser requires an input string and a format parser");const{locale:et=null,numberingSystem:tt=null}=c,nt=Locale.fromOpts({locale:et,numberingSystem:tt,defaultToEN:!0});if(!nt.equals(o.locale))throw new InvalidArgumentError(`fromFormatParser called with a locale of ${nt}, but the format parser was created for ${o.locale}`);const{result:rt,zone:mt,specificOffset:gt,invalidReason:yt}=o.explainFromTokens(e);return yt?DateTime.invalid(yt):parseDataToDateTime(rt,mt,c,`format ${o.format}`,e,gt)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(a){if(DateTime.isDateTime(a))return a;if(a&&a.valueOf&&isNumber(a.valueOf()))return DateTime.fromJSDate(a);if(a&&typeof a=="object")return DateTime.fromObject(a);throw new InvalidArgumentError(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const DEFAULT_FELINE_REMISSION_NOTE="Remission can occur in diabetic cats. This means that they no longer require insulin therapy. Your cat has the best chance of remission if you achieve precise blood glucose control within six months of diagnosis, carefully monitor your cat at home, stop any medications that could interfere with the insulin, and use an appropriate insulin in combination with a low-carbohydrate diet.";function getPetPronouns(a){return a==="M"||a==="MN"?{subj:"he",obj:"him",possAdj:"his"}:a==="F"||a==="FS"?{subj:"she",obj:"her",possAdj:"her"}:{subj:"they",obj:"them",possAdj:"their"}}function unitLabel(a){return a==="cans"?"can(s)":"cup(s)"}function buildFeedingLine1(a){const e=getPetPronouns(a.sex),o=(a.prescribedFood||"").trim()||"________",c=(a.foodAmount||"").toString().trim()||"___",et=unitLabel(a.foodAmountUnit),tt=(a.foodIntervalHours||"").toString().trim()||"__";return`Feed ${e.obj} ${o} ${c} ${et} every ${tt} hours.`}function buildFeedingLine2(a){const e=getPetPronouns(a.sex);return`Feed ${(a.petName||"").trim()||"your pet"} BEFORE you give ${e.obj} any insulin.`}function buildFeedingLine3(a){return`Do your best to feed ${getPetPronouns(a.sex).obj} at the same time every day.`}function buildFeedingLine4(){return"Do not give additional treats, table scraps, or home-cooked meals unless you have discussed this diet with our team."}function buildFeedingLine5(a){const e=(a.petName||"").trim()||"your pet";return`While ${e} is currently overweight, we are hopeful that this nutrition plan will help ${e} slowly lose weight.`}function buildFeedingLine6(a){const e=getPetPronouns(a.sex);return`If ${e.possAdj} appetite changes (increases or decreases), please contact our veterinary team. This may be a sign that ${e.possAdj} diabetes is uncontrolled or that another condition is developing.`}function buildFeedingLine7(a){const e=getPetPronouns(a.sex),o=`If ${e.subj} vomits soon after eating or refuses to eat one meal`,c=a.feeding7Mode||"withhold";if(c==="withhold")return`${o} withhold insulin and call us.`;if(c==="half_dose")return`${o} administer half the amount of insulin and resume your normal insulin regimen if ${e.subj} eats at the next meal.`;const et=(a.feeding7BgThreshold||"").toString().trim()||"[BLOOD GLUCOSE LEVEL]",tt=(a.feeding7NewUnits||"").toString().trim()||"[NUMBER OF NEW UNITS]";return`${o} take a blood glucose sample. If it is greater than ${et}, administer ${tt} units and call us.`}function buildDiabetesHandoutMarkdown(a){const e=new Date,o=`${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")}/${e.getFullYear()}`,c=(a.petName||"").trim(),et=c||"____",tt=!!c,nt=a.species==="feline",rt=(a.hospitalName||"").trim()||"our veterinary clinic",mt=(a.attendingVetName||"").trim();let gt="them";a.sex==="F"||a.sex==="FS"?gt="her":(a.sex==="M"||a.sex==="MN")&&(gt="him");const yt=a.insulinPrescribed==="Other"?(a.insulinOtherName||"").trim()||"insulin":(a.insulinPrescribed||"").trim()||"insulin";let vt="";a.insulinFrequency==="q12h"?vt="in the morning and evening":a.insulinFrequency==="am"?vt="in the morning":a.insulinFrequency==="pm"?vt="in the evening":a.insulinFrequency==="q8h"?vt="every 8 hours":a.insulinFrequency==="q24h"?vt="every 24 hours":a.insulinFrequency==="other"&&(vt=(a.insulinFrequencyOther||"").trim());let xt="";a.syringeType==="U-40"?xt="Use **U-40** syringes only.":a.syringeType==="U-100"?xt="Use **U-100** syringes only.":a.syringeType==="other"&&(xt=`Use **${(a.syringeOther||"").trim()||"the prescribed insulin pen"}** only.`);const bt=(a.insulinUnits||"").toString().trim()||"___";let Et="Store it in the refrigerator. Call us if the insulin changes color or becomes cloudy.";a.insulinHandling==="shake"?Et=`When handling ${yt}, be sure to **shake it vigorously** before administering it to ${et}. Store it in the refrigerator. Call us if the insulin changes color or becomes cloudy.`:a.insulinHandling==="roll"&&(Et=`When handling ${yt}, be sure to **roll it gently between your hands** before administering it to ${et}. Store it in the refrigerator. Call us if the insulin changes color or becomes cloudy.`);const wt=buildMeasureIntakeLines(a)||[],St=(a.erHospitalName||"").trim()||"your local emergency hospital",Tt=(a.erHospitalPhone||"").trim()||"___-___-____",kt=a.recheckValue&&a.recheckUnit?`${a.recheckValue} ${a.recheckUnit}`:"a short time",_t=mt?`Dr. ${mt} would like you to follow these directions until your next recheck appointment in **${a.recheckValue||"___"} ${a.recheckUnit||"____"}**.`:`Dr. __________________ would like you to follow these directions until your next recheck appointment in **${a.recheckValue||"___"} ${a.recheckUnit||"____"}**.`,Mt=[];a.feedingInclude1&&Mt.push(((a.feeding1Text||"").trim()||buildFeedingLine1(a)).trim()),a.feedingInclude2&&(a.feeding2Text||"").trim()&&Mt.push(a.feeding2Text.trim()),a.feedingInclude3&&(a.feeding3Text||"").trim()&&Mt.push(a.feeding3Text.trim()),a.feedingInclude4&&(a.feeding4Text||"").trim()&&Mt.push(a.feeding4Text.trim()),a.feedingInclude5&&(a.feeding5Text||"").trim()&&Mt.push(a.feeding5Text.trim()),a.feedingInclude6&&(a.feeding6Text||"").trim()&&Mt.push(a.feeding6Text.trim()),a.feedingInclude7&&(a.feeding7Text||"").trim()&&Mt.push(a.feeding7Text.trim());const Pt=[];wt.length&&wt.forEach(At=>{At&&At.trim()&&Pt.push(At.trim())}),a.advancedBgInclude&&Pt.push(buildAdvancedBgInstructionMarkdown(a)),a.advancedUrineInclude&&Pt.push(buildAdvancedUrineInstructionMarkdown(a)),(a.additionalInstructions||"").trim()&&Pt.push((a.additionalInstructions||"").trim());const It=[];a.emergencyHasSeizure&&It.push("Has a seizure."),a.emergencyTremoring&&It.push("Tremoring or twitching."),a.emergencyWeak&&It.push("Seems weak, spacey, or unusually tired."),a.emergencyHiding&&It.push("Hiding for more than 12 hours."),a.emergencyRefusesFoodWater&&It.push("Refuses to eat or drink for more than 12 hours."),a.emergencyDiarrhea&&It.push("Diarrhea for more than 12 hours."),a.emergencyVomiting&&It.push("Vomits more than three times in 12 hours."),a.emergencyBumpingIntoObjects&&It.push("Bumping into objects."),a.emergencyDifficultyWalking&&It.push("Difficulty walking or jumping."),a.emergencyMissedInsulinDoses&&It.push("Missed more than two doses of insulin."),a.emergencyIncorrectDose&&It.push("Received an incorrect insulin dose."),(a.emergencyOther||"").trim()&&It.push(a.emergencyOther.trim());const Dt=[(a.hospitalName||"").trim(),(a.hospitalAddress||"").trim(),(a.hospitalPhone||"").trim()].filter(Boolean),Ct=[];return Ct.push(`# Diabetes discharge instructions for ${et}`),Ct.push(""),Ct.push(`**Date:** ${o}`),Ct.push(""),tt&&(Ct.push(`*This handout summarizes the home care plan for ${et}'s diabetes.*`),Ct.push("")),Dt.length&&(Ct.push(Dt.join(`  
`)),Ct.push("")),Ct.push(`To ${et}'s caregivers,`),Ct.push(""),Ct.push(`You're doing a great job caring for ${et}. Your veterinary team at ${rt} will continue to support you as you manage ${et}'s diabetes. ${_t}`),Ct.push(""),nt&&(a.includeRemissionNote&&(a.remissionNote||"").trim()&&(Ct.push((a.remissionNote||"").trim()),Ct.push("")),a.includeHopeNote&&(a.hopeNote||"").trim()&&(Ct.push((a.hopeNote||"").trim()),Ct.push(""))),Ct.push("## Insulin directions"),Ct.push(`Please give **${et} ${bt} units of ${yt} ${vt||"_______"}**.`),xt&&Ct.push(xt),Ct.push(Et),Ct.push("Do not change this regimen unless you have spoken with a member of our veterinary team."),Ct.push(""),Ct.push("## Feeding"),nt&&(a.includeCatFeedingMealInsulinNote&&(a.catFeedingMealInsulinNote||"").trim()&&(Ct.push((a.catFeedingMealInsulinNote||"").trim()),Ct.push("")),a.includeCatCannedDietNote&&(a.catCannedDietNote||"").trim()&&(Ct.push((a.catCannedDietNote||"").trim()),Ct.push(""))),Ct.push("### Feeding instructions"),Mt.length?Mt.forEach(At=>{Ct.push(`- ${At}`)}):Ct.push("- ______________________________"),Ct.push(""),Ct.push("## Exercise"),Ct.push(`${et} will benefit from regular, consistent exercise as this can help ${gt} lose weight and may decrease insulin requirements.`),Ct.push(""),(a.homeEncouragementInclude1&&(a.homeEncouragement1Text||"").trim()||a.homeEncouragementInclude2&&(a.homeEncouragement2Text||"").trim()||Pt.length)&&(Ct.push("## Home monitoring"),Ct.push("Home monitoring is key when caring for a diabetic animal. You are acting as an extension of your veterinary team by taking on these important tasks."),Ct.push(""),a.homeEncouragementInclude1&&(a.homeEncouragement1Text||"").trim()&&(Ct.push((a.homeEncouragement1Text||"").trim()),Ct.push("")),a.homeEncouragementInclude2&&(a.homeEncouragement2Text||"").trim()&&(Ct.push((a.homeEncouragement2Text||"").trim()),Ct.push("")),Pt.length&&(Pt.forEach(At=>{Ct.push(`- ${At}`)}),Ct.push(""))),Ct.push("## Emergency criteria"),It.length?It.forEach(At=>Ct.push(`- ${At}`)):Ct.push("- ______________________________"),Ct.push(""),Ct.push(`If we are not available and you need help, please contact **${St}** at **${Tt}**.`),Ct.push(""),Ct.push(`${et} should be re-evaluated by our veterinary team in **${kt}**. If you haven't already, please schedule that appointment right away. Frequent rechecks with our team to fine tune ${et}'s insulin, diet, and other treatments are critically important.`),Ct.push(""),Ct.push(`We appreciate all the hard work you are pouring into ${et} and we're honored to be walking alongside you on this journey.`),Ct.push(""),Ct.push(`Please call our hospital at **${(a.hospitalPhone||"").trim()||"___-___-____"}** with any questions or concerns.`),Ct.join(`
`)}function buildHomeEncouragement1(a){const e=(a.petName||"").trim()||"____",o=getPetPronouns(a.sex);return`Initially, home monitoring can be intimidating, but over time, you and ${e} will fall into a sustainable routine. Please reach out if ever you feel overwhelmed by ${o.possAdj} diabetes management.`}function buildHomeEncouragement2(a){return`You have been doing a great job monitoring ${(a.petName||"").trim()||"____"} at home!`}function buildMeasureIntakeText(a){const e=(a.petName||"").trim()||"your pet";if(a.measureFoodWaterFrequency==="twice_daily")return`Please measure how much ${e} eats and drinks twice daily.`;if(a.measureFoodWaterFrequency==="once_daily")return`Please measure how much ${e} eats and drinks once daily.`;if(a.measureFoodWaterFrequency==="other"){const o=(a.measureFoodWaterOther||"").trim();if(o)return`Please measure how much ${e} eats and drinks ${o}.`}return""}function buildMeasureIntakeLines(a){const e=(a.petName||"").trim()||"your pet",{possAdj:o}=getPetPronouns(a.sex);let c="";if(a.measureFoodWaterFrequency==="twice_daily")c="twice daily";else if(a.measureFoodWaterFrequency==="once_daily")c="once daily";else if(a.measureFoodWaterFrequency==="other"){const nt=(a.measureFoodWaterOther||"").trim();nt&&(c=nt)}if(!c)return[];const et=`Please monitor ${e}'s food and water intake ${c} and record it in a diabetic monitoring journal or app. An increase in food or water intake could be a sign that ${e}'s insulin requirements are increasing.`,tt=`Please measure ${e}'s urine output every day. An increase in urine production could mean that ${o} diabetes is becoming uncontrolled. This includes having accidents outside the litter box or you needing to scoop it more often than usual. This includes having accidents in the house or asking to go outside more often than normal.`;return[et,tt]}function buildCatMealInsulinNote(a){return`Its best for cats to eat twice a day and receive insulin after each meal. However, if meal feeding isnt feasible for you, allow ${getPetPronouns(a.sex).obj} to nibble on food throughout the day.`}function buildCatCannedDietNote(a){return`Ideally, ${getPetPronouns(a.sex).subj} should eat canned food since diabetic cats are more successfully treated with high-protein, low-carbohydrate canned diets instead of dry food.`}function buildAdvancedBgInstructionMarkdown(a){const e=(a.petName||"").trim()||"____",o=getPetPronouns(a.sex),c=resolveChoice(a.advancedBgEveryHours,a.advancedBgEveryHoursOther,"4"),et=resolveChoice(a.advancedBgLowThreshold,a.advancedBgLowThresholdOther,"40"),tt=resolveChoice(a.advancedBgHighThreshold,a.advancedBgHighThresholdOther,"300"),nt=`Please test ${e}'s blood glucose levels every ${c} hours. Please call us or a local emergency hospital if ${o.possAdj} blood glucose level is less than ${et} or greater than ${tt}.`,rt=`Pick a sampling site that ${o.subj} tolerates best, but be sure to vary them so each site does not get sore.`,mt=`Be sure to reward ${e} with lots of love and attention after you obtain a blood sample.`;return[nt,`  - ${rt}`,`  - ${mt}`,"  - If you have not already watched the videos on the AAHA Diabetes Management Guidelines website (www.aaha.org/diabetes), please do as they are designed for pet owners like you!"].join(`
`)}function buildAdvancedUrineInstructionMarkdown(a){const e=(a.petName||"").trim()||"____",o=getPetPronouns(a.sex),c=resolveChoice(a.advancedUrineEveryHours,a.advancedUrineEveryHoursOther,"24");if(a.advancedUrineMode==="glucose_ketones"){const nt=`Please test ${e}'s urine for glucose and ketones every ${c} hours.`,rt=`If ${o.possAdj} urine is negative for glucose for more than a few days, please contact us as this may mean the blood glucose levels are too low.`,mt=`If ${o.possAdj} urine is positive for ketones, please contact us right away, as this means diabetic ketoacidosis may occur. This can be a very serious complication of diabetes.`;return[nt,`  - ${rt}`,`  - ${mt}`].join(`
`)}const et=`Please test ${e}'s urine for glucose every ${c} hours.`,tt=`If ${o.possAdj} urine is negative for glucose for more than a few days, please contact us as this may mean the blood glucose levels are too low.`;return[et,`  - ${tt}`].join(`
`)}function resolveChoice(a,e,o){return a==="other"?(e||"").trim()||o:(a||"").trim()||o}function buildDefaultHopeNote(a,e){const o=(a||"").trim()||"____",c=getPetPronouns(e);return`There is still hope that ${o} will experience remission. Continue to carefully monitor ${c.obj} at home, give insulin as directed, and feed a high-protein, low-carbohydrate diet.`}function buildActionScheduleRows(a){const e=[],o=(a.petName||"your pet").trim(),c=a.insulinPrescribed==="Other"?(a.insulinOtherName||"").trim()||"insulin":(a.insulinPrescribed||"").trim()||"insulin";{const et=a.foodAmount&&a.foodAmount.toString().trim()?`${a.foodAmount} ${unitLabel(a.foodAmountUnit)}`:"",tt=(a.prescribedFood||"").trim();let nt="As directed";if(a.foodIntervalHours==="24"?nt="Once a day":a.foodIntervalHours&&(nt=`Every ${a.foodIntervalHours} hours`),et||tt||a.foodIntervalHours){const rt=[];et&&tt?rt.push(`${et} of ${tt}`):et?rt.push(et):tt&&rt.push(tt),rt.push("Feed before insulin when possible"),e.push({task:`Feed ${o}`,frequency:nt,details:rt.join(". ")})}}{let et="As directed";a.insulinFrequency==="q12h"?et="Morning and evening":a.insulinFrequency==="am"?et="Every morning":a.insulinFrequency==="pm"?et="Every evening":a.insulinFrequency==="q8h"?et="Every 8 hours":a.insulinFrequency==="q24h"?et="Every 24 hours":a.insulinFrequency==="other"&&(et=(a.insulinFrequencyOther||"").trim()||"As directed");const tt=a.insulinUnits&&a.insulinUnits.toString().trim()?a.insulinUnits:"___";let nt="";a.syringeType==="U-40"?nt="Use U-40 syringes only":a.syringeType==="U-100"?nt="Use U-100 syringes only":a.syringeType==="other"&&(nt=`Use ${(a.syringeOther||"").trim()||"the insulin pen"} only`);let rt="";a.insulinHandling==="shake"?rt="Shake the vial before giving insulin":a.insulinHandling==="roll"&&(rt="Roll the vial gently before giving insulin");const mt=[];mt.push(`${tt} units of ${c}`),nt&&mt.push(nt),rt&&mt.push(rt),e.push({task:`Give insulin to ${o}`,frequency:et,details:mt.join(". ")})}{const et=buildMeasureIntakeText(a);if(et){let tt="As directed";a.measureFoodWaterFrequency==="twice_daily"?tt="Twice daily":a.measureFoodWaterFrequency==="once_daily"?tt="Once daily":a.measureFoodWaterFrequency==="other"&&(tt=(a.measureFoodWaterOther||"").trim()||"As directed"),e.push({task:`Measure food and water for ${o}`,frequency:tt,details:et})}}if(a.advancedBgInclude){const et=resolveChoice(a.advancedBgEveryHours,a.advancedBgEveryHoursOther,"4"),tt=resolveChoice(a.advancedBgLowThreshold,a.advancedBgLowThresholdOther,"40"),nt=resolveChoice(a.advancedBgHighThreshold,a.advancedBgHighThresholdOther,"300");e.push({task:"Check blood glucose",frequency:`Every ${et} hours (when instructed)`,details:`Call the clinic or an emergency hospital if blood glucose is less than ${tt} or greater than ${nt}.`})}if(a.advancedUrineInclude){const et=resolveChoice(a.advancedUrineEveryHours,a.advancedUrineEveryHoursOther,"24"),tt=a.advancedUrineMode==="glucose_ketones"?"glucose and ketones":"glucose";e.push({task:"Check urine",frequency:`Every ${et} hours (when instructed)`,details:`Test urine for ${tt}. Call the clinic if urine is negative for glucose for several days, or if ketones are present.`})}{const et=a.recheckValue&&a.recheckUnit?`${a.recheckValue} ${a.recheckUnit}`:"a short time";e.push({task:"Recheck visit with the clinic",frequency:`In ${et}`,details:"Please schedule this appointment with the clinic as soon as possible."})}return e}function stripMarkdownToGreeting(a){const e=(a||"").split(/\r?\n/),o=e.findIndex(c=>c.startsWith("To "));return o>=0?e.slice(o).join(`
`):a}const EMPTY_DIABETES_FORM={hospitalName:"",hospitalAddress:"",hospitalPhone:"",erHospitalName:"",erHospitalPhone:"",petName:"",species:"feline",sex:"FS",recheckValue:"",recheckUnit:"weeks",includeRemissionNote:!0,includeHopeNote:!0,remissionNote:"",hopeNote:"",insulinPrescribed:"",insulinOtherName:"",syringeType:"",syringeOther:"",insulinHandling:"roll",insulinUnits:"",insulinFrequency:"",insulinFrequencyOther:"",prescribedFood:"",foodAmount:"",foodAmountUnit:"cups",foodIntervalHours:"12",includeCatFeedingMealInsulinNote:!0,catFeedingMealInsulinNote:"",includeCatCannedDietNote:!0,catCannedDietNote:"",feedingInclude1:!0,feeding1Text:"",feedingInclude2:!0,feeding2Text:"",feedingInclude3:!0,feeding3Text:"",feedingInclude4:!0,feeding4Text:"",feedingInclude5:!0,feeding5Text:"",feedingInclude6:!0,feeding6Text:"",feedingInclude7:!0,feeding7Text:"",feeding7Mode:"withhold",feeding7BgThreshold:"",feeding7NewUnits:"",homeEncouragementInclude1:!0,homeEncouragement1Text:"",homeEncouragementInclude2:!0,homeEncouragement2Text:"",measureFoodWaterFrequency:"twice_daily",measureFoodWaterOther:"",advancedBgInclude:!1,advancedBgEveryHours:"4",advancedBgEveryHoursOther:"",advancedBgLowThreshold:"40",advancedBgLowThresholdOther:"",advancedBgHighThreshold:"300",advancedBgHighThresholdOther:"",advancedUrineInclude:!1,advancedUrineMode:"glucose",advancedUrineEveryHours:"24",advancedUrineEveryHoursOther:"",additionalInstructions:"",emergencyHasSeizure:!0,emergencyTremoring:!0,emergencyWeak:!0,emergencyHiding:!0,emergencyRefusesFoodWater:!0,emergencyDiarrhea:!0,emergencyVomiting:!0,emergencyBumpingIntoObjects:!0,emergencyDifficultyWalking:!0,emergencyMissedInsulinDoses:!0,emergencyIncorrectDose:!0,emergencyOther:""};function buildFormFromDoc(a){const e=a&&a.formData||{},o={...EMPTY_DIABETES_FORM,...e},c=o.species==="feline";return c&&o.includeRemissionNote&&!o.remissionNote.trim()&&(o.remissionNote=DEFAULT_FELINE_REMISSION_NOTE),c&&o.includeHopeNote&&!o.hopeNote.trim()&&(o.hopeNote=buildDefaultHopeNote(o.petName,o.sex)),c&&o.includeCatFeedingMealInsulinNote&&!o.catFeedingMealInsulinNote.trim()&&(o.catFeedingMealInsulinNote=buildCatMealInsulinNote(o)),c&&o.includeCatCannedDietNote&&!o.catCannedDietNote.trim()&&(o.catCannedDietNote=buildCatCannedDietNote(o)),o.feedingInclude1&&!o.feeding1Text.trim()&&(o.feeding1Text=buildFeedingLine1(o)),o.feedingInclude2&&!o.feeding2Text.trim()&&(o.feeding2Text=buildFeedingLine2(o)),o.feedingInclude3&&!o.feeding3Text.trim()&&(o.feeding3Text=buildFeedingLine3(o)),o.feedingInclude4&&!o.feeding4Text.trim()&&(o.feeding4Text=buildFeedingLine4()),o.feedingInclude5&&!o.feeding5Text.trim()&&(o.feeding5Text=buildFeedingLine5(o)),o.feedingInclude6&&!o.feeding6Text.trim()&&(o.feeding6Text=buildFeedingLine6(o)),o.feedingInclude7&&!o.feeding7Text.trim()&&(o.feeding7Text=buildFeedingLine7(o)),o.homeEncouragementInclude1&&!(o.homeEncouragement1Text||"").trim()&&(o.homeEncouragement1Text=buildHomeEncouragement1(o)),o.homeEncouragementInclude2&&!(o.homeEncouragement2Text||"").trim()&&(o.homeEncouragement2Text=buildHomeEncouragement2(o)),o.homeMonitoringEncouragement&&!(o.homeEncouragement1Text||"").trim()&&!(o.homeEncouragement2Text||"").trim()&&(o.homeEncouragementInclude1=!0,o.homeEncouragement1Text=o.homeMonitoringEncouragement),o}function validateDiabetesForm(a){const e=[],o={},c=[],et=(tt,nt)=>{e.push(nt),o[tt]=!0};return a.hospitalName.trim()||et("hospitalName","Hospital name"),a.hospitalPhone.trim()||et("hospitalPhone","Hospital phone number"),a.petName.trim()||et("petName","Pet name"),a.species||et("species","Species"),a.sex||et("sex","Gender"),a.recheckValue.toString().trim()||et("recheckValue","Recheck interval value"),a.recheckUnit||et("recheckUnit","Recheck interval unit"),!a.insulinPrescribed.trim()&&!a.insulinOtherName.trim()&&et("insulinPrescribed","Prescribed insulin"),a.insulinUnits.toString().trim()||et("insulinUnits","Insulin units per dose"),!a.insulinFrequency&&!a.insulinFrequencyOther.trim()&&et("insulinFrequency","Insulin frequency"),a.syringeType?a.syringeType==="other"&&!a.syringeOther.toString().trim()&&et("syringeOther","Insulin pen name"):et("syringeType","Type of syringe or pen"),a.prescribedFood.trim()||et("prescribedFood","Prescribed food"),a.foodAmount.toString().trim()||et("foodAmount","Food amount"),{missing:e,missingMap:o,warnings:c,isValid:e.length===0}}function formToFirestore(a){return{...a}}function deriveHandoutTitle(a){const e=a.petName.trim();return e?`${e} - diabetes discharge`:"Diabetes discharge handout"}function normalizeHex(a){const e=(a||"").replace("#","").trim();return e.length===3?`#${e[0]}${e[0]}${e[1]}${e[1]}${e[2]}${e[2]}`:e.length===6?`#${e}`:"#b91c1c"}function pickTextColorForBg(a){const e=normalizeHex(a).replace("#",""),o=parseInt(e.slice(0,2),16)/255,c=parseInt(e.slice(2,4),16)/255,et=parseInt(e.slice(4,6),16)/255,tt=rt=>rt<=.03928?rt/12.92:Math.pow((rt+.055)/1.055,2.4);return .2126*tt(o)+.7152*tt(c)+.0722*tt(et)>.6?"#111827":"#ffffff"}function splitMarkdownH2(a,e){const o=(a||"").split(/\r?\n/),c=`## ${e}`.toLowerCase(),et=o.findIndex(nt=>nt.trim().toLowerCase()===c);if(et===-1)return{preMd:a,sectionMd:"",restMd:""};let tt=o.length;for(let nt=et+1;nt<o.length;nt++)if(o[nt].startsWith("## ")){tt=nt;break}return{preMd:o.slice(0,et).join(`
`),sectionMd:o.slice(et,tt).join(`
`),restMd:o.slice(tt).join(`
`)}}function getExt(a){const o=((a||"").split(".").pop()||"").toLowerCase();return o?o.replace(/[^a-z0-9]/g,""):"bin"}function ColorPicker({value:a,onChange:e}){return jsxRuntimeExports.jsx("input",{type:"color",value:a||"#b91c1c",onChange:o=>e(o.target.value),style:{width:42,height:36,border:"none",background:"transparent"}})}async function uploadFileToStorage({path:a,file:e,onProgress:o}){const c=ref(storage,a),et=uploadBytesResumable(c,e,{contentType:e.type});return await new Promise((tt,nt)=>{et.on("state_changed",rt=>{if(!o)return;const mt=Math.round(rt.bytesTransferred/rt.totalBytes*100);o(mt)},nt,async()=>{const rt=await getDownloadURL(et.snapshot.ref);tt({url:rt,path:a})})})}function Uploader({accept:a,buttonText:e,progress:o,onPick:c}){const et=reactExports.useRef(null);return jsxRuntimeExports.jsxs(UploadWrap,{children:[jsxRuntimeExports.jsx(HiddenInput,{ref:et,type:"file",accept:a,onChange:tt=>{var rt;const nt=(rt=tt.target.files)==null?void 0:rt[0];nt&&(c(nt),tt.target.value="")}}),jsxRuntimeExports.jsxs(UploadBtn,{type:"button",onClick:()=>{var tt;return(tt=et.current)==null?void 0:tt.click()},children:[jsxRuntimeExports.jsx(FiUploadCloud,{size:14}),jsxRuntimeExports.jsx("span",{children:e})]}),typeof o=="number"?jsxRuntimeExports.jsxs(ProgressText,{children:[o,"%"]}):null]})}function DiabetesHandoutPreview({currentUser:a}){const{handoutId:e}=useParams(),o=useNavigate(),[c,et]=reactExports.useState(!0),[tt,nt]=reactExports.useState(!1),[rt,mt]=reactExports.useState(EMPTY_DIABETES_FORM),[gt,yt]=reactExports.useState({}),[vt,xt]=reactExports.useState(""),[bt,Et]=reactExports.useState({}),[wt,St]=reactExports.useState("idle"),[Tt,kt]=reactExports.useState(null),[_t,Mt]=reactExports.useState(null),Pt=.4;reactExports.useEffect(()=>(document.body.classList.add("print-handout"),()=>document.body.classList.remove("print-handout")),[]),reactExports.useEffect(()=>{if(!e)return;const Ot=doc(firestore,"vetHandouts",e),Ft=onSnapshot(Ot,Ut=>{if(!Ut.exists()){nt(!0),et(!1);return}const Gt=Ut.data();mt(buildFormFromDoc(Gt)),xt(Gt.petPhotoUrl||""),nt(!1),et(!1)},Ut=>{console.error("Error loading preview:",Ut),et(!1)});return()=>Ft()},[e]),reactExports.useEffect(()=>{if(!(a!=null&&a.uid))return;const Ot=doc(firestore,"customers",a.uid);return onSnapshot(Ot,Ft=>{const Ut=Ft.data()||{};yt(Ut.handoutBranding||{})})},[a==null?void 0:a.uid]);const It=reactExports.useMemo(()=>buildActionScheduleRows(rt),[rt]),Dt=reactExports.useMemo(()=>buildDiabetesHandoutMarkdown(rt),[rt]),Ct=reactExports.useMemo(()=>stripMarkdownToGreeting(Dt),[Dt]),{preMd:At,sectionMd:Lt,restMd:jt}=reactExports.useMemo(()=>splitMarkdownH2(Ct,"Insulin directions"),[Ct]),Bt=normalizeHex(gt.bannerColor||"#b91c1c"),zt=pickTextColorForBg(Bt),Yt=rt.species==="feline"?"FELINE DIABETES MELLITUS":"CANINE DIABETES MELLITUS",en=(rt.hospitalName||"").trim(),rn=(rt.hospitalAddress||"").trim(),on=(rt.hospitalPhone||"").trim(),Zt=DateTime.now().toFormat("MM/dd/yyyy");function an(){return jsxRuntimeExports.jsxs(DocRoot,{children:[jsxRuntimeExports.jsxs(HeaderBand,{$bannerColor:Bt,$textColor:zt,children:[jsxRuntimeExports.jsx(HeaderLeft,{children:gt.logoUrl?jsxRuntimeExports.jsx(LogoFrame,{children:jsxRuntimeExports.jsx(LogoImg,{src:gt.logoUrl,alt:"Logo"})}):jsxRuntimeExports.jsx(LogoText,{children:en||"Veterinary Clinic"})}),jsxRuntimeExports.jsx(HeaderRight,{children:jsxRuntimeExports.jsx(Badge$1,{$textColor:zt,children:Yt})})]}),jsxRuntimeExports.jsxs(ClinicBlock,{children:[en?jsxRuntimeExports.jsx(ClinicLineStrong,{children:en}):null,rn?jsxRuntimeExports.jsx(ClinicLine,{children:rn}):null,on?jsxRuntimeExports.jsx(ClinicLine,{children:on}):null,jsxRuntimeExports.jsx(ClinicMetaRow,{children:jsxRuntimeExports.jsxs(ClinicMeta,{children:["Date: ",Zt]})})]}),It.length>0?jsxRuntimeExports.jsxs(ScheduleBlock,{children:[jsxRuntimeExports.jsx(ScheduleHeading,{children:"Daily schedule at a glance"}),jsxRuntimeExports.jsxs(ScheduleTable,{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Task"}),jsxRuntimeExports.jsx("th",{children:"How often"}),jsxRuntimeExports.jsx("th",{children:"Details"})]})}),jsxRuntimeExports.jsx("tbody",{children:It.map((Ot,Ft)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:Ot.task}),jsxRuntimeExports.jsx("td",{children:Ot.frequency}),jsxRuntimeExports.jsx("td",{children:Ot.details})]},Ft))})]})]}):null,jsxRuntimeExports.jsxs(Body,{children:[jsxRuntimeExports.jsx(StyledMarkdown,{children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],children:At})}),Lt?jsxRuntimeExports.jsxs(InsulinRow,{children:[jsxRuntimeExports.jsx(InsulinText,{children:jsxRuntimeExports.jsx(StyledMarkdown,{children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],children:Lt})})}),vt?jsxRuntimeExports.jsx(SidePhoto,{src:vt,alt:"Pet photo"}):null]}):null,jsxRuntimeExports.jsx(StyledMarkdown,{children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],children:jt})})]})]})}async function Xt(){if(e){St("generating"),Mt(null);try{await updateDoc(doc(firestore,"vetHandouts",e),{renderedBodyMd:Ct,scheduleRows:It,pdf:{status:"queued",requestedAt:serverTimestamp(),errorMessage:null},updatedAt:serverTimestamp()});const Ot=await fetch("https://us-central1-vetcationapp.cloudfunctions.net/generateDiabetesHandoutPdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handoutId:e,vetUid:(a==null?void 0:a.uid)||null})}),Ft=await Ot.json();if(!Ot.ok||!Ft.ok)throw new Error(Ft.error||"Failed to generate PDF");const Ut=Ft.storagePath,Gt=await getDownloadURL(ref(storage,Ut));kt(Gt),St("ready"),window.open(Gt,"_blank")}catch(Ot){St("error"),Mt(Ot.message||String(Ot))}}}const yn=()=>window.print();async function vn(Ot){if(!(a!=null&&a.uid)||!Ot)return;const Ft=getExt(Ot.name)||"png",Ut=`handouts/branding/${a.uid}/logo.${Ft}`,{url:Gt,path:Vt}=await uploadFileToStorage({path:Ut,file:Ot,onProgress:Kt=>Et(Jt=>({...Jt,logo:Kt}))});await updateDoc(doc(firestore,"customers",a.uid),{"handoutBranding.logoUrl":Gt,"handoutBranding.logoPath":Vt,"handoutBranding.updatedAt":serverTimestamp()})}async function Nt(Ot){if(!(a!=null&&a.uid))return;yt(Ut=>({...Ut,bannerColor:Ot}));const Ft=doc(firestore,"customers",a.uid);try{await updateDoc(Ft,{"handoutBranding.bannerColor":Ot,"handoutBranding.updatedAt":serverTimestamp()})}catch{await setDoc(Ft,{},{merge:!0}),await updateDoc(Ft,{"handoutBranding.bannerColor":Ot,"handoutBranding.updatedAt":serverTimestamp()})}}async function $t(Ot){if(!e||!Ot)return;const Ft=getExt(Ot.name)||"jpg",Ut=`handouts/vetHandouts/${e}/pet_photo.${Ft}`,{url:Gt}=await uploadFileToStorage({path:Ut,file:Ot,onProgress:Vt=>Et(Kt=>({...Kt,petPhoto:Vt}))});await updateDoc(doc(firestore,"vetHandouts",e),{petPhotoUrl:Gt,updatedAt:serverTimestamp()}),xt(Gt)}return c?jsxRuntimeExports.jsxs(Shell,{"data-handout-shell":!0,children:[jsxRuntimeExports.jsx(TopRow,{className:"no-print",children:jsxRuntimeExports.jsx(Title$1,{children:"Preview"})}),jsxRuntimeExports.jsx(Hint,{children:"Loading preview..."})]}):tt?jsxRuntimeExports.jsxs(Shell,{"data-handout-shell":!0,children:[jsxRuntimeExports.jsx(TopRow,{className:"no-print",children:jsxRuntimeExports.jsx(Title$1,{children:"Handout not found"})}),jsxRuntimeExports.jsx(Hint,{children:"This handout does not exist or you do not have access to it."})]}):jsxRuntimeExports.jsxs(Shell,{"data-handout-shell":!0,children:[jsxRuntimeExports.jsxs(TopBar,{className:"no-print",children:[jsxRuntimeExports.jsxs(BackBtn,{type:"button",onClick:()=>o(`/ai/handouts/${e}`),children:[jsxRuntimeExports.jsx(FiArrowLeft,{size:14}),jsxRuntimeExports.jsx("span",{children:"Back to editor"})]}),jsxRuntimeExports.jsxs(TopActions,{children:[jsxRuntimeExports.jsxs(TopBtn,{type:"button",onClick:yn,children:[jsxRuntimeExports.jsx(FiPrinter,{size:14}),jsxRuntimeExports.jsx("span",{children:"Print"})]}),jsxRuntimeExports.jsxs(TopBtn,{type:"button",onClick:Xt,disabled:wt==="generating",children:[jsxRuntimeExports.jsx(FiFileText,{size:14}),jsxRuntimeExports.jsx("span",{children:wt==="generating"?"Generating...":"Generate PDF"})]})]})]}),wt==="error"&&jsxRuntimeExports.jsxs(ErrorText,{className:"no-print",children:["Error generating PDF: ",_t||"Unknown error"]}),wt==="ready"&&Tt&&jsxRuntimeExports.jsxs(SuccessText,{className:"no-print",children:["PDF generated."," ",jsxRuntimeExports.jsx("a",{href:Tt,target:"_blank",rel:"noreferrer",children:"Open PDF"})]}),jsxRuntimeExports.jsxs(AssetsCard,{className:"no-print",children:[jsxRuntimeExports.jsx(AssetsTitle,{children:"Branding and photo"}),jsxRuntimeExports.jsxs(AssetRow,{children:[jsxRuntimeExports.jsx(AssetLabel,{children:"Clinic logo"}),jsxRuntimeExports.jsxs(AssetControls,{children:[gt.logoUrl?jsxRuntimeExports.jsx(Thumb,{src:gt.logoUrl,alt:"Clinic logo"}):jsxRuntimeExports.jsx(ThumbPlaceholder,{}),jsxRuntimeExports.jsx(Uploader,{accept:"image/*",buttonText:"Upload logo",progress:bt.logo,onPick:vn})]})]}),jsxRuntimeExports.jsxs(AssetRow,{children:[jsxRuntimeExports.jsx(AssetLabel,{children:"Client pet photo (shows beside Insulin directions)"}),jsxRuntimeExports.jsxs(AssetControls,{children:[vt?jsxRuntimeExports.jsx(Thumb,{src:vt,alt:"Pet"}):jsxRuntimeExports.jsx(ThumbPlaceholder,{}),jsxRuntimeExports.jsx(Uploader,{accept:"image/*",buttonText:"Upload pet photo",progress:bt.petPhoto,onPick:$t})]})]}),jsxRuntimeExports.jsxs(AssetRow,{children:[jsxRuntimeExports.jsx(AssetLabel,{children:"Banner color"}),jsxRuntimeExports.jsx(AssetControls,{children:jsxRuntimeExports.jsx(ColorPicker,{value:gt.bannerColor,onChange:Nt})})]})]}),jsxRuntimeExports.jsx(PreviewFrame,{"data-handout-preview-frame":!0,children:jsxRuntimeExports.jsx(PageSheet,{"data-handout-paper":!0,$pageMarginIn:Pt,children:jsxRuntimeExports.jsx(PageInner,{children:an()})})})]})}const TopActions=pt.div`
  display: flex;
  gap: 8px;
`,ErrorText=pt.div`
  color: #fca5a5;
  margin-bottom: 8px;
  font-size: 13px;
`,SuccessText=pt.div`
  color: #a7f3d0;
  margin-bottom: 8px;
  font-size: 13px;

  a {
    color: #6ee7b7;
    text-decoration: underline;
  }
`,Shell=pt.div`
  padding: 24px;
`,TopBar=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 14px;
`,TopRow=pt.div`
  margin-bottom: 12px;
`,Title$1=pt.div`
  font-size: 18px;
  font-weight: 700;
`,Hint=pt.div`
  color: #9ca3af;
`,BackBtn=pt.button`
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border: 1px solid #303030;
  background: #151515;
  color: #e5e7eb;
  border-radius: 10px;
  padding: 10px 12px;
  cursor: pointer;
`,TopBtn=pt.button`
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border: 1px solid #303030;
  background: #151515;
  color: #e5e7eb;
  border-radius: 10px;
  padding: 10px 12px;
  cursor: pointer;

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`,AssetsCard=pt.div`
  border: 1px solid #303030;
  background: #101010;
  border-radius: 14px;
  padding: 14px;
  margin-bottom: 16px;
`,AssetsTitle=pt.div`
  font-weight: 700;
  margin-bottom: 10px;
`,AssetRow=pt.div`
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 12px;
  padding: 10px 0;

  @media (max-width: 900px) {
    grid-template-columns: 1fr;
  }
`,AssetLabel=pt.div`
  color: #cbd5e1;
  font-size: 14px;
`,AssetControls=pt.div`
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
`,UploadWrap=pt.div`
  display: inline-flex;
  align-items: center;
  gap: 10px;
`,HiddenInput=pt.input`
  display: none;
`,UploadBtn=pt.button`
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border: 1px solid #303030;
  background: #151515;
  color: #e5e7eb;
  border-radius: 10px;
  padding: 10px 12px;
  cursor: pointer;
`,ProgressText=pt.div`
  font-size: 12px;
  color: #9ca3af;
`,Thumb=pt.img`
  width: 44px;
  height: 44px;
  border-radius: 10px;
  object-fit: cover;
  border: 1px solid #2b2b2b;
`,ThumbPlaceholder=pt.div`
  width: 44px;
  height: 44px;
  border-radius: 10px;
  border: 1px solid #2b2b2b;
  background: #0b0b0b;
`,PreviewFrame=pt.div`
  display: flex;
  justify-content: center;
`,PageSheet=pt.div`
  width: 8.5in;
  background: #fff;
  color: #111827;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  border-radius: 12px;

  @media print {
    box-shadow: none;
    border-radius: 0;
  }
`,PageInner=pt.div`
  width: 100%;
  box-sizing: border-box;
  padding: ${a=>{var e;return`${((e=a.theme)==null?void 0:e.pageMarginIn)||.4}in`}};

  @media print {
    padding: 0.4in;
  }
`,DocRoot=pt.div`
  width: 100%;
  background: #fff;
  color: #111827;

  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }
`,HeaderBand=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 22px;
  background: ${a=>a.$bannerColor||"#b91c1c"};
  color: ${a=>a.$textColor||"#fff"};

  @media print {
    background: ${a=>a.$bannerColor||"#b91c1c"} !important;
    color: ${a=>a.$textColor||"#fff"} !important;
    break-after: avoid;
  }
`,LogoFrame=pt.div`
  background: #ffffff;
  border-radius: 12px;
  padding: 8px 10px;
  display: inline-flex;
  align-items: center;
  border: 1px solid rgba(255, 255, 255, 0.35);
`,HeaderLeft=pt.div`
  display: flex;
  align-items: center;
  gap: 12px;
`,LogoImg=pt.img`
  height: 44px;
  max-width: 240px;
  object-fit: contain;
  display: block;
`,LogoText=pt.div`
  color: inherit;
  font-weight: 800;
  letter-spacing: 0.4px;
`,HeaderRight=pt.div``,Badge$1=pt.div`
  color: ${a=>a.$textColor||"#fff"};
  font-weight: 800;
  font-size: 13px;
  letter-spacing: 0.8px;
  text-transform: uppercase;
`,ClinicBlock=pt.div`
  padding: 18px 22px 6px 22px;
`,ClinicLineStrong=pt.div`
  font-weight: 800;
  font-size: 16px;
  margin-bottom: 2px;
`,ClinicLine=pt.div`
  font-size: 13px;
  margin-bottom: 2px;
`,ClinicMetaRow=pt.div`
  margin-top: 10px;
`,ClinicMeta=pt.div`
  font-size: 12px;
  color: #374151;
`,ScheduleBlock=pt.div`
  padding: 10px 22px 0 22px;

  @media print {
    break-inside: avoid;
  }
`,ScheduleHeading=pt.div`
  font-weight: 800;
  margin: 8px 0 8px 0;
`,ScheduleTable=pt.table`
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;

  th,
  td {
    border: 1px solid #e5e7eb;
    padding: 8px;
    vertical-align: top;
  }

  th {
    text-align: left;
    background: #f3f4f6;
    font-weight: 800;
  }

  @media print {
    tr {
      break-inside: avoid;
    }
    thead {
      display: table-header-group;
    }
  }
`,Body=pt.div`
  padding: 14px 22px 26px 22px;
`,InsulinRow=pt.div`
  display: grid;
  grid-template-columns: 1fr 180px;
  gap: 14px;
  align-items: start;

  @media screen and (max-width: 900px) {
    grid-template-columns: 1fr;
  }

  @media print {
    grid-template-columns: 1fr 180px !important;
    break-inside: avoid;
  }
`,InsulinText=pt.div``,SidePhoto=pt.img`
  width: 180px;
  height: 180px;
  object-fit: cover;
  border-radius: 14px;
  border: 1px solid #e5e7eb;

  @media print {
    width: 150px;
    height: 150px;
  }
`,StyledMarkdown=pt.div`
  font-family: Georgia, "Times New Roman", Times, serif;
  line-height: 1.45;

  h1 {
    display: none;
  }

  h2 {
    margin: 16px 0 8px 0;
    color: #b91c1c;
    text-transform: uppercase;
    letter-spacing: 0.7px;
    font-size: 16px;
  }

  h3 {
    margin: 10px 0 6px 0;
    font-size: 14px;
    font-weight: 800;
  }

  p {
    margin: 8px 0;
    font-size: 13.5px;
  }

  ul {
    margin: 8px 0 8px 18px;
  }

  li {
    margin: 4px 0;
    font-size: 13.5px;
  }

  strong {
    font-weight: 800;
  }
`;function buildAdvancedBgInstruction(a){const e=(a.petName||"").trim()||"____",o=getPetPronouns(a.sex),c=resolveChoice(a.advancedBgEveryHours,a.advancedBgEveryHoursOther,"4"),et=resolveChoice(a.advancedBgLowThreshold,a.advancedBgLowThresholdOther,"40"),tt=resolveChoice(a.advancedBgHighThreshold,a.advancedBgHighThresholdOther,"300"),nt=`Please test ${e}'s blood glucose levels every ${c} hours. Please call us or a local emergency hospital if ${o.possAdj} blood glucose level is less than ${et} or greater than ${tt}.`,rt=`Pick a sampling site that ${o.subj} tolerates best, but be sure to vary them so each site does not get sore.`,mt=`Be sure to reward ${e} with lots of love and attention after you obtain a blood sample.`;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{children:nt}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:rt}),jsxRuntimeExports.jsx("li",{children:mt}),jsxRuntimeExports.jsx("li",{children:"If you have not already watched the videos on the AAHA Diabetes Management Guidelines website (www.aaha.org/diabetes), please do as they are designed for pet owners like you!"})]})]})}function buildAdvancedUrineInstruction(a){const e=(a.petName||"").trim()||"____",o=getPetPronouns(a.sex),c=resolveChoice(a.advancedUrineEveryHours,a.advancedUrineEveryHoursOther,"24");if(a.advancedUrineMode==="glucose_ketones"){const nt=`Please test ${e}'s urine for glucose and ketones every ${c} hours.`,rt=`If ${o.possAdj} urine is negative for glucose for more than a few days, please contact us as this may mean the blood glucose levels are too low.`,mt=`If ${o.possAdj} urine is positive for ketones, please contact us right away, as this means diabetic ketoacidosis may occur. This can be a very serious complication of diabetes.`;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{children:nt}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:rt}),jsxRuntimeExports.jsx("li",{children:mt})]})]})}const et=`Please test ${e}'s urine for glucose every ${c} hours.`,tt=`If ${o.possAdj} urine is negative for glucose for more than a few days, please contact us as this may mean the blood glucose levels are too low.`;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{children:et}),jsxRuntimeExports.jsx("ul",{children:jsxRuntimeExports.jsx("li",{children:tt})})]})}function applySexDependentDefaults(a,e){if(a.sex===e.sex&&a.petName===e.petName)return e;const o={...e},c=(gt,yt)=>{const vt=(a[gt]||"").trim(),xt=yt(a).trim();(!vt||vt===xt)&&(o[gt]=yt(o))};o.feedingInclude1&&c("feeding1Text",buildFeedingLine1),o.feedingInclude2&&c("feeding2Text",buildFeedingLine2),o.feedingInclude3&&c("feeding3Text",buildFeedingLine3),o.feedingInclude5&&c("feeding5Text",buildFeedingLine5),o.feedingInclude6&&c("feeding6Text",buildFeedingLine6),o.feedingInclude7&&c("feeding7Text",buildFeedingLine7);const et=buildCatMealInsulinNote(a);(!a.catFeedingMealInsulinNote||a.catFeedingMealInsulinNote.trim()===et.trim())&&o.includeCatFeedingMealInsulinNote&&(o.catFeedingMealInsulinNote=buildCatMealInsulinNote(o));const tt=buildCatCannedDietNote(a);(!a.catCannedDietNote||a.catCannedDietNote.trim()===tt.trim())&&o.includeCatCannedDietNote&&(o.catCannedDietNote=buildCatCannedDietNote(o));const nt=buildHomeEncouragement1(a);(!a.homeEncouragement1Text||a.homeEncouragement1Text.trim()===nt.trim())&&o.homeEncouragementInclude1&&(o.homeEncouragement1Text=buildHomeEncouragement1(o));const rt=buildHomeEncouragement2(a);(!a.homeEncouragement2Text||a.homeEncouragement2Text.trim()===rt.trim())&&o.homeEncouragementInclude2&&(o.homeEncouragement2Text=buildHomeEncouragement2(o));const mt=buildDefaultHopeNote(a.petName,a.sex);return(!a.hopeNote||a.hopeNote.trim()===mt.trim())&&o.includeHopeNote&&o.species==="feline"&&(o.hopeNote=buildDefaultHopeNote(o.petName,o.sex)),o}function DiabetesHandoutEditor({currentUser:a}){const{handoutId:e}=useParams(),o=useNavigate(),[c,et]=reactExports.useState(!0),[tt,nt]=reactExports.useState(!1),[rt,mt]=reactExports.useState(!1),[gt,yt]=reactExports.useState("idle"),[vt,xt]=reactExports.useState(null),[bt,Et]=reactExports.useState(null),[wt,St]=reactExports.useState(EMPTY_DIABETES_FORM),[Tt,kt]=reactExports.useState({missing:[],missingMap:{},warnings:[],isValid:!1}),_t=Vt=>!!(Tt&&Tt.missingMap&&Tt.missingMap[Vt]),Mt=Vt=>{if(!bt)return!1;const Kt=bt[Vt];return Kt===null||typeof Kt>"u"||Kt===""?!1:wt[Vt]==Kt};reactExports.useEffect(()=>{if(!e)return;const Vt=doc(firestore,"vetHandouts",e),Kt=onSnapshot(Vt,Jt=>{if(!Jt.exists()){nt(!0),et(!1);return}const nn=Jt.data(),sn=buildFormFromDoc(nn);St(sn);const gn=validateDiabetesForm(sn);kt(gn),Et(nn.suggestedFormData||null),nt(!1),et(!1)},Jt=>{console.error("Error loading handout:",Jt),et(!1)});return()=>Kt()},[e]);function Pt(Vt){let Kt=(Vt.insulinPrescribed||"").trim(),Jt=(Vt.insulinOtherName||"").trim();const nn=(Kt||Jt||"").toLowerCase();let sn="";nn.includes("vetsulin")?sn="Vetsulin":nn.includes("prozinc")||nn.includes("pzi")?sn="PZI (Prozinc)":nn.includes("nph")||nn.includes("humulin n")||nn.includes("novolin n")?sn="NPH":nn.includes("glargine")||nn.includes("lantus")?sn="Glargine (Lantus)":(nn.includes("detemir")||nn.includes("levemir"))&&(sn="Detemir (Levemir)");let gn={...Vt};return sn?(gn.insulinPrescribed=sn,gn.insulinOtherName=""):Kt&&!new Set(["","Vetsulin","PZI (Prozinc)","NPH","Glargine (Lantus)","Detemir (Levemir)","Other"]).has(Kt)?(gn.insulinPrescribed="Other",gn.insulinOtherName=Kt):!Kt&&Jt&&(gn.insulinPrescribed="Other",gn.insulinOtherName=Jt),gn.insulinPrescribed==="Vetsulin"?gn.insulinHandling="shake":(gn.insulinPrescribed==="PZI (Prozinc)"||gn.insulinPrescribed==="NPH"||gn.insulinPrescribed==="Glargine (Lantus)"||gn.insulinPrescribed==="Detemir (Levemir)")&&(gn.insulinHandling="roll"),gn}const It=Vt=>{St(Kt=>{const Jt=Pt({...Kt,insulinPrescribed:Vt}),nn=validateDiabetesForm(Jt);return kt(nn),Jt})},Dt=()=>{if(!bt)return;const Vt=new Set(["remissionNote","hopeNote","includeRemissionNote","includeHopeNote"]);St(Kt=>{const Jt={};Object.keys(bt).forEach(rr=>{if(Vt.has(rr))return;const Bn=bt[rr];Bn!=null&&(Jt[rr]=Bn)});const nn=(Kt.feeding1Text||"").trim(),sn=buildFeedingLine1(Kt).trim();(!nn||nn===sn)&&("prescribedFood"in Jt||"foodAmount"in Jt||"foodAmountUnit"in Jt||"foodIntervalHours"in Jt)&&(Jt.feeding1Text="");const fn={...Kt,...Jt},In=Pt(fn),Dn=applySexDependentDefaults(Kt,In),Gn=validateDiabetesForm(Dn);return kt(Gn),Dn})},Ct=async Vt=>{var nn;const Kt=(nn=Vt.target.files)==null?void 0:nn[0];if(!Kt||!a||!e)return;xt(null),yt("uploading");const Jt=`handoutLabs/${a.uid}/${e}/${Date.now()}_${Kt.name}`;try{const sn=ref(storage,Jt);await uploadBytes(sn,Kt);const gn=doc(firestore,"vetHandouts",e);await updateDoc(gn,{"source.labStoragePath":Jt,autoFillLab:{status:"queued",lastRunAt:serverTimestamp(),errorMessage:null,storagePath:Jt},updatedAt:serverTimestamp()}),yt("processing");const fn=await fetch("https://us-central1-vetcationapp.cloudfunctions.net/autoFillDiabetesHandout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handoutId:e,storagePath:Jt})}),In=await fn.json();if(!fn.ok||!In.ok)throw new Error(In.error||"Failed to process lab PDF");yt("idle")}catch(sn){console.error("Failed to upload or process lab:",sn),xt(sn.message||String(sn)),yt("error")}finally{Vt.target.value=""}},At=(Vt,Kt)=>{St(Jt=>{let nn={...Jt,[Vt]:Kt};(Vt==="sex"||Vt==="petName")&&(nn=applySexDependentDefaults(Jt,nn));const sn=validateDiabetesForm(nn);return kt(sn),nn})},Lt=async()=>{if(!a||!e)return;const Vt=validateDiabetesForm(wt);kt(Vt);try{mt(!0);const Kt=doc(firestore,"vetHandouts",e),Jt=formToFirestore(wt),nn=deriveHandoutTitle(wt),sn=buildDiabetesHandoutMarkdown(wt),gn=stripMarkdownToGreeting(sn),fn=buildActionScheduleRows(wt);await updateDoc(Kt,{formData:Jt,patient:{petName:wt.petName.trim()||"",species:wt.species||null,sex:wt.sex||null},vetUid:a.uid,clinic:{name:(wt.hospitalName||"").trim(),address:(wt.hospitalAddress||"").trim(),phone:(wt.hospitalPhone||"").trim()},renderedFullMd:sn,renderedBodyMd:gn,scheduleRows:fn,title:nn,status:Vt.isValid?"ready":"draft",validation:{state:Vt.isValid?"valid":"missing_required",missing:Vt.missing,warnings:Vt.warnings,lastValidatedAt:serverTimestamp()},updatedAt:serverTimestamp()})}catch(Kt){console.error("Failed to save handout:",Kt),alert("Could not save handout. Please try again.")}finally{mt(!1)}};if(c)return jsxRuntimeExports.jsxs(HandoutsPageShell$1,{children:[jsxRuntimeExports.jsx(HandoutsHeaderRow$1,{children:jsxRuntimeExports.jsx(HandoutsTitle$1,{children:"Diabetes handout editor"})}),jsxRuntimeExports.jsx(EmptyStateText$1,{children:"Loading handout..."})]});if(tt)return jsxRuntimeExports.jsxs(HandoutsPageShell$1,{children:[jsxRuntimeExports.jsx(HandoutsHeaderRow$1,{children:jsxRuntimeExports.jsx(HandoutsTitle$1,{children:"Handout not found"})}),jsxRuntimeExports.jsx(EmptyStateText$1,{children:"This handout does not exist or you do not have access to it."})]});const jt=wt.species==="feline",Bt=buildMeasureIntakeLines(wt),zt=wt.homeEncouragementInclude1&&wt.homeEncouragement1Text||wt.homeEncouragementInclude2&&wt.homeEncouragement2Text||Bt&&Bt.length>0||wt.advancedBgInclude&&buildAdvancedBgInstruction(wt)||wt.advancedUrineInclude&&buildAdvancedUrineInstruction(wt)||wt.additionalInstructions,Yt=new Date,en=`${String(Yt.getMonth()+1).padStart(2,"0")}/${String(Yt.getDate()).padStart(2,"0")}/${Yt.getFullYear()}`,rn=wt.petName||"____",on=wt.hospitalName||"our veterinary clinic",Zt=(wt.attendingVetName||"").trim(),an=wt.insulinPrescribed==="Other"?wt.insulinOtherName||"insulin":wt.insulinPrescribed||"insulin",Xt=wt.insulinUnits||"___",yn=wt.erHospitalName||"your local emergency hospital",vn=wt.erHospitalPhone||"___-___-____";wt.sex==="F"||wt.sex==="FS"||wt.sex==="M"||wt.sex;const Nt=wt.sex==="F"||wt.sex==="FS"?"her":wt.sex==="M"||wt.sex==="MN"?"him":"them",$t=wt.recheckValue&&wt.recheckUnit?`${wt.recheckValue} ${wt.recheckUnit}`:"a short time";let Ot="";wt.insulinFrequency==="q12h"?Ot="in the morning and evening":wt.insulinFrequency==="am"?Ot="in the morning":wt.insulinFrequency==="pm"?Ot="in the evening":wt.insulinFrequency==="q8h"?Ot="every 8 hours":wt.insulinFrequency==="q24h"?Ot="every 24 hours":wt.insulinFrequency==="other"&&(Ot=wt.insulinFrequencyOther||"");let Ft=null;wt.syringeType==="U-40"?Ft="Use U-40 syringes only.":wt.syringeType==="U-100"?Ft="Use U-100 syringes only.":wt.syringeType==="other"&&(Ft=`Use ${wt.syringeOther||"the prescribed insulin pen"} only.`);let Ut="Store it in the refrigerator. Call us if the insulin changes color or becomes cloudy.";wt.insulinHandling==="shake"?Ut=`When handling ${an}, be sure to shake it vigorously before administering it to ${rn}. Store it in the refrigerator. Call us if the insulin changes color or becomes cloudy.`:wt.insulinHandling==="roll"&&(Ut=`When handling ${an}, be sure to roll it gently between your hands before administering it to ${rn}. Store it in the refrigerator. Call us if the insulin changes color or becomes cloudy.`);const Gt=async()=>{const Vt=validateDiabetesForm(wt);kt(Vt),Vt.isValid&&(await Lt(),o(`/ai/handouts/${e}/preview`))};return jsxRuntimeExports.jsxs(HandoutsPageShell$1,{children:[jsxRuntimeExports.jsxs(EditorTopRow,{children:[jsxRuntimeExports.jsxs(BackButton$1,{type:"button",onClick:()=>o("/ai/handouts"),children:[jsxRuntimeExports.jsx(FiArrowLeft,{size:14}),jsxRuntimeExports.jsx("span",{children:"Back to handouts"})]}),jsxRuntimeExports.jsxs(EditorTopRight,{children:[jsxRuntimeExports.jsx(StatusPill$1,{$ready:Tt.isValid,children:Tt.isValid?"Ready":"Draft"}),Tt.isValid&&jsxRuntimeExports.jsx(TopBarButton$1,{type:"button",onClick:Gt,disabled:rt,children:rt?"Saving...":"Preview"}),jsxRuntimeExports.jsx(TopBarButton$1,{type:"button",onClick:Lt,disabled:rt,children:rt?"Saving...":"Save"})]})]}),bt&&jsxRuntimeExports.jsxs(SuggestionCard,{children:[jsxRuntimeExports.jsx(SuggestionTitle,{children:"Suggestions from lab report"}),jsxRuntimeExports.jsx(SuggestionText,{children:"These values were generated automatically from the lab PDF. You can apply them and then review the handout before saving."}),jsxRuntimeExports.jsxs(SuggestionActionsRow,{children:[jsxRuntimeExports.jsx(TopBarButton$1,{type:"button",onClick:Dt,children:"Apply all suggestions"}),jsxRuntimeExports.jsx(SuggestionSmallText,{children:"The fields will fill in, and you can still edit anything."})]})]}),Tt.missing.length>0&&jsxRuntimeExports.jsxs(ValidationCard,{children:[jsxRuntimeExports.jsx(ValidationTitle,{children:"Missing required information"}),jsxRuntimeExports.jsx(ValidationList,{children:Tt.missing.map(Vt=>jsxRuntimeExports.jsx("li",{children:Vt},Vt))})]}),jsxRuntimeExports.jsxs(EditorLayout,{children:[jsxRuntimeExports.jsxs(EditorFormColumn,{children:[jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"Lab results (optional)"}),jsxRuntimeExports.jsx(FieldDescription,{children:"Upload a PDF lab report to generate suggested text for this handout. The AI will only suggest fields. You stay in control of the final plan."}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Lab PDF"}),jsxRuntimeExports.jsx(FieldInput$1,{type:"file",accept:"application/pdf",onChange:Ct})]}),jsxRuntimeExports.jsxs(FieldDescription,{children:[gt==="idle"&&"No lab uploaded yet.",gt==="uploading"&&"Uploading lab report...",gt==="processing"&&"Processing lab and generating suggestions...",gt==="error"&&jsxRuntimeExports.jsxs("span",{style:{color:"#fca5a5"},children:["Error: ",vt||"Could not process lab PDF."]})]})]}),jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"1. Hospital information"}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Hospital name"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.hospitalName,onChange:Vt=>At("hospitalName",Vt.target.value),placeholder:"Hospital name",$error:_t("hospitalName"),$aiFilled:Mt("hospitalName")})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Hospital address"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.hospitalAddress,onChange:Vt=>At("hospitalAddress",Vt.target.value),placeholder:"Street, city, state, ZIP",$error:_t("hospitalAddress"),$aiFilled:Mt("hospitalAddress")})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Hospital phone number"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.hospitalPhone,onChange:Vt=>At("hospitalPhone",Vt.target.value),placeholder:"000-000-0000",$error:_t("hospitalPhone"),$aiFilled:Mt("hospitalPhone")})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Emergency hospital name"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.erHospitalName,onChange:Vt=>At("erHospitalName",Vt.target.value),placeholder:"After-hours or ER hospital",$error:_t("erHospitalName"),$aiFilled:Mt("erHospitalName")})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Emergency hospital phone"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.erHospitalPhone,onChange:Vt=>At("erHospitalPhone",Vt.target.value),placeholder:"000-000-0000",$error:_t("erHospitalPhone"),$aiFilled:Mt("erHospitalPhone")})]})]}),jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"2. Patient information"}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Pet name"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.petName,onChange:Vt=>At("petName",Vt.target.value),placeholder:"Pet name",$error:_t("petName"),$aiFilled:Mt("petName")})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Veterinarian name"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.attendingVetName||"",onChange:Vt=>At("attendingVetName",Vt.target.value),placeholder:"Dr. Smith"})]}),jsxRuntimeExports.jsxs(InlineFieldRow,{children:[jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Species"}),jsxRuntimeExports.jsxs(ButtonToggleGroup,{children:[jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.species==="canine",$aiFilled:Mt("species")&&wt.species==="canine",$error:_t("species"),onClick:()=>At("species","canine"),children:"Canine"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.species==="feline",$aiFilled:Mt("species")&&wt.species==="feline",$error:_t("species"),onClick:()=>At("species","feline"),children:"Feline"})]})]}),jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Gender"}),jsxRuntimeExports.jsxs(ButtonToggleGroup,{children:[jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.sex==="M",$aiFilled:Mt("sex")&&wt.sex==="M",$error:_t("sex"),onClick:()=>At("sex","M"),children:"M"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.sex==="MN",$aiFilled:Mt("sex")&&wt.sex==="MN",$error:_t("sex"),onClick:()=>At("sex","MN"),children:"MN"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.sex==="F",$aiFilled:Mt("sex")&&wt.sex==="F",$error:_t("sex"),onClick:()=>At("sex","F"),children:"F"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.sex==="FS",$aiFilled:Mt("sex")&&wt.sex==="FS",$error:_t("sex"),onClick:()=>At("sex","FS"),children:"FS"})]})]})]})]}),jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"3. Recheck appointment"}),jsxRuntimeExports.jsxs(InlineFieldRow,{children:[jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Recheck in"}),jsxRuntimeExports.jsx(FieldInput$1,{type:"number",min:"0",value:wt.recheckValue,onChange:Vt=>At("recheckValue",Vt.target.value),placeholder:"#",$error:_t("recheckValue"),$aiFilled:Mt("recheckValue")})]}),jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Unit"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.recheckUnit,onChange:Vt=>At("recheckUnit",Vt.target.value),$error:_t("recheckUnit"),$aiFilled:Mt("recheckUnit"),children:[jsxRuntimeExports.jsx("option",{value:"days",children:"days"}),jsxRuntimeExports.jsx("option",{value:"weeks",children:"weeks"}),jsxRuntimeExports.jsx("option",{value:"months",children:"months"})]})]})]})]}),jt&&jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"3.5 Feline remission notes"}),jsxRuntimeExports.jsx(FieldDescription,{children:"Choose whether to include these messages. You can always edit the text."}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.includeRemissionNote,onChange:Vt=>At("includeRemissionNote",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include remission explanation"})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Remission explanation"}),jsxRuntimeExports.jsx(FieldTextarea,{rows:4,value:wt.remissionNote,onChange:Vt=>At("remissionNote",Vt.target.value),placeholder:DEFAULT_FELINE_REMISSION_NOTE,$aiFilled:Mt("remissionNote")})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.includeHopeNote,onChange:Vt=>At("includeHopeNote",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include encouraging message"})]}),jsxRuntimeExports.jsxs(FieldRow$1,{style:{marginBottom:0},children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Encouraging message"}),jsxRuntimeExports.jsx(FieldTextarea,{rows:4,value:wt.hopeNote,onChange:Vt=>At("hopeNote",Vt.target.value),placeholder:buildDefaultHopeNote(wt.petName),$aiFilled:Mt("hopeNote")})]})]}),jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"4. Insulin"}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Prescribed insulin"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.insulinPrescribed,onChange:Vt=>It(Vt.target.value),$error:_t("insulinPrescribed"),$aiFilled:Mt("insulinPrescribed"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select insulin"}),jsxRuntimeExports.jsx("option",{value:"Vetsulin",children:"Vetsulin"}),jsxRuntimeExports.jsx("option",{value:"PZI (Prozinc)",children:"PZI (Prozinc)"}),jsxRuntimeExports.jsx("option",{value:"NPH",children:"NPH (Humulin N / Novolin N)"}),jsxRuntimeExports.jsx("option",{value:"Glargine (Lantus)",children:"Glargine (Lantus)"}),jsxRuntimeExports.jsx("option",{value:"Detemir (Levemir)",children:"Detemir (Levemir)"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}),wt.insulinPrescribed==="Other"&&jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Other insulin name"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.insulinOtherName,onChange:Vt=>At("insulinOtherName",Vt.target.value),placeholder:"Insulin name",$aiFilled:Mt("insulinOtherName")})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Type of syringe or pen"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.syringeType,onChange:Vt=>At("syringeType",Vt.target.value),$error:_t("syringeType"),$aiFilled:Mt("syringeType"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select type"}),jsxRuntimeExports.jsx("option",{value:"U-40",children:"U-40 syringes"}),jsxRuntimeExports.jsx("option",{value:"U-100",children:"U-100 syringes"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Specific insulin pen"})]})]}),wt.syringeType==="other"&&jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Insulin Pen"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.syringeOther,onChange:Vt=>At("syringeOther",Vt.target.value),placeholder:"Insulin Pen",$error:_t("syringeOther"),$aiFilled:Mt("syringeOther")})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Insulin handling"}),jsxRuntimeExports.jsxs(ButtonToggleGroup,{children:[jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.insulinHandling==="shake",onClick:()=>At("insulinHandling","shake"),children:"Shake vigorously"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.insulinHandling==="roll",onClick:()=>At("insulinHandling","roll"),children:"roll it gently between your hands"})]})]}),jsxRuntimeExports.jsxs(InlineFieldRow,{children:[jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Number of units per dose"}),jsxRuntimeExports.jsx(FieldInput$1,{type:"number",min:"0",value:wt.insulinUnits,onChange:Vt=>At("insulinUnits",Vt.target.value),placeholder:"Units",$error:_t("insulinUnits"),$aiFilled:Mt("insulinUnits")})]}),jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Frequency"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.insulinFrequency,onChange:Vt=>At("insulinFrequency",Vt.target.value),$error:_t("insulinFrequency"),$aiFilled:Mt("insulinFrequency"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select frequency"}),jsxRuntimeExports.jsx("option",{value:"q12h",children:"in the morning and evening"}),jsxRuntimeExports.jsx("option",{value:"am",children:"in the morning"}),jsxRuntimeExports.jsx("option",{value:"pm",children:"in the evening"}),jsxRuntimeExports.jsx("option",{value:"q8h",children:"Every 8 hours"}),jsxRuntimeExports.jsx("option",{value:"q24h",children:"Every 24 hours"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]})]}),wt.insulinFrequency==="other"&&jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Other frequency"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.insulinFrequencyOther,onChange:Vt=>At("insulinFrequencyOther",Vt.target.value),placeholder:"Describe dosing schedule"})]})]}),jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"5. Feeding"}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Prescribed diet"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.prescribedFood,onChange:Vt=>{const Kt=Vt.target.value;At("prescribedFood",Kt);const Jt=(wt.feeding1Text||"").trim(),nn=buildFeedingLine1({...wt,prescribedFood:Kt}).trim(),sn=buildFeedingLine1(wt).trim();(!Jt||Jt===sn)&&At("feeding1Text",nn)},placeholder:"Diet name (brand, type)",$error:_t("prescribedFood"),$aiFilled:Mt("prescribedFood")})]}),jsxRuntimeExports.jsxs(InlineFieldRow,{children:[jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Amount per meal"}),jsxRuntimeExports.jsx(FieldInput$1,{type:"number",min:"0",value:wt.foodAmount,onChange:Vt=>{const Kt=Vt.target.value;At("foodAmount",Kt);const Jt=(wt.feeding1Text||"").trim(),nn=buildFeedingLine1({...wt,foodAmount:Kt}).trim(),sn=buildFeedingLine1(wt).trim();(!Jt||Jt===sn)&&At("feeding1Text",nn)},placeholder:"Amount",$error:_t("foodAmount"),$aiFilled:Mt("foodAmount")})]}),jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Unit"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.foodAmountUnit,onChange:Vt=>{const Kt=Vt.target.value;At("foodAmountUnit",Kt);const Jt=(wt.feeding1Text||"").trim(),nn=buildFeedingLine1({...wt,foodAmountUnit:Kt}).trim(),sn=buildFeedingLine1(wt).trim();(!Jt||Jt===sn)&&At("feeding1Text",nn)},$aiFilled:Mt("foodAmountUnit"),children:[jsxRuntimeExports.jsx("option",{value:"cups",children:"cup(s)"}),jsxRuntimeExports.jsx("option",{value:"cans",children:"can(s)"})]})]})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Feed every"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.foodIntervalHours,onChange:Vt=>{const Kt=Vt.target.value;At("foodIntervalHours",Kt);const Jt=(wt.feeding1Text||"").trim(),nn=buildFeedingLine1({...wt,foodIntervalHours:Kt}).trim(),sn=buildFeedingLine1(wt).trim();(!Jt||Jt===sn)&&At("feeding1Text",nn)},$aiFilled:Mt("foodIntervalHours"),children:[jsxRuntimeExports.jsx("option",{value:"8",children:"8 hours"}),jsxRuntimeExports.jsx("option",{value:"12",children:"12 hours"}),jsxRuntimeExports.jsx("option",{value:"24",children:"24 hours"})]})]}),jt&&jsxRuntimeExports.jsxs(SectionCard$1,{style:{marginTop:10},children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"Cat Feeding Instructions"}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.includeCatFeedingMealInsulinNote,onChange:Vt=>At("includeCatFeedingMealInsulinNote",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include meal feeding and insulin note"})]}),wt.includeCatFeedingMealInsulinNote&&jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Meal feeding note"}),jsxRuntimeExports.jsx(FieldTextarea,{rows:4,value:wt.catFeedingMealInsulinNote,onChange:Vt=>At("catFeedingMealInsulinNote",Vt.target.value),placeholder:buildCatMealInsulinNote(wt)})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.includeCatCannedDietNote,onChange:Vt=>At("includeCatCannedDietNote",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include canned diet note"})]}),wt.includeCatCannedDietNote&&jsxRuntimeExports.jsxs(FieldRow$1,{style:{marginBottom:0},children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Canned diet note"}),jsxRuntimeExports.jsx(FieldTextarea,{rows:3,value:wt.catCannedDietNote,onChange:Vt=>At("catCannedDietNote",Vt.target.value),placeholder:buildCatCannedDietNote(wt)})]})]}),jsxRuntimeExports.jsxs(SectionCard$1,{style:{marginTop:10},children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"Feeding Instructions (check all that apply)"}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.feedingInclude1,onChange:Vt=>At("feedingInclude1",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include instruction 1"})]}),jsxRuntimeExports.jsx(FieldRow$1,{children:jsxRuntimeExports.jsx(FieldTextarea,{rows:2,value:wt.feeding1Text,onChange:Vt=>At("feeding1Text",Vt.target.value),placeholder:buildFeedingLine1(wt)})}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.feedingInclude2,onChange:Vt=>At("feedingInclude2",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include instruction 2"})]}),jsxRuntimeExports.jsx(FieldRow$1,{children:jsxRuntimeExports.jsx(FieldTextarea,{rows:2,value:wt.feeding2Text,onChange:Vt=>At("feeding2Text",Vt.target.value),placeholder:buildFeedingLine2(wt)})}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.feedingInclude3,onChange:Vt=>At("feedingInclude3",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include instruction 3"})]}),jsxRuntimeExports.jsx(FieldRow$1,{children:jsxRuntimeExports.jsx(FieldTextarea,{rows:2,value:wt.feeding3Text,onChange:Vt=>At("feeding3Text",Vt.target.value),placeholder:buildFeedingLine3(wt)})}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.feedingInclude4,onChange:Vt=>At("feedingInclude4",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include instruction 4"})]}),jsxRuntimeExports.jsx(FieldRow$1,{children:jsxRuntimeExports.jsx(FieldTextarea,{rows:3,value:wt.feeding4Text,onChange:Vt=>At("feeding4Text",Vt.target.value),placeholder:buildFeedingLine4()})}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.feedingInclude5,onChange:Vt=>At("feedingInclude5",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include instruction 5"})]}),jsxRuntimeExports.jsx(FieldRow$1,{children:jsxRuntimeExports.jsx(FieldTextarea,{rows:2,value:wt.feeding5Text,onChange:Vt=>At("feeding5Text",Vt.target.value),placeholder:buildFeedingLine5(wt)})}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.feedingInclude6,onChange:Vt=>At("feedingInclude6",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include instruction 6"})]}),jsxRuntimeExports.jsx(FieldRow$1,{children:jsxRuntimeExports.jsx(FieldTextarea,{rows:3,value:wt.feeding6Text,onChange:Vt=>At("feeding6Text",Vt.target.value),placeholder:buildFeedingLine6(wt)})}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.feedingInclude7,onChange:Vt=>At("feedingInclude7",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include instruction 7"})]}),wt.feedingInclude7&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsxs(FieldLabel$2,{children:["Action if ",wt.petName||"your pet"," vomits or refuses one meal"]}),jsxRuntimeExports.jsxs(ButtonToggleGroup,{children:[jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.feeding7Mode==="withhold",onClick:()=>{const Vt="withhold",Kt=buildFeedingLine7({...wt,feeding7Mode:Vt});At("feeding7Mode",Vt),At("feeding7Text",Kt)},children:"Withhold insulin and call us"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.feeding7Mode==="half_dose",onClick:()=>{const Vt="half_dose",Kt=buildFeedingLine7({...wt,feeding7Mode:Vt});At("feeding7Mode",Vt),At("feeding7Text",Kt)},children:"Give half dose and resume"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.feeding7Mode==="bg_adjust",onClick:()=>{const Vt="bg_adjust",Kt=buildFeedingLine7({...wt,feeding7Mode:Vt});At("feeding7Mode",Vt),At("feeding7Text",Kt)},children:"Blood glucose based plan"})]})]}),wt.feeding7Mode==="bg_adjust"&&jsxRuntimeExports.jsxs(InlineFieldRow,{children:[jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Blood glucose threshold"}),jsxRuntimeExports.jsx(FieldInput$1,{type:"number",min:"0",value:wt.feeding7BgThreshold,onChange:Vt=>{const Kt=Vt.target.value,Jt=buildFeedingLine7({...wt,feeding7Mode:"bg_adjust",feeding7BgThreshold:Kt});At("feeding7BgThreshold",Kt),At("feeding7Text",Jt)},placeholder:"e.g. 250"})]}),jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"New insulin dose (units)"}),jsxRuntimeExports.jsx(FieldInput$1,{type:"number",min:"0",value:wt.feeding7NewUnits,onChange:Vt=>{const Kt=Vt.target.value,Jt=buildFeedingLine7({...wt,feeding7Mode:"bg_adjust",feeding7NewUnits:Kt});At("feeding7NewUnits",Kt),At("feeding7Text",Jt)},placeholder:"e.g. 1"})]})]})]}),jsxRuntimeExports.jsx(FieldRow$1,{style:{marginBottom:0},children:jsxRuntimeExports.jsx(FieldTextarea,{rows:3,value:wt.feeding7Text,onChange:Vt=>At("feeding7Text",Vt.target.value),placeholder:buildFeedingLine7(wt)})})]})]}),jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"6. Exercise"}),jsxRuntimeExports.jsxs(FieldDescription,{children:[rn," will benefit from regular, consistent exercise as this can help ",Nt," lose weight and may decrease insulin requirements."]})]}),jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"7. Home monitoring"}),jsxRuntimeExports.jsx(FieldLabel$2,{children:"Home monitoring encouragement"}),jsxRuntimeExports.jsx(FieldDescription,{children:"Check the messages you would like to include. You can still edit the wording."}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.homeEncouragementInclude1,onChange:Vt=>At("homeEncouragementInclude1",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include initial encouragement message"})]}),jsxRuntimeExports.jsx(FieldRow$1,{children:jsxRuntimeExports.jsx(FieldTextarea,{rows:3,value:wt.homeEncouragement1Text,onChange:Vt=>At("homeEncouragement1Text",Vt.target.value),placeholder:buildHomeEncouragement1(wt),style:wt.homeEncouragementInclude1?void 0:{opacity:.5}})}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.homeEncouragementInclude2,onChange:Vt=>At("homeEncouragementInclude2",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include positive reinforcement message"})]}),jsxRuntimeExports.jsx(FieldRow$1,{children:jsxRuntimeExports.jsx(FieldTextarea,{rows:2,value:wt.homeEncouragement2Text,onChange:Vt=>At("homeEncouragement2Text",Vt.target.value),placeholder:buildHomeEncouragement2(wt),style:wt.homeEncouragementInclude2?void 0:{opacity:.5}})}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Measure food and water intake"}),jsxRuntimeExports.jsxs(ButtonToggleGroup,{children:[jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.measureFoodWaterFrequency==="twice_daily",onClick:()=>At("measureFoodWaterFrequency","twice_daily"),children:"Twice daily"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.measureFoodWaterFrequency==="once_daily",onClick:()=>At("measureFoodWaterFrequency","once_daily"),children:"Once daily"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.measureFoodWaterFrequency==="other",onClick:()=>At("measureFoodWaterFrequency","other"),children:"Other"})]})]}),wt.measureFoodWaterFrequency==="other"&&jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Other frequency"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.measureFoodWaterOther,onChange:Vt=>At("measureFoodWaterOther",Vt.target.value),placeholder:"For example: every evening"})]}),jsxRuntimeExports.jsx(FieldRow$1,{children:jsxRuntimeExports.jsx(FieldLabel$2,{children:"Advanced home monitoring (if applicable)"})}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.advancedBgInclude,onChange:Vt=>At("advancedBgInclude",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include blood glucose monitoring instructions"})]}),wt.advancedBgInclude&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(InlineFieldRow,{children:[jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Test every"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.advancedBgEveryHours,onChange:Vt=>At("advancedBgEveryHours",Vt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"2",children:"2 hours"}),jsxRuntimeExports.jsx("option",{value:"4",children:"4 hours"}),jsxRuntimeExports.jsx("option",{value:"8",children:"8 hours"}),jsxRuntimeExports.jsx("option",{value:"12",children:"12 hours"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),wt.advancedBgEveryHours==="other"&&jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Other interval"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.advancedBgEveryHoursOther,onChange:Vt=>At("advancedBgEveryHoursOther",Vt.target.value),placeholder:"Number of hours"})]})]}),jsxRuntimeExports.jsxs(InlineFieldRow,{children:[jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Call if blood glucose is less than"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.advancedBgLowThreshold,onChange:Vt=>At("advancedBgLowThreshold",Vt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"40",children:"40"}),jsxRuntimeExports.jsx("option",{value:"60",children:"60"}),jsxRuntimeExports.jsx("option",{value:"80",children:"80"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),wt.advancedBgLowThreshold==="other"&&jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Other low threshold"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.advancedBgLowThresholdOther,onChange:Vt=>At("advancedBgLowThresholdOther",Vt.target.value),placeholder:"Value"})]})]}),jsxRuntimeExports.jsxs(InlineFieldRow,{children:[jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Call if blood glucose is greater than"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.advancedBgHighThreshold,onChange:Vt=>At("advancedBgHighThreshold",Vt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"300",children:"300"}),jsxRuntimeExports.jsx("option",{value:"400",children:"400"}),jsxRuntimeExports.jsx("option",{value:"500",children:"500"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),wt.advancedBgHighThreshold==="other"&&jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Other high threshold"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.advancedBgHighThresholdOther,onChange:Vt=>At("advancedBgHighThresholdOther",Vt.target.value),placeholder:"Value"})]})]}),jsxRuntimeExports.jsx(FieldDescription,{children:"This will appear as:"}),jsxRuntimeExports.jsx(PreviewText,{children:buildAdvancedBgInstruction(wt)})]}),jsxRuntimeExports.jsxs(CheckboxRow,{style:{marginTop:8},children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:!!wt.advancedUrineInclude,onChange:Vt=>At("advancedUrineInclude",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Include urine monitoring instructions"})]}),wt.advancedUrineInclude&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Type of urine monitoring"}),jsxRuntimeExports.jsxs(ButtonToggleGroup,{children:[jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.advancedUrineMode==="glucose",onClick:()=>At("advancedUrineMode","glucose"),children:"Glucose only"}),jsxRuntimeExports.jsx(ToggleButton,{type:"button",$active:wt.advancedUrineMode==="glucose_ketones",onClick:()=>At("advancedUrineMode","glucose_ketones"),children:"Glucose and ketones"})]})]}),jsxRuntimeExports.jsxs(InlineFieldRow,{children:[jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Test every"}),jsxRuntimeExports.jsxs(FieldSelect,{value:wt.advancedUrineEveryHours,onChange:Vt=>At("advancedUrineEveryHours",Vt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"8",children:"8 hours"}),jsxRuntimeExports.jsx("option",{value:"12",children:"12 hours"}),jsxRuntimeExports.jsx("option",{value:"24",children:"24 hours"}),jsxRuntimeExports.jsx("option",{value:"48",children:"48 hours"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),wt.advancedUrineEveryHours==="other"&&jsxRuntimeExports.jsxs(InlineField,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Other interval"}),jsxRuntimeExports.jsx(FieldInput$1,{value:wt.advancedUrineEveryHoursOther,onChange:Vt=>At("advancedUrineEveryHoursOther",Vt.target.value),placeholder:"Number of hours"})]})]}),jsxRuntimeExports.jsx(FieldDescription,{children:"This will appear as:"}),jsxRuntimeExports.jsx(PreviewText,{children:buildAdvancedUrineInstruction(wt)})]}),jsxRuntimeExports.jsxs(FieldRow$1,{style:{marginTop:8},children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Additional instructions"}),jsxRuntimeExports.jsx(FieldTextarea,{rows:3,value:wt.additionalInstructions,onChange:Vt=>At("additionalInstructions",Vt.target.value),placeholder:"Any additional individualized instructions."})]})]}),jsxRuntimeExports.jsxs(SectionCard$1,{children:[jsxRuntimeExports.jsx(SectionTitle$2,{children:"8. Emergency criteria"}),jsxRuntimeExports.jsx(FieldDescription,{children:"Uncheck items that you do not want to include for this patient, and add custom criteria if needed."}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyHasSeizure,onChange:Vt=>At("emergencyHasSeizure",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Has a seizure"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyTremoring,onChange:Vt=>At("emergencyTremoring",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Tremoring or twitching"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyWeak,onChange:Vt=>At("emergencyWeak",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Seems weak, spacey, or overly tired"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyHiding,onChange:Vt=>At("emergencyHiding",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Hiding for more than 12 hours"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyRefusesFoodWater,onChange:Vt=>At("emergencyRefusesFoodWater",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Refuses to eat or drink for more than 12 hours"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyDiarrhea,onChange:Vt=>At("emergencyDiarrhea",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Diarrhea for more than 12 hours"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyVomiting,onChange:Vt=>At("emergencyVomiting",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Vomits more than three times in 12 hours"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyBumpingIntoObjects,onChange:Vt=>At("emergencyBumpingIntoObjects",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Bumping into objects"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyDifficultyWalking,onChange:Vt=>At("emergencyDifficultyWalking",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Difficulty walking or jumping"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyMissedInsulinDoses,onChange:Vt=>At("emergencyMissedInsulinDoses",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Missed more than two doses of insulin"})]}),jsxRuntimeExports.jsxs(CheckboxRow,{children:[jsxRuntimeExports.jsx(CheckboxInput,{type:"checkbox",checked:wt.emergencyIncorrectDose,onChange:Vt=>At("emergencyIncorrectDose",Vt.target.checked)}),jsxRuntimeExports.jsx(CheckboxLabel,{children:"Received an incorrect insulin dose"})]}),jsxRuntimeExports.jsxs(FieldRow$1,{children:[jsxRuntimeExports.jsx(FieldLabel$2,{children:"Other emergency criteria"}),jsxRuntimeExports.jsx(FieldTextarea,{rows:2,value:wt.emergencyOther,onChange:Vt=>At("emergencyOther",Vt.target.value),placeholder:"Any extra reasons to contact the clinic or ER."})]})]})]}),jsxRuntimeExports.jsx(PreviewColumn,{children:jsxRuntimeExports.jsxs(PreviewCard,{children:[jsxRuntimeExports.jsxs(PreviewTitle$1,{children:["Diabetes discharge instructions for ",wt.petName||"your pet"]}),jsxRuntimeExports.jsx(PreviewSectionTitle,{children:"Hospital"}),jsxRuntimeExports.jsxs(PreviewText,{children:[wt.hospitalName&&jsxRuntimeExports.jsx("div",{children:wt.hospitalName}),wt.hospitalAddress&&jsxRuntimeExports.jsx("div",{children:wt.hospitalAddress}),wt.hospitalPhone&&jsxRuntimeExports.jsxs("div",{children:["Phone: ",wt.hospitalPhone]})]}),jsxRuntimeExports.jsx(PreviewSectionTitle,{}),jsxRuntimeExports.jsxs(PreviewText,{children:[jsxRuntimeExports.jsx("div",{children:en}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{children:["To ",rn,"'s caregivers,"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{children:["You're doing a great job caring for ",rn,". Your veterinary team at ",on," will continue to support you as you manage ",rn,"'s diabetes."," ",Zt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Dr. ",Zt," would like you to follow these directions until your next recheck appointment in"," ",wt.recheckValue||"___"," ",wt.recheckUnit||"____","."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Dr. __________________ would like you to follow these directions until your next recheck appointment in"," ",wt.recheckValue||"___"," ",wt.recheckUnit||"____","."]})]})]}),jt&&(wt.includeRemissionNote&&wt.remissionNote||wt.includeHopeNote&&wt.hopeNote)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[wt.includeRemissionNote&&wt.remissionNote&&jsxRuntimeExports.jsx(PreviewText,{children:wt.remissionNote}),wt.includeHopeNote&&wt.hopeNote&&jsxRuntimeExports.jsx(PreviewText,{children:wt.hopeNote})]}),jsxRuntimeExports.jsx(PreviewSectionTitle,{children:"Insulin directions"}),jsxRuntimeExports.jsxs(PreviewText,{children:[jsxRuntimeExports.jsxs("div",{children:["Please give ",rn," ",Xt," units of ",an," ",Ot||"_______","."]}),Ft&&jsxRuntimeExports.jsx("div",{children:Ft}),jsxRuntimeExports.jsx("div",{children:Ut}),jsxRuntimeExports.jsx("div",{children:"Do not change this regimen unless you have spoken with a member of our veterinary team."})]}),jsxRuntimeExports.jsx(PreviewSectionTitle,{children:"Feeding"}),jt&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:(wt.includeCatFeedingMealInsulinNote||wt.includeCatCannedDietNote)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[wt.includeCatFeedingMealInsulinNote&&wt.catFeedingMealInsulinNote&&jsxRuntimeExports.jsx(PreviewText,{children:wt.catFeedingMealInsulinNote}),wt.includeCatCannedDietNote&&wt.catCannedDietNote&&jsxRuntimeExports.jsx(PreviewText,{children:wt.catCannedDietNote})]})}),jsxRuntimeExports.jsx(PreviewText,{as:"div",style:{fontWeight:600,marginTop:8,marginBottom:4},children:"Feeding instructions"}),jsxRuntimeExports.jsxs(PreviewText,{as:"ul",children:[wt.feedingInclude1&&jsxRuntimeExports.jsx("li",{children:(wt.feeding1Text||"").trim()||buildFeedingLine1(wt)}),wt.feedingInclude2&&wt.feeding2Text&&jsxRuntimeExports.jsx("li",{children:wt.feeding2Text}),wt.feedingInclude3&&wt.feeding3Text&&jsxRuntimeExports.jsx("li",{children:wt.feeding3Text}),wt.feedingInclude4&&wt.feeding4Text&&jsxRuntimeExports.jsx("li",{children:wt.feeding4Text}),wt.feedingInclude5&&wt.feeding5Text&&jsxRuntimeExports.jsx("li",{children:wt.feeding5Text}),wt.feedingInclude6&&wt.feeding6Text&&jsxRuntimeExports.jsx("li",{children:wt.feeding6Text}),wt.feedingInclude7&&wt.feeding7Text&&jsxRuntimeExports.jsx("li",{children:wt.feeding7Text})]}),jsxRuntimeExports.jsx(PreviewSectionTitle,{children:"Exercise"}),jsxRuntimeExports.jsx(PreviewText,{children:jsxRuntimeExports.jsxs("div",{children:[rn," will benefit from regular, consistent exercise as this can help ",Nt," lose weight and may decrease insulin requirements."]})}),zt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PreviewSectionTitle,{children:"Home monitoring"}),jsxRuntimeExports.jsxs(PreviewText,{children:[jsxRuntimeExports.jsx("div",{children:"Home monitoring is key when caring for a diabetic animal. You are acting as an extension of your veterinary team by taking on these important tasks."}),wt.homeEncouragementInclude1&&wt.homeEncouragement1Text&&jsxRuntimeExports.jsx("div",{children:wt.homeEncouragement1Text}),wt.homeEncouragementInclude2&&wt.homeEncouragement2Text&&jsxRuntimeExports.jsx("div",{children:wt.homeEncouragement2Text})]}),jsxRuntimeExports.jsxs(PreviewText,{as:"ul",children:[Bt&&Bt.map((Vt,Kt)=>jsxRuntimeExports.jsx("li",{children:Vt},`measure-intake-${Kt}`)),wt.advancedBgInclude&&jsxRuntimeExports.jsx("li",{children:buildAdvancedBgInstruction(wt)}),wt.advancedUrineInclude&&jsxRuntimeExports.jsx("li",{children:buildAdvancedUrineInstruction(wt)}),wt.additionalInstructions&&jsxRuntimeExports.jsx("li",{children:wt.additionalInstructions})]})]}),jsxRuntimeExports.jsx(PreviewSectionTitle,{children:"Emergency criteria"}),jsxRuntimeExports.jsxs(PreviewText,{as:"ul",children:[wt.emergencyHasSeizure&&jsxRuntimeExports.jsx("li",{children:"Has a seizure."}),wt.emergencyTremoring&&jsxRuntimeExports.jsx("li",{children:"Tremoring or twitching."}),wt.emergencyWeak&&jsxRuntimeExports.jsx("li",{children:"Seems weak, spacey, or unusually tired."}),wt.emergencyHiding&&jsxRuntimeExports.jsx("li",{children:"Hiding for more than 12 hours."}),wt.emergencyRefusesFoodWater&&jsxRuntimeExports.jsx("li",{children:"Refuses to eat or drink for more than 12 hours."}),wt.emergencyDiarrhea&&jsxRuntimeExports.jsx("li",{children:"Diarrhea for more than 12 hours."}),wt.emergencyVomiting&&jsxRuntimeExports.jsx("li",{children:"Vomits more than three times in 12 hours."}),wt.emergencyBumpingIntoObjects&&jsxRuntimeExports.jsx("li",{children:"Bumping into objects."}),wt.emergencyDifficultyWalking&&jsxRuntimeExports.jsx("li",{children:"Difficulty walking or jumping."}),wt.emergencyMissedInsulinDoses&&jsxRuntimeExports.jsx("li",{children:"Missed more than two doses of insulin."}),wt.emergencyIncorrectDose&&jsxRuntimeExports.jsx("li",{children:"Received an incorrect insulin dose."}),wt.emergencyOther&&jsxRuntimeExports.jsx("li",{children:wt.emergencyOther})]}),jsxRuntimeExports.jsxs(PreviewText,{children:[jsxRuntimeExports.jsxs("div",{children:["If we are not available and you need help, please contact"," ",yn," at ",vn,"."]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{children:[rn," should be re-evaluated by our veterinary team in"," ",$t,". If you haven't already, please schedule that appointment right away. Frequent rechecks with our team to fine tune ",rn,"'s insulin, diet, and other treatments are critically important for ",Nt," to thrive."]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{children:["We appreciate all the hard work you are pouring into ",rn," ","and we're honored to be walking alongside you on this journey."]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{children:["Please call our hospital at"," ",wt.hospitalPhone||"___-___-____"," with any questions or concerns."]})]})]})})]})]})}pt.div`
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
`;pt.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
`;pt.div`
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  z-index: 9999;
`;pt.div`
  width: 100%;
  max-width: 560px;
  border-radius: 14px;
  border: 1px solid #1f2937;
  background: #020617;
  padding: 14px;
`;pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 6px;
`;pt.div`
  font-size: 14px;
  font-weight: 600;
  color: #f9fafb;
`;pt.button`
  width: 32px;
  height: 32px;
  border-radius: 999px;
  border: 1px solid #374151;
  background: #020617;
  color: #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #111827;
    border-color: #6b7280;
  }
`;pt.p`
  margin: 0 0 10px;
  font-size: 12px;
  color: #9ca3af;
`;pt.div`
  margin-top: 12px;
  display: flex;
  justify-content: flex-end;
  gap: 8px;
`;pt.div`
  margin-top: 10px;
  font-size: 12px;
  color: #fca5a5;
`;const SuggestionCard=pt.div`
  margin-bottom: 12px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #1d4ed8;
  background: #020617;
`,SuggestionTitle=pt.div`
  font-size: 13px;
  font-weight: 500;
  color: #bfdbfe;
  margin-bottom: 4px;
`,SuggestionText=pt.p`
  margin: 0;
  font-size: 12px;
  color: #9ca3af;
`,SuggestionActionsRow=pt.div`
  margin-top: 6px;
  display: flex;
  align-items: center;
  gap: 8px;
`,SuggestionSmallText=pt.span`
  font-size: 11px;
  color: #6b7280;
`,EditorTopRow=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
`,BackButton$1=pt.button`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid #4b5563;
  background: #020617;
  color: #e5e7eb;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease;

  &:hover {
    background: #111827;
    border-color: #6b7280;
  }
`,EditorTopRight=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
`,TopBarButton$1=pt.button`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid #4b5563;
  background: #020617;
  color: #e5e7eb;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease;

  &:hover:not(:disabled) {
    background: #111827;
    border-color: #6b7280;
  }

  &:disabled {
    opacity: 0.6;
    cursor: default;
  }
`,StatusPill$1=pt.span`
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 500;
  background: ${a=>a.$ready?"#065f46":"#312e81"};
  color: #e5e7eb;
`,ValidationCard=pt.div`
  margin-bottom: 16px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #7f1d1d;
  background: #111827;
`,ValidationTitle=pt.div`
  font-size: 13px;
  font-weight: 500;
  color: #fecaca;
  margin-bottom: 4px;
`,ValidationList=pt.ul`
  margin: 0;
  padding-left: 18px;
  font-size: 12px;
  color: #fecaca;
`,EditorLayout=pt.div`
  display: grid;
  grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
  gap: 16px;
  align-items: flex-start;

  @media (max-width: 960px) {
    grid-template-columns: minmax(0, 1fr);
  }
`,EditorFormColumn=pt.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,PreviewColumn=pt.div`
  position: sticky;
  top: 16px;
  align-self: flex-start;

  @media (max-width: 960px) {
    position: static;
  }
`,SectionCard$1=pt.div`
  border-radius: 12px;
  border: 1px solid #1f2937;
  background: #020617;
  padding: 12px 12px 10px;
`,SectionTitle$2=pt.div`
  font-size: 14px;
  font-weight: 500;
  color: #f9fafb;
  margin-bottom: 8px;
`,FieldRow$1=pt.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-bottom: 8px;
`,InlineFieldRow=pt.div`
  display: flex;
  gap: 12px;
  margin-bottom: 8px;

  @media (max-width: 640px) {
    flex-direction: column;
  }
`,InlineField=pt.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
`,FieldLabel$2=pt.label`
  font-size: 12px;
  color: #9ca3af;
`,FieldDescription=pt.p`
  font-size: 12px;
  color: #9ca3af;
  margin: 0 0 8px;
`,FieldInput$1=pt.input`
  height: 32px;
  border-radius: 8px;
  border: 1px solid
    ${a=>a.$error?"#b91c1c":a.$aiFilled?"#1d4ed8":"#374151"};
  background: #020617;
  color: ${a=>a.$aiFilled?"#bfdbfe":"#e5e7eb"};
  padding: 0 8px;
  font-size: 13px;

  &::placeholder {
    color: #6b7280;
  }

  &:focus {
    outline: none;
    border-color: ${a=>a.$error?"#fca5a5":"#6b7280"};
  }
`,FieldSelect=pt.select`
  height: 32px;
  border-radius: 8px;
  border: 1px solid
    ${a=>a.$error?"#b91c1c":a.$aiFilled?"#1d4ed8":"#374151"};
  background: #020617;
  color: ${a=>a.$aiFilled?"#bfdbfe":"#e5e7eb"};
  padding: 0 8px;
  font-size: 13px;

  &:focus {
    outline: none;
    border-color: ${a=>a.$error?"#fca5a5":"#6b7280"};
  }
`,FieldTextarea=pt.textarea`
  border-radius: 8px;
  border: 1px solid
    ${a=>a.$error?"#b91c1c":a.$aiFilled?"#1d4ed8":"#374151"};
  background: #020617;
  color: ${a=>a.$aiFilled?"#bfdbfe":"#e5e7eb"};
  padding: 6px 8px;
  font-size: 13px;
  resize: vertical;
  min-height: 60px;

  &::placeholder {
    color: #6b7280;
  }

  &:focus {
    outline: none;
    border-color: ${a=>a.$error?"#fca5a5":"#6b7280"};
  }
`,ButtonToggleGroup=pt.div`
  display: inline-flex;
  flex-wrap: wrap;
  gap: 4px;
`,ToggleButton=pt.button`
  padding: 5px 10px;
  border-radius: 999px;
  border: 1px solid
    ${a=>a.$error?"#b91c1c":a.$aiFilled?"#1d4ed8":a.$active?"#2563eb":"#374151"};
  background: ${a=>a.$error?"#111827":a.$aiFilled?"rgba(37, 99, 235, 0.26)":a.$active?"rgba(37, 99, 235, 0.18)":"#020617"};
  color: ${a=>a.$error?"#fecaca":a.$aiFilled||a.$active?"#dbeafe":"#e5e7eb"};
  font-size: 12px;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease,
    box-shadow 0.12s ease, color 0.12s ease;

  box-shadow: ${a=>a.$error?"0 0 0 1px rgba(185, 28, 28, 0.6)":a.$aiFilled?"0 0 0 3px rgba(37, 99, 235, 0.32)":a.$active?"0 0 0 3px rgba(37, 99, 235, 0.18)":"none"};

  &:hover {
    background: ${a=>a.$error?"#1f2937":a.$aiFilled?"rgba(37, 99, 235, 0.32)":a.$active?"rgba(37, 99, 235, 0.22)":"#111827"};
    border-color: ${a=>a.$error?"#fca5a5":a.$aiFilled||a.$active?"#3b82f6":"#6b7280"};
  }

  &:focus-visible {
    outline: none;
    box-shadow: ${a=>a.$error?"0 0 0 3px rgba(248, 113, 113, 0.5)":a.$aiFilled||a.$active?"0 0 0 3px rgba(59, 130, 246, 0.22)":"0 0 0 3px rgba(107, 114, 128, 0.28)"};
  }
`,CheckboxRow=pt.div`
  display: flex;
  align-items: center;
  gap: 6px;
  margin: 4px 0;
`,CheckboxInput=pt.input`
  width: 14px;
  height: 14px;
`,CheckboxLabel=pt.span`
  font-size: 13px;
  color: #e5e7eb;
`,PreviewCard=pt.div`
  border-radius: 12px;
  border: 1px solid #1f2937;
  background: #020617;
  padding: 12px 12px 10px;
  font-size: 13px;
  color: #e5e7eb;
`,PreviewTitle$1=pt.div`
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 8px;
`,PreviewSectionTitle=pt.div`
  font-size: 13px;
  font-weight: 500;
  margin-top: 8px;
  margin-bottom: 4px;
  color: #f9fafb;
`,PreviewText=pt.div`
  font-size: 12px;
  color: #d1d5db;

  ul {
    padding-left: 18px;
    margin: 0;
  }

  li {
    margin-bottom: 2px;
  }
`;pt.div`
  min-height: 100vh;
  background: #020617;
  color: #e5e7eb;
  padding: 24px;
`;const HandoutsPageShell$1=pt.div`
  max-width: 960px;
  margin: 0 auto;
`,HandoutsHeaderRow$1=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 8px;
`,HandoutsTitle$1=pt.h1`
  font-size: 22px;
  font-weight: 600;
  color: #f9fafb;
  margin: 0;
`;pt.p`
  margin: 4px 0 16px;
  font-size: 14px;
  color: #9ca3af;
`;pt.button`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid #4b5563;
  background: #020617;
  color: #e5e7eb;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease, color 0.12s ease;

  &:hover {
    background: #111827;
    border-color: #6b7280;
  }

  &:disabled {
    opacity: 0.6;
    cursor: default;
  }
`;pt.div`
  margin-top: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
`;pt.button`
  width: 100%;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  background: #020617;
  border: 1px solid #111827;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease;

  &:hover {
    background: #030712;
    border-color: #1f2937;
  }
`;pt.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`;pt.div`
  font-size: 14px;
  font-weight: 500;
  color: #f9fafb;
`;pt.div`
  font-size: 12px;
  color: #9ca3af;
`;pt.div`
  margin-top: 24px;
  border-radius: 14px;
  border: 1px dashed #374151;
  padding: 16px 16px 14px;
  background: #020617;
`;pt.div`
  font-size: 15px;
  font-weight: 500;
  color: #e5e7eb;
  margin-bottom: 4px;
`;const EmptyStateText$1=pt.p`
  font-size: 13px;
  color: #9ca3af;
  margin: 0 0 8px;
`;pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 14px;
`;pt.div`
  width: 100%;
  display: flex;
  justify-content: center;
`;const PetOwnerPreviewPaper$1=pt.div`
  width: 100%;
  max-width: 820px; /* print-like */
  background: #ffffff;
  color: #111827;
  border-radius: 12px;
  padding: 28px 28px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);

  /* Markdown typography */
  font-size: 16px;
  line-height: 1.65;

  h1 {
    font-size: 28px;
    line-height: 1.2;
    margin: 0 0 12px 0;
    letter-spacing: -0.02em;
  }

  h2 {
    font-size: 18px;
    margin: 22px 0 10px 0;
    padding-top: 14px;
    border-top: 1px solid #e5e7eb;
  }

  h3 {
    font-size: 16px;
    margin: 14px 0 8px 0;
  }

  p {
    margin: 10px 0;
  }

  ul,
  ol {
    margin: 10px 0 10px 20px;
  }

  li {
    margin: 6px 0;
  }

  blockquote {
    margin: 12px 0;
    padding: 10px 14px;
    background: #f9fafb;
    border-left: 4px solid #d1d5db;
    border-radius: 8px;
  }

  strong {
    font-weight: 700;
  }
`;pt.div`
  @media print {
    body {
      background: white !important;
    }

    .no-print {
      display: none !important;
    }

    /* Remove shadows and force paper width */
    ${PetOwnerPreviewPaper$1} {
      box-shadow: none !important;
      border-radius: 0 !important;
      max-width: 820px !important;
      padding: 0 !important;
    }
  }
`;const EMPTY_HOSPITAL_DEFAULTS={hospitalName:"",hospitalAddress:"",hospitalPhone:"",erHospitalName:"",erHospitalPhone:"",attendingVetName:""};function pickHospitalDefaultsFromSettingsDoc(a){var o;const e=((o=a==null?void 0:a.handoutDefaults)==null?void 0:o.diabetes_discharge)||{};return{hospitalName:e.hospitalName||"",hospitalAddress:e.hospitalAddress||"",hospitalPhone:e.hospitalPhone||"",erHospitalName:e.erHospitalName||"",erHospitalPhone:e.erHospitalPhone||"",attendingVetName:e.attendingVetName||""}}function hospitalDefaultsToFormData(a){return{hospitalName:a.hospitalName||"",hospitalAddress:a.hospitalAddress||"",hospitalPhone:a.hospitalPhone||"",erHospitalName:a.erHospitalName||"",erHospitalPhone:a.erHospitalPhone||"",attendingVetName:a.attendingVetName||""}}function HandoutsList({currentUser:a}){const[e,o]=reactExports.useState([]),c=useNavigate(),[et,tt]=reactExports.useState(!1),[nt,rt]=reactExports.useState(!1),[mt,gt]=reactExports.useState(!1),[yt,vt]=reactExports.useState(null),[xt,bt]=reactExports.useState(EMPTY_HOSPITAL_DEFAULTS),[Et,wt]=reactExports.useState(null),St=()=>{if(Et!==null){wt(null);return}if(window.history.length>1){c(-1);return}c("/ai/library")};reactExports.useEffect(()=>{if(!a){o([]);return}const Ct=query(collection(firestore,"vetHandouts"),where("vetUid","==",a.uid),orderBy("updatedAt","desc")),At=onSnapshot(Ct,Lt=>{const jt=[];Lt.forEach(Bt=>jt.push({id:Bt.id,...Bt.data()})),o(jt)},Lt=>{console.error("Error loading handouts:",Lt)});return()=>At()},[a]);const Tt=async()=>{if(a){vt(null),rt(!0);try{const Ct=doc(firestore,"vetSettings",a.uid),At=await getDoc(Ct);At.exists()?bt(pickHospitalDefaultsFromSettingsDoc(At.data())):bt(EMPTY_HOSPITAL_DEFAULTS)}catch(Ct){console.error("Failed to load defaults:",Ct),vt(Ct.message||String(Ct))}finally{rt(!1)}}},kt=async()=>{tt(!0),await Tt()},_t=()=>{tt(!1),vt(null)},Mt=(Ct,At)=>{bt(Lt=>({...Lt,[Ct]:At}))},Pt=async()=>{if(a){gt(!0),vt(null);try{const Ct=doc(firestore,"vetSettings",a.uid);await setDoc(Ct,{handoutDefaults:{diabetes_discharge:{...xt,updatedAt:serverTimestamp()}},updatedAt:serverTimestamp()},{merge:!0}),tt(!1)}catch(Ct){console.error("Failed to save defaults:",Ct),vt(Ct.message||String(Ct))}finally{gt(!1)}}},It=async()=>{if(a)try{const Ct=doc(firestore,"vetSettings",a.uid),At=await getDoc(Ct),Lt=At.exists()?pickHospitalDefaultsFromSettingsDoc(At.data()):EMPTY_HOSPITAL_DEFAULTS,jt=await addDoc(collection(firestore,"vetHandouts"),{vetUid:a.uid,orgId:null,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),type:"diabetes_discharge",templateVersion:1,title:"New diabetes discharge handout",status:"draft",errorMessage:null,links:{caseId:null,chatId:null,personalChatId:null,createdFrom:"standalone"},patient:{petName:"",species:null,sex:null},formData:hospitalDefaultsToFormData(Lt),validation:{state:"unknown",missing:[],warnings:[],lastValidatedAt:null},autofill:{enabled:!0,sources:[],fields:{},updatedAt:null},latestExport:{exportId:null,pdfUrl:null,createdAt:null}});c(`/ai/handouts/${jt.id}`)}catch(Ct){console.error("Failed to create handout:",Ct),alert("Could not create handout. Please try again.")}},Dt=Et==="diabetes_discharge"?e.filter(Ct=>Ct.type==="diabetes_discharge"):e;return jsxRuntimeExports.jsxs(HandoutsPageShell,{children:[jsxRuntimeExports.jsxs(HandoutsHeaderRow,{children:[jsxRuntimeExports.jsxs(HandoutsHeaderLeft,{children:[jsxRuntimeExports.jsxs(BackButton,{type:"button",onClick:St,children:[jsxRuntimeExports.jsx(FiArrowLeft,{size:14}),jsxRuntimeExports.jsx("span",{children:Et?"Back to templates":"Back"})]}),jsxRuntimeExports.jsx(HandoutsTitle,{children:"Handouts"})]}),jsxRuntimeExports.jsx(HeaderActions,{children:Et==="diabetes_discharge"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(HandoutsNewButton,{type:"button",onClick:kt,disabled:!a,title:"Set defaults for diabetes discharge handouts",children:[jsxRuntimeExports.jsx(FiSettings,{size:14}),jsxRuntimeExports.jsx("span",{children:"Defaults"})]}),jsxRuntimeExports.jsxs(HandoutsNewButton,{type:"button",onClick:It,disabled:!a,children:[jsxRuntimeExports.jsx(FiPlus,{size:14}),jsxRuntimeExports.jsx("span",{children:"New diabetes handout"})]})]})})]}),Et===null&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(HandoutsSubtitle,{children:"Choose a handout template to work with. We will add more templates over time."}),jsxRuntimeExports.jsxs(HandoutTypeGrid,{children:[jsxRuntimeExports.jsxs(HandoutTypeCard,{type:"button",onClick:()=>wt("diabetes_discharge"),children:[jsxRuntimeExports.jsx(HandoutTypeIconCircle,{children:jsxRuntimeExports.jsx(FiFileText,{size:22})}),jsxRuntimeExports.jsx(HandoutTypeTitle,{children:"Diabetes discharge"}),jsxRuntimeExports.jsx(HandoutTypeDescription,{children:"Client friendly discharge instructions for canine and feline diabetes, including insulin, feeding, home monitoring, and emergency criteria."}),jsxRuntimeExports.jsx(HandoutTypeFooterRow,{children:jsxRuntimeExports.jsx(HandoutTypeBadge,{children:"Available"})})]}),jsxRuntimeExports.jsxs(HandoutTypeCardDisabled,{type:"button",disabled:!0,children:[jsxRuntimeExports.jsx(HandoutTypeIconCircle,{$muted:!0,children:jsxRuntimeExports.jsx(FiFileText,{size:22})}),jsxRuntimeExports.jsx(HandoutTypeTitle,{children:"Other templates"}),jsxRuntimeExports.jsx(HandoutTypeDescription,{children:"Future handouts such as chronic kidney disease, heart disease, and more will appear here."}),jsxRuntimeExports.jsx(HandoutTypeFooterRow,{children:jsxRuntimeExports.jsx(HandoutTypeBadgeMuted,{children:"Coming soon"})})]})]})]}),Et==="diabetes_discharge"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(HandoutsSubtitle,{children:"Create and manage printable client handouts here. For now this focuses on diabetic discharge instructions."}),jsxRuntimeExports.jsxs(HandoutsListContainer,{children:[a&&Dt.length===0&&jsxRuntimeExports.jsxs(EmptyStateCard,{children:[jsxRuntimeExports.jsx(EmptyStateTitle,{children:"No handouts yet"}),jsxRuntimeExports.jsx(EmptyStateText,{children:"Start by creating a diabetes discharge handout."}),jsxRuntimeExports.jsxs(HandoutsNewButton,{type:"button",onClick:It,children:[jsxRuntimeExports.jsx(FiPlus,{size:14}),jsxRuntimeExports.jsx("span",{children:"New diabetes handout"})]})]}),!a&&jsxRuntimeExports.jsxs(EmptyStateCard,{children:[jsxRuntimeExports.jsx(EmptyStateTitle,{children:"Sign in to manage handouts"}),jsxRuntimeExports.jsx(EmptyStateText,{children:"Once signed in, you can create and save handouts for your cases."})]}),a&&Dt.length>0&&Dt.map(Ct=>jsxRuntimeExports.jsxs(HandoutRow,{type:"button",onClick:()=>c(`/ai/handouts/${Ct.id}`),children:[jsxRuntimeExports.jsx(FiFileText,{size:16}),jsxRuntimeExports.jsxs(HandoutRowTexts,{children:[jsxRuntimeExports.jsx(HandoutRowTitle,{children:Ct.title||"Untitled handout"}),jsxRuntimeExports.jsxs(HandoutRowMeta,{children:[Ct.type==="diabetes_discharge"?"Diabetes discharge":Ct.type||"Unknown type",Ct.updatedAt&&Ct.updatedAt.toDate&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",""," ",Ct.updatedAt.toDate().toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]},Ct.id))]}),et&&jsxRuntimeExports.jsx(ModalOverlay,{role:"dialog","aria-modal":"true",onMouseDown:Ct=>{Ct.target===Ct.currentTarget&&_t()},children:jsxRuntimeExports.jsxs(ModalCard,{children:[jsxRuntimeExports.jsxs(ModalHeader,{children:[jsxRuntimeExports.jsx(ModalTitle,{children:"Defaults for diabetes discharge handouts"}),jsxRuntimeExports.jsx(IconCloseButton,{type:"button",onClick:_t,children:jsxRuntimeExports.jsx(FiX,{size:16})})]}),jsxRuntimeExports.jsx(ModalSubtext,{children:"These values will be used to prefill Section 1 for new diabetes discharge handouts."}),nt?jsxRuntimeExports.jsx(ModalSubtext,{children:"Loading defaults..."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(SectionCard,{children:[jsxRuntimeExports.jsx(SectionTitle$1,{children:"Hospital information"}),jsxRuntimeExports.jsxs(FieldRow,{children:[jsxRuntimeExports.jsx(FieldLabel$1,{children:"Hospital name"}),jsxRuntimeExports.jsx(FieldInput,{value:xt.hospitalName,onChange:Ct=>Mt("hospitalName",Ct.target.value),placeholder:"Hospital name"})]}),jsxRuntimeExports.jsxs(FieldRow,{children:[jsxRuntimeExports.jsx(FieldLabel$1,{children:"Hospital address"}),jsxRuntimeExports.jsx(FieldInput,{value:xt.hospitalAddress,onChange:Ct=>Mt("hospitalAddress",Ct.target.value),placeholder:"Street, city, state, ZIP"})]}),jsxRuntimeExports.jsxs(FieldRow,{children:[jsxRuntimeExports.jsx(FieldLabel$1,{children:"Hospital phone number"}),jsxRuntimeExports.jsx(FieldInput,{value:xt.hospitalPhone,onChange:Ct=>Mt("hospitalPhone",Ct.target.value),placeholder:"000-000-0000"})]}),jsxRuntimeExports.jsxs(FieldRow,{children:[jsxRuntimeExports.jsx(FieldLabel$1,{children:"Default veterinarian name"}),jsxRuntimeExports.jsx(FieldInput,{value:xt.attendingVetName||"",onChange:Ct=>Mt("attendingVetName",Ct.target.value),placeholder:"For example: Smith"})]}),jsxRuntimeExports.jsxs(FieldRow,{children:[jsxRuntimeExports.jsx(FieldLabel$1,{children:"Emergency hospital name"}),jsxRuntimeExports.jsx(FieldInput,{value:xt.erHospitalName,onChange:Ct=>Mt("erHospitalName",Ct.target.value),placeholder:"After-hours or ER hospital"})]}),jsxRuntimeExports.jsxs(FieldRow,{style:{marginBottom:0},children:[jsxRuntimeExports.jsx(FieldLabel$1,{children:"Emergency hospital phone"}),jsxRuntimeExports.jsx(FieldInput,{value:xt.erHospitalPhone,onChange:Ct=>Mt("erHospitalPhone",Ct.target.value),placeholder:"000-000-0000"})]})]}),yt&&jsxRuntimeExports.jsxs(ModalErrorText,{children:["Save failed: ",yt]}),jsxRuntimeExports.jsxs(ModalActions,{children:[jsxRuntimeExports.jsx(TopBarButton,{type:"button",onClick:_t,children:"Cancel"}),jsxRuntimeExports.jsx(TopBarButton,{type:"button",onClick:Pt,disabled:mt,children:mt?"Saving...":"Save defaults"})]})]})]})})]})]})}function HandoutsPage(){const[a,e]=reactExports.useState(null);return reactExports.useEffect(()=>{const o=auth.onAuthStateChanged(c=>{e(c||null)});return()=>o()},[]),jsxRuntimeExports.jsx(HandoutsPageOuter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(HandoutsList,{currentUser:a})}),jsxRuntimeExports.jsx(Route,{path:":handoutId",element:jsxRuntimeExports.jsx(DiabetesHandoutEditor,{currentUser:a})}),jsxRuntimeExports.jsx(Route,{path:":handoutId/preview",element:jsxRuntimeExports.jsx(DiabetesHandoutPreview,{currentUser:a})})]})})}const HandoutsHeaderLeft=pt.div`
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
`,HeaderActions=pt.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
`,ModalOverlay=pt.div`
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  z-index: 9999;
`,ModalCard=pt.div`
  width: 100%;
  max-width: 560px;
  border-radius: 14px;
  border: 1px solid #1f2937;
  background: #020617;
  padding: 14px;
`,ModalHeader=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 6px;
`,ModalTitle=pt.div`
  font-size: 14px;
  font-weight: 600;
  color: #f9fafb;
`,IconCloseButton=pt.button`
  width: 32px;
  height: 32px;
  border-radius: 999px;
  border: 1px solid #374151;
  background: #020617;
  color: #e5e7eb;
  cursor: pointer;

  &:hover {
    background: #111827;
    border-color: #6b7280;
  }
`,ModalSubtext=pt.p`
  margin: 0 0 10px;
  font-size: 12px;
  color: #9ca3af;
`,ModalActions=pt.div`
  margin-top: 12px;
  display: flex;
  justify-content: flex-end;
  gap: 8px;
`,ModalErrorText=pt.div`
  margin-top: 10px;
  font-size: 12px;
  color: #fca5a5;
`,BackButton=pt.button`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid #4b5563;
  background: #020617;
  color: #e5e7eb;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease;

  &:hover {
    background: #111827;
    border-color: #6b7280;
  }
`,TopBarButton=pt.button`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid #4b5563;
  background: #020617;
  color: #e5e7eb;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease;

  &:hover:not(:disabled) {
    background: #111827;
    border-color: #6b7280;
  }

  &:disabled {
    opacity: 0.6;
    cursor: default;
  }
`,SectionCard=pt.div`
  border-radius: 12px;
  border: 1px solid #1f2937;
  background: #020617;
  padding: 12px 12px 10px;
`,SectionTitle$1=pt.div`
  font-size: 14px;
  font-weight: 500;
  color: #f9fafb;
  margin-bottom: 8px;
`,FieldRow=pt.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-bottom: 8px;
`,FieldLabel$1=pt.label`
  font-size: 12px;
  color: #9ca3af;
`,FieldInput=pt.input`
  height: 32px;
  border-radius: 8px;
  border: 1px solid
    ${a=>a.$error?"#b91c1c":a.$aiFilled?"#1d4ed8":"#374151"};
  background: #020617;
  color: ${a=>a.$aiFilled?"#bfdbfe":"#e5e7eb"};
  padding: 0 8px;
  font-size: 13px;

  &::placeholder {
    color: #6b7280;
  }

  &:focus {
    outline: none;
    border-color: ${a=>a.$error?"#fca5a5":"#6b7280"};
  }
`,HandoutsPageOuter=pt.div`
  min-height: 100vh;
  background: #020617;
  color: #e5e7eb;
  padding: 24px;
`,HandoutsPageShell=pt.div`
  max-width: 960px;
  margin: 0 auto;
`,HandoutsHeaderRow=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 8px;
`,HandoutsTitle=pt.h1`
  font-size: 22px;
  font-weight: 600;
  color: #f9fafb;
  margin: 0;
`,HandoutsSubtitle=pt.p`
  margin: 4px 0 16px;
  font-size: 14px;
  color: #9ca3af;
`,HandoutsNewButton=pt.button`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid #4b5563;
  background: #020617;
  color: #e5e7eb;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease, color 0.12s ease;

  &:hover {
    background: #111827;
    border-color: #6b7280;
  }

  &:disabled {
    opacity: 0.6;
    cursor: default;
  }
`,HandoutsListContainer=pt.div`
  margin-top: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
`,HandoutRow=pt.button`
  width: 100%;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  background: #020617;
  border: 1px solid #111827;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease;

  &:hover {
    background: #030712;
    border-color: #1f2937;
  }
`,HandoutRowTexts=pt.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`,HandoutRowTitle=pt.div`
  font-size: 14px;
  font-weight: 500;
  color: #f9fafb;
`,HandoutRowMeta=pt.div`
  font-size: 12px;
  color: #9ca3af;
`,EmptyStateCard=pt.div`
  margin-top: 24px;
  border-radius: 14px;
  border: 1px dashed #374151;
  padding: 16px 16px 14px;
  background: #020617;
`,EmptyStateTitle=pt.div`
  font-size: 15px;
  font-weight: 500;
  color: #e5e7eb;
  margin-bottom: 4px;
`,EmptyStateText=pt.p`
  font-size: 13px;
  color: #9ca3af;
  margin: 0 0 8px;
`,HandoutTypeGrid=pt.div`
  margin-top: 16px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
`,HandoutTypeCardBase=pt.button`
  border-radius: 16px;
  padding: 16px 16px 14px;
  background: #020617;
  border: 1px solid #1f2937;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 190px;
  text-align: left;
  cursor: pointer;
  transition: background 0.12s ease, border-color 0.12s ease,
    transform 0.12s ease, box-shadow 0.12s ease;

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.4);
  }
`,HandoutTypeCard=pt(HandoutTypeCardBase)`
  &:hover {
    background: #030712;
    border-color: #2563eb;
    box-shadow: 0 10px 24px rgba(15, 23, 42, 0.6);
    transform: translateY(-1px);
  }
`,HandoutTypeCardDisabled=pt(HandoutTypeCardBase)`
  cursor: default;
  opacity: 0.5;

  &:hover {
    background: #020617;
    border-color: #1f2937;
    box-shadow: none;
    transform: none;
  }
`,HandoutTypeIconCircle=pt.div`
  width: 36px;
  height: 36px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
  background: ${a=>a.$muted?"#020617":"rgba(37, 99, 235, 0.15)"};
  color: ${a=>a.$muted?"#6b7280":"#bfdbfe"};
  border: 1px solid ${a=>a.$muted?"#374151":"#1d4ed8"};
`,HandoutTypeTitle=pt.div`
  font-size: 15px;
  font-weight: 500;
  color: #f9fafb;
  margin-bottom: 6px;
`,HandoutTypeDescription=pt.p`
  font-size: 13px;
  color: #9ca3af;
  margin: 0 0 10px;
`,HandoutTypeFooterRow=pt.div`
  display: flex;
  align-items: center;
  justify-content: flex-start;
`,HandoutTypeBadge=pt.span`
  display: inline-flex;
  align-items: center;
  padding: 3px 9px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 500;
  background: rgba(22, 163, 74, 0.16);
  color: #bbf7d0;
  border: 1px solid rgba(22, 163, 74, 0.6);
`,HandoutTypeBadgeMuted=pt.span`
  display: inline-flex;
  align-items: center;
  padding: 3px 9px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 500;
  background: rgba(148, 163, 184, 0.18);
  color: #e5e7eb;
  border: 1px solid rgba(148, 163, 184, 0.6);
`;pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 14px;
`;pt.div`
  width: 100%;
  display: flex;
  justify-content: center;
`;const PetOwnerPreviewPaper=pt.div`
  width: 100%;
  max-width: 820px;
  background: #ffffff;
  color: #111827;
  border-radius: 12px;
  padding: 28px 28px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
  font-size: 16px;
  line-height: 1.65;

  h1 {
    font-size: 28px;
    line-height: 1.2;
    margin: 0 0 12px 0;
    letter-spacing: -0.02em;
  }

  h2 {
    font-size: 18px;
    margin: 22px 0 10px 0;
    padding-top: 14px;
    border-top: 1px solid #e5e7eb;
  }

  h3 {
    font-size: 16px;
    margin: 14px 0 8px 0;
  }

  p {
    margin: 10px 0;
  }

  ul,
  ol {
    margin: 10px 0 10px 20px;
  }

  li {
    margin: 6px 0;
  }

  blockquote {
    margin: 12px 0;
    padding: 10px 14px;
    background: #f9fafb;
    border-left: 4px solid #d1d5db;
    border-radius: 8px;
  }

  strong {
    font-weight: 700;
  }
`;pt.div`
  @media print {
    body {
      background: white !important;
    }

    .no-print {
      display: none !important;
    }

    ${PetOwnerPreviewPaper} {
      box-shadow: none !important;
      border-radius: 0 !important;
      max-width: 820px !important;
      padding: 0 !important;
    }
  }
`;const FUNCTIONS_BASE_URL$1="https://us-central1-vetcationapp.cloudfunctions.net",PageShell$1=pt.div`
  min-height: 100vh;
  background: #f3f4f6;
  padding: 32px 16px;
  display: flex;
  justify-content: center;
`,Card$1=pt.div`
  width: 100%;
  max-width: 720px;
  background: #ffffff;
  border-radius: 16px;
  padding: 24px;
  box-shadow: 0 10px 30px rgba(15, 23, 42, 0.12);
`,TitleRow=pt.div`
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 8px;
`,Title=pt.h1`
  font-size: 22px;
  font-weight: 700;
  margin: 0;
`,Subtitle=pt.p`
  margin: 0 0 16px;
  font-size: 14px;
  color: #6b7280;
`,StatusBadge=pt.div`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  margin-bottom: 16px;
  background: ${a=>a.bg||"#eff6ff"};
  color: ${a=>a.color||"#1d4ed8"};
`,FieldLabel=pt.div`
  font-size: 13px;
  font-weight: 600;
  margin-top: 16px;
  margin-bottom: 4px;
`,Text=pt.p`
  font-size: 13px;
  color: #4b5563;
  margin: 0 0 8px;
`,FileBox=pt.label`
  border: 1px dashed #d1d5db;
  border-radius: 12px;
  padding: 16px;
  display: flex;
  gap: 12px;
  align-items: center;
  cursor: pointer;
  background: #fafafa;

  &:hover {
    border-color: #6b7280;
    background: #f9fafb;
  }
`,FileInfo=pt.div`
  display: flex;
  flex-direction: column;
`,FileName$1=pt.div`
  font-size: 13px;
  font-weight: 600;
  color: #111827;
`,FileHint=pt.div`
  font-size: 12px;
  color: #6b7280;
`,HiddenFileInput=pt.input`
  display: none;
`,TextArea=pt.textarea`
  width: 100%;
  min-height: 80px;
  font-size: 13px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid #d1d5db;
  resize: vertical;
  outline: none;

  &:focus {
    border-color: #2563eb;
    box-shadow: 0 0 0 1px #2563eb33;
  }
`,ButtonRow=pt.div`
  display: flex;
  gap: 10px;
  margin-top: 20px;
`,Button=pt.button`
  flex: ${a=>a.full?"1":"0"};
  min-width: ${a=>a.full?"0":"120px"};
  padding: 10px 16px;
  border-radius: 999px;
  border: none;
  font-size: 14px;
  font-weight: 600;
  cursor: ${a=>a.disabled?"not-allowed":"pointer"};
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  opacity: ${a=>a.disabled?.55:1};
  background: ${a=>a.variant==="primary"?"#2563eb":"#e5e7eb"};
  color: ${a=>a.variant==="primary"?"#ffffff":"#111827"};

  &:hover {
    filter: ${a=>a.disabled?"none":"brightness(0.97)"};
  }
`,PreviewBox=pt.div`
  margin-top: 20px;
  padding: 14px 16px;
  border-radius: 12px;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
`,PreviewTitle=pt.div`
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 6px;
`,PreviewLabel=pt.div`
  font-size: 12px;
  font-weight: 600;
  color: #6b7280;
  margin-top: 6px;
`,PreviewValue=pt.div`
  font-size: 13px;
  color: #111827;
  margin-top: 2px;
`,Small=pt.div`
  font-size: 11px;
  color: #9ca3af;
  margin-top: 4px;
`,InlineLinkButton=pt.button`
  border: none;
  background: none;
  padding: 0;
  margin: 0;
  font-size: 12px;
  color: #2563eb;
  cursor: pointer;
  text-decoration: underline;
`;function VetUploadRecordPage(){const{inviteId:a}=useParams(),e=useNavigate(),o=useLocation(),c=auth.currentUser,[et,tt]=reactExports.useState({status:"loading",invite:null,error:null}),[nt,rt]=reactExports.useState(null),[mt,gt]=reactExports.useState(""),[yt,vt]=reactExports.useState(null),[xt,bt]=reactExports.useState(null),[Et,wt]=reactExports.useState(!1),[St,Tt]=reactExports.useState(!1);reactExports.useEffect(()=>{async function jt(){if(!a){tt({status:"not-found",invite:null,error:"Missing invite id"});return}try{const Bt=doc(firestore,"petRecordUploadInvites",a),zt=await getDoc(Bt);if(!zt.exists()){tt({status:"not-found",invite:null,error:"Invite not found"});return}const Yt=zt.data()||{},en=new Date;let rn=!1;Yt.status&&Yt.status!=="active"&&(rn=!0),Yt.expiresAt&&Yt.expiresAt.toDate&&Yt.expiresAt.toDate()<en&&(rn=!0),tt(rn?{status:"expired",invite:Yt,error:"This link has expired"}:{status:"ok",invite:{id:a,...Yt},error:null})}catch(Bt){console.error("Failed to load invite",Bt),tt({status:"not-found",invite:null,error:Bt.message||"Failed to load invite"})}}jt()},[a]);const kt=!!nt&&!Et&&!yt&&et.status==="ok",_t=!!yt&&!!xt&&!St,Mt=jt=>{var zt;const Bt=(zt=jt.target.files)==null?void 0:zt[0];Bt&&(rt(Bt),vt(null),bt(null))};async function Pt(){if(!(!kt||!nt||et.status!=="ok"))try{wt(!0);const jt=et.invite,Bt=jt.petId,zt=jt.petName||"this pet",Yt=nt.type||"application/octet-stream",en=nt.name.replace(/[^a-zA-Z0-9._-]/g,"_"),rn=`petRecords/${Bt}/${Date.now()}_${en}`,on=ref(storage,rn);await uploadBytes(on,nt);let Zt=null;if(Yt&&Yt.startsWith("image/"))try{Zt=[await getDownloadURL(on)]}catch($t){console.error("Failed to get download URL for image",$t)}const an=new Date().toISOString(),Xt=await fetch(`${FUNCTIONS_BASE_URL$1}/previewPetRecordSummary`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({petId:Bt,petName:zt,storagePath:rn,mimeType:Yt,ownerNote:mt,fallbackEventDateIso:an})}),yn=await Xt.json();if(!Xt.ok||!yn.ok){console.warn("previewPetRecordSummary error",yn),alert(yn.error||"Unable to get AI preview. Please try again."),wt(!1);return}const vn=yn.preview||{},Nt={summaryText:vn.summaryText,eventDateIso:vn.eventDateIso,recordType:vn.recordType,eventDateSource:vn.eventDateSource,rawTextForEmbedding:vn.rawTextForEmbedding};vt(Nt),bt({storagePath:rn,mimeType:Yt,mode:yn.mode||"vet_upload",imageUrls:Zt})}catch(jt){console.error("Send to AI error",jt),alert("There was a problem sending this file to AI. Please try again.")}finally{wt(!1)}}async function It(){var jt;if(!(!_t||et.status!=="ok"))try{Tt(!0);const Bt=et.invite,{storagePath:zt,mimeType:Yt,mode:en,imageUrls:rn}=xt,on=await fetch(`${FUNCTIONS_BASE_URL$1}/savePetRecordToTimeline`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ownerUid:Bt.ownerUid||null,petId:Bt.petId,petName:Bt.petName||null,storagePath:zt,mimeType:Yt,mode:en,ownerNote:mt,fallbackEventDateIso:new Date().toISOString(),aiPreview:yt,uploadedByUid:((jt=auth.currentUser)==null?void 0:jt.uid)||null,imageUrls:rn||null})}),Zt=await on.json();if(!on.ok||!Zt.ok){console.warn("savePetRecordToTimeline error",Zt),alert(Zt.error||"Unable to save this record. Please try again."),Tt(!1);return}alert("Record saved to the pet's medical memory."),e("/",{replace:!0})}catch(Bt){console.error("SaveToTimeline error",Bt),alert("There was a problem saving this record. Please try again.")}finally{Tt(!1)}}const Dt=()=>{const jt=o.pathname+(o.search||"")+(o.hash||"");sessionStorage.setItem("postAuthRedirectPath",jt),e("/login")},{status:Ct,invite:At,error:Lt}=et;return jsxRuntimeExports.jsx(PageShell$1,{children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(TitleRow,{children:[jsxRuntimeExports.jsx(FiUploadCloud,{size:24}),jsxRuntimeExports.jsx(Title,{children:"Upload records into medical memory"})]}),jsxRuntimeExports.jsx(Subtitle,{children:"This page lets you upload a lab report or document directly into the pet owner account that shared this link with you."}),Ct==="loading"&&jsxRuntimeExports.jsx(Text,{children:"Loading invitation details..."}),Ct==="not-found"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(StatusBadge,{bg:"#fef2f2",color:"#b91c1c",children:[jsxRuntimeExports.jsx(FiAlertTriangle,{}),"Invalid link"]}),jsxRuntimeExports.jsx(Text,{children:Lt||"This upload link is not valid."})]}),Ct==="expired"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(StatusBadge,{bg:"#fef2f2",color:"#b91c1c",children:[jsxRuntimeExports.jsx(FiAlertTriangle,{}),"Link expired"]}),jsxRuntimeExports.jsx(Text,{children:"This upload link has expired. The pet owner can generate a new link from their app if needed."})]}),Ct==="ok"&&At&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(StatusBadge,{children:[jsxRuntimeExports.jsx(FiCheckCircle,{}),"Linked to pet medical memory"]}),c?jsxRuntimeExports.jsxs(Small,{children:["Signed in as ",c.email||"your account",". Uploads will be linked to your profile."]}):jsxRuntimeExports.jsxs(Small,{children:["You can upload without an account. If you already use Vetcation,"," ",jsxRuntimeExports.jsx(InlineLinkButton,{type:"button",onClick:Dt,children:"sign in"})," ","so this upload is linked to your clinic."]}),jsxRuntimeExports.jsxs(Text,{children:["Records uploaded here will be attached to the medical memory for"," ",jsxRuntimeExports.jsx("strong",{children:At.petName||"this pet"}),"."]}),jsxRuntimeExports.jsx(FieldLabel,{children:"1. Select a file"}),jsxRuntimeExports.jsxs(FileBox,{children:[jsxRuntimeExports.jsx(FiFileText,{size:20}),jsxRuntimeExports.jsxs(FileInfo,{children:[jsxRuntimeExports.jsx(FileName$1,{children:nt?nt.name:"Click to choose a PDF or image"}),jsxRuntimeExports.jsx(FileHint,{children:"Supported: PDF, JPEG, PNG, other images"})]}),jsxRuntimeExports.jsx(HiddenFileInput,{type:"file",accept:".pdf,image/*",onChange:Mt})]}),jsxRuntimeExports.jsx(FieldLabel,{children:"2. Brief note (optional)"}),jsxRuntimeExports.jsx(TextArea,{value:mt,onChange:jt=>gt(jt.target.value),placeholder:"Example: CBC and chemistry from ER visit on Jan 28"}),jsxRuntimeExports.jsx(Small,{children:"This note is stored and also helps AI interpret the record."}),yt&&jsxRuntimeExports.jsxs(PreviewBox,{children:[jsxRuntimeExports.jsx(PreviewTitle,{children:"AI preview ready"}),jsxRuntimeExports.jsx(PreviewLabel,{children:"Detected type"}),jsxRuntimeExports.jsx(PreviewValue,{children:yt.recordType||"Unknown"}),jsxRuntimeExports.jsx(PreviewLabel,{children:"Summary"}),jsxRuntimeExports.jsx(PreviewValue,{children:yt.summaryText}),jsxRuntimeExports.jsx(Small,{children:"You can adjust details later inside the pet medical memory."})]}),jsxRuntimeExports.jsx(ButtonRow,{children:yt?jsxRuntimeExports.jsx(Button,{variant:"primary",full:!0,disabled:!_t,onClick:It,children:St?"Saving...":"Save to timeline"}):jsxRuntimeExports.jsx(Button,{variant:"primary",full:!0,disabled:!kt,onClick:Pt,children:Et?"Sending to AI...":"Send to AI"})}),jsxRuntimeExports.jsx(Small,{children:"Nothing is saved to the pet record until you click Save to timeline."})]})]})})}function formatCreatedAt(a){if(!a)return"";let e;if(typeof(a==null?void 0:a.toDate)=="function")e=a.toDate();else if(a instanceof Date)e=a;else if(typeof a=="string"){const o=new Date(a);Number.isNaN(o.getTime())||(e=o)}return e?e.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):""}function getFileKind(a){return a.mode==="pdf"?"Uploaded PDF":a.mode==="image"?"Uploaded photo":"Uploaded file"}function getFileName(a){const e=typeof a.storagePath=="string"?a.storagePath:a.uploadStoragePath||"";if(!e)return"File";const o=e.split("/");return o[o.length-1]||"File"}function getMime(a){return a.mimeType||a.contentType||a.mime||a.fileType||""}function getIndexStatusMeta(a){switch(a){case"ready":return{label:"System indexed",status:"ready",Icon:MdCheckCircle};case"processing":case"pending":return{label:"System indexing",status:"processing",Icon:MdAutorenew};case"error":return{label:"Index error",status:"error",Icon:MdErrorOutline};default:return null}}function getFileIconComponent(a){return a==="pdf"?FiFileText:a==="image"?FiImage:FiFile}function getDisplayName(a){return a?a.displayName||a.name||a.fullName||a.userName||a.username||(a.email?a.email.split("@")[0]:""):""}function getInitialsFromUser(a){const e=getDisplayName(a);if(!e)return"?";const o=e.trim().split(/\s+/);return o.length===1?o[0].charAt(0).toUpperCase():o[0].charAt(0).toUpperCase()+o[o.length-1].charAt(0).toUpperCase()}function RawUploadRecordCard({record:a}){var kt;const[e,o]=reactExports.useState(!1),[c,et]=reactExports.useState(null),[tt,nt]=reactExports.useState(null),rt=formatCreatedAt(a==null?void 0:a.createdAt),mt=getFileKind(a),gt=getFileName(a),yt=getMime(a),vt=getIndexStatusMeta(a==null?void 0:a.indexStatus),xt=getFileIconComponent(a==null?void 0:a.mode),bt=typeof(a==null?void 0:a.storagePath)=="string"&&a.storagePath.length>0,Et=(a==null?void 0:a.ownerUid)||(a==null?void 0:a.uploaderUid)||(a==null?void 0:a.createdByUid)||((kt=a==null?void 0:a.user)==null?void 0:kt.uid)||null;reactExports.useEffect(()=>{let _t=!0;async function Mt(){if(!Et){_t&&et(null);return}try{const Pt=await getDoc(doc(firestore,"customers",Et));_t&&(Pt.exists()?et({id:Pt.id,...Pt.data()}):et(null))}catch(Pt){console.error("Failed to load uploader profile",Pt),_t&&et(null)}}return Mt(),()=>{_t=!1}},[Et]);const wt=getDisplayName(c);reactExports.useEffect(()=>{let _t=!0;async function Mt(){if(!(!bt||a.mode!=="image"))try{const Pt=ref(storage,a.storagePath),It=await getDownloadURL(Pt);_t&&nt(It)}catch(Pt){console.error("Failed to fetch image URL",Pt)}}return Mt(),()=>{_t=!1}},[bt,a.mode,a.storagePath]);const St=async()=>{if(!(!bt||e))try{o(!0);let _t=tt;if(!_t){const Mt=ref(storage,a.storagePath);_t=await getDownloadURL(Mt)}window.open(_t,"_blank","noopener,noreferrer")}catch(_t){console.error("Failed to open file from storage",_t),alert("We could not open this document. Please try again.")}finally{o(!1)}},Tt=a.mode==="image";return jsxRuntimeExports.jsxs(Card,{children:[c?jsxRuntimeExports.jsxs(HeaderRow$1,{children:[jsxRuntimeExports.jsx(AvatarCircle,{children:c.photoURL?jsxRuntimeExports.jsx(AvatarImg,{src:c.photoURL,alt:wt||"Uploader"}):jsxRuntimeExports.jsx(AvatarInitials,{children:getInitialsFromUser(c)})}),jsxRuntimeExports.jsxs(HeaderTextCol,{children:[wt&&jsxRuntimeExports.jsx(UploaderName,{children:wt}),rt&&jsxRuntimeExports.jsx(CreatedAtInline,{children:rt})]})]}):rt&&jsxRuntimeExports.jsx(CreatedAt,{children:rt}),jsxRuntimeExports.jsxs(TagRow,{children:[jsxRuntimeExports.jsx(Tag,{children:mt}),vt&&jsxRuntimeExports.jsxs(StatusPill,{$status:vt.status,children:[jsxRuntimeExports.jsx(vt.Icon,{className:"status-icon"}),jsxRuntimeExports.jsx("span",{children:vt.label})]})]}),a.ownerNote&&jsxRuntimeExports.jsx(OwnerNote,{children:a.ownerNote}),Tt&&bt&&tt&&jsxRuntimeExports.jsx(ImagePreviewWrapper,{onClick:St,children:jsxRuntimeExports.jsx(ImagePreview,{src:tt,alt:gt})}),!Tt&&jsxRuntimeExports.jsxs(FileCard,{as:bt?"button":"div",type:bt?"button":void 0,onClick:bt?St:void 0,$clickable:bt,disabled:e,children:[jsxRuntimeExports.jsx(FileIconCircle,{children:jsxRuntimeExports.jsx(xt,{})}),jsxRuntimeExports.jsxs(FileMeta,{children:[jsxRuntimeExports.jsx(FileName,{title:gt,children:gt}),yt&&jsxRuntimeExports.jsx(FileMime,{children:yt})]}),e&&jsxRuntimeExports.jsx(SmallSpinner,{})]}),a.summaryText&&jsxRuntimeExports.jsxs(SummaryBlock,{children:[jsxRuntimeExports.jsx(SummaryLabel,{children:"Pet Sensei Summary"}),jsxRuntimeExports.jsx(SummaryText,{children:a.summaryText})]})]})}const Card=pt.article`
  max-width: 100%;
  box-sizing: border-box;

  border-radius: 12px;
  padding: 8px 10px 10px;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  box-shadow: 0 1px 2px rgba(15, 23, 42, 0.03);
`,HeaderRow$1=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
`,AvatarCircle=pt.div`
  width: 28px;
  height: 28px;
  border-radius: 999px;
  background: #e5e7eb;
  overflow: hidden;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
`,AvatarImg=pt.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`,AvatarInitials=pt.span`
  font-size: 12px;
  font-weight: 600;
  color: #374151;
`,HeaderTextCol=pt.div`
  display: flex;
  flex-direction: column;
  min-width: 0;
`,UploaderName=pt.div`
  font-size: 12px;
  font-weight: 600;
  color: #111827;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,CreatedAtInline=pt.div`
  font-size: 11px;
  color: #6b7280;
`,CreatedAt=pt.div`
  font-size: 11px;
  color: #6b7280;
  margin-bottom: 4px;
`,TagRow=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 6px;
  flex-wrap: wrap;
  max-width: 100%;
`,Tag=pt.span`
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 600;
  background: #e0f2fe;
  color: #1e40af;
`,StatusPill=pt.span`
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 11px;
  border-width: 1px;
  border-style: solid;
  max-width: 100%;

  ${({$status:a})=>a==="ready"?`
        border-color: #16a34a;
        color: #166534;
        background: #dcfce7;
      `:a==="processing"?`
        border-color: #6b7280;
        color: #374151;
        background: #f3f4f6;
      `:a==="error"?`
        border-color: #dc2626;
        color: #991b1b;
        background: #fee2e2;
      `:`
      border-color: #e5e7eb;
      color: #374151;
      background: #f9fafb;
    `}

  .status-icon {
    font-size: 13px;
    flex-shrink: 0;
  }

  span {
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,OwnerNote=pt.p`
  margin: 0 0 8px;
  font-size: 13px;
  color: #111827;
  line-height: 1.4;
  word-break: break-word;
  overflow-wrap: anywhere;
`,ImagePreviewWrapper=pt.button`
  display: block;
  padding: 0;
  margin: 0 0 8px;
  border: none;
  background: transparent;
  width: 100%;
  max-width: 100%;
  cursor: pointer;

  &:focus-visible {
    outline: 2px solid #0ea5e9;
    outline-offset: 2px;
  }
`,ImagePreview=pt.img`
  width: 100%;
  max-width: 100%;
  height: auto;
  max-height: 260px;
  border-radius: 10px;
  object-fit: cover;
  display: block;
`,FileCard=pt.div`
  max-width: 100%;
  box-sizing: border-box;

  display: flex;
  align-items: center;
  gap: 10px;
  border-radius: 10px;
  padding: 8px 10px;
  background: #f3f4f6;
  margin-bottom: 8px;
  border: 1px solid #e5e7eb;

  ${({$clickable:a})=>a?`
    cursor: pointer;
    transition: background 0.12s ease, transform 0.08s ease;

    &:hover {
      background: #e5e7eb;
    }
    &:active {
      transform: translateY(1px);
    }
  `:`
    cursor: default;
  `}

  &:disabled {
    opacity: 0.65;
    cursor: default;
  }
`,FileIconCircle=pt.div`
  width: 32px;
  height: 32px;
  border-radius: 999px;
  background: #e5e7eb;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #0f172a;
  flex-shrink: 0;

  svg {
    font-size: 16px;
  }
`,FileMeta=pt.div`
  flex: 1;
  min-width: 0;
`,FileName=pt.div`
  font-size: 13px;
  font-weight: 600;
  color: #111827;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,FileMime=pt.div`
  font-size: 11px;
  color: #6b7280;
  margin-top: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,SmallSpinner=pt.div`
  width: 16px;
  height: 16px;
  border-radius: 999px;
  border: 2px solid #d1d5db;
  border-top-color: #0ea5e9;
  animation: spin 0.8s linear infinite;
  flex-shrink: 0;

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }
`,SummaryBlock=pt.div`
  margin-top: 4px;
`,SummaryLabel=pt.div`
  font-size: 12px;
  font-weight: 600;
  color: #6b7280;
  margin-bottom: 2px;
`,SummaryText=pt.p`
  margin: 0;
  font-size: 13px;
  color: #111827;
  line-height: 1.45;
  word-break: break-word;
  overflow-wrap: anywhere;
`,FUNCTIONS_BASE_URL="https://us-central1-vetcationapp.cloudfunctions.net",MAX_LABELS_INLINE=2,formatLabelBadge=a=>!Array.isArray(a)||a.length===0?"":a.length<=MAX_LABELS_INLINE?a.join(", "):`${a.slice(0,MAX_LABELS_INLINE).join(", ")}, ...`,parseDateAndText=a=>{if(typeof a!="string")return{date:"Date unknown",text:""};const e=a.indexOf(":");if(e>-1){const o=a.slice(0,e).trim(),c=a.slice(e+1).trim();if(o.length>0&&c.length>0)return{date:o,text:c}}return{date:"Date unknown",text:a.trim()}},normalizeCachedSummary=a=>{if(!a||typeof a!="object")return a;const e=a.sourcesBySection;if(!e||typeof e!="object")return a;const o={};return Object.keys(e).forEach(c=>{const et=e[c];if(Array.isArray(et)&&et.length>0&&et[0]&&typeof et[0]=="object"&&Array.isArray(et[0].labels)){o[c]=et.map(tt=>Array.isArray(tt.labels)?tt.labels:[]);return}o[c]=et}),{...a,sourcesBySection:o}};function PetSummarySharePage(){const{shareId:a}=useParams(),[e,o]=reactExports.useState(0),[c,et]=reactExports.useState(!0),[tt,nt]=reactExports.useState(null),[rt,mt]=reactExports.useState(!0),[gt,yt]=reactExports.useState(null),[vt,xt]=reactExports.useState(null),[bt,Et]=reactExports.useState(null),[wt,St]=reactExports.useState(null),[Tt,kt]=reactExports.useState([]),[_t,Mt]=reactExports.useState([]),[Pt,It]=reactExports.useState(!1),[Dt,Ct]=reactExports.useState([]),[At,Lt]=reactExports.useState({sectionKey:null,itemIndex:null,sectionTitle:""}),[jt,Bt]=reactExports.useState(null),zt=reactExports.useRef(null),[Yt,en]=reactExports.useState(0);reactExports.useEffect(()=>{if(!rt||!wt){zt.current=null;return}zt.current||(zt.current=Date.now());const An=setInterval(()=>{en(Sn=>Sn+1)},1e3);return()=>clearInterval(An)},[rt,wt]),reactExports.useEffect(()=>{if(!rt||wt){o(0);return}o(1);const An=setTimeout(()=>{o(wn=>wn===1?2:wn)},7e3),Sn=setTimeout(()=>{o(wn=>wn===2?3:wn)},14e3),xn=setTimeout(()=>{o(wn=>wn===3?4:wn)},21e3);return()=>{clearTimeout(An),clearTimeout(Sn),clearTimeout(xn)}},[rt,wt]);const rn=()=>e===1?"Reading uploaded records...":e===2?"Building a one page summary...":e===3?"Generating the final report...":e>3?"This is taking longer than expected. Thanks for your patience!":"Preparing a one page summary from uploaded records...",on=zt.current?Math.floor((Date.now()-zt.current)/1e3):0;reactExports.useEffect(()=>{const An=getFirestore();(async()=>{if(!a){nt("This link is not valid."),et(!1),mt(!1);return}try{const xn=doc(An,"petSummaryShareInvites",a),wn=await getDoc(xn);if(!wn.exists()){nt("This summary link could not be found."),et(!1),mt(!1);return}const jn=wn.data();xt(jn);let pn=null;const Rn=jn.expiresAt;if(Rn)if(typeof Rn.toDate=="function")pn=Rn.toDate().getTime();else if(typeof Rn.toMillis=="function")pn=Rn.toMillis();else{const mn=new Date(Rn);Number.isNaN(mn.getTime())||(pn=mn.getTime())}if(pn&&pn<Date.now()){nt("This summary link has expired."),et(!1),mt(!1);return}if(jn.status&&jn.status!=="active"){nt("This summary link is no longer active."),et(!1),mt(!1);return}const{petId:Kn,ownerUid:tr}=jn;if(!Kn||!tr){nt("This summary link is missing pet information."),et(!1),mt(!1);return}const ir=doc(An,"pets",Kn),On=collection(An,"pets",Kn,"records"),Qn=collection(An,"pets"),Xn=doc(An,"pets",Kn,"aiVetSummaries","vetView"),[or,lr,Un,En]=await Promise.all([getDoc(ir),getDocs(query(On,orderBy("createdAt","desc"),limit(50))),getDocs(query(Qn,limit(40))),getDoc(Xn)]);if(or.exists()&&Et({id:or.id,...or.data()}),kt(lr.docs.map(mn=>({id:mn.id,...mn.data()}))),Mt(Un.docs.map(mn=>({id:mn.id,...mn.data()}))),En&&En.exists()){const mn=En.data()||{};mn.summary&&St(normalizeCachedSummary(mn.summary)),mn.updatedAt&&typeof mn.updatedAt.toDate=="function"&&Bt(mn.updatedAt.toDate())}et(!1),mt(!0),yt(null);try{const mn=await fetch(`${FUNCTIONS_BASE_URL}/petVetSummaryView`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({petId:Kn,ownerUid:tr})}),Fn=await mn.json().catch(()=>null);if(!mn.ok||!Fn||!Fn.ok||!Fn.summary){const gr=Fn&&Fn.error||"The summary could not be generated right now.";yt(gr)}else St(Fn.summary),yt(null),Bt(new Date)}catch(mn){console.error("Error fetching summary in shared page",mn),yt("The summary could not be generated right now.")}finally{mt(!1)}}catch(xn){console.error("Error loading shared summary",xn),nt("There was a problem loading this summary."),et(!1),mt(!1)}})()},[a]);const Zt=reactExports.useMemo(()=>wt?["ownerMainConcerns","allergies","currentMedications","chronicProblems","surgeriesAndProcedures","recentLabsOrImaging","recentVisitsAndEvents","redFlagsForVetToDoubleCheck","missingOrUnclearInformation","overallImpression"].some(Sn=>{const xn=wt[Sn];return Array.isArray(xn)?xn.length>0:typeof xn=="string"?xn.trim().length>0:!1}):!1,[wt]),an=(bt==null?void 0:bt.displayName)||(vt==null?void 0:vt.petName)||"This pet",Xt=(bt==null?void 0:bt.type)||(bt==null?void 0:bt.species)||"Pet",yn=(vt==null?void 0:vt.petId)||(bt==null?void 0:bt.id)||"",vn=bt!=null&&bt.dob&&typeof bt.dob.toDate=="function"?bt.dob.toDate():(bt==null?void 0:bt.dob)instanceof Date?bt.dob:null,Nt=vn?vn.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown";let $t="";if(vn){const Sn=new Date().getTime()-vn.getTime(),xn=Sn/(1e3*60*60*24*365.25);if(xn>=2)$t=`${Math.floor(xn)} years old`;else{const wn=Sn/262656e4;if(wn>=2)$t=`${Math.floor(wn)} months old`;else{const jn=Sn/864e5;$t=`${Math.max(0,Math.floor(jn))} days old`}}}const Ot=reactExports.useMemo(()=>{const An={};return Tt.forEach(Sn=>{An[Sn.id]=Sn}),An},[Tt]),Ft=(An,Sn,xn)=>{var Rn;if(!wt||!wt.sourcesBySection||!wt.sourceSnippets)return;const wn=((Rn=wt.sourcesBySection[An])==null?void 0:Rn[xn])||[];if(!wn||wn.length===0)return;const jn=new Set(wn),pn=wt.sourceSnippets.filter(Kn=>jn.has(Kn.label));pn.length&&(Ct(pn),Lt({sectionKey:An,itemIndex:xn,sectionTitle:Sn}),It(!0))},Ut=()=>{It(!1),Ct([]),Lt({sectionKey:null,itemIndex:null,sectionTitle:""})},Gt=(An,Sn,xn,wn)=>{if(!xn||!xn.length)return null;const jn=wt&&wt.sourcesBySection&&wt.sourceSnippets;return jsxRuntimeExports.jsxs(Section,{children:[jsxRuntimeExports.jsxs(SectionHeader,{children:[jsxRuntimeExports.jsx(SectionIcon,{children:jsxRuntimeExports.jsx(FiFileText,{})}),jsxRuntimeExports.jsx(SectionTitle,{children:Sn})]}),jsxRuntimeExports.jsx(BulletList$1,{children:xn.map((pn,Rn)=>{var ir;const Kn=jn&&((ir=wt.sourcesBySection[An])!=null&&ir[Rn])?wt.sourcesBySection[An][Rn]:[],tr=jn&&Array.isArray(Kn)&&Kn.length>0;return jsxRuntimeExports.jsxs(BulletItem,{$muted:wn,children:[jsxRuntimeExports.jsx(BulletText,{children:pn}),tr&&jsxRuntimeExports.jsxs(SourcesBadge,{type:"button",onClick:()=>Ft(An,Sn,Rn),children:["[",formatLabelBadge(Kn),"]"]})]},`${An}-${Rn}`)})})]})},Vt=(An,Sn,xn)=>{if(!xn||!xn.length)return null;const wn=wt&&wt.sourcesBySection&&wt.sourceSnippets;return jsxRuntimeExports.jsxs(Section,{children:[jsxRuntimeExports.jsxs(SectionHeader,{children:[jsxRuntimeExports.jsx(SectionIcon,{children:jsxRuntimeExports.jsx(FiFileText,{})}),jsxRuntimeExports.jsx(SectionTitle,{children:Sn})]}),jsxRuntimeExports.jsxs(MiniTable,{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx(MiniTh,{children:"Date"}),jsxRuntimeExports.jsx(MiniTh,{children:"Details"}),jsxRuntimeExports.jsx(MiniThSources,{children:"Sources"})]})}),jsxRuntimeExports.jsx("tbody",{children:xn.map((jn,pn)=>{var On;const{date:Rn,text:Kn}=parseDateAndText(jn),tr=wn&&((On=wt.sourcesBySection[An])!=null&&On[pn])?wt.sourcesBySection[An][pn]:[],ir=wn&&Array.isArray(tr)&&tr.length>0;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx(MiniTdDate,{children:Rn}),jsxRuntimeExports.jsx(MiniTdText,{children:Kn}),jsxRuntimeExports.jsx(MiniTdSources,{children:ir&&jsxRuntimeExports.jsxs(SourcesBadge,{type:"button",onClick:()=>Ft(An,Sn,pn),children:["[",formatLabelBadge(tr),"]"]})})]},`${An}-row-${pn}`)})})]})]})},Kt=()=>{const An=wt==null?void 0:wt.recentVisitsAndEvents;if(!An||!An.length)return null;const Sn=wt&&wt.sourcesBySection&&wt.sourceSnippets;return jsxRuntimeExports.jsxs(Section,{children:[jsxRuntimeExports.jsxs(SectionHeader,{children:[jsxRuntimeExports.jsx(SectionIcon,{children:jsxRuntimeExports.jsx(FiActivity,{})}),jsxRuntimeExports.jsx(SectionTitle,{children:"Recent visits and events"})]}),jsxRuntimeExports.jsx(Timeline,{children:An.map((xn,wn)=>{const jn=Sn&&wt.sourcesBySection.recentVisitsAndEvents&&wt.sourcesBySection.recentVisitsAndEvents[wn]?wt.sourcesBySection.recentVisitsAndEvents[wn]:[],pn=Sn&&Array.isArray(jn)&&jn.length>0;return jsxRuntimeExports.jsxs(TimelineItem,{children:[jsxRuntimeExports.jsx(TimelineDot,{}),jsxRuntimeExports.jsxs(TimelineContent,{children:[jsxRuntimeExports.jsxs(TimelineHeaderRow,{children:[jsxRuntimeExports.jsx(TimelineDate,{children:xn.date||"Date unknown"}),pn&&jsxRuntimeExports.jsxs(SourcesBadge,{type:"button",onClick:()=>Ft("recentVisitsAndEvents","Recent visits and events",wn),children:["[",formatLabelBadge(jn),"]"]})]}),jsxRuntimeExports.jsx(TimelineTitle,{children:xn.title||"Visit"}),xn.details&&jsxRuntimeExports.jsx(TimelineDetails,{children:xn.details})]})]},`visit-${wn}`)})})]})},Jt=An=>{const Sn=An.createdAt;let xn;if(Sn&&typeof Sn.toDate=="function")xn=Sn.toDate();else if(Sn instanceof Date)xn=Sn;else if(typeof Sn=="string"){const wn=new Date(Sn);Number.isNaN(wn.getTime())||(xn=wn)}return xn?xn.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"Unknown date"},nn=An=>An.title||An.noteTitle||An.reason||An.visitTitle||An.type||An.recordType||"Record",sn=An=>An.clinicName||An.location||An.source||An.category||"",gn=An=>{const Sn=An.summary||An.note||An.content||An.description||An.details||"";return Sn?Sn.length<=120?Sn:Sn.slice(0,117)+"...":""},fn=()=>!Tt||Tt.length===0?jsxRuntimeExports.jsxs(TimelineCard,{children:[jsxRuntimeExports.jsx(TimelineCardTitle,{children:"Original medical history"}),jsxRuntimeExports.jsx(TimelineEmpty,{children:"No medical records were found for this pet in the shared view."})]}):jsxRuntimeExports.jsxs(TimelineCard,{children:[jsxRuntimeExports.jsx(TimelineCardTitle,{children:"Original medical history"}),jsxRuntimeExports.jsx(TimelineList,{children:Tt.map(An=>{const Sn=An.type==="raw_upload";return jsxRuntimeExports.jsxs(TimelineRecordItem,{children:[jsxRuntimeExports.jsx(TimelineDotSmall,{}),jsxRuntimeExports.jsx(RecordContent,{children:Sn?jsxRuntimeExports.jsx(RawUploadRecordCard,{record:An}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RecordDate,{children:Jt(An)}),jsxRuntimeExports.jsx(RecordTitle,{children:nn(An)}),sn(An)?jsxRuntimeExports.jsx(RecordSubtitle,{children:sn(An)}):null,gn(An)?jsxRuntimeExports.jsx(RecordSnippet,{children:gn(An)}):null]})})]},An.id)})}),jsxRuntimeExports.jsx(TimelineHint,{children:"For full details, please review the complete records inside your practice or with the pet owner."})]}),In=An=>{const Sn=An.displayName||An.name||An.petName||"";if(!Sn)return"?";const xn=Sn.split(" ").filter(Boolean);return xn.length===1?xn[0].charAt(0).toUpperCase():xn[0].charAt(0).toUpperCase()+xn[xn.length-1].charAt(0).toUpperCase()},Dn=An=>An.displayName||An.name||An.petName||"Pet",Gn=An=>{const Sn=An.type||An.species||"",xn=An.petSex||An.sex||"";return Sn&&xn?`${Sn}  ${xn}`:Sn||xn||""},rr=()=>{if(!_t||_t.length===0)return null;let An=_t;const Sn=_t.findIndex(xn=>xn.id===yn);if(Sn!==-1){const xn=_t[Sn],wn=[..._t.slice(0,Sn),..._t.slice(Sn+1)],jn=wn.slice(0,2),pn=wn.slice(2);An=[...jn,xn,...pn]}else An=_t;return jsxRuntimeExports.jsxs(PetsWallCard,{children:[jsxRuntimeExports.jsx(PetsWallTitle,{children:"Other pets in Vetcation"}),jsxRuntimeExports.jsx(PetsWallSubtitle,{children:"You are viewing one pet in a shared medical memory. Other pet identifiers are blurred for privacy."}),jsxRuntimeExports.jsx(PetsScroll,{children:An.map(xn=>{const wn=xn.id===yn;return jsxRuntimeExports.jsxs(PetRow,{$isActive:wn,children:[jsxRuntimeExports.jsx(PetBubble,{$isActive:wn,children:In(xn)}),jsxRuntimeExports.jsx(PetNameText,{$isActive:wn,children:Dn(xn)}),Gn(xn)?jsxRuntimeExports.jsx(PetMetaText,{$isActive:wn,children:Gn(xn)}):null]},xn.id)})})]})},Bn=()=>{if(!Pt||!Dt.length)return null;const{sectionTitle:An}=At;return jsxRuntimeExports.jsx(SourcesModalBackdrop,{onClick:Ut,children:jsxRuntimeExports.jsxs(SourcesModalCard,{onClick:Sn=>Sn.stopPropagation(),children:[jsxRuntimeExports.jsxs(SourcesModalHeader,{children:[jsxRuntimeExports.jsx(SourcesModalTitle,{children:"Sources from medical records"}),An?jsxRuntimeExports.jsx(SourcesModalSubtitle,{children:An}):null,jsxRuntimeExports.jsx(SourcesModalCloseButton,{type:"button",onClick:Ut,children:jsxRuntimeExports.jsx(FiX,{})})]}),jsxRuntimeExports.jsx(SourcesModalBody,{children:Dt.map(Sn=>{const xn=Sn.recordId&&Ot[Sn.recordId]?Ot[Sn.recordId]:null;let wn="";return typeof Sn.pageStart=="number"&&typeof Sn.pageEnd=="number"&&Sn.pageEnd!==Sn.pageStart?wn=`Pages ${Sn.pageStart} to ${Sn.pageEnd}`:typeof Sn.pageStart=="number"&&(wn=`Page ${Sn.pageStart}`),jsxRuntimeExports.jsxs(SourceSnippetBlock,{children:[jsxRuntimeExports.jsxs(SourceSnippetHeaderRow,{children:[jsxRuntimeExports.jsx(SourceSnippetLabelChip,{children:Sn.label}),xn?jsxRuntimeExports.jsxs(SourceRecordLinkRow,{children:[jsxRuntimeExports.jsx(FiLink,{}),jsxRuntimeExports.jsx(SourceRecordLinkLabel,{children:nn(xn)})]}):Sn.sourceTitle?jsxRuntimeExports.jsx(SourceRecordTitleOnly,{children:Sn.sourceTitle}):null]}),(wn||Sn.sourceTitle)&&jsxRuntimeExports.jsxs(SourceSnippetMetaRow,{children:[wn&&jsxRuntimeExports.jsx("span",{children:wn}),!xn&&Sn.sourceTitle&&!wn&&jsxRuntimeExports.jsx("span",{children:Sn.sourceTitle})]}),jsxRuntimeExports.jsx(SourceSnippetText,{children:Sn.text}),xn&&xn.type==="raw_upload"&&jsxRuntimeExports.jsx(SourceRecordPreview,{children:jsxRuntimeExports.jsx(RawUploadRecordCard,{record:xn})})]},Sn.label)})}),jsxRuntimeExports.jsx(SourcesModalFooter,{children:jsxRuntimeExports.jsx(SourcesHintText,{children:"These snippets come from the uploaded medical records for this pet. Use them to verify how the summary was derived."})})]})})};return jsxRuntimeExports.jsx(PageWrapper,{children:jsxRuntimeExports.jsxs(CenteredCard,{children:[c&&jsxRuntimeExports.jsxs(StateBlock,{children:[jsxRuntimeExports.jsx(Spinner,{}),jsxRuntimeExports.jsx(StateText,{children:"Loading shared medical record..."})]}),!c&&tt&&jsxRuntimeExports.jsxs(StateBlock,{children:[jsxRuntimeExports.jsx(StateIconError,{children:jsxRuntimeExports.jsx(FiAlertCircle,{})}),jsxRuntimeExports.jsx(StateTitle,{children:"We could not open this link"}),jsxRuntimeExports.jsx(StateText,{children:tt})]}),!c&&!tt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(TopBanner,{children:[jsxRuntimeExports.jsx(Badge,{children:"For veterinary use"}),jsxRuntimeExports.jsx(BannerText,{children:"This page shows a structured summary based on the records uploaded for this pet. Final decisions always belong to the attending veterinarian."})]}),jsxRuntimeExports.jsxs(HeaderRow,{children:[jsxRuntimeExports.jsx(PetAvatar,{children:bt!=null&&bt.photoURL?jsxRuntimeExports.jsx(PetImage,{src:bt.photoURL,alt:an}):jsxRuntimeExports.jsx(AvatarFallback,{children:an.charAt(0).toUpperCase()})}),jsxRuntimeExports.jsxs(HeaderInfo,{children:[jsxRuntimeExports.jsx(PetName,{children:an}),jsxRuntimeExports.jsxs(PetMeta,{children:[Xt,$t?`  ${$t}`:""]}),jsxRuntimeExports.jsxs(PetMetaSmall,{children:["Date of birth: ",Nt]})]})]}),jsxRuntimeExports.jsxs(LayoutGrid,{children:[jsxRuntimeExports.jsxs(ColumnLeft,{children:[rt&&!wt&&jsxRuntimeExports.jsxs(SummaryShell,{children:[jsxRuntimeExports.jsx(SummaryTitle,{children:"Vet ready clinical summary"}),jsxRuntimeExports.jsxs(SummaryLoadingRow,{children:[jsxRuntimeExports.jsx(Spinner,{}),jsxRuntimeExports.jsx(SummaryLoadingText,{children:rn()}),jsxRuntimeExports.jsx(SummaryHintText,{children:"You can already review the original medical history on the right while this is preparing."})]})]}),!rt&&gt&&!wt&&jsxRuntimeExports.jsxs(SummaryShell,{children:[jsxRuntimeExports.jsx(SummaryTitle,{children:"Summary not available"}),jsxRuntimeExports.jsx(SummaryErrorText,{children:gt})]}),wt&&jsxRuntimeExports.jsxs(SummaryShell,{children:[jsxRuntimeExports.jsx(SummaryTitle,{children:"Vet ready clinical summary"}),jsxRuntimeExports.jsxs(SummaryMetaRow,{children:[jsxRuntimeExports.jsx(SummaryMetaText,{children:jt?`Last updated ${jt.toLocaleString()}`:"Last updated: unknown"}),rt&&jsxRuntimeExports.jsxs(SummaryUpdatingPill,{children:[jsxRuntimeExports.jsx(InlineSpinner,{}),"Updating (usually ~20s)  ",on,"s"]})]}),Zt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Gt("ownerMainConcerns","What the owner is worried about",wt.ownerMainConcerns||[]),Kt(),Gt("chronicProblems","Chronic or active problems",wt.chronicProblems||[]),Gt("currentMedications","Current medications",wt.currentMedications||[]),Vt("surgeriesAndProcedures","Surgeries and procedures",wt.surgeriesAndProcedures||[]),Vt("recentLabsOrImaging","Recent labs or imaging",wt.recentLabsOrImaging||[]),Gt("allergies","Allergies",wt.allergies||[]),wt.redFlagsForVetToDoubleCheck&&wt.redFlagsForVetToDoubleCheck.length>0&&jsxRuntimeExports.jsxs(AlertSection,{children:[jsxRuntimeExports.jsxs(AlertHeader,{children:[jsxRuntimeExports.jsx(FiAlertCircle,{}),jsxRuntimeExports.jsx(AlertTitle,{children:"Red flags to double check"})]}),jsxRuntimeExports.jsx(BulletList$1,{children:wt.redFlagsForVetToDoubleCheck.map((An,Sn)=>{const xn=wt.sourcesBySection&&wt.sourcesBySection.redFlagsForVetToDoubleCheck&&wt.sourcesBySection.redFlagsForVetToDoubleCheck[Sn]?wt.sourcesBySection.redFlagsForVetToDoubleCheck[Sn]:[],wn=wt.sourcesBySection&&Array.isArray(xn)&&xn.length>0&&wt.sourceSnippets&&wt.sourceSnippets.length>0;return jsxRuntimeExports.jsxs(BulletItem,{children:[jsxRuntimeExports.jsx(BulletText,{children:An}),wn&&jsxRuntimeExports.jsxs(SourcesBadge,{type:"button",onClick:()=>Ft("redFlagsForVetToDoubleCheck","Red flags to double check",Sn),children:["[",formatLabelBadge(xn),"]"]})]},`rf-${Sn}`)})})]}),wt.missingOrUnclearInformation&&wt.missingOrUnclearInformation.length>0&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Gt("missingOrUnclearInformation","Missing or unclear information",wt.missingOrUnclearInformation||[],!0)}),wt.overallImpression&&wt.overallImpression.trim().length>0&&jsxRuntimeExports.jsxs(Section,{children:[jsxRuntimeExports.jsxs(SectionHeader,{children:[jsxRuntimeExports.jsx(SectionIcon,{children:jsxRuntimeExports.jsx(FiFileText,{})}),jsxRuntimeExports.jsx(SectionTitle,{children:"Overall impression"})]}),jsxRuntimeExports.jsx(OverallText,{children:wt.overallImpression.trim()})]}),jsxRuntimeExports.jsx(FooterNote,{children:"This summary is provided to help you orient quickly. It is not a substitute for your own clinical judgment, physical examination, or review of full records."})]}):jsxRuntimeExports.jsx(SummaryErrorText,{children:"A structured summary could not be generated from the available records yet."})]})]}),jsxRuntimeExports.jsxs(ColumnRight,{children:[fn(),rr()]})]})]}),Bn()]})})}const PageWrapper=pt.main`
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 24px 16px;
  background: radial-gradient(
    circle at top,
    #e0f2fe 0,
    #f9fafb 48%,
    #eef2ff 100%
  );
`,CenteredCard=pt.section`
  width: 100%;
  max-width: 980px;
  border-radius: 24px;
  padding: 24px 24px 28px;
  background: #ffffff;
  box-shadow: 0 18px 45px rgba(15, 23, 42, 0.08),
    0 0 0 1px rgba(148, 163, 184, 0.15);
`,TopBanner=pt.div`
  display: flex;
  gap: 12px;
  align-items: flex-start;
  font-size: 13px;
  color: #4b5563;
  margin-bottom: 16px;
`,Badge=pt.span`
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  padding: 4px 10px;
  border-radius: 999px;
  background: #dcfce7;
  color: #166534;
  flex-shrink: 0;
`,BannerText=pt.p`
  margin: 0;
  line-height: 1.4;
`,HeaderRow=pt.header`
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: center;
`,PetAvatar=pt.div`
  width: 72px;
  height: 72px;
  border-radius: 20px;
  overflow: hidden;
  background: #e5e7eb;
  display: flex;
  justify-content: center;
  align-items: center;
`,PetImage=pt.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`,AvatarFallback=pt.span`
  font-size: 32px;
  font-weight: 700;
  color: #6b7280;
`,HeaderInfo=pt.div`
  flex: 1;
`,PetName=pt.h1`
  font-size: 24px;
  line-height: 1.25;
  margin: 0 0 4px;
`,PetMeta=pt.p`
  margin: 0;
  font-size: 14px;
  color: #4b5563;
`,PetMetaSmall=pt.p`
  margin: 2px 0 0;
  font-size: 12px;
  color: #6b7280;
`,LayoutGrid=pt.div`
  display: grid;
  grid-template-columns: minmax(0, 2.1fr) minmax(0, 1.4fr);
  gap: 20px;
  align-items: flex-start;

  @media (max-width: 900px) {
    grid-template-columns: minmax(0, 1fr);
  }
`,ColumnLeft=pt.div``,ColumnRight=pt.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
`;pt.p`
  margin: 0 0 4px;
  font-size: 11px;
  color: #6b7280;
`;const SummaryShell=pt.section`
  border-radius: 16px;
  padding: 12px 12px 14px;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  min-height: 120px; /* optional, keeps layout stable */
`,SummaryTitle=pt.h2`
  margin: 0 0 6px;
  font-size: 14px;
  font-weight: 700;
  color: #111827;
`,SummaryLoadingRow=pt.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  margin-top: 8px;
  padding: 10px 4px 6px;
`,SummaryLoadingText=pt.p`
  margin: 0;
  font-size: 13px;
  color: #6b7280;
  text-align: center;
`,SummaryHintText=pt.p`
  margin: 0;
  font-size: 12px;
  color: #9ca3af;
  text-align: center;
`,SummaryErrorText=pt.p`
  margin: 6px 0 0;
  font-size: 13px;
  color: #b91c1c;
`,Section=pt.section`
  margin-top: 18px;
`,SectionHeader=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 6px;
`,SectionIcon=pt.div`
  width: 22px;
  height: 22px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  font-size: 12px;
  color: #6b7280;
`,SectionTitle=pt.h2`
  margin: 0;
  font-size: 14px;
  font-weight: 700;
  color: #111827;
`,BulletList$1=pt.ul`
  list-style: none;
  padding: 0;
  margin: 0;
`,BulletItem=pt.li`
  position: relative;
  padding-left: 16px;
  margin-bottom: 4px;
  font-size: 13px;
  color: ${a=>a.$muted?"#6b7280":"#111827"};
  display: flex;
  align-items: flex-start;
  gap: 6px;
  flex-wrap: wrap;

  &::before {
    content: "";
    position: absolute;
    left: 5px;
    top: 0.7em;
    width: 4px;
    height: 4px;
    border-radius: 999px;
    background: ${a=>a.$muted?"#9ca3af":"#6b7280"};
    transform: translateY(-50%);
  }
`,BulletText=pt.span`
  flex: 1;
  min-width: 0;
`,Timeline=pt.ul`
  list-style: none;
  padding: 0;
  margin: 4px 0 0;
`,TimelineItem=pt.li`
  display: flex;
  align-items: flex-start;
  gap: 10px;
  position: relative;
  padding-bottom: 12px;

  &:not(:last-child)::after {
    content: "";
    position: absolute;
    left: 7px;
    top: 12px;
    bottom: 0;
    width: 2px;
    background: #e5e7eb;
  }
`,TimelineDot=pt.div`
  width: 12px;
  height: 12px;
  border-radius: 999px;
  border: 2px solid #0ea5e9;
  background: #f9fafb;
  flex-shrink: 0;
  margin-top: 2px;
`,TimelineContent=pt.div`
  flex: 1;
`,TimelineDate=pt.div`
  font-size: 11px;
  color: #6b7280;
`,TimelineTitle=pt.div`
  font-size: 13px;
  font-weight: 600;
  color: #111827;
  margin-top: 2px;
`,TimelineDetails=pt.div`
  font-size: 12px;
  color: #111827;
  margin-top: 2px;
`,AlertSection=pt.section`
  margin-top: 18px;
  border-radius: 14px;
  padding: 12px 12px 10px;
  background: #fef2f2;
  border: 1px solid #fecaca;
`,AlertHeader=pt.div`
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  font-weight: 700;
  color: #b91c1c;

  svg {
    font-size: 16px;
  }
`,AlertTitle=pt.span``,OverallText=pt.p`
  margin: 4px 0 0;
  font-size: 13px;
  color: #111827;
  line-height: 1.5;
`,FooterNote=pt.p`
  margin: 24px 0 4px;
  font-size: 11px;
  color: #6b7280;
  text-align: left;
`,StateBlock=pt.div`
  padding: 32px 8px;
  text-align: center;
`,StateText=pt.p`
  margin: 10px 0 0;
  font-size: 13px;
  color: #6b7280;
`,StateTitle=pt.h2`
  margin: 10px 0 4px;
  font-size: 16px;
`,StateIconError=pt.div`
  font-size: 28px;
  color: #b91c1c;
`,Spinner=pt.div`
  width: 22px;
  height: 22px;
  border-radius: 999px;
  border: 2px solid #e5e7eb;
  border-top-color: #0ea5e9;
  animation: spin 0.8s linear infinite;
  margin: 0 auto;

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }
`,TimelineCard=pt.section`
  border-radius: 16px;
  padding: 12px 12px 10px;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
`,TimelineCardTitle=pt.h2`
  margin: 0 0 6px;
  font-size: 14px;
  font-weight: 700;
  color: #111827;
`,TimelineList=pt.ul`
  list-style: none;
  padding: 0;
  margin: 4px 0 0;
  max-height: 280px;
  overflow: auto;
`,TimelineRecordItem=pt.li`
  display: flex;
  gap: 10px;
  align-items: flex-start;
  padding-bottom: 8px;
  position: relative;

  &:not(:last-child)::after {
    content: "";
    position: absolute;
    left: 5px;
    top: 12px;
    bottom: 0;
    width: 2px;
    background: #e5e7eb;
  }
`,TimelineDotSmall=pt.div`
  width: 10px;
  height: 10px;
  border-radius: 999px;
  border: 2px solid #0ea5e9;
  background: #f9fafb;
  flex-shrink: 0;
  margin-top: 2px;
`,RecordContent=pt.div`
  flex: 1;
  min-width: 0;
`,RecordDate=pt.div`
  font-size: 11px;
  color: #6b7280;
`,RecordTitle=pt.div`
  font-size: 13px;
  font-weight: 600;
  color: #111827;
  margin-top: 1px;
`,RecordSubtitle=pt.div`
  font-size: 12px;
  color: #6b7280;
  margin-top: 1px;
`,RecordSnippet=pt.div`
  font-size: 12px;
  color: #111827;
  margin-top: 2px;
`,TimelineEmpty=pt.p`
  margin: 6px 0 0;
  font-size: 12px;
  color: #6b7280;
`,TimelineHint=pt.p`
  margin: 8px 0 0;
  font-size: 11px;
  color: #9ca3af;
`,PetsWallCard=pt.section`
  border-radius: 16px;
  padding: 12px 12px 10px;
  background: #ffffff;
  border: 1px dashed #d1d5db;
`,PetsWallTitle=pt.h2`
  margin: 0;
  font-size: 13px;
  font-weight: 700;
  color: #111827;
`,PetsWallSubtitle=pt.p`
  margin: 4px 0 8px;
  font-size: 11px;
  color: #6b7280;
`,PetsScroll=pt.div`
  max-height: 220px;
  overflow: auto;
  padding-right: 4px;
`,PetRow=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 5px 6px;
  border-radius: 999px;
  background: ${a=>a.$isActive?"#eff6ff":"transparent"};
  margin-bottom: 4px;
`,PetBubble=pt.div`
  width: 24px;
  height: 24px;
  border-radius: 999px;
  background: ${a=>a.$isActive?"#2563eb":"#e5e7eb"};
  color: ${a=>a.$isActive?"#ffffff":"#4b5563"};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
`,PetNameText=pt.span`
  font-size: 12px;
  color: #111827;
  filter: ${a=>a.$isActive?"none":"blur(3px)"};
  opacity: ${a=>a.$isActive?1:.65};
`,PetMetaText=pt.span`
  font-size: 11px;
  color: #6b7280;
  margin-left: auto;
  filter: ${a=>a.$isActive?"none":"blur(2px)"};
  opacity: ${a=>a.$isActive?1:.6};
`,SourcesBadge=pt.button`
  border: none;
  background: #eff6ff;
  color: #1d4ed8;
  border-radius: 999px;
  padding: 1px 6px;
  font-size: 11px;
  cursor: pointer;
  flex-shrink: 0;
  display: inline-block;

  max-width: 100%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  vertical-align: top;

  &:hover {
    background: #dbeafe;
  }
`,SourcesModalBackdrop=pt.div`
  position: fixed;
  inset: 0;
  z-index: 40;
  background: rgba(15, 23, 42, 0.4);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px;
`,SourcesModalCard=pt.div`
  width: 100%;
  max-width: 700px;
  max-height: 90vh;
  border-radius: 18px;
  background: #ffffff;
  box-shadow: 0 18px 45px rgba(15, 23, 42, 0.18);
  display: flex;
  flex-direction: column;
`,SourcesModalHeader=pt.div`
  padding: 14px 18px 10px;
  border-bottom: 1px solid #e5e7eb;
  position: relative;
`,SourcesModalTitle=pt.h2`
  margin: 0;
  font-size: 15px;
  font-weight: 700;
  color: #111827;
`,SourcesModalSubtitle=pt.p`
  margin: 2px 40px 0 0;
  font-size: 12px;
  color: #6b7280;
`,SourcesModalCloseButton=pt.button`
  border: none;
  background: transparent;
  cursor: pointer;
  position: absolute;
  top: 10px;
  right: 12px;
  padding: 4px;
  border-radius: 999px;
  color: #6b7280;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  svg {
    font-size: 18px;
  }

  &:hover {
    background: #f3f4f6;
  }
`,SourcesModalBody=pt.div`
  padding: 12px 18px 10px;
  overflow: auto;
`,SourceSnippetBlock=pt.div`
  border-radius: 12px;
  border: 1px solid #e5e7eb;
  padding: 10px 10px 8px;
  margin-bottom: 8px;
  background: #f9fafb;
`,SourceSnippetHeaderRow=pt.div`
  display: flex;
  align-items: center;
  gap: 8px;
`,SourceSnippetLabelChip=pt.span`
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  padding: 2px 7px;
  border-radius: 999px;
  background: #eef2ff;
  color: #3730a3;
`,SourceRecordLinkRow=pt.div`
  display: inline-flex;
  align-items: center;
  gap: 4px;
  margin-left: auto;
  font-size: 12px;
  color: #1d4ed8;

  svg {
    font-size: 14px;
  }
`,SourceRecordLinkLabel=pt.span`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,SourceRecordTitleOnly=pt.span`
  margin-left: auto;
  font-size: 12px;
  color: #4b5563;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,SourceSnippetMetaRow=pt.div`
  margin-top: 4px;
  font-size: 11px;
  color: #6b7280;
`,SourceSnippetText=pt.p`
  margin: 6px 0 6px;
  font-size: 12px;
  color: #111827;
  line-height: 1.45;
`,SourceRecordPreview=pt.div`
  margin-top: 4px;
  border-radius: 10px;
  overflow: hidden;
`,SourcesModalFooter=pt.div`
  padding: 8px 18px 10px;
  border-top: 1px solid #e5e7eb;
`,SourcesHintText=pt.p`
  margin: 0;
  font-size: 11px;
  color: #6b7280;
`,TimelineHeaderRow=pt.div`
  display: flex;
  align-items: center;
  gap: 6px;
`,MiniTable=pt.table`
  width: 100%;
  border-collapse: collapse;
  margin-top: 4px;
  font-size: 12px;

  thead tr {
    border-bottom: 1px solid #e5e7eb;
  }
`,MiniTh=pt.th`
  text-align: left;
  padding: 4px 4px;
  font-weight: 600;
  color: #4b5563;
  font-size: 11px;
`,MiniThSources=pt.th`
  text-align: right;
  padding: 4px 4px;
  font-weight: 500;
  color: #6b7280;
  font-size: 11px;
  width: 110px;
  max-width: 110px;
  white-space: nowrap;
`,MiniTdDate=pt.td`
  padding: 4px 4px;
  white-space: nowrap;
  color: #6b7280;
  vertical-align: top;
`,MiniTdText=pt.td`
  padding: 4px 4px;
  color: #111827;
  vertical-align: top;
`,MiniTdSources=pt.td`
  padding: 4px 4px;
  text-align: right;
  vertical-align: top;
  width: 110px;
  max-width: 110px;
  white-space: nowrap;
`,SummaryMetaRow=pt.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin: 0 0 6px;
`,SummaryMetaText=pt.p`
  margin: 0;
  font-size: 11px;
  color: #6b7280;
`,SummaryUpdatingPill=pt.span`
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  color: #3730a3;
  background: #eef2ff;
  border-radius: 999px;
  padding: 2px 8px;
  white-space: nowrap;
`,InlineSpinner=pt.span`
  width: 10px;
  height: 10px;
  border-radius: 999px;
  border: 2px solid rgba(55, 48, 163, 0.2);
  border-top-color: rgba(55, 48, 163, 0.9);
  animation: spin 0.8s linear infinite;
`,PageShell=pt.main`
  background: #f8fafc;
`,HeroSection=pt.section`
  background: #0f172a;
  color: #ffffff;
  padding: 4rem 0 3rem;
`,Max=pt.div`
  max-width: 1140px;
  margin: 0 auto;
  padding: 0 20px;
`,HeroEyebrow=pt.div`
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #9ca3af;
`,HeroTitle=pt.h1`
  margin: 10px 0 8px;
  font-size: clamp(32px, 4vw, 40px);
  line-height: 1.2;
  font-weight: 600;
`,HeroSubtitle=pt.p`
  margin: 0;
  font-size: 18px;
  line-height: 1.5;
  color: #e5e7eb;
  max-width: 640px;
`,ContentSection=pt.section`
  padding: 3rem 0 5rem;
`,FeatureWrapper=pt.div`
  max-width: 1140px;
  margin: 0 auto;
  padding: 0 20px;
`,TwoColumn=pt.div`
  max-width: 1140px;
  margin: 3rem auto 0;
  padding: 0 20px;
  display: grid;
  gap: 2.5rem;
  grid-template-columns: repeat(2, minmax(0, 1fr));

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,ColumnCard=pt.div`
  background: #ffffff;
  border-radius: 16px;
  padding: 1.75rem 1.75rem 1.5rem;
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
`,ColumnTitle=pt.h2`
  margin: 0 0 0.75rem;
  font-size: 22px;
  font-weight: 600;
  color: #111827;
`,ColumnText=pt.p`
  margin: 0 0 1rem;
  font-size: 16px;
  color: #4b5563;
`,BulletList=pt.ul`
  margin: 0;
  padding-left: 1.1rem;
  font-size: 15px;
  color: #374151;

  li + li {
    margin-top: 0.4rem;
  }
`,ScreenshotSection=pt.section`
  margin-top: 4rem;
  padding: 0 20px;
`,ScreenshotShell=pt.div`
  max-width: 1140px;
  margin: 0 auto;
`,ScreenshotHeading=pt.h2`
  margin: 0 0 0.5rem;
  font-size: 24px;
  font-weight: 600;
  color: #111827;
`,ScreenshotText=pt.p`
  margin: 0 0 1.5rem;
  font-size: 16px;
  color: #4b5563;
  max-width: 640px;
`,ScreenshotFrame=pt.div`
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.18);
  background: #0b1220;
`,ScreenshotImage=pt.img`
  display: block;
  width: 100%;
  height: auto;
`;function UniversalRecordsPage(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Header$3,{}),jsxRuntimeExports.jsxs(PageShell,{children:[jsxRuntimeExports.jsx(HeroSection,{children:jsxRuntimeExports.jsxs(Max,{children:[jsxRuntimeExports.jsx(HeroEyebrow,{children:"Universal pet medical records"}),jsxRuntimeExports.jsx(HeroTitle,{children:"See your pets full story in one place"}),jsxRuntimeExports.jsx(HeroSubtitle,{children:"Vetcation pulls together scattered PDFs, lab results, imaging, and visit notes so every vet can see the full picture in seconds, especially in emergencies."})]})}),jsxRuntimeExports.jsxs(ContentSection,{children:[jsxRuntimeExports.jsx(FeatureWrapper,{children:jsxRuntimeExports.jsx(Feature,{heading:"Universal pet medical records",text:"Vetcation pulls your pets scattered records from any clinic into one secure place and turns them into a clear, vet ready timeline. Share it in one click before any visit.",imageSrc:"https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1533.webp?alt=media&token=b40a6669-3cfc-48e7-9d89-ba0c779ed6ff",headerFontSize:40})}),jsxRuntimeExports.jsxs(TwoColumn,{children:[jsxRuntimeExports.jsxs(ColumnCard,{children:[jsxRuntimeExports.jsx(ColumnTitle,{children:"For pet owners"}),jsxRuntimeExports.jsx(ColumnText,{children:"Keep everything in one place so you are not digging through emails and portals when your pet needs help."}),jsxRuntimeExports.jsxs(BulletList,{children:[jsxRuntimeExports.jsx("li",{children:"Upload records from any clinic, shelter, ER, or specialist."}),jsxRuntimeExports.jsx("li",{children:"See a simple, date ordered timeline of visits, labs, and imaging."}),jsxRuntimeExports.jsx("li",{children:"Share a secure link with your vet in one click."}),jsxRuntimeExports.jsx("li",{children:"Bring the same organized history to every new hospital."})]})]}),jsxRuntimeExports.jsxs(ColumnCard,{children:[jsxRuntimeExports.jsx(ColumnTitle,{children:"For veterinarians"}),jsxRuntimeExports.jsx(ColumnText,{children:"Start each case with context so you can spend more time on thinking and less time hunting for files."}),jsxRuntimeExports.jsxs(BulletList,{children:[jsxRuntimeExports.jsx("li",{children:"Review past diagnoses, medications, and lab trends at a glance."}),jsxRuntimeExports.jsx("li",{children:"See which clinics have treated the pet before and what was done."}),jsxRuntimeExports.jsx("li",{children:"Use the AI summary as a quick briefing before walking into the room."}),jsxRuntimeExports.jsx("li",{children:"Reduce duplicate tests and missed history in urgent or complex cases."})]})]})]}),jsxRuntimeExports.jsx(ScreenshotSection,{children:jsxRuntimeExports.jsxs(ScreenshotShell,{children:[jsxRuntimeExports.jsx(ScreenshotHeading,{children:"What the vet summary looks like"}),jsxRuntimeExports.jsx(ScreenshotText,{children:"Vetcation turns scattered records into a structured clinical timeline and a clear summary, so every vet can see key problems, treatments, and milestones at a glance."}),jsxRuntimeExports.jsx(ScreenshotFrame,{children:jsxRuntimeExports.jsx(ScreenshotImage,{src:"https://firebasestorage.googleapis.com/v0/b/vetcationapp.appspot.com/o/website%2FIMG_1533.webp?alt=media&token=b40a6669-3cfc-48e7-9d89-ba0c779ed6ff",alt:"Example universal medical record summary view in Vetcation"})})]})})]})]}),jsxRuntimeExports.jsx(Footer,{})]})}const PrintStyles=ht`
@media print {
  @page {
    size: letter;
    margin: 10mm;
  }

  html, body, #root {
    background: #fff !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  .no-print { display: none !important; }

  body.print-handout [data-handout-shell] {
    padding: 0 !important;
  }

  body.print-handout [data-handout-preview-frame] {
    justify-content: flex-start !important;
  }

  [data-handout-paper] {
    width: 100% !important;
    min-height: auto !important;
    box-shadow: none !important;
    border-radius: 0 !important;
  }
}
`;var Sl;const HOME_DEFAULT=((Sl=topNavData.find(a=>a.id==="home"))==null?void 0:Sl.defaultDocId)||"introToVetcation",BRAND={company:"Vetcation",product:"MyPet Health",full:"MyPet Health by Vetcation",domain:"https://vetcation.com"};function SeoForPath(){const{pathname:a}=useLocation(),e=`https://vetcation.com${a.endsWith("/")?a:a+"/"}`,o={title:`${BRAND.full} | Universal Medical Record for Pets`,description:"Keep your pets health organized in one place. Pull records from any clinic, share instantly, message your vet when you need help, and get meds when appropriate."},c={"/":{title:`${BRAND.full} | Universal Medical Record for Pets`,description:o.description},"/support/":{title:`Support | ${BRAND.full}`,description:"Get help with your Vetcation account, billing, scheduling, video calls, and compliance questions."},"/privacy-policy/":{title:`Privacy Policy | ${BRAND.full}`,description:"Learn how Vetcation collects, uses, and protects your personal information."},"/SMSTerms/":{title:`SMS Terms | ${BRAND.full}`,description:"Read Vetcations SMS program terms and conditions."},"/telemedicine-info/home/introToVetcation/":{title:"Introduction for Veterinarians | Vetcation Telemedicine",description:"How Vetcation helps California-licensed veterinarians launch a virtual clinic and build lasting client relationships."},"/telemedicine-info/home/VirtualClinic/":{title:"Virtual Clinic  How It Works | Vetcation",description:"Provide telemedicine consults under your professional profile, keep ownership of clients and records, and collaborate with clinics."},"/telemedicine-info/home/scheduleOverview/":{title:"Scheduling Overview  Availability & Minimum Notice | Vetcation",description:"Manage your availability, minimum notice times, and pauses to control your virtual clinic workflow."},"/telemedicine-info/home/joinVideoCall/":{title:"Join a Video Call  Setup & Tips | Vetcation",description:"How to join video consults, device setup tips, and call features inside Vetcation."},"/telemedicine-info/home/InquiryBasedMessagerOverView/":{title:"Inquiry-Based Messenger Overview | Vetcation",description:"Use Vetssenger for structured follow-ups, asynchronous Q&A, and inquiry-based workflows."},"/telemedicine-info/home/MedicalHistoryOverview/":{title:"Medical History Overview  Records & Notes | Vetcation",description:"Capture, review, and share visit notes and summaries; maintain audit-ready documentation."},"/telemedicine-info/home/CommunityMarketing/":{title:"Community & Marketing  Grow Your Practice | Vetcation",description:"Best practices to build trust, community presence, and recurring relationships with pet owners."},"/telemedicine-info/home/partnerWithClinic/":{title:"Partner with a Clinic  Collaboration Model | Vetcation",description:"How vets collaborate with clinics to expand capacity, escalate in-person care, and align responsibilities."},"/telemedicine-info/compliance/Bill1399/":{title:"AB 1399 FAQ  California Telemedicine for Vets | Vetcation",description:"Understand California AB 1399 telemedicine rules for veterinarians, including VCPR and documentation."},"/telemedicine-info/compliance/VCPR/":{title:"VCPR  Establishment & Requirements | Vetcation",description:"Learn how VCPR applies to telemedicine and how Vetcation supports compliant workflows."},"/telemedicine-info/compliance/PrescriptionLimits/":{title:"Prescription Limits in Telemedicine | Vetcation",description:"Guidance on prescribing within telemedicine parameters and documentation best practices."},"/telemedicine-info/compliance/PrivacyConfidentiality/":{title:"Privacy & Confidentiality | Vetcation",description:"How Vetcation protects client privacy and supports confidentiality in virtual care."},"/telemedicine-info/compliance/RacehorseCHRBRestrictions/":{title:"Racehorse & CHRB Restrictions | Vetcation",description:"Key restrictions and considerations for racehorse telemedicine under CHRB rules."},"/telemedicine-info/compliance/RecordKeepingDocumentation/":{title:"Record-Keeping & Documentation | Vetcation",description:"Audit-ready documentation, visit notes, and data retention practices for telemedicine."},"/telemedicine-info/compliance/MiscellaneousClarifications/":{title:"Miscellaneous Clarifications | Vetcation",description:"Additional compliance clarifications and edge cases for California telemedicine."},"/telemedicine-info/clinics/clinicIntroToVetcation/":{title:"Introduction for Clinics  Hospital-Branded Virtual Branch | Vetcation",description:"Launch a hospital-branded virtual branch with trusted relief veterinarians; expand capacity without adding payroll."},"/telemedicine-info/clinics/VirtualBranch/":{title:"Virtual Branch  Setup & Operations | Vetcation",description:"How clinics configure the virtual branch, approve providers, and integrate with in-person workflows."},"/telemedicine-info/corporations/corpIntroToVetcation/":{title:"Introduction for Corporate Veterinary Groups | Vetcation",description:"Launch a hospital-branded virtual network across multiple hospitals with clear economics and compliance."},"/telemedicine-info/contributors/ourContributors/":{title:"Our Contributors  Vets, Technicians, and Advisors | Vetcation",description:"Meet the professionals who contribute to the Vetcation knowledge-sharing community."}};a.endsWith("/")||a+"";const et=c[e.replace(BRAND.domain,"")]||c[a]||o;return jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:et.title}),jsxRuntimeExports.jsx("meta",{name:"description",content:et.description}),jsxRuntimeExports.jsx("link",{rel:"canonical",href:e}),jsxRuntimeExports.jsx("meta",{property:"og:title",content:et.title}),jsxRuntimeExports.jsx("meta",{property:"og:description",content:et.description}),jsxRuntimeExports.jsx("meta",{property:"og:url",content:e})]})}function App(){const[a,e]=reactExports.useState(null),[o,c]=reactExports.useState(!0),{setUserData:et,userData:tt}=reactExports.useContext(GlobalContext),nt=useNavigate(),rt=useLocation();async function mt(yt){var Et,wt;const vt=yt.uid,xt=doc(firestore,"customers",vt),bt=await getDoc(xt);if(bt.exists()){const St=bt.data();return et(St),St}else{const St={uid:vt,email:yt.email||"",displayName:yt.displayName||"",photoURL:yt.photoURL||"",providerId:((wt=(Et=yt.providerData)==null?void 0:Et[0])==null?void 0:wt.providerId)||"unknown",hasCompletedProfile:!1,createdAt:serverTimestamp()};return await setDoc(xt,St),et(St),St}}function gt(yt){var vt;console.error("Authentication error:",yt),yt.code==="auth/user-not-found"||yt.code==="auth/user-disabled"?signOut(auth):yt.code==="auth/user-token-expired"&&((vt=auth.currentUser)==null||vt.getIdToken(!0).catch(xt=>{console.error("Token refresh error:",xt),signOut(auth)}))}return reactExports.useEffect(()=>{const yt=onAuthStateChanged(auth,async vt=>{if(console.log("[auth listener] fired. user:",(vt==null?void 0:vt.uid)||null),console.log("[auth listener] current path:",rt.pathname),c(!0),!vt){console.log("Auth state changed: no user"),e(null),et(null),rt.pathname.startsWith("/ai/")&&nt("/",{replace:!0}),c(!1);return}try{await vt.getIdToken(!0)}catch(xt){gt(xt),c(!1);return}try{e(vt),await mt(vt);const xt=vt.email||"",bt=xt.startsWith("client")||xt.startsWith("doctor")||xt.startsWith("tech")||xt.startsWith("clinic")||xt.startsWith("csr");if(!vt.emailVerified&&!bt){rt.pathname!=="/email-verification"&&nt("/email-verification",{replace:!0}),c(!1);return}const Et=sessionStorage.getItem("postAuthRedirectPath");console.log("[auth listener] stored redirect:",Et);let wt=Et||null;!wt&&(rt.pathname==="/"||rt.pathname==="/login"||rt.pathname==="/register-email"||rt.pathname==="/email-verification")&&(wt="/ai/library"),Et&&sessionStorage.removeItem("postAuthRedirectPath"),wt&&rt.pathname!==wt&&(console.log("Auth listener navigating to:",wt),nt(wt,{replace:!0}))}catch(xt){console.error("Error ensuring customer doc or routing:",xt)}finally{c(!1)}});return()=>yt()},[nt,rt.pathname,et]),jsxRuntimeExports.jsxs(HelmetProvider,{children:[jsxRuntimeExports.jsx(PrintStyles,{}),jsxRuntimeExports.jsx(GlobalStyle,{}),jsxRuntimeExports.jsx(SeoForPath,{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(RegisterPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/universal-pet-medical-records/",element:jsxRuntimeExports.jsx(UniversalRecordsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/invite/:clinicId/:token",element:jsxRuntimeExports.jsx(InviteSurvey,{})}),jsxRuntimeExports.jsx(Route,{path:"/ai/library/*",element:jsxRuntimeExports.jsx(AiLibraryPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/ai/handouts/*",element:jsxRuntimeExports.jsx(HandoutsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/email-verification",element:jsxRuntimeExports.jsx(EmailVerificationPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/register-email",element:jsxRuntimeExports.jsx(EmailRegisterPage,{})}),jsxRuntimeExports.jsxs(Route,{path:"/telemedicine-info/",element:jsxRuntimeExports.jsx(DocsLayout,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(Navigate,{to:`/telemedicine-info/home/${HOME_DEFAULT}/`,replace:!0,state:{suppressInitialHash:!0}})}),jsxRuntimeExports.jsx(Route,{path:":topNavId/:docId/",element:jsxRuntimeExports.jsx(DocsContent,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/pet-upload/:inviteId",element:jsxRuntimeExports.jsx(VetUploadRecordPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/pet-summary/:shareId",element:jsxRuntimeExports.jsx(PetSummarySharePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/redirect/",element:jsxRuntimeExports.jsx(RedirectPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/app/",element:jsxRuntimeExports.jsx(RedirectPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/privacy-policy/",element:jsxRuntimeExports.jsx(PrivacyPolicyPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/SMSTerms/",element:jsxRuntimeExports.jsx(SMSTermsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/support/",element:jsxRuntimeExports.jsx(SupportPage,{})})]})]})}const theme={colors:{primary:"#43fdd8",secondary:"#4ecdc4",black:"#2a2a2a",white:"#fff",medium:"#6e6969",light:"#f8f4f4",dark:"#0c0c0c",danger:"#ff5252",tint:"#4D9FEC",purple:"#7A1DC2",green:"#32940C",lightblue:"#f3f4f6",gold:"#FFD700",softlightblue:"#D1E8FF",softblue:"#5675ac",softdarkblue:"#324a79",softred:"#dc3545",softred2:"#f44336",softyellow:"#ffc107",softgreen:"#28a745",softgreen2:"#3fbb46",softlightgreen:"#AFE1AF",softlightgrey:"#F0F0F0",blue2:"#06bcee"}};function ContextWrapper(a){const[e,o]=reactExports.useState([]),[c,et]=reactExports.useState([]),[tt,nt]=reactExports.useState([]),[rt,mt]=reactExports.useState([]),[gt,yt]=reactExports.useState(),[vt,xt]=reactExports.useState([]),[bt,Et]=reactExports.useState([]),[wt,St]=reactExports.useState([]),[Tt,kt]=reactExports.useState([]),[_t,Mt]=reactExports.useState(""),[Pt,It]=reactExports.useState(!0),[Dt,Ct]=reactExports.useState(!1),[At,Lt]=reactExports.useState([]),[jt,Bt]=reactExports.useState([]),[zt,Yt]=reactExports.useState({}),[en,rn]=reactExports.useState(null),[on,Zt]=reactExports.useState(null),[an,Xt]=reactExports.useState("true"),[yn,vn]=reactExports.useState("active"),[Nt,$t]=reactExports.useState({}),[Ot,Ft]=reactExports.useState("QA");return jsxRuntimeExports.jsx(GlobalContext.Provider,{value:{clinicOwner:Nt,setClinicOwner:$t,theme,rooms:e,setRooms:o,unfilteredRooms:c,setUnfilteredRooms:et,questionId:tt,setQuestionId:nt,unfilteredQuestions:rt,setUnfilteredQuestions:mt,userData:gt,setUserData:yt,petOwners:vt,setPetOwners:xt,doctors:bt,setDoctors:Et,unfilteredDoctors:wt,setUnfilteredDoctors:St,timeSlots:Tt,setTimeSlots:kt,whereTab:_t,setWhereTab:Mt,isDrawerSwipable:Pt,setIsDrawerSwipable:It,isDrawerSwiping:Dt,setIsDrawerSwiping:Ct,allUsersThatUserFollowing:At,setAllUsersThatUserFollowing:Lt,followersOfUser:jt,setFollowersOfUser:Bt,calleeB:zt,setCalleeB:Yt,incomingCallId:en,setIncomingCallId:rn,callId:on,setCallId:Zt,tabBarDisplay:an,setTabBarDisplay:Xt,currentHomeView:Ot,setCurrentHomeView:Ft,conversationView:yn,setConversationView:vn},children:a.children})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{basename:"/",children:jsxRuntimeExports.jsx(ContextWrapper,{children:jsxRuntimeExports.jsx(App,{})})})}));
